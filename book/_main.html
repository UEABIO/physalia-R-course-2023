<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Advancing in R</title>

    <meta name="author" content="Philip T. Leftwich" />
  
   <meta name="description" content="<p>This book ...</p>" />
   <meta name="generator" content="placeholder" />
  <meta property="og:title" content="Advancing in R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="<a href="https://ueabio.github.io/physalia-R-course-2023/" class="uri">https://ueabio.github.io/physalia-R-course-2023/</a>" />
  <meta property="og:image" content="<a href="https://ueabio.github.io/physalia-R-course-2023/" class="uri">https://ueabio.github.io/physalia-R-course-2023/</a>/images/logos/twitter_card.png" />
  <meta property="og:description" content="<p>This book ...</p>" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Advancing in R" />
  
  <meta name="twitter:description" content="<p>This book ...</p>" />
  <meta name="twitter:image" content="<a href="https://ueabio.github.io/physalia-R-course-2023/" class="uri">https://ueabio.github.io/physalia-R-course-2023/</a>/images/logos/twitter_card.png" />
  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet" />
    <script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script>
    <script src="libs/bs3compat-0.5.0/transition.js"></script>
    <script src="libs/bs3compat-0.5.0/tabs.js"></script>
    <script src="libs/bs3compat-0.5.0/bs3compat.js"></script>
    <link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet" />
    <script src="libs/bs4_book-1.0.0/bs4_book.js"></script>
    <script src="libs/font-awesome-5.13.0/js/script.js"></script>
    <script src="libs/kePrint-0.0.1/kePrint.js"></script>
    <link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6NP3MF25W3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-6NP3MF25W3');
    </script>
    <script language="javascript"> 
        function toggle(id) {
            var ele = document.getElementById("toggleText" + id);
            var text = document.getElementById("displayText" + id);
            var buttonText = text.innerHTML.replace("Show ", "");
            buttonText = buttonText.replace("Hide ", "");
            if(ele.style.display == "block") {
                ele.style.display = "none";
                text.innerHTML = "Show " + buttonText;
            } else {
                ele.style.display = "block";
                text.innerHTML = "Hide " + buttonText;
            }
        } 
    </script>

    <script language="javascript">
        function openCode(evt, codeName, id) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent" + id);
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks" + id);
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(codeName).style.display = "block";
            evt.currentTarget.className += " active";
        }
    </script>

    <script language="javascript">
        function hide(id){
            document.getElementById(id).style.display = "none";
        }
    </script>
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script>

  <!-- CSS -->
  <style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
    <style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
      <link rel="stylesheet" href="include/psyteachr.css" />
    <link rel="stylesheet" href="include/webex.css" />
    <link rel="stylesheet" href="include/style.css" />
  
</head>

<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<!--bookdown:title:start-->
<!--bookdown:title:end-->

<!--bookdown:toc:start-->
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book">
    <a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="A guide for Biologists and Ecologists">Advancing in R</a>:
        <small class="text-muted">A guide for Biologists and Ecologists</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>

      <nav aria-label="Table of contents">
        <h2>Table of contents</h2>
        <div id="book-toc"></div>

        <div class="book-extra">
          <p><a id="book-repo" href="#">View book source <i class="fab fa-github"></i></a></li></p>
        </div>
      </nav>
    </div>
  </header>

  <main class="col-sm-12 col-md-9 col-lg-7" id="content">
<!--bookdown:toc:end-->
<!--bookdown:body:start-->
<div id="overview" class="section level1 unnumbered">
<h1 class="unnumbered">Overview</h1>
<div class="small_right">
<img src="images/logos/logo.png" 
     alt="Data skills Logo" />
</div>
<p>This course will introduce scientists and practitioners interested in applying statistical approaches in their daily routine using R as a working environment. Participants will be introduced into R and R Studio while learning how to perform common statistical analyses. After a short introduction on R and its principles, the focus will be on questions that could be addressed using common statistical analyses, both for descriptive statistics and for statistical inference.</p>
<div id="learning-outcomes" class="section level2" number="0.1">
<h2><span class="header-section-number">0.1</span> Learning outcomes</h2>
<ol style="list-style-type: decimal">
<li><p>Understand how to read, interpret and write scripts in R.</p></li>
<li><p>Learn statistical tools to address common questions in research activities.</p></li>
<li><p>An introduction to efficient, readable and reproducible analyses</p></li>
<li><p>Being comfortable with using R when performing both descriptive and inferential statistics.</p></li>
</ol>
</div>
<div id="packages" class="section level2" number="0.2">
<h2><span class="header-section-number">0.2</span> Packages</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(rstatix)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(performance)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">library</span>(see)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">library</span>(lmerTest)</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="fu">library</span>(broom.mixed)</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="fu">library</span>(ggeffects)</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="fu">library</span>(DHARMa)</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="fu">library</span>(sjPlot)</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="fu">library</span>(emmeans)</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="fu">library</span>(report)</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="fu">library</span>(MuMIn)</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="fu">library</span>(colorBlindness)</span></code></pre></div>
<!--chapter:end:index.Rmd-->
</div>
</div>
<div id="part-get-started-in-r" class="section level1 unnumbered">
<h1 class="unnumbered">(PART*) Get Started in R</h1>
</div>
<div id="introduction-to-r-and-rstudio" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Introduction to R and RStudio</h1>
<ul>
<li><p>R is the name of the programming language we will learn on this course.</p></li>
<li><p>RStudio is a convenient interface which we will be using throughout the course in order to learn how to organise data, produce accurate data analyses &amp; data visualisations.</p></li>
</ul>
<p>R is a programming language that you will write code in, and RStudio is an Integrated Development Environment (IDE) which makes working with R easier. Think of it as knowing English and using a plain text editor like NotePad to write a book versus using a word processor like Microsoft Word. You could do it, but it wouldn't look as good and it would be much harder without things like spell-checking and formatting. In a similar way, you can use R without R Studio but we wouldn't recommend it. The key thing to remember is that although you will do all of your work using RStudio for this course, you are actually using <strong>two</strong> pieces of software which means that from time-to-time, both of them may have separate updates.</p>
<p>R and RStudio can be downloaded for free onto your <a href="https://www.rstudio.com/products/rstudio/">personal computers</a>(see Appendices), but for convenience we will use a classroom space on <strong>RStudio Cloud</strong>.</p>
<p><a href="https://rstudio.cloud/">RStudio Cloud</a> is a cloud-based service where we can log into remotely hosted servers that host our data analysis projects.</p>
<p>The advantage of using RStudio Cloud is that all the extra packages and functions you need for this course will already be installed. You can log-in to your workspace from any computer as long as you have an internet connection and remember you username and password. I can also "visit" your projects and help out when you get stuck, if they are hosted on RStudio Cloud.</p>
<p>Eventually we will may also add extra tools like GitHub and RMarkdown for data reproducibility, literate and collaborative programming.</p>
<p>By the end of this course I hope you will have the tools to confidently analyze real data, make informative and beautiful data visuals, and be able to analyze lots of different types of data.</p>
<div id="using-rstudio-cloud" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Using RStudio Cloud</h2>
<p>All of our sessions will run on cloud-based software. All you have to do is make a free account, and join our Workspace.</p>
<p>Once you are signed up - you will see that there are two spaces:</p>
<ul>
<li><p>Your workspace - for personal use (20hrs/month)</p></li>
<li><p>Our shared classroom - educational licence (no limit)</p></li>
</ul>
<p>Make sure you are working in the classroom workspace - so that I can distribute project work and 'visit' your projects if needed.</p>
<p>RStudio Cloud works in exactly the same way as RStudio, but means you don't have to download any software. You can access the hosted cloud server and your projects through any browser connection (Chrome works best), from any computer.</p>
<p>Here is a good reference guide to <a href="https://rstudio.cloud/learn/guide#projects">RStudio Cloud</a></p>
</div>
<div id="getting-to-know-rstudio" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Getting to know RStudio</h2>
<p>R Studio has a console that you can try out code in (appearing as the bottom left window), there is a script editor (top left), a window showing functions and objects you have created in the "Environment" tab (top right window in the figure), and a window that shows plots, files packages, and help documentation (bottom right).</p>
<div class="figure" style="text-align: center">
<img src="images/rstudio.png" alt="RStudio interface" width="100%" />
<p class="caption">
(#fig:img-rstudio)RStudio interface
</p>
</div>
<p>You will learn more about how to use the features included in R Studio throughout this course, however, I highly recommend watching <a href="https://rstudio.com/resources/webinars/programming-part-1-writing-code-in-rstudio/">RStudio Essentials 1</a> at some point.</p>
<p>The video lasts ~30 minutes and gives a tour of the main parts of R Studio.</p>
<div id="consoles-vs.-scripts" class="section level3" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> Consoles vs. scripts</h3>
<ul>
<li><p>The <em>script</em> window is the place to enter and run code so that it is easily edited and saved for future use. Usually the Script Window is shown at the top left in RStudio. If this window is not shown, it will be visible <em>if</em> you open a previously saved R script, <em>or</em> if you create a new R Script. You create new R Script by clicking on File &gt; New File &gt; R Script in the RStudio menu bar.</p></li>
<li><p>To execute your code in the R script, you can either highlight the code and click on Run, or you can highlight the code and press CTRL + Enter on your keyboard.</p></li>
<li><p>The <em>console</em>: you can enter code directly in the Console Window and click Enter. The commands that you run will be shown in the History Window on the top right of RStudio. Though it is much more difficult to keep track of your work this way.</p></li>
</ul>
</div>
<div id="environment" class="section level3" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> Environment</h3>
<p>The Environment tab (top right) allows you to see what objects are in the workspace. If you create variables or data frames, you have a visual listing of everything in the current workspace. When you start a new project this should be completely empty.</p>
</div>
<div id="plots-files-packages-help" class="section level3" number="1.2.3">
<h3><span class="header-section-number">1.2.3</span> Plots, files, packages, help</h3>
<ol style="list-style-type: decimal">
<li><p>Plots - The Plots panel, shows all your plots. There are buttons for opening the plot in a separate window and exporting the plot as a pdf or jpeg (though you can also do this with code.)</p></li>
<li><p>Files - The files panel gives you access to the file directory on your hard drive.</p></li>
<li><p>Packages - Shows a list of all the R packages installed on your harddrive and indicates whether or not they are currently loaded. Packages that are loaded in the current session are checked while those that are installed but not yet loaded are unchecked. We will discuss packages more later.</p></li>
<li><p>Help - Help menu for R functions. You can either type the name of a function in the search window, or use the code to search for a function with the name</p></li>
</ol>
<div class="figure" style="text-align: center">
<img src="images/RStudio_Screenshot_Labels.png" alt="RStudio interface labelled" width="100%" />
<p class="caption">
(#fig:labelled)RStudio interface labelled
</p>
</div>
</div>
<div id="make-rstudio-your-own" class="section level3" number="1.2.4">
<h3><span class="header-section-number">1.2.4</span> Make RStudio your own</h3>
<p>You can <a href="https://support.rstudio.com/hc/en-us/articles/115011846747-Using-Themes-in-the-RStudio-IDE">personalise the RStudio GUI</a> as much as you like.</p>
<p><img src="images/dark_mode.png" width="50%" style="display: block; margin: auto;" /><img src="images/classic_mode.png" width="50%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="get-help" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> Get Help!</h2>
<p>There are a lot of sources of information about using R out there. Here are a few helpful places to get help when you have an issue, or just to learn more</p>
<ul>
<li><p>The R help system itself - type <code>help()</code> and put the name of the package or function you are querying inside the brackets</p></li>
<li><p>Vignettes - type <code>browseVignettes()</code> into the console and hit Enter, a list of available vignettes for all the packages we have will be displayed</p></li>
<li><p>Cheat Sheets - available at <a href="https://www.rstudio.com/resources/cheatsheets/">RStudio.com.</a> Most common packages have an associate cheat sheet covering the basics of how to use them. Download/bookmark ones we will use commonly such as ggplot2, data transformation with dplyr, Data tidying with tidyr &amp; Data import.</p></li>
<li><p>Google - I use Google constantly, because I continually forget how to do even basic tasks. If I want to remind myself how to round a number, I might type something like R round number - if I am using a particular package I should include that in the search term as well</p></li>
<li><p>Ask for help - If you are stuck, getting an error message, can't think what to do next, then ask someone. It could be me, it could be a classmate. When you do this it is very important that you show the code, include the error message. "This doesn't work" is not helpful. "Here is my code, this is the data I am using, I want it to do X, and here's the problem I get."</p></li>
</ul>
<div class="info">
<p>
It may be daunting to send your code to someone for help.
</p>
<p>
It is natural and common to feel apprehensive, or to think that your
code is really bad. I still feel the same! But we learn when we share
our mistakes, and eventually you will find it funny when you look back
on your early mistakes, or laugh about the mistakes you still
occasionally make!
</p>
</div>
</div>
</div>
<div id="r-basics" class="section level1" number="2">
<h1><span class="header-section-number">2</span> R basics</h1>
<p>Go to RStudio Cloud and enter the Project labelled <code>Day One</code> - this will clone the project and provide you with your own project workspace.</p>
<p>Follow the instructions below to get used to the R command line, and how R works as a language.</p>
<div id="your-first-r-command" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Your first R command</h2>
<p>In the RStudio pane, navigate to the <strong>console</strong> (bottom left) and <code>type or copy</code> the below it should appear at the &gt;</p>
<p>Hit Enter on your keyboard.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span></span></code></pre></div>
<ul>
<li>What answer did you get?</li>
</ul>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="dv">30</span></span></code></pre></div>
</div>
<p>The first line shows the request you made to R, the next line is R's response</p>
<p>You didn't type the <code>&gt;</code> symbol: that's just the R command prompt and isn't part of the actual command.</p>
<p>When a complete expression is entered at the prompt, it is evaluated and the result of the evaluated expression is returned. The result may be auto-printed.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span>) <span class="do">## explicit printing</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span> <span class="do">## autoprinting</span></span></code></pre></div>
<p>Usually, with interactive work, we do not explicitly print objects with the print function; it is much easier to auto-print them by typing the name of the object and hitting return/enter. However, when writing scripts, functions, or more extended programs, there is sometimes a need to explicitly print objects.</p>
<p>When an R vector is printed, you will notice that an index for the vector is printed in square brackets <code>[]</code> on the side. For example, see this integer sequence</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">30</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
## [26] 26 27 28 29 30</code></pre>
<p>The numbers in the square brackets are not part of the vector itself; they are merely part of the printed output.</p>
<blockquote>
<p>Note that the : operator is used to create integer sequences</p>
</blockquote>
<div id="operators" class="section level3" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Operators</h3>
<p>There are a few different types of operators to consider in R</p>
<div id="assignment-operator" class="section level4" number="2.1.1.1">
<h4><span class="header-section-number">2.1.1.1</span> Assignment Operator</h4>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&lt;-</td>
<td>used to assign values to variables</td>
</tr>
</tbody>
</table>
</div>
<div id="arithmetic-operators" class="section level4" number="2.1.1.2">
<h4><span class="header-section-number">2.1.1.2</span> Arithmetic Operators</h4>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>+</td>
<td>addition</td>
</tr>
<tr class="even">
<td>-</td>
<td>subtraction</td>
</tr>
<tr class="odd">
<td>*</td>
<td>multiplication</td>
</tr>
<tr class="even">
<td>/</td>
<td>division</td>
</tr>
<tr class="odd">
<td>^</td>
<td>exponentiation</td>
</tr>
</tbody>
</table>
</div>
<div id="relational-operators" class="section level4" number="2.1.1.3">
<h4><span class="header-section-number">2.1.1.3</span> Relational Operators</h4>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&lt;</td>
<td>less than</td>
</tr>
<tr class="even">
<td>&lt;=</td>
<td>less than or equal to</td>
</tr>
<tr class="odd">
<td>&gt;</td>
<td>greater than</td>
</tr>
<tr class="even">
<td>&gt;=</td>
<td>greater than or equal to</td>
</tr>
<tr class="odd">
<td>==</td>
<td>exactly equal to</td>
</tr>
<tr class="even">
<td>!=</td>
<td>not equal to</td>
</tr>
</tbody>
</table>
</div>
<div id="logical-operators" class="section level4" number="2.1.1.4">
<h4><span class="header-section-number">2.1.1.4</span> Logical Operators</h4>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>!</td>
<td>not</td>
</tr>
<tr class="even">
<td>&amp;</td>
<td>AND</td>
</tr>
<tr class="odd">
<td>⎮</td>
<td>OR</td>
</tr>
</tbody>
</table>
</div>
<div id="membership-operators" class="section level4" number="2.1.1.5">
<h4><span class="header-section-number">2.1.1.5</span> Membership Operators</h4>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>%in%</td>
<td>used to check if an element is in a vector or list</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="typos" class="section level3" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> Typos</h3>
<div class="warning">
<p>
Before we go on to talk about other types of calculations that we can
do with R, there’s a few other things I want to point out. The first
thing is that, while R is good software, it’s still software. It’s
pretty stupid, and because it’s stupid it can’t handle typos. It takes
it on faith that you meant to type exactly what you did type.
</p>
</div>
<p>Suppose you forget to hit the shift key when trying to type <code>+</code>, and as a result your command ended up being <code>10 = 20</code> rather than <code>10 + 20</code>. Try it for yourself and replicate this error message:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="dv">10</span> <span class="ot">=</span> <span class="dv">20</span></span></code></pre></div>
<div class="webex-solution">
<button>
What answer did you get?
</button>
<p>Error in 10 = 20 : invalid (do_set) left-hand side to assignment</p>
</div>
<p>What's going on: R tries to interpret <code>10 = 20</code> as a command, but it doesn't make sense, so it gives you an error message.</p>
<p>When a person sees this, they might realize it's a typo because the <code>+</code> and <code>=</code> keys are right next to each other on the keyboard. But R doesn't have that insight, so it just gets confused.</p>
<p>What's even trickier is that some typos won't create errors because they accidentally form valid R commands. For example, if I meant to type <code>10 + 20</code> but mistakenly pressed a neighboring key, I'd end up with <code>10 - 20</code>. Now, R can't read your mind to know you wanted to add, not subtract, so something different happens:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">-</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] -10</code></pre>
<p>In this case, R produces the right answer, but to the the wrong question.</p>
</div>
<div id="more-simple-arithmetic" class="section level3" number="2.1.3">
<h3><span class="header-section-number">2.1.3</span> More simple arithmetic</h3>
<p>One of the best ways to get familiar with R is to experiment with it. The good news is that it's quite hard to mess things up, so don't stress too much. Just type whatever you like into the console and see what happens.</p>
<p>Now, if your console's last line looks like this:</p>
<pre><code>&gt; 10+
+ </code></pre>
<p>And there's a <em>blinking cursor</em> next to that plus sign, it means R is patiently waiting for you to complete your command. It believes you're still typing, so it hasn't tried to run anything yet. This plus sign is a bit different from the usual prompt (the <code>&gt;</code> symbol). It's there to nudge you that R is ready to "add" what you're typing now to what you typed before. For example, type <code>20</code> and hit enter, and then R will complete the command like this:</p>
<pre><code>&gt; 10 +
+ 20
[1] 30</code></pre>
<p><em>Alternatively</em> hit the escape key, and R will forget what you were trying to do and return to a blank line.</p>
</div>
<div id="try-some-simple-maths" class="section level3" number="2.1.4">
<h3><span class="header-section-number">2.1.4</span> Try some simple maths</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="dv">1</span><span class="sc">+</span><span class="dv">7</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="dv">13-10</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="dv">4</span><span class="sc">*</span><span class="dv">6</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="dv">12</span><span class="sc">/</span><span class="dv">3</span></span></code></pre></div>
<p>Raise a number to the power of another</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="dv">5</span><span class="sc">^</span><span class="dv">4</span></span></code></pre></div>
<p>Multiplying a number <span class="math inline">\(x\)</span> by itself <span class="math inline">\(n\)</span> times is called "raising <span class="math inline">\(x\)</span> to the <span class="math inline">\(n\)</span>-th power". Mathematically, this is written as <span class="math inline">\(x^n\)</span>. Some values of <span class="math inline">\(n\)</span> have special names: in particular <span class="math inline">\(x^2\)</span> is called <span class="math inline">\(x\)</span>-squared, and <span class="math inline">\(x^3\)</span> is called <span class="math inline">\(x\)</span>-cubed. So, the 4th power of 5 is calculated like this:</p>
<p><span class="math display">\[5^4 = 5 \times 5 \times 5 \times 5 \]</span></p>
</div>
<div id="perform-some-combos" class="section level3" number="2.1.5">
<h3><span class="header-section-number">2.1.5</span> Perform some combos</h3>
<p>R follows the standard order of operations (BODMAS/BIDMAS), which means it first calculates within brackets, then deals with exponents, followed by division and multiplication, and finally addition and subtraction.</p>
<p>Let's look at two examples to see how the order of operations affects the results:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="dv">3</span><span class="sc">^</span><span class="dv">2-5</span><span class="sc">/</span><span class="dv">2</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>(<span class="dv">3</span><span class="sc">^</span><span class="dv">2-5</span>)<span class="sc">/</span><span class="dv">2</span></span></code></pre></div>
<p>Similarly if we want to raise a number to a fraction, we need to surround the fraction with parentheses <code>()</code></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="dv">16</span><span class="sc">^</span><span class="dv">1</span><span class="sc">/</span><span class="dv">2</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="dv">16</span><span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>)</span></code></pre></div>
<p>The first one calculates 16 raised to the power of 1, then divided this answer by two. The second one raises 16 to the power of a half. A big difference in the output.</p>
<div class="info">
<p>
While the cursor is in the console, you can press the up arrow to see
all your previous commands.
</p>
<p>
You can run them again, or edit them. Later on we will look at
scripts, as an essential way to re-use, store and edit commands.
</p>
</div>
</div>
</div>
<div id="true-or-false-data" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> "TRUE or FALSE" data</h2>
<p>Time to make a sidebar onto another kind of data. Many concepts in programming rely on the idea of a <strong><em>logical value</em></strong>. A logical value is an assertion about whether something is true or false. This is implemented in R in a pretty straightforward way. There are two logical values, namely <code>TRUE</code> and <code>FALSE</code>. Despite the simplicity, logical values are very useful things. Let's see how they work.</p>
<div id="assessing-mathematical-truths" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Assessing mathematical truths</h3>
<p>Time to explore a different kind of data. In programming, many concepts rely on logical values. A logical value is a statement about whether something is true or false. In R, this is pretty straightforward. There are two logical values: <code>TRUE</code> and <code>FALSE</code>. Despite their simplicity, these logical values are incredibly useful. Let's dive into how they work.</p>
<p>In R, basic mathematics is solid, and there's no room for manipulation. When you ask R to calculate <code>2 + 2</code>, it always provides the same answer,</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>up to this point, R has been performing calculations without explicitly asserting whether <span class="math inline">\(2 + 2 = 4\)</span> is a true statement. If I want R to make an explicit judgment, I can use a command like this:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">4</span></span></code></pre></div>
<div class="webex-solution">
<button>
Solution
</button>
<p>TRUE</p>
</div>
<p>What I've done here is use the <strong><em>equality operator</em></strong>, <code>==</code>, to force R to make a "true or false" judgement.</p>
<div class="warning">
<p>
This is a very different operator to the assignment operator
<code>=</code> you saw previously.
</p>
<p>
A common typo that people make when trying to write logical commands
in R (or other languages, since the “<code>=</code> versus
<code>==</code>” distinction is important in most programming languages)
is to accidentally type <code>=</code> when you really mean
<code>==</code>.
</p>
</div>
<p>Okay, let's see what R thinks of <code>2 +2 ==5</code>:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Now, let's see what happens when I attempt to make R believe that two plus two equals five by using an assignment statement like <code>2 + 2 = 5</code> or <code>2 + 2 &lt;- 5</code>. Here's the outcome:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="ot">=</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>Error in 2 + 2 = 5 : target of assignment expands to non-language object</code></pre>
<p>Indeed, R isn't too fond of this idea. It quickly realizes that <code>2 + 2</code> is not a variable (that's what the "non-language object" part is saying), and it refuses to let you "reassign" it. While R can be quite flexible and allows you to do some remarkable things to redefine parts of itself, there are fundamental truths it simply won't budge on. It won't tamper with the laws of addition, and it won't redefine the number <code>2</code>.</p>
<p>That's probably for the best.</p>
</div>
</div>
<div id="storing-outputs" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Storing outputs</h2>
<p>When dealing with more complex questions, it's often helpful to store our answers and use them in later steps. Fortunately, this is quite easy to do in R. We can assign the results to a name with the <strong>assignment operator</strong>:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">+</span><span class="dv">2</span></span></code></pre></div>
<p>This literally means please <em>assign</em> the value of <code>1+2</code> to the name <code>a</code>. We use the <strong>assignment operator</strong> <code>&lt;-</code> to make this assignment.</p>
<div class="info">
<p>
Note the shortcut key for &lt;- is Alt + - (Windows) or Option + -
(Mac)
</p>
</div>
<p>By performing this action, you'll achieve two things:</p>
<p>You will notice in the top right-hand pane within the <strong>Environment</strong> tab that there is now an <strong>object</strong> labeled a with a value of <code>3</code>.</p>
<div class="figure" style="text-align: center">
<img src="images/environment.png" alt="object a is now visible withe a value of 3 in the Environment Pane" width="100%" />
<p class="caption">
(#fig:img-environment)object a is now visible withe a value of 3 in the Environment Pane
</p>
</div>
<ul>
<li><p>You can check what the variable a contains by typing it into your Console and pressing Enter.</p></li>
<li><p>Keep in mind that you won't see the result of your operations until you type the object into the R console and press Enter.</p></li>
</ul>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a>a  <span class="do">## autoprinting</span></span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a><span class="fu">print</span>(a) <span class="do">## explicit printing</span></span></code></pre></div>
<div class="webex-solution">
<button>
What output do you get when you type a into your console?
</button>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="dv">3</span></span></code></pre></div>
</div>
<p>You can now call this object at <em>any time</em> during your R session and perform calculations with it.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">*</span> a</span></code></pre></div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="dv">6</span></span></code></pre></div>
</div>
<p>What happens if we assign a value to a named object that <strong>already</strong> exists in our R environment??? for example</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a>a</span></code></pre></div>
<p>The value of <code>a</code> is now 10.</p>
<p>You should see that the previous assignment is lost, <em>gone forever</em> and has been replaced by the new value.</p>
<p>We can assign lots of things to objects, and use them in calculations to build more objects.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a>c <span class="ot">&lt;-</span> a <span class="sc">+</span> b</span></code></pre></div>
<div class="warning">
<p>
Remember: If you now change the value of b, the value of c does
<em>not</em> change.
</p>
<p>
Objects are totally <strong>independent</strong> from each other once
they are made.
</p>
<p>
Overwriting objects with new values means the old value is lost.
</p>
</div>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a>b</span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a>c</span></code></pre></div>
<ul>
<li>What is the value of <code>c</code>?</li>
</ul>
<div class="webex-solution">
<button>
What is the value of c ?
</button>
<p>[1] 15</p>
<p>When <code>c</code> was created it was a product of <code>a</code> and <code>b</code> having values of 10 and 15 respectively.
If we re-ran the command <code>c &lt;- a + b</code> <em>after</em> changing the value of <code>b</code> <strong>then</strong> we would get a value of 17.</p>
</div>
<p>Look at the environment tab again - you should see it's starting to fill up now!</p>
<div class="info">
<p>
RStudio will by default save the objects in its memory when you close
a session.
</p>
<p>
These will then be there the next time you logon. It might seem nice
to be able to close things down and pick up where you left off, but its
actually quite dangerous. It’s messy, and can cause lots of problems
when we work with scripts later, so don’t do this!
</p>
<p>
To stop RStudio from saving objects by default go to Tools &gt;
Project Options option and change “Save workspace to .RData on exit” to
“No” or “Never”.
</p>
<p>
Instead we are going to learn how to use scripts to quickly re-run
analyses we have been working on.
</p>
</div>
<div id="choosing-names" class="section level3" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Choosing names</h3>
<ul>
<li><p>Use informative variable names. As a general rule, using meaningful names like <code>orange</code> and <code>apple</code> is preferred over arbitrary ones like <code>variable1</code> and <code>variable2</code>. Otherwise it's very hard to remember what the contents of different variables actually are.</p></li>
<li><p>Use short variable names. Typing is a pain and no-one likes doing it. So we much prefer to use a name like <code>apple</code> over a name like <code>pink_lady_apple</code>.</p></li>
<li><p>Use one of the conventional naming styles for multi-word variable names. R only lets you use certain things as <strong>legal</strong> names. Legal names must start with a letter <strong>not</strong> a number, which can then be followed by a sequence of letters, numbers, ., or _. R does not like using spaces. Upper and lower case names are allowed, but R is case sensitive so <code>Apple</code> and <code>apple</code> are different.</p></li>
<li><p>My favourite naming convention is <code>snake_case</code> short, lower case only, spaces between words are separated with a _. It's easy to read and easy to remember.</p></li>
</ul>
<div class="figure" style="text-align: center">
<img src="images/snake_case.png" alt="snake_case" width="80%" />
<p class="caption">
(#fig:unnamed-chunk-39)courtesy of Allison Horst
</p>
</div>
</div>
</div>
<div id="r-objects" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> R objects</h2>
<p>In R, there are five fundamental or "atomic" classes of objects:</p>
<ul>
<li><p>Character: These represent text or character strings.</p></li>
<li><p>Numeric (num) or Double (dbl): These are used for real numbers (e.g., decimal numbers).</p></li>
<li><p>Integer: Used for whole numbers.</p></li>
<li><p>Complex: For complex numbers.</p></li>
<li><p>Logical: Represented as True or False, these are used for logical values.</p></li>
</ul>
<p>The most basic type of R object is a vector. You can create empty vectors using the <code>vector()</code> function. The primary rule regarding vectors in R is that a vector can only contain objects of the same class.</p>
<p>However, as with any good rule, there's an exception, which is the "list." Lists are represented as vectors but can hold objects of different classes, which is why they're often used.</p>
<div id="numbers" class="section level3" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Numbers</h3>
<p>In R, both "dbl" and "num" refer to numeric data types, but there is a subtle difference between them:</p>
<ul>
<li><p>dbl ("double"): This refers to double-precision floating-point numbers, which are capable of storing real numbers with high precision. Double-precision numbers have more decimal places of accuracy and can represent a wider range of values without loss of precision. When you perform arithmetic operations, R typically returns results as "dbl" values by default.</p></li>
<li><p>num ("numeric"): "Num" is a more general term that includes not only double-precision floating-point numbers but also integer values. In R, integers are a subtype of numeric data. Numeric data can include both integers and double-precision floating-point numbers, depending on the specific data and how it is represented.</p></li>
</ul>
<p>So, "dbl" specifically denotes double-precision floating-point numbers, while "num" encompasses a broader range of numeric data, including both integers and double-precision numbers. In most cases, you can use "num" to work with numeric data in a more general sense, while "dbl" focuses on the higher-precision representation of real numbers.</p>
</div>
</div>
<div id="attributes" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> Attributes</h2>
<p>R objects can come with attributes, which are essentially metadata for the object. These metadata are handy because they help describe the object. For instance, in a data frame, column names serve as attributes, clarifying the data contained in each column. Here are a few examples of R object attributes:</p>
<ul>
<li><p><code>names()</code> and <code>dimnames()</code></p></li>
<li><p>dimensions (e.g., for matrices and arrays) <code>dim()</code></p></li>
<li><p><code>class()</code> (e.g., integer, numeric)</p></li>
<li><p><code>length()</code></p></li>
<li><p>Other user-defined attributes or metadata</p></li>
</ul>
<p>You can access the attributes of an object, if it has any, by using the <code>attributes()</code> function. If an R object doesn't have any attributes, the <code>attributes()</code> function will return NULL.</p>
</div>
<div id="vectors" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Vectors</h2>
<p>We have been working with R objects containing a single element of data, but we will more commonly work with vectors. A vector is a sequence of elements, all of the same data type. These could be logical, numerical, character etc.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a>numeric_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a>character_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;fruits&quot;</span>, <span class="st">&quot;vegetables&quot;</span>, <span class="st">&quot;seeds&quot;</span>)</span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a>logical_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb36-6"><a href="#cb36-6" tabindex="-1"></a></span>
<span id="cb36-7"><a href="#cb36-7" tabindex="-1"></a>integer_vector <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span></code></pre></div>
<div id="coercion" class="section level3" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> Coercion</h3>
<p>In R, when different classes of objects are mixed together in a vector, coercion occurs to ensure that every element in the vector belongs to the same class. Coercion is the process of converting objects to a common class to make the combination reasonable. Let's see the effects of implicit coercion in the provided examples:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">2.3</span>, <span class="st">&quot;a&quot;</span>) <span class="co"># Here, we&#39;re mixing a numeric value (1.7) with a character value (&quot;a&quot;). To make them compatible, R coerces both elements into character values. So, y becomes a character vector.</span></span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="dv">2</span>) <span class="co"># In this case, we&#39;re combining a logical value (TRUE) with a numeric value (2). R coerces the logical value into 1, so y becomes a numeric vector.</span></span>
<span id="cb37-4"><a href="#cb37-4" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="cn">TRUE</span>) <span class="co"># We&#39;re mixing a character value (&quot;a&quot;) with a logical value (TRUE). In this scenario, R coerces the logical value into a character value, resulting in y becoming a character vector.</span></span></code></pre></div>
<p>So, the outcome depends on how R can reasonably represent all the objects in the vector. It aims to create a vector of the most inclusive class to accommodate the mixed objects. Keep in mind that this coercion can lead to unexpected results, so it's essential to be aware of the implicit type conversion when mixing different data types in R.</p>
<p>Objects can also be <strong>explicitly coerced</strong> from one class to another using the as.* functions, if available.</p>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
<p>Create the following vector and check its class, then note what happens when you attempt to coerce to numeric, logical and character</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span></span></code></pre></div>
</div>
</div>
<button id="displayTextunnamed-chunk-43" onclick="javascript:toggle(&#39;unnamed-chunk-43&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-43" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="fu">as.numeric</span>(x)</span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" tabindex="-1"></a><span class="fu">as.logical</span>(x)</span>
<span id="cb39-4"><a href="#cb39-4" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" tabindex="-1"></a><span class="fu">as.character</span>(x)</span></code></pre></div>
<pre><code>## [1] 0 1 2 3 4 5
## [1] FALSE  TRUE  TRUE  TRUE  TRUE  TRUE
## [1] &quot;0&quot; &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;</code></pre>
</div>
</div>
</div>
<p>Sometimes, R can’t figure out how to coerce an object and this can result in <code>NA</code>s being produced</p>
</div>
</div>
<div id="matrices" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> Matrices</h2>
<p>Matrices can be thought of as vectors with an added dimension attribute. This dimension attribute is a two-element integer vector specifying the number of rows and columns, which defines the shape and structure of the matrix.</p>
<div class="info">
<p>
Data frames are also two-dimensional but can store columns of
different data types - matrices are simpler as they consist of elements
of the same data type.
</p>
</div>
<p>Matrices are constructed "columns-first" so entries start in the "upper left" and and run down columns.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>) </span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="fu">attributes</span>(m)</span></code></pre></div>
<pre><code>## $dim
## [1] 2 3</code></pre>
<p>We can create matrices in several ways:</p>
<ul>
<li><p>Adding a <code>dim()</code> to existing vectors</p></li>
<li><p>Column/row-binding vectors with <code>cbind()</code> and <code>rbind()</code></p></li>
</ul>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a><span class="fu">dim</span>(m) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span></span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb47-4"><a href="#cb47-4" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">cbind</span>(a,b,c)</span>
<span id="cb47-6"><a href="#cb47-6" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##      a b c
## [1,] 1 3 5
## [2,] 2 4 6</code></pre>
<p>You will see how in this last operation column names were added to the matrix, we can add, change or remove column and rownames on a matrix with <code>colnames()</code> and <code>rownames()</code></p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="fu">rownames</span>(m) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;y&quot;</span>,<span class="st">&quot;z&quot;</span>)</span>
<span id="cb49-2"><a href="#cb49-2" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##   a b c
## y 1 3 5
## z 2 4 6</code></pre>
</div>
<div id="lists" class="section level2" number="2.8">
<h2><span class="header-section-number">2.8</span> Lists</h2>
<p>Lists are a versatile and fundamental data type in R. They set themselves apart from regular vectors by allowing you to store elements of different classes within the same list. This flexibility is what makes lists so powerful for various data structures and data manipulation tasks.</p>
<p>You can create lists explicitly using the <code>list()</code> function, which can take an arbitrary number of arguments. Lists, when combined with functions like the "apply" family, enable you to perform complex and versatile data manipulations and analyses in R. Lists are often used to represent heterogeneous data structures, such as datasets where different columns can have different data types and structures.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="st">&quot;apple&quot;</span>, <span class="cn">TRUE</span> )</span>
<span id="cb51-2"><a href="#cb51-2" tabindex="-1"></a>l</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] &quot;apple&quot;
## 
## [[3]]
## [1] TRUE</code></pre>
<p>We can also create empty lists of set lengths with the <code>vector()</code> function, this can be useful for preallocating memory for iterations - as we will see later</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">&quot;list&quot;</span>, <span class="at">length =</span> <span class="dv">3</span>)</span>
<span id="cb53-2"><a href="#cb53-2" tabindex="-1"></a>l</span></code></pre></div>
<pre><code>## [[1]]
## NULL
## 
## [[2]]
## NULL
## 
## [[3]]
## NULL</code></pre>
<p>Lists can also have names</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="fu">names</span>(l) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>,<span class="st">&quot;orange&quot;</span>,<span class="st">&quot;pear&quot;</span>)</span></code></pre></div>
</div>
<div id="dataframes" class="section level2" number="2.9">
<h2><span class="header-section-number">2.9</span> Dataframes</h2>
<p>Data frames are essential for storing tabular data in R and find extensive use in various statistical modeling and data analysis applications. They offer a structured way to manage and work with data in R, and packages like dplyr, developed by Hadley Wickham, provide optimized functions for efficient data manipulation with data frames.</p>
<p>Here are some key characteristics and advantages of data frames:</p>
<ul>
<li><p>Tabular Structure: Data frames are a type of list, where each element in the list represents a column. The number of rows in each column is the same, and this tabular structure makes them suitable for working with datasets.</p></li>
<li><p>Mixed Data Types: Unlike matrices, data frames can contain columns with different classes of objects. This flexibility allows you to handle real-world datasets that often include variables of different data types.</p></li>
<li><p>Column and Row Names: Data frames include column names, which describe the variables or predictors. Additionally, they have a special attribute called "row.names" that provides information about each row in the data frame.</p></li>
<li><p>Creation and Conversion: Data frames can be created in various ways, such as reading data from files using functions like read.table() and read.csv(). You can also create data frames explicitly with data.frame().</p></li>
<li><p>Working with Data: Data frames are especially useful when working with datasets that require data cleaning, transformation, or merging. They provide a high level of data organization, and many R packages are designed to work seamlessly with data frames.</p></li>
<li><p>dplyr: The <code>dplyr</code> package is optimized for efficient data manipulation with data frames. It offers a set of functions to perform data operations quickly and intuitively.</p></li>
</ul>
<p>Data frames are a fundamental structure for managing tabular data in R. They excel in handling datasets with mixed data types and are essential for various data analysis and modeling tasks.</p>
<div id="tibbles" class="section level3" number="2.9.1">
<h3><span class="header-section-number">2.9.1</span> Tibbles</h3>
<p>“Tibbles” are a new modern data frame. It keeps many important features of the original data frame</p>
<ul>
<li><p>A tibble never changes the input type.</p></li>
<li><p>A tibble can have columns that are lists.</p></li>
<li><p>A tibble can have non-standard variable names.</p>
<ul>
<li>can start with a number or contain spaces.
-to use this refer to these in a backtick.</li>
</ul></li>
<li><p>Tibbles only print the first 10 rows and all the columns that fit on a screen. - Each column displays its data type</p></li>
</ul>
</div>
</div>
<div id="error-debugging" class="section level2" number="2.10">
<h2><span class="header-section-number">2.10</span> Error/ Debugging</h2>
<p>Things will go wrong eventually, they always do...</p>
<p>R is <em>very</em> pedantic, even the smallest typo can result in failure and typos are impossilbe to avoid. So we will make mistakes. One type of mistake we will make is an <strong>error</strong>. The code fails to run. The most common causes for an error are:</p>
<ul>
<li><p>typos</p></li>
<li><p>missing commas</p></li>
<li><p>missing brackets</p></li>
</ul>
<p>There's nothing wrong with making <em>lots</em> of errors. The trick is not to panic or get frustrated, but to read the error message and our script carefully and start to <em>debug</em>...</p>
<p>... and sometimes we need to walk away and come back later!</p>
<div class="try">
<p>
Try typing the command <code>help()</code> into the R console, it
should open a new tab on the bottom right.
</p>
<p>
Put a function or package into the brackets to get help with a
specific topic
</p>
</div>
<div class="figure" style="text-align: center">
<img src="images/Error.jpg" alt="R Error" width="80%" />
<p class="caption">
(#fig:unnamed-chunk-55)courtesy of Allison Horst
</p>
</div>
</div>
<div id="functions" class="section level2" number="2.11">
<h2><span class="header-section-number">2.11</span> Functions</h2>
<p>Functions are the tools of R. Each one helps us to do a different task.</p>
<p>Take for example the function that we use to round a number to a certain number of digits - this function is called <code>round</code></p>
<p>Here's an example:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="fu">round</span>(<span class="at">x  =</span> <span class="fl">2.4326782647</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<p>We start the command with the function name <code>round</code>. The name is followed by parentheses <code>()</code>. Within these we place the <em>arguments</em> for the function, each of which is separated by a comma.</p>
<p>The arguments:</p>
<ul>
<li><p><code>x =</code> 2.4326782647 (the number we would like to round)</p></li>
<li><p><code>digits =</code> 2 (the number of decimal places we would like to round to)</p></li>
</ul>
<p><strong>Arguments are the inputs we give to a function</strong>. These arguments are in the form <code>name = value</code> the name specifies the argument, and the value is what we are providing to define the input. That is the first argument <code>x</code> is the number we would like to round, it has a value of 2.4326782647. The second argument <code>digits</code> is how we would like the number to be rounded and we specify 2. There is no limit to how many arguments a function <em>could</em> have.</p>
<div class="try">
<p>
Copy and paste the following code into the console.
</p>
</div>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a><span class="fu">help</span>(round)</span></code></pre></div>
<p>The help documentation for <code>round()</code>should appear in the bottom right help panel. In the usage section, we see that <code>round()</code>takes the following form:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a><span class="fu">round</span>(x, <span class="at">digits =</span> <span class="dv">0</span>)</span></code></pre></div>
<p>In the arguments section, there are explanations for each of the arguments. <code>x</code>is the number or vector where we wish to round values. <code>digits</code> is the number of decimal places to be used. In the description we can see that if no value is supplied for <code>digits</code> it will default to 0 or whole number rounding.</p>
<p>Read the 'Details' section to find out what happens when rounding when the last digit is a 5.</p>
<p>Let's try an example and just change the required argument <code>digits</code></p>
<div class="try">
<p>
Copy and paste the following code into the console.
</p>
</div>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" tabindex="-1"></a><span class="fu">round</span>(<span class="at">x  =</span> <span class="fl">2.4326782647</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Now we can change the additional arguments to produce a different set of numbers.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a><span class="fu">round</span>(<span class="at">x  =</span> <span class="fl">2.4326782647</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 2.43</code></pre>
<p>This time R has still rounded the number, but it has done so to a set number of 'decimal places'.</p>
<p>Always remember to use the help documentation to help you understand what arguments a function requires.</p>
<div id="storing-the-output-of-functions" class="section level3" number="2.11.1">
<h3><span class="header-section-number">2.11.1</span> Storing the output of functions</h3>
<p>What if we need the answer from a function in a later calculation. The answer is to use the assignment operator again <code>&lt;-</code>.</p>
<p>In this example we assign values to two R objects that we can then call inside our R function <strong>as though we were putting numbers in directly</strong>.</p>
<div class="try">
<p>
Copy and paste the following code into the console.
</p>
</div>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" tabindex="-1"></a>number_of_digits <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb63-2"><a href="#cb63-2" tabindex="-1"></a></span>
<span id="cb63-3"><a href="#cb63-3" tabindex="-1"></a>my_number <span class="ot">&lt;-</span> <span class="fl">2.4326782647</span></span>
<span id="cb63-4"><a href="#cb63-4" tabindex="-1"></a></span>
<span id="cb63-5"><a href="#cb63-5" tabindex="-1"></a>rounded_number <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="at">x  =</span> my_number, </span>
<span id="cb63-6"><a href="#cb63-6" tabindex="-1"></a>                        <span class="at">digits =</span> number_of_digits)</span></code></pre></div>
<p><strong>What value is assigned to the R object <code>rounded_number</code></strong> <strong>?</strong></p>
<div class="webex-solution">
<button>
Solution
</button>
<p>[1] 2.433</p>
</div>
</div>
<div id="more-fun-with-functions" class="section level3" number="2.11.2">
<h3><span class="header-section-number">2.11.2</span> More fun with functions</h3>
<p>Copy and paste this:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">2.4326782647</span>, <span class="dv">2</span>)</span></code></pre></div>
<p>Looks like we don't even <em>have</em> to give the names of arguments for a function to still work. This works because the function <code>round</code> expects us to give the number value first, and the argument for rounding digits second. <em>But</em> this assumes we know the expected ordering within a function, this might be the case for functions we use a lot. If you give arguments their proper names <em>then</em> you can actually introduce them in <strong>any order you want</strong>.</p>
<p>Try this:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" tabindex="-1"></a><span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">x  =</span> <span class="fl">2.4326782647</span>)</span></code></pre></div>
<p>But this gives a different answer</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="fu">round</span>(<span class="dv">2</span>, <span class="fl">2.4326782647</span>)</span></code></pre></div>
<div class="warning">
<p>
Remember naming arguments overrides the position defaults
</p>
</div>
<p>How do we <strong>know</strong> the argument orders and defaults? Well we get to know how a lot of functions work through practice, but we can also use <code>help()</code> .</p>
</div>
</div>
<div id="packages-1" class="section level2" number="2.12">
<h2><span class="header-section-number">2.12</span> Packages</h2>
<p>When you install R you will have access to a range of functions including options for data wrangling and statistical analysis. The functions that are included in the default installation are typically referred to as <strong>Base R</strong> and there is a useful cheat sheet that shows many Base R functions <a href="%5Bhttps://www.rstudio.com/wp-content/uploads/2016/05/base-r.pdf">here</a></p>
<p>However, the power of R is that it is extendable and open source - anyone can create a new <strong>package</strong> that extends the functions of R.</p>
<p>An R package is a container for various things including functions and data. These make it easy to do very complicated protocols by using custom-built functions. Later we will see how we can write our own simple functions. Packages are a lot like new apps extending the functionality of what your phone can do.</p>
<p>On RStudio Cloud I have already installed several add-on packages, all we need to do is use a simple function <code>library()</code> to load these packages into our workspace. Once this is complete we will have access to all the custom functions they contain.</p>
<div class="try">
<p>
Copy and paste the following code into the console.
</p>
</div>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb67-2"><a href="#cb67-2" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span></code></pre></div>
<ul>
<li><p><code>ggplot2</code> - is one of the most popular packages to use in R. This "grammar of graphics" packages is dedicated to making data visualisations, and contains lots of dedicated functions for this.</p></li>
<li><p><code>palmerpenguins</code> - is a good example of a data-heavy package, it contains no functions, but instead datasets that we can use.</p></li>
</ul>
<div class="warning">
<p>
A common source of errors is to call a function that is part of a
package but forgetting to load the package.
</p>
<p>
If R says something like “Error in”function-name”: could not find X”
then most likely the function was misspelled or the package containing
the function hasn’t been loaded.
</p>
</div>
<div id="organising-scripts" class="section level3" number="2.12.1">
<h3><span class="header-section-number">2.12.1</span> Organising scripts</h3>
<p>Scripts work best when they are well organised - and well documented. Simple tricks and consistent organisation can make your work easier to read and be reproduced by others.</p>
<p>You should bookmark the <a href="https://style.tidyverse.org/files.html">Tidyverse Style Guide</a>, it is an opinionated way of organising your scripts and code so that it has a consistent style, that maximises readability. Later in the course we will use this as a benchmark for assessing your code writing.</p>
<p>Annotating your instructions provides yourself and others insights into why you are doing what you are doing. This is a vital aspect of a robust and reproducible workflow. And when you come back to a script, one week, one month or one year from now you will often wonder what a command was for. It is very, very useful to make notes for yourself, and its useful in case anyone else will ever read your script. Make these comments helpful as they are for humans to read.</p>
<p>We have already seen how to signal a comment with the <code>#</code> key. Everything in the line after a <code>#</code> is ignored by R and won't be treated as a command. You should also see that it is marked in a different colour in your script.</p>
<div class="try">
<p>
Put the following comment in your script on line 1.
</p>
</div>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a><span class="co"># I really love R</span></span></code></pre></div>
<p>We can also use <code>#</code> to produce Headers of different levels, if we follow these with commented lines of <code>-</code> or <code>=</code> as shown in the figure below.</p>
<div class="figure" style="text-align: center">
<img src="images/organised%20script.png" alt="R script document outline. Push the button with five horizontal lines to reveal how R recognises headers and subheaders" width="100%" />
<p class="caption">
(#fig:script outline)R script document outline. Push the button with five horizontal lines to reveal how R recognises headers and subheaders
</p>
</div>
</div>
<div id="loading-packages" class="section level3" number="2.12.2">
<h3><span class="header-section-number">2.12.2</span> Loading packages</h3>
<p>To use the functions from a package in our script they must be loaded <em>before</em> we call on the functions or data they contain. So the most sensible place to put library calls for packages is at the very <strong>top</strong> of our script. So let's do that now,</p>
<div class="try">
<p>
Add the commands<code>library(ggplot2)</code> and
<code>library(palmerpenguins)</code> to your script.
</p>
<p>
Think about how you would organise you script using the image above
as a guide
</p>
<p>
Put a comment next to each package explaining what it is for “Hint
use the help() function”.
</p>
<p>
Use the document outline button to help organise your script.
</p>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" tabindex="-1"></a><span class="co"># I really love R</span></span>
<span id="cb69-2"><a href="#cb69-2" tabindex="-1"></a><span class="co"># _______________----</span></span>
<span id="cb69-3"><a href="#cb69-3" tabindex="-1"></a></span>
<span id="cb69-4"><a href="#cb69-4" tabindex="-1"></a><span class="co"># 📦 PACKAGES ----</span></span>
<span id="cb69-5"><a href="#cb69-5" tabindex="-1"></a></span>
<span id="cb69-6"><a href="#cb69-6" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co"># create elegant data visualisations</span></span>
<span id="cb69-7"><a href="#cb69-7" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins) <span class="co"># Palmer Archipelago Penguin Data</span></span>
<span id="cb69-8"><a href="#cb69-8" tabindex="-1"></a></span>
<span id="cb69-9"><a href="#cb69-9" tabindex="-1"></a><span class="co"># ______________----</span></span></code></pre></div>
<div class="info">
<p>
R Studio will interpret Unicode to present images that you can
include in your scripts. It’s not necessary, but a fun way to help
organise your scripts.
</p>
</div>
</div>
</div>
<div id="adding-more-code" class="section level3" number="2.12.3">
<h3><span class="header-section-number">2.12.3</span> Adding more code</h3>
<div class="try">
<p>
Add the below code into your script, underneath the sections you
already have
</p>
</div>
<p>It is very similar to the code you ran earlier, but is preceded by <code>plot_1 &lt;-</code></p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a><span class="co"># DATA VISUAL ----</span></span>
<span id="cb70-2"><a href="#cb70-2" tabindex="-1"></a></span>
<span id="cb70-3"><a href="#cb70-3" tabindex="-1"></a>plot_1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> penguins, <span class="co"># calls ggplot function, data is penguins</span></span>
<span id="cb70-4"><a href="#cb70-4" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="co"># sets x axis as bill length</span></span>
<span id="cb70-5"><a href="#cb70-5" tabindex="-1"></a>               <span class="at">y =</span> bill_depth_mm)) <span class="sc">+</span> <span class="co"># sets y axis value as bill depth</span></span>
<span id="cb70-6"><a href="#cb70-6" tabindex="-1"></a>          <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour=</span>species)) <span class="co"># geometric to plot</span></span>
<span id="cb70-7"><a href="#cb70-7" tabindex="-1"></a></span>
<span id="cb70-8"><a href="#cb70-8" tabindex="-1"></a><span class="co"># ______________----</span></span></code></pre></div>
</div>
<div id="running-your-script" class="section level3" number="2.12.4">
<h3><span class="header-section-number">2.12.4</span> Running your script</h3>
<p>To run the commands from your script, we need to get it <em>into</em> the Console. You could select and copy/paste this into the Console. But there are a couple of faster shortcuts.</p>
<ul>
<li><p>Hit the Run button in the top right of the script pane. Pressing this will run the line of code the cursor is sitting on.</p></li>
<li><p>Pressing Ctrl+Enter will do the same thing as hitting the Run button</p></li>
<li><p>If you want to run the whole script in one go then press Ctrl+A then either click Run or press Ctrl+Enter</p></li>
</ul>
<p>Try it now.</p>
<p>You should notice that unlike when making previous data visuals, you <strong>do not</strong> immediately see your graph, this is because you assigned the output of your functions to an <strong>R object</strong>, instead of the default action where R would print the output. Check the "Environment" tab - you should be able to see <code>plot_1</code> there.</p>
<ul>
<li>To see the new plot you have made you should type <code>plot_1</code> into the R console. Or add it underneath the script and run it again!</li>
</ul>
</div>
<div id="making-an-output" class="section level3" number="2.12.5">
<h3><span class="header-section-number">2.12.5</span> Making an output</h3>
<p>For our next trick we will make a script that outputs a file. Underneath the lines of code to generate the figure we will add a new function <code>ggsave()</code>. Then <strong>re-run your script</strong>. To find out more about this function (and the arguments it contains), type <code>help(ggsave)</code> into the console.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" tabindex="-1"></a><span class="co"># OUTPUT TO FILE ----</span></span>
<span id="cb71-2"><a href="#cb71-2" tabindex="-1"></a></span>
<span id="cb71-3"><a href="#cb71-3" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="st">&quot;2022_10_01_5023Y_workshop_1_penguin_scatterplot.png&quot;</span>, </span>
<span id="cb71-4"><a href="#cb71-4" tabindex="-1"></a>       <span class="at">plot =</span> plot_1, </span>
<span id="cb71-5"><a href="#cb71-5" tabindex="-1"></a>       <span class="at">dpi =</span> <span class="dv">300</span>, </span>
<span id="cb71-6"><a href="#cb71-6" tabindex="-1"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb71-7"><a href="#cb71-7" tabindex="-1"></a>       <span class="at">height =</span> <span class="dv">6</span>)</span>
<span id="cb71-8"><a href="#cb71-8" tabindex="-1"></a><span class="co"># _________________----</span></span></code></pre></div>
<p>Check the Files tab on RStudio Cloud, there should now be a new file in your workspace called "2022_10_01_5023Y_workshop_1_penguin_scatterplot.png".</p>
<p>Wow that is a mouthful! Why have we made such a long filename? Well it contains information that should help you know what it is for the future.</p>
<ul>
<li><p>Date</p></li>
<li><p>Module code</p></li>
<li><p>Short description of the file contents</p></li>
</ul>
<div class="warning">
<p>
It is very important to have naming conventions for all files.
</p>
<p>
Everything after the <code>.</code> is file extension information
informing the computer how to process the contents of the file.
<code>.png</code> stands for “Portable Graphics Format”, and it means
the data is an uncompressed image format.
</p>
<p>
Everything before the <code>.</code> is for humans, it is a good idea
to make sure these have a naming convention.
</p>
<p>
Avoid periods, spaces or slashes, instead use YYYYMMDD and
underscores
</p>
<p>
e.g. YYYYMMDD_short_image_description.fileextension
</p>
</div>
</div>
<div id="saving-your-script" class="section level3" number="2.12.6">
<h3><span class="header-section-number">2.12.6</span> Saving your script</h3>
<p>Our script now contains code and comments from our first workshop. We need to save it.</p>
<p>Alongside our data, our script is the most precious part of our analysis. We don't need to save anything else, any outputs etc. because our script can always be used to generate everything again. Note the colour of the script - the name changes colour when we have unsaved changes. Press the Save button or go to File &gt; Save as. Give the File a sensible name like "YYYYMMDD_5023Y_workshop_1_simple_commands" and in the bottom right pane under <code>Files</code> you should now be able to see your saved script, it should be saved with a <code>.R</code> file extension indicating this is an R Script.</p>
<p>You could now safely quit R, and when you log on next time to this project, your script will be waiting for you.</p>
<div class="webex-solution">
<button>
Check your script
</button>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" tabindex="-1"></a><span class="co"># I really love R</span></span>
<span id="cb72-2"><a href="#cb72-2" tabindex="-1"></a><span class="co"># _______________----</span></span>
<span id="cb72-3"><a href="#cb72-3" tabindex="-1"></a></span>
<span id="cb72-4"><a href="#cb72-4" tabindex="-1"></a><span class="co"># 📦 PACKAGES ----</span></span>
<span id="cb72-5"><a href="#cb72-5" tabindex="-1"></a></span>
<span id="cb72-6"><a href="#cb72-6" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co"># create elegant data visualisations</span></span>
<span id="cb72-7"><a href="#cb72-7" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins) <span class="co"># Palmer Archipelago Penguin Data</span></span>
<span id="cb72-8"><a href="#cb72-8" tabindex="-1"></a></span>
<span id="cb72-9"><a href="#cb72-9" tabindex="-1"></a><span class="co"># ________________----</span></span>
<span id="cb72-10"><a href="#cb72-10" tabindex="-1"></a><span class="co"># DATA VISUAL ----</span></span>
<span id="cb72-11"><a href="#cb72-11" tabindex="-1"></a></span>
<span id="cb72-12"><a href="#cb72-12" tabindex="-1"></a>plot_1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> penguins, <span class="co"># calls ggplot function, data is penguins</span></span>
<span id="cb72-13"><a href="#cb72-13" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="co"># sets x axis as bill length</span></span>
<span id="cb72-14"><a href="#cb72-14" tabindex="-1"></a>               <span class="at">y =</span> bill_depth_mm)) <span class="sc">+</span> <span class="co"># sets y axis value as bill depth</span></span>
<span id="cb72-15"><a href="#cb72-15" tabindex="-1"></a>          <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour=</span>species)) <span class="co"># geometric to plot</span></span>
<span id="cb72-16"><a href="#cb72-16" tabindex="-1"></a></span>
<span id="cb72-17"><a href="#cb72-17" tabindex="-1"></a><span class="co"># ______________----</span></span>
<span id="cb72-18"><a href="#cb72-18" tabindex="-1"></a></span>
<span id="cb72-19"><a href="#cb72-19" tabindex="-1"></a><span class="co"># OUTPUT TO FILE ----</span></span>
<span id="cb72-20"><a href="#cb72-20" tabindex="-1"></a></span>
<span id="cb72-21"><a href="#cb72-21" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="st">&quot;2022_10_01_5023Y_workshop_1_penguin_scatterplot.png&quot;</span>, </span>
<span id="cb72-22"><a href="#cb72-22" tabindex="-1"></a>       <span class="at">plot =</span> plot_1, </span>
<span id="cb72-23"><a href="#cb72-23" tabindex="-1"></a>       <span class="at">dpi =</span> <span class="dv">300</span>, </span>
<span id="cb72-24"><a href="#cb72-24" tabindex="-1"></a>       <span class="at">width =</span> <span class="dv">6</span>, </span>
<span id="cb72-25"><a href="#cb72-25" tabindex="-1"></a>       <span class="at">height =</span> <span class="dv">6</span>)</span>
<span id="cb72-26"><a href="#cb72-26" tabindex="-1"></a><span class="co"># _________________----</span></span></code></pre></div>
</div>
</div>
</div>
<div id="quitting" class="section level2" number="2.13">
<h2><span class="header-section-number">2.13</span> Quitting</h2>
<ul>
<li><p>Make sure you have saved any changes to your R script - that's all you need to make sure you've done!</p></li>
<li><p>If you want me to take a look at your script let me know</p></li>
<li><p>If you spotted any mistakes or errors let me know</p></li>
<li><p>Close your RStudio Cloud Browser</p></li>
<li><p>Complete this week's short quiz!</p></li>
</ul>
</div>
<div id="activity-1" class="section level2" number="2.14">
<h2><span class="header-section-number">2.14</span> Activity 1</h2>
<div id="complete-this-quiz" class="section level3" number="2.14.1">
<h3><span class="header-section-number">2.14.1</span> Complete this Quiz</h3>
<p>When you get the correct answer, the answer box will turn green. Sometimes this doesn't work on Internet Explorer or Edge so be sure to use Chrome or Firefox.</p>
<p><strong>Question 1.</strong> What is the output from 5^4</p>
<p><input class='webex-solveme nospaces' size='3' data-answer='["625"]'/></p>
<p><strong>Question 2.</strong> What answer will you get when you type <code>2+2 = 4</code> into the R console?</p>
<p><select class='webex-select'><option value='blank'></option><option value=''>TRUE</option><option value=''>FALSE</option><option value='answer'>Error</option></select></p>
<div class="webex-solution">
<button>
Solution
</button>
<p>If we wanted R to make a judgement we must use == not = otherwise we will get an Error message</p>
</div>
<p><strong>Question 3.</strong> What symbol do I use if I want to <strong>assign</strong> a value or output of a function to an R object</p>
<p><input class='webex-solveme nospaces' size='2' data-answer='["<-"]'/></p>
<p><strong>Question 4.</strong> What is the value of <code>a</code> if I ran the following commands?</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" tabindex="-1"></a>a <span class="ot">&lt;-</span>  <span class="dv">12</span><span class="sc">*</span><span class="dv">2</span></span>
<span id="cb73-2"><a href="#cb73-2" tabindex="-1"></a></span>
<span id="cb73-3"><a href="#cb73-3" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">5</span></span></code></pre></div>
<p><input class='webex-solveme nospaces' size='1' data-answer='["5"]'/></p>
<p><strong>Question 5.</strong> Which of these variable naming conventions is <strong>not</strong> written correctly?</p>
<p><select class='webex-select'><option value='blank'></option><option value=''>snake_case</option><option value=''>camelCase</option><option value='answer'>Screaming_Snake_Case</option><option value=''>kebab-case</option></select></p>
<p><strong>Question 6.</strong> What should I type into the R console if I want <code>help</code> with the <code>round()</code> function?</p>
<p><input class='webex-solveme nospaces' size='11' data-answer='["help(round)"]'/></p>
<p><strong>Question 7.</strong> Which of these statements about function arguments <strong>is not true</strong></p>
<p><select class='webex-select'><option value='blank'></option><option value=''>Arguments are the inputs we give to a function</option><option value='answer'>Values for R arguments must always be defined by the user</option><option value=''>Naming arguments supersedes position in a function</option><option value=''>There is no limit to the number of arguments a function could have</option></select></p>
<p><strong>Question 8.</strong> Evaluate this statement "An R Package can contain code functions, data, or both."</p>
<p><select class='webex-select'><option value='blank'></option><option value='answer'>TRUE</option><option value=''>FALSE</option></select></p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code></pre></div>
<pre><code>## R version 4.3.1 (2023-06-16)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 20.04.6 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/atlas/libblas.so.3.10.3 
## LAPACK: /usr/lib/x86_64-linux-gnu/atlas/liblapack.so.3.10.3;  LAPACK version 3.9.0
## 
## locale:
##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       
##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   
##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          
## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   
## 
## time zone: UTC
## tzcode source: system (glibc)
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] palmerpenguins_0.1.1 kableExtra_1.3.4     xml2_1.3.5          
##  [4] rvest_1.0.3          faux_1.2.1           extrafont_0.19      
##  [7] knitr_1.43           webexercises_1.1.0   glossary_1.0.0      
## [10] lubridate_1.9.2      forcats_1.0.0        stringr_1.5.0       
## [13] dplyr_1.1.2          purrr_1.0.1          readr_2.1.4         
## [16] tidyr_1.3.0          tibble_3.2.1         ggplot2_3.4.2       
## [19] tidyverse_2.0.0     
## 
## loaded via a namespace (and not attached):
##  [1] sass_0.4.6        utf8_1.2.3        generics_0.1.3    stringi_1.7.12   
##  [5] extrafontdb_1.0   hms_1.1.3         digest_0.6.33     magrittr_2.0.3   
##  [9] evaluate_0.21     grid_4.3.1        timechange_0.2.0  bookdown_0.34    
## [13] fastmap_1.1.1     jsonlite_1.8.7    httr_1.4.6        fansi_1.0.4      
## [17] viridisLite_0.4.2 scales_1.2.1      codetools_0.2-19  jquerylib_0.1.4  
## [21] cli_3.6.1         rlang_1.1.1       munsell_0.5.0     withr_2.5.0      
## [25] cachem_1.0.8      yaml_2.3.7        tools_4.3.1       tzdb_0.4.0       
## [29] memoise_2.0.1     colorspace_2.1-0  webshot_0.5.5     vctrs_0.6.3      
## [33] R6_2.5.1          lifecycle_1.0.3   fs_1.6.2          pkgconfig_2.0.3  
## [37] pillar_1.9.0      bslib_0.5.0       gtable_0.3.3      glue_1.6.2       
## [41] systemfonts_1.0.4 xfun_0.39         tidyselect_1.2.0  rstudioapi_0.15.0
## [45] htmltools_0.5.5   svglite_2.1.1     rmarkdown_2.23    Rttf2pt1_1.3.12  
## [49] compiler_4.3.1    downlit_0.4.3</code></pre>
<!--chapter:end:01-intro-to-r.Rmd-->
</div>
</div>
</div>
<div id="part-exploring-data" class="section level1 unnumbered">
<h1 class="unnumbered">(PART*) Exploring Data</h1>
</div>
<div id="loading-data" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Loading data</h1>
<p>In this workshop we work through loading data. Once we have a curated and cleaned dataset we can work on generating insights from the data.</p>
<p>As a biologist you should be used to asking questions and gathering data. It is also important that you learn all aspects of the research process. This includes responsible data management (understanding data files &amp; spreadsheet organisation, keeping data safe) and data analysis.</p>
<p>In this chapter we will look at the structure of data files, and how to read these with R. We will also continue to develop reproducible scripts. This means that we are writing scripts that are well organised and easy to read, and also making sure that our scripts are complete and capable of reproducing an analysis from start to finish.</p>
<p>Transparency and reproducibility are key values in scientific research, when you analyse data in a reproducible way it means that others can understand and check your work. It also means that the most important person can benefit from your work, YOU! When you return to an analysis after even a short break, you will be thanking your earlier self if you have worked in a clear and reproducible way, as you can pick up right where you left off.</p>
<div id="meet-the-penguins" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Meet the Penguins</h2>
<p>This data, taken from the <code>palmerpenguins</code> (<span class="citation">Horst et al. (<a href="#ref-R-palmerpenguins">2022</a>)</span>) package was originally published by <span class="citation">Gorman et al. (<a href="#ref-Antarctic">2014</a>)</span>. In our course we will work with real data that has been shared by other researchers.</p>
<p>The palmer penguins data contains size measurements, clutch observations, and blood isotope ratios for three penguin species observed on three islands in the Palmer Archipelago, Antarctica over a study period of three years.</p>
<p><img src="images/gorman-penguins.jpg" alt="Photo of three penguin species, Chinstrap, Gentoo, Adelie" width="80%" style="display: block; margin: auto;" /></p>
<p>These data were collected from 2007 - 2009 by Dr. Kristen Gorman with the Palmer Station Long Term Ecological Research Program, part of the US Long Term Ecological Research Network. The data were imported directly from the Environmental Data Initiative (EDI) Data Portal, and are available for use by CC0 license (“No Rights Reserved”) in accordance with the Palmer Station Data Policy. We gratefully acknowledge Palmer Station LTER and the US LTER Network. Special thanks to Marty Downs (Director, LTER Network Office) for help regarding the data license &amp; use. Here is our intrepid package co-author, Dr. Gorman, in action collecting some penguin data:</p>
<p><img src="images/penguin-expedition.jpg" alt="Photo of Dr Gorman in the middle of a flock of penguins" width="80%" style="display: block; margin: auto;" /></p>
<p>Here is a map of the study site</p>
<p><img src="images/antarctica-map.png" alt="Antarctic Peninsula and the Palmer Field Station" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="activity-1-organising-our-workspace" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Activity 1: Organising our workspace</h2>
<p>Before we can begin working with the data, we need to do some set-up.</p>
<ul>
<li><p>Go to RStudio Cloud and open the <code>Penguins</code> R project</p></li>
<li><p>Create the following folders using the + New Folder button in the Files tab</p>
<ul>
<li>data</li>
<li>outputs</li>
<li>scripts</li>
</ul></li>
</ul>
<div class="warning">
<p>
R is case-sensitive so type everything EXACTLY as printed here
</p>
</div>
<p>Having these separate subfolders within our project helps keep things tidy, means it's harder to lose things, and lets you easily tell R exactly where to go to retrieve data.</p>
<p>The next step of our workflow is to have a well organised project space. RStudio Cloud does a lot of the hard work for you, each new data project can be set up with its own Project space.</p>
<p>We will define a project as a series of linked questions that uses one (or sometimes several) datasets. For example a coursework assignment for a particular module would be its own project, a series of linked experiments or particular research project might be its own project.</p>
<p>A Project will contain several files, possibly organised into sub-folders containing data, R scripts and final outputs. You might want to keep any information (wider reading) you have gathered that is relevant to your project.</p>
<div class="figure" style="text-align: center">
<img src="images/project.png" alt="An example of a typical R project set-up" width="80%" />
<p class="caption">
(#fig:unnamed-chunk-6)An example of a typical R project set-up
</p>
</div>
<p>Within this project you will notice there is already one file <em>.Rproj</em>. This is an R project file, this is a very useful feature, it interacts with R to tell it you are working in a very specific place on the computer (in this case the cloud server we have dialed into). It means R will automatically treat the location of your project file as the 'working directory' and makes importing and exporting easier<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.</p>
<div class="warning">
<p>
It is very important to NEVER to move the .Rproj file, this may
prevent your workspace from opening properly.
</p>
</div>
</div>
<div id="activity-2-access-our-data" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Activity 2: Access our data</h2>
<p>Now that we have a project workspace, we are ready to import some data.</p>
<ul>
<li><p>Use the link below to open a page in your browser with the data open</p></li>
<li><p>Right-click Save As to download in csv format to your computer (Make a note of <strong>where</strong> the file is being downloaded to e.g. Downloads)</p></li>
<li><p>Compare how the data looks in "raw" format to when you open the same data with Excel</p></li>
</ul>
<a href="https://raw.githubusercontent.com/UEABIO/data-sci-v1/main/book/files/penguins_raw.csv">
<button class="btn btn-success"><i class="fa fa-save"></i> Download penguin data as csv</button>
</a>
<p>At first glance the data might look quite strange and messy. It has been stored as a <strong>CSV</strong> or comma-separated values file. CSV files are plain text files that can store large amounts of data, and can readily be imported into a spreadsheet or storage database.</p>
<p>These files are the simplest form of database, no coloured cells, no formulae, no text formatting. Each row is a row of the data, each value of a row (previously separate columns) is separated by a comma.</p>
<p>This file format helps us maintain an ethos <strong>Keep Raw Data Raw</strong> -</p>
<p>In many cases, the captured or collected data may be unique and impossible to reproduce, such as measurements in a lab or field observations. For this reason, they should be protected from any possible loss. Every time a change is made to a raw data file it threatens the integrity of that information.</p>
<p>In practice, that means we only use our data file for data entry and storage. All the data manipulation, cleaning and analysis happens in R, using transparent and reproducible scripts.</p>
<div class="info">
<p>
We avoid saving files in the Excel format because they have a nasty
habit of formatting or even losing data when the file gets large
enough.
</p>
<p>
[<a href="https://www.theguardian.com/politics/2020/oct/05/how-excel-may-have-caused-loss-of-16000-covid-tests-in-england" class="uri">https://www.theguardian.com/politics/2020/oct/05/how-excel-may-have-caused-loss-of-16000-covid-tests-in-england</a>].
</p>
<p>
If you need to add data to a csv file, you can always open it in an
Excel-like program and add more information, but remember to save it in
the original csv format afterwards.
</p>
</div>
<div class="figure" style="text-align: center">
<img src="images/excel_csv.png" alt="excel view, csv view" width="80%" />
<p class="caption">
(#fig:unnamed-chunk-10)Top image: Penguins data viewed in Excel, Bottom image: Penguins data in native csv format
</p>
</div>
<p>In raw format, each line of a CSV is separated by commas for different values. When you open this in a spreadsheet program like Excel it automatically converts those comma-separated values into tables and columns.</p>
<div class="info">
<p>
You are probably more used to working with Excel (.xls and .xlsx)
file formats, but while these are widely supported, CSV files, as simple
text formats are supported by ALL data interfaces. They are also not
proprietary (e.g. the Excel format is owned by Microsoft), so by working
with a .csv format your data is more open and accessible.
</p>
</div>
</div>
<div id="activity-3-upload-our-data" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Activity 3: Upload our data</h2>
<ul>
<li><p>The data is now in your Downloads folder on your computer</p></li>
<li><p>We need to upload the data to our remote cloud-server (RStudio Cloud), select the upload files to server button in the Files tab</p></li>
<li><p>Put your file into the data folder - if you make a mistake select the tickbox for your file, go to the cogs button and choose the option Move.</p></li>
</ul>
<div class="figure" style="text-align: center">
<img src="images/upload.png" alt="File tab" width="80%" />
<p class="caption">
(#fig:unnamed-chunk-12)Highlighted the buttons to upload files, and more options
</p>
</div>
</div>
<div id="activity-4-make-a-script" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Activity 4: Make a script</h2>
<p>Let's now create a new R script file in which we will write instructions and store comments for manipulating data, developing tables and figures. Use the File &gt; New Script menu item and select an R Script.</p>
<p>Add the following:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" tabindex="-1"></a><span class="co">#___________________________----</span></span>
<span id="cb76-2"><a href="#cb76-2" tabindex="-1"></a><span class="co"># SET UP ----</span></span>
<span id="cb76-3"><a href="#cb76-3" tabindex="-1"></a><span class="do">## An analysis of the bill dimensions of male and female Adelie, Gentoo and Chinstrap penguins ----</span></span>
<span id="cb76-4"><a href="#cb76-4" tabindex="-1"></a></span>
<span id="cb76-5"><a href="#cb76-5" tabindex="-1"></a><span class="do">### Data first published in  Gorman, KB, TD Williams, and WR Fraser. 2014. “Ecological Sexual Dimorphism and Environmental Variability Within a Community of Antarctic Penguins (Genus Pygoscelis).” PLos One 9 (3): e90081. https://doi.org/10.1371/journal.pone.0090081. ----</span></span>
<span id="cb76-6"><a href="#cb76-6" tabindex="-1"></a><span class="co">#__________________________----</span></span></code></pre></div>
<p>Then load the following add-on package to the R script, just underneath these comments. Tidyverse isn't actually one package, but a bundle of many different packages that play well together - for example it <em>includes</em> <code>ggplot2</code> which we used in the last session, so we don't have to call that separately</p>
<p>Add the following to your script:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" tabindex="-1"></a><span class="co"># PACKAGES ----</span></span>
<span id="cb77-2"><a href="#cb77-2" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># tidy data packages</span></span>
<span id="cb77-3"><a href="#cb77-3" tabindex="-1"></a><span class="fu">library</span>(janitor) <span class="co"># cleans variable names</span></span>
<span id="cb77-4"><a href="#cb77-4" tabindex="-1"></a><span class="fu">library</span>(lubridate) <span class="co"># make sure dates are processed properly</span></span>
<span id="cb77-5"><a href="#cb77-5" tabindex="-1"></a><span class="co">#__________________________----</span></span></code></pre></div>
<p>Save this file inside the scripts folder and call it <code>01_import_penguins_data.R</code></p>
<div class="try">
<p>
Click on the document outline button (top right of script pane). This
will show you how the use of
</p>
<p>
#TITLES—-
</p>
<p>
Allows us to build a series of headers and subheaders, this is very
useful when using longer scripts.
</p>
</div>
</div>
<div id="activity-5-read-in-data" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Activity 5: Read in data</h2>
<p>Now we can read in the data. To do this we will use the function <code>readr::read_csv()</code> that allows us to read in .csv files. There are also functions that allow you to read in .xlsx files and other formats, however in this course we will only use .csv files.</p>
<ul>
<li><p>First, we will create an object called <code>penguins_data</code> that contains the data in the <code>penguins_raw.csv</code> file.</p></li>
<li><p>Add the following to your script, and check the document outline:</p></li>
</ul>
<div class="tab">
<button class="tablinksunnamed-chunk-16 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-16&#39;, &#39;unnamed-chunk-16&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-16" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-16&#39;, &#39;unnamed-chunk-16&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-16" class="tabcontentunnamed-chunk-16">
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">read.csv</span> (<span class="st">&quot;data/penguins_raw.csv&quot;</span>)</span>
<span id="cb78-2"><a href="#cb78-2" tabindex="-1"></a></span>
<span id="cb78-3"><a href="#cb78-3" tabindex="-1"></a><span class="fu">attributes</span>(penguins) <span class="co"># reads as data.frame</span></span>
<span id="cb78-4"><a href="#cb78-4" tabindex="-1"></a></span>
<span id="cb78-5"><a href="#cb78-5" tabindex="-1"></a><span class="fu">head</span>(penguins) <span class="co"># check the data has loaded, prints first 10 rows of dataframe</span></span></code></pre></div>
</div>
<div id="option2unnamed-chunk-16" class="tabcontentunnamed-chunk-16">
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" tabindex="-1"></a><span class="co"># IMPORT DATA ----</span></span>
<span id="cb79-2"><a href="#cb79-2" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">read_csv</span> (<span class="st">&quot;data/penguins_raw.csv&quot;</span>)</span>
<span id="cb79-3"><a href="#cb79-3" tabindex="-1"></a></span>
<span id="cb79-4"><a href="#cb79-4" tabindex="-1"></a><span class="fu">attributes</span>(penguins) <span class="co"># reads as tibble</span></span>
<span id="cb79-5"><a href="#cb79-5" tabindex="-1"></a></span>
<span id="cb79-6"><a href="#cb79-6" tabindex="-1"></a><span class="fu">head</span>(penguins) <span class="co"># check the data has loaded, prints first 10 rows of dataframe</span></span>
<span id="cb79-7"><a href="#cb79-7" tabindex="-1"></a><span class="co">#__________________________----</span></span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-16') </script>
<div class="danger">
<p>
Note the differences between <code>read.csv()</code> and
<code>read_csv</code>. We covered this in differences between tibbles
and dataframes - here most obviously is a difference in column
names.
</p>
</div>
</div>
<div id="filepaths" class="section level2" number="3.7">
<h2><span class="header-section-number">3.7</span> Filepaths</h2>
<p>In the example above the <code>read_csv()</code> function requires you to provide a filepath (in "quotes"), in order to tell R where the file you wish to read is located in this example there are two components</p>
<ul>
<li><p>"data/" - specifies the directory in which to look for the file</p></li>
<li><p>"penguins_raw.csv" - specifies the name and format of the file</p></li>
</ul>
<div id="directories" class="section level4" number="3.7.0.1">
<h4><span class="header-section-number">3.7.0.1</span> Directories</h4>
<p>A directory refers to a folder on a computer that has relationships to other folders. The term “directory” considers the relationship between that folder and the folders within and around it. Directories are hierarchical which means that they can exist within other folders as well as have folders exist within them.</p>
<div class="info">
<p>
No idea what directories or files are? You are not alone <a
href="https://www.theverge.com/22684730/students-file-folder-directory-structure-education-gen-z">File
not Found</a>
</p>
</div>
<p>A "parent" directory is any folder that contains a subdirectory. For example your downloads folder is a directory, it is the parent directory to any subdirectories or files contained within it.</p>
</div>
<div id="home-directory" class="section level4" number="3.7.0.2">
<h4><span class="header-section-number">3.7.0.2</span> Home directory</h4>
<p>The home directory on a computer is a directory defined by your operating system. The home directory is the primary directory for your user account on your computer. Your files are by default stored in your home directory.</p>
<ul>
<li><p>On Windows, the home directory is typically <code>C:\Users\your-username</code>.</p></li>
<li><p>On Mac and Linux, the home directory is typically <code>/home/your-username</code>.</p></li>
</ul>
</div>
<div id="working-directory" class="section level4" number="3.7.0.3">
<h4><span class="header-section-number">3.7.0.3</span> Working directory</h4>
<p>The working directory refers to the directory on your computer that a tool assumes is the starting place for all filepaths</p>
</div>
<div id="absolute-vs-relative-filepaths" class="section level3" number="3.7.1">
<h3><span class="header-section-number">3.7.1</span> Absolute vs Relative filepaths</h3>
<p>What has this got to do with working in R?</p>
<p>When you use any programming language, you have to specify filepaths in order for the program to find files to read-in or where to output files.</p>
<p>An <strong>Absolute</strong> file path is a path that contains the entire path to a file or directory starting from your Home directory and ending at the file or directory you wish to access e.g.</p>
<p><code>/home/your-username/project/data/penguins_raw.csv</code></p>
<p>The main drawbacks of using absolute file paths are:</p>
<ul>
<li><p>If you share files, another user won’t have the same directory structure as you, so they will need to recreate the file paths</p></li>
<li><p>if you alter your directory structure, you’ll need to rewrite the paths</p></li>
<li><p>an absolute file path will likely be longer than a relative path, more of the backslashes will need to be edited, so there is more scope for error.</p></li>
</ul>
<p>As different computers can have different path constructions, any scripts that use absolute filepaths are not very reproducible.</p>
<p>A <strong>Relative</strong> filepath is the path that is relative to the working directory location on your computer.</p>
<p>When you use RStudio Projects, wherever the <code>.Rproj</code> file is located is set to the working directory. This means that if the <code>.Rproj</code> file is located in your <code>project folder</code> then the <em>relative</em> path to your data is:</p>
<p><code>data/penguins_raw.csv</code></p>
<p>This filepath is shorter <em>and</em> it means you could share your project with someone else and the script would run without any editing.</p>
<div class="info">
<p>
For those of you using RStudio Cloud, remember you are working on a
Linux OS cloud server, each of you will have a different absolute
filepath - but the scripts for the project you are working on right now
work because you are using relative filepaths
</p>
</div>
</div>
</div>
<div id="activity-5-check-your-script" class="section level2" number="3.8">
<h2><span class="header-section-number">3.8</span> Activity 5: Check your script</h2>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" tabindex="-1"></a><span class="co">#___________________________----</span></span>
<span id="cb80-2"><a href="#cb80-2" tabindex="-1"></a><span class="co"># SET UP ----</span></span>
<span id="cb80-3"><a href="#cb80-3" tabindex="-1"></a><span class="do">## An analysis of the bill dimensions of male and female Adelie, Gentoo and Chinstrap penguins ----</span></span>
<span id="cb80-4"><a href="#cb80-4" tabindex="-1"></a></span>
<span id="cb80-5"><a href="#cb80-5" tabindex="-1"></a><span class="do">### Data first published in  Gorman, KB, TD Williams, and WR Fraser. 2014. “Ecological Sexual Dimorphism and Environmental Variability Within a Community of Antarctic Penguins (Genus Pygoscelis).” PLos One 9 (3): e90081. https://doi.org/10.1371/journal.pone.0090081. ----</span></span>
<span id="cb80-6"><a href="#cb80-6" tabindex="-1"></a><span class="co">#__________________________----</span></span>
<span id="cb80-7"><a href="#cb80-7" tabindex="-1"></a></span>
<span id="cb80-8"><a href="#cb80-8" tabindex="-1"></a><span class="co"># PACKAGES ----</span></span>
<span id="cb80-9"><a href="#cb80-9" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># tidy data packages</span></span>
<span id="cb80-10"><a href="#cb80-10" tabindex="-1"></a><span class="fu">library</span>(janitor) <span class="co"># cleans variable names</span></span>
<span id="cb80-11"><a href="#cb80-11" tabindex="-1"></a><span class="fu">library</span>(lubridate) <span class="co"># make sure dates are processed properly</span></span>
<span id="cb80-12"><a href="#cb80-12" tabindex="-1"></a><span class="co">#__________________________----</span></span>
<span id="cb80-13"><a href="#cb80-13" tabindex="-1"></a></span>
<span id="cb80-14"><a href="#cb80-14" tabindex="-1"></a><span class="co"># IMPORT DATA ----</span></span>
<span id="cb80-15"><a href="#cb80-15" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">read_csv</span> (<span class="st">&quot;data/penguins_raw.csv&quot;</span>)</span>
<span id="cb80-16"><a href="#cb80-16" tabindex="-1"></a></span>
<span id="cb80-17"><a href="#cb80-17" tabindex="-1"></a><span class="fu">head</span>(penguins) <span class="co"># check the data has loaded, prints first 10 rows of dataframe</span></span>
<span id="cb80-18"><a href="#cb80-18" tabindex="-1"></a><span class="co">#__________________________----</span></span></code></pre></div>
</div>
</div>
<div id="activity-7-test-yourself" class="section level2" number="3.9">
<h2><span class="header-section-number">3.9</span> Activity 7: Test yourself</h2>
<p><strong>Question 1.</strong> In order to make your R project reproducible what filepath should you use?</p>
<p><select class='webex-select'><option value='blank'></option><option value=''>Absolute filepath</option><option value='answer'>Relative filepath</option></select></p>
<p><strong>Question 2.</strong> Which of these would be acceptable to include in a raw datafile?</p>
<p><select class='webex-select'><option value='blank'></option><option value=''>Highlighting some blocks of cells</option><option value=''>Excel formulae</option><option value='answer'>A column of observational notes from the field</option><option value=''>a mix of ddmmyy and yymmdd date formats</option></select></p>
<p><strong>Question 3.</strong> What should always be the first set of functions in our script? <code>?()</code></p>
<p><input class='webex-solveme nospaces' size='9' data-answer='["library()"]'/></p>
<p><strong>Question 4.</strong> When reading in data to R we should use</p>
<p><select class='webex-select'><option value='blank'></option><option value='answer'>read_csv()</option><option value=''>read.csv()</option></select></p>
<p><strong>Question 5.</strong> What format is the <code>penguins</code> data in?</p>
<p><select class='webex-select'><option value='blank'></option><option value=''>wide data</option><option value='answer'>long data</option></select></p>
<div class="webex-solution">
<button>
Explain This Answer
</button>
<p>Each column is a unique variable and each row is a unique observation so this data is in a long (tidy) format</p>
</div>
<p><strong>Question 6.</strong> The working directory for your projects is by default set to the location of?</p>
<p><select class='webex-select'><option value='blank'></option><option value=''>your data files</option><option value='answer'>the .Rproj file</option><option value=''>your R script</option></select></p>
<p><strong>Question 7.</strong> Using the filepath <code>"data/penguins_raw.csv"</code> is an example of</p>
<p><select class='webex-select'><option value='blank'></option><option value=''>an absolute filepath</option><option value='answer'>a relative filepath</option></select></p>
<p><strong>Question 8.</strong> What operator do I need to use if I wish to assign the output of the <code>read_csv</code> function to an R object (rather than just print the dataframe into the console)?</p>
<p><input class='webex-solveme nospaces' size='2' data-answer='["<-"]'/></p>
</div>
</div>
<div id="data-wrangling-part-one" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Data wrangling part one</h1>
<p>It may surprise you to learn that scientists actually spend far more time cleaning and preparing their data than they spend actually analysing it. This means completing tasks such as cleaning up bad values, changing the structure of dataframes, reducing the data down to a subset of observations, and producing data summaries.</p>
<p>Many people seem to operate under the assumption that the only option for data cleaning is the painstaking and time-consuming cutting and pasting of data within a spreadsheet program like Excel. We have witnessed students and colleagues waste days, weeks, and even months manually transforming their data in Excel, cutting, copying, and pasting data. Fixing up your data by hand is not only a terrible use of your time, but it is error-prone and not reproducible. Additionally, in this age where we can easily collect massive datasets online, you will not be able to organise, clean, and prepare these by hand.</p>
<p>In short, you will not thrive as a scientist if you do not learn some key data wrangling skills. Although every dataset presents unique challenges, there are some systematic principles you should follow that will make your analyses easier, less error-prone, more efficient, and more reproducible.</p>
<p>In this chapter you will see how data science skills will allow you to efficiently get answers to nearly any question you might want to ask about your data. By learning how to properly make your computer do the hard and boring work for you, you can focus on the bigger issues.</p>
<div id="activity-1-change-column-names" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Activity 1: Change column names</h2>
<p>We are going to learn how to organise data using the <em>tidy</em> format<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>. This is because we are using the <code>tidyverse</code> packages <span class="citation">Wickham (<a href="#ref-R-tidyverse">2023</a>)</span>. This is an opinionated, but highly effective method for generating reproducible analyses with a wide-range of data manipulation tools. Tidy data is an easy format for computers to read. It is also the required data structure for our <strong>statistical tests</strong> that we will work with later.</p>
<p>Here 'tidy' refers to a specific structure that lets us manipulate and visualise data with ease. In a tidy dataset each <em>variable</em> is in one column and each row contains one <em>observation</em>. Each cell of the table/spreadsheet contains the <em>values</em>. One observation you might make about tidy data is it is quite long - it generates a lot of rows of data - you might remember then that <em>tidy</em> data can be referred to as <em>long</em>-format data (as opposed to <em>wide</em> data).</p>
<p><img src="images/tidy-1.png" alt="tidy data overview" width="80%" style="display: block; margin: auto;" /></p>
<p>So we know our data is in R, and we know the columns and names have been imported. But we still don't know whether all of our values imported correctly, or whether it captured all the rows.</p>
<div id="add-this-to-your-script" class="section level4" number="4.1.0.1">
<h4><span class="header-section-number">4.1.0.1</span> Add this to your script</h4>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" tabindex="-1"></a><span class="co"># CHECK DATA----</span></span>
<span id="cb81-2"><a href="#cb81-2" tabindex="-1"></a><span class="co"># check the data</span></span>
<span id="cb81-3"><a href="#cb81-3" tabindex="-1"></a><span class="fu">colnames</span>(penguins)</span>
<span id="cb81-4"><a href="#cb81-4" tabindex="-1"></a><span class="co">#__________________________----</span></span></code></pre></div>
<p>When we run <code>colnames()</code> we get the identities of each column in our dataframe</p>
<ul>
<li><p><strong>Study name</strong>: an identifier for the year in which sets of observations were made</p></li>
<li><p><strong>Region</strong>: the area in which the observation was recorded</p></li>
<li><p><strong>Island</strong>: the specific island where the observation was recorded</p></li>
<li><p><strong>Stage</strong>: Denotes reproductive stage of the penguin</p></li>
<li><p><strong>Individual</strong> ID: the unique ID of the individual</p></li>
<li><p><strong>Clutch completion</strong>: if the study nest observed with a full clutch e.g. 2 eggs</p></li>
<li><p><strong>Date egg</strong>: the date at which the study nest observed with 1 egg</p></li>
<li><p><strong>Culmen length</strong>: length of the dorsal ridge of the bird's bill (mm)</p></li>
<li><p><strong>Culmen depth</strong>: depth of the dorsal ridge of the bird's bill (mm)</p></li>
<li><p><strong>Flipper Length</strong>: length of bird's flipper (mm)</p></li>
<li><p><strong>Body Mass</strong>: Bird's mass in (g)</p></li>
<li><p><strong>Sex</strong>: Denotes the sex of the bird</p></li>
<li><p><strong>Delta 15N</strong> : the ratio of stable Nitrogen isotopes 15N:14N from blood sample</p></li>
<li><p><strong>Delta 13C</strong>: the ratio of stable Carbon isotopes 13C:12C from blood sample</p></li>
</ul>
</div>
<div id="clean-column-names" class="section level4" number="4.1.0.2">
<h4><span class="header-section-number">4.1.0.2</span> Clean column names</h4>
<p>Often we might want to change the names of our variables. They might be non-intuitive, or too long. Our data has a couple of issues:</p>
<ul>
<li><p>Some of the names contain spaces</p></li>
<li><p>Some of the names have capitalised letters</p></li>
<li><p>Some of the names contain brackets</p></li>
</ul>
<p>This dataframe does not like these so let's correct these quickly. R is case-sensitive and also doesn't like spaces or brackets in variable names</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" tabindex="-1"></a><span class="co"># CLEAN DATA ----</span></span>
<span id="cb82-2"><a href="#cb82-2" tabindex="-1"></a></span>
<span id="cb82-3"><a href="#cb82-3" tabindex="-1"></a><span class="co"># clean all variable names to snake_case using the clean_names function from the janitor package</span></span>
<span id="cb82-4"><a href="#cb82-4" tabindex="-1"></a><span class="co"># note we are using assign &lt;- to overwrite the old version of penguins with a version that has updated names</span></span>
<span id="cb82-5"><a href="#cb82-5" tabindex="-1"></a><span class="co"># this changes the data in our R workspace but NOT the original csv file</span></span>
<span id="cb82-6"><a href="#cb82-6" tabindex="-1"></a></span>
<span id="cb82-7"><a href="#cb82-7" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(penguins) <span class="co"># clean the column names</span></span>
<span id="cb82-8"><a href="#cb82-8" tabindex="-1"></a></span>
<span id="cb82-9"><a href="#cb82-9" tabindex="-1"></a><span class="fu">colnames</span>(penguins) <span class="co"># quickly check the new variable names</span></span></code></pre></div>
<pre><code>##  [1] &quot;study_name&quot;        &quot;sample_number&quot;     &quot;species&quot;          
##  [4] &quot;region&quot;            &quot;island&quot;            &quot;stage&quot;            
##  [7] &quot;individual_id&quot;     &quot;clutch_completion&quot; &quot;date_egg&quot;         
## [10] &quot;culmen_length_mm&quot;  &quot;culmen_depth_mm&quot;   &quot;flipper_length_mm&quot;
## [13] &quot;body_mass_g&quot;       &quot;sex&quot;               &quot;delta_15_n_o_oo&quot;  
## [16] &quot;delta_13_c_o_oo&quot;   &quot;comments&quot;</code></pre>
</div>
<div id="rename-columns-manually" class="section level4" number="4.1.0.3">
<h4><span class="header-section-number">4.1.0.3</span> Rename columns (manually)</h4>
<p>The <code>clean_names</code> function quickly converts all variable names into snake case. The N and C blood isotope ratio names are still quite long though, so let's clean those with <code>dplyr::rename()</code> where "new_name" = "old_name".</p>
<div class="tab">
<button class="tablinksunnamed-chunk-27 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-27&#39;, &#39;unnamed-chunk-27&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-27" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-27&#39;, &#39;unnamed-chunk-27&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-27" class="tabcontentunnamed-chunk-27">
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" tabindex="-1"></a><span class="fu">names</span>(penguins)[<span class="fu">names</span>(penguins) <span class="sc">==</span> <span class="st">&quot;delta_15_n_o_oo&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;delta_15n&quot;</span></span>
<span id="cb84-2"><a href="#cb84-2" tabindex="-1"></a></span>
<span id="cb84-3"><a href="#cb84-3" tabindex="-1"></a><span class="fu">names</span>(penguins)[<span class="fu">names</span>(penguins) <span class="sc">==</span> <span class="st">&quot;delta_13_c_o_oo&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;delta_13c&quot;</span></span></code></pre></div>
</div>
<div id="option2unnamed-chunk-27" class="tabcontentunnamed-chunk-27">
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" tabindex="-1"></a><span class="co"># shorten the variable names for N and C isotope blood samples</span></span>
<span id="cb85-2"><a href="#cb85-2" tabindex="-1"></a></span>
<span id="cb85-3"><a href="#cb85-3" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">rename</span>(penguins,</span>
<span id="cb85-4"><a href="#cb85-4" tabindex="-1"></a>         <span class="st">&quot;delta_15n&quot;</span><span class="ot">=</span><span class="st">&quot;delta_15_n_o_oo&quot;</span>,  <span class="co"># use rename from the dplyr package</span></span>
<span id="cb85-5"><a href="#cb85-5" tabindex="-1"></a>         <span class="st">&quot;delta_13c&quot;</span><span class="ot">=</span><span class="st">&quot;delta_13_c_o_oo&quot;</span>)</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-27') </script>
</div>
</div>
<div id="check-data" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Check data</h2>
<div id="glimpse-check-data-format" class="section level4" number="4.2.0.1">
<h4><span class="header-section-number">4.2.0.1</span> glimpse: check data format</h4>
<p>When we run <code>glimpse()</code> we get several lines of output. The number of observations "rows", the number of variables "columns". Check this against the csv file you have - they should be the same. In the next lines we see variable names and the type of data.</p>
<div class="tab">
<button class="tablinksunnamed-chunk-28 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-28&#39;, &#39;unnamed-chunk-28&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-28" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-28&#39;, &#39;unnamed-chunk-28&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-28" class="tabcontentunnamed-chunk-28">
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" tabindex="-1"></a><span class="fu">attributes</span>(penguins)</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-28" class="tabcontentunnamed-chunk-28">
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" tabindex="-1"></a><span class="fu">glimpse</span>(penguins)</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-28') </script>
<p>We can see a dataset with 345 rows (including the headers) and 17 variables
It also provides information on the <em>type</em> of data in each column</p>
<ul>
<li><p><code>&lt;chr&gt;</code> - means character or text data</p></li>
<li><p><code>&lt;dbl&gt;</code> - means numerical data</p></li>
</ul>
</div>
<div id="rename-text-values" class="section level4" number="4.2.0.2">
<h4><span class="header-section-number">4.2.0.2</span> Rename text values</h4>
<p>Sometimes we may want to rename the values in our variables in order to make a shorthand that is easier to follow. This is changing the <strong>values</strong> in our columns, not the column names.</p>
<div class="tab">
<button class="tablinksunnamed-chunk-29 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-29&#39;, &#39;unnamed-chunk-29&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-29" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-29&#39;, &#39;unnamed-chunk-29&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-29" class="tabcontentunnamed-chunk-29">
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" tabindex="-1"></a>penguins<span class="sc">$</span>species <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(penguins<span class="sc">$</span>species <span class="sc">==</span> <span class="st">&quot;Adelie Penguin (Pygoscelis adeliae)&quot;</span>, <span class="st">&quot;Adelie&quot;</span>,</span>
<span id="cb88-2"><a href="#cb88-2" tabindex="-1"></a>                          <span class="fu">ifelse</span>(penguins<span class="sc">$</span>species <span class="sc">==</span> <span class="st">&quot;Gentoo penguin (Pygoscelis papua)&quot;</span>, <span class="st">&quot;Gentoo&quot;</span>,</span>
<span id="cb88-3"><a href="#cb88-3" tabindex="-1"></a>                                 <span class="fu">ifelse</span>(penguins<span class="sc">$</span>species <span class="sc">==</span> <span class="st">&quot;Chinstrap penguin (Pygoscelis antarctica)&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span>,</span>
<span id="cb88-4"><a href="#cb88-4" tabindex="-1"></a>                                        penguins<span class="sc">$</span>species)))</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-29" class="tabcontentunnamed-chunk-29">
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" tabindex="-1"></a><span class="co"># use mutate and case_when for a statement that conditionally changes the names of the values in a variable</span></span>
<span id="cb89-2"><a href="#cb89-2" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb89-3"><a href="#cb89-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">case_when</span>(species <span class="sc">==</span> <span class="st">&quot;Adelie Penguin (Pygoscelis adeliae)&quot;</span> <span class="sc">~</span> <span class="st">&quot;Adelie&quot;</span>,</span>
<span id="cb89-4"><a href="#cb89-4" tabindex="-1"></a>                             species <span class="sc">==</span> <span class="st">&quot;Gentoo penguin (Pygoscelis papua)&quot;</span> <span class="sc">~</span> <span class="st">&quot;Gentoo&quot;</span>,</span>
<span id="cb89-5"><a href="#cb89-5" tabindex="-1"></a>                             species <span class="sc">==</span> <span class="st">&quot;Chinstrap penguin (Pygoscelis antarctica)&quot;</span> <span class="sc">~</span> <span class="st">&quot;Chinstrap&quot;</span>))</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-29') </script>
<div class="warning">
<p>
Have you checked that the above code block worked? Inspect your new
tibble and check the variables have been renamed as you wanted.
</p>
</div>
</div>
</div>
<div id="dplyr-verbs" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> dplyr verbs</h2>
<p>In this section we will be introduced to some of the most commonly used data wrangling functions, these come from the <code>dplyr</code> package (part of the <code>tidyverse</code>). These are functions you are likely to become <em>very</em> familiar with.</p>
<div class="kable-table">
<table>
<thead>
<tr>
<th style="text-align:left;">
verb
</th>
<th style="text-align:left;">
action
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
select()
</td>
<td style="text-align:left;">
take a subset of columns
</td>
</tr>
<tr>
<td style="text-align:left;">
filter()
</td>
<td style="text-align:left;">
take a subset of rows
</td>
</tr>
<tr>
<td style="text-align:left;">
arrange()
</td>
<td style="text-align:left;">
reorder the rows
</td>
</tr>
<tr>
<td style="text-align:left;">
summarise()
</td>
<td style="text-align:left;">
reduce raw data to user defined summaries
</td>
</tr>
<tr>
<td style="text-align:left;">
group_by()
</td>
<td style="text-align:left;">
group the rows by a specified column
</td>
</tr>
<tr>
<td style="text-align:left;">
mutate()
</td>
<td style="text-align:left;">
create a new variable
</td>
</tr>
</tbody>
</table>
</div>
<div id="select" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Select</h3>
<p>If we wanted to create a dataset that only includes certain variables, we can use the <code>select()</code> function from the <code>dplyr</code> package.</p>
<p>For example I might wish to create a simplified dataset that only contains <code>species</code>, <code>sex</code>, <code>flipper_length_mm</code> and <code>body_mass_g</code>.</p>
<p>Run the below code to select only those columns</p>
<div class="tab">
<button class="tablinksunnamed-chunk-32 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-32&#39;, &#39;unnamed-chunk-32&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-32" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-32&#39;, &#39;unnamed-chunk-32&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-32" class="tabcontentunnamed-chunk-32">
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" tabindex="-1"></a>penguins[<span class="fu">c</span>(<span class="st">&quot;species&quot;</span>, <span class="st">&quot;sex&quot;</span>, <span class="st">&quot;flipper_length_mm&quot;</span>, <span class="st">&quot;body_mass_g&quot;</span>)]</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-32" class="tabcontentunnamed-chunk-32">
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" tabindex="-1"></a><span class="co"># DPLYR VERBS ----</span></span>
<span id="cb91-2"><a href="#cb91-2" tabindex="-1"></a></span>
<span id="cb91-3"><a href="#cb91-3" tabindex="-1"></a><span class="fu">select</span>(<span class="at">.data =</span> penguins, <span class="co"># the data object</span></span>
<span id="cb91-4"><a href="#cb91-4" tabindex="-1"></a>       species, sex, flipper_length_mm, body_mass_g) <span class="co"># the variables you want to select</span></span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-32') </script>
<p>Alternatively you could tell R the columns you <strong>don't</strong> want e.g.</p>
<div class="tab">
<button class="tablinksunnamed-chunk-33 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-33&#39;, &#39;unnamed-chunk-33&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-33" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-33&#39;, &#39;unnamed-chunk-33&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-33" class="tabcontentunnamed-chunk-33">
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" tabindex="-1"></a>penguins[, <span class="sc">!</span><span class="fu">colnames</span>(penguins) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;study_name&quot;</span>, <span class="st">&quot;sample_number&quot;</span>)]</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-33" class="tabcontentunnamed-chunk-33">
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" tabindex="-1"></a><span class="fu">select</span>(<span class="at">.data =</span> penguins,</span>
<span id="cb93-2"><a href="#cb93-2" tabindex="-1"></a>       <span class="sc">-</span>study_name, <span class="sc">-</span>sample_number)</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-33') </script>
<p>Note that <code>select()</code> does <strong>not</strong> change the original <code>penguins</code> tibble. It spits out the new tibble directly into your console.</p>
<p>If you don't <strong>save</strong> this new tibble, it won't be stored. If you want to keep it, then you must create a new object.</p>
<p>When you run this new code, you will not see anything in your console, but you will see a new object appear in your Environment pane.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" tabindex="-1"></a>new_penguins <span class="ot">&lt;-</span> <span class="fu">select</span>(<span class="at">.data =</span> penguins, </span>
<span id="cb94-2"><a href="#cb94-2" tabindex="-1"></a>       species, sex, flipper_length_mm, body_mass_g)</span></code></pre></div>
</div>
<div id="filter" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Filter</h3>
<p>Having previously used <code>select()</code> to select certain variables, we will now use <code>filter()</code> to select only certain rows or observations. For example only Adelie penguins.</p>
<p>We can do this with the equivalence operator <code>==</code></p>
<div class="tab">
<button class="tablinksunnamed-chunk-35 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-35&#39;, &#39;unnamed-chunk-35&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-35" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-35&#39;, &#39;unnamed-chunk-35&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-35" class="tabcontentunnamed-chunk-35">
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" tabindex="-1"></a>filtered_penguins <span class="ot">&lt;-</span> new_penguins[new_penguins<span class="sc">$</span>species <span class="sc">==</span> <span class="st">&quot;Adelie Penguin (Pygoscelis adeliae&quot;</span><span class="er">)</span>, ]</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-35" class="tabcontentunnamed-chunk-35">
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" tabindex="-1"></a><span class="fu">filter</span>(<span class="at">.data =</span> new_penguins, species <span class="sc">==</span> <span class="st">&quot;Adelie Penguin (Pygoscelis adeliae)&quot;</span>)</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-35') </script>
<p>We can use several different operators to assess the way in which we should filter our data that work the same in tidyverse or base R.</p>
<table class="table" style="font-size: 16px; width: auto !important; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
(#tab:unnamed-chunk-36)Boolean expressions
</caption>
<thead>
<tr>
<th style="text-align:left;">
Operator
</th>
<th style="text-align:left;">
Name
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A &lt; B
</td>
<td style="text-align:left;">
less than
</td>
</tr>
<tr>
<td style="text-align:left;">
A &lt;= B
</td>
<td style="text-align:left;">
less than or equal to
</td>
</tr>
<tr>
<td style="text-align:left;">
A &gt; B
</td>
<td style="text-align:left;">
greater than
</td>
</tr>
<tr>
<td style="text-align:left;">
A &gt;= B
</td>
<td style="text-align:left;">
greater than or equal to
</td>
</tr>
<tr>
<td style="text-align:left;">
A == B
</td>
<td style="text-align:left;">
equivalence
</td>
</tr>
<tr>
<td style="text-align:left;">
A != B
</td>
<td style="text-align:left;">
not equal
</td>
</tr>
<tr>
<td style="text-align:left;">
A %in% B
</td>
<td style="text-align:left;">
in
</td>
</tr>
</tbody>
</table>
<p>If you wanted to select all the Penguin species except Adelies, you use 'not equals'.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" tabindex="-1"></a><span class="fu">filter</span>(<span class="at">.data =</span> new_penguins, species <span class="sc">!=</span> <span class="st">&quot;Adelie&quot;</span>)</span></code></pre></div>
<p>This is the same as</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" tabindex="-1"></a><span class="fu">filter</span>(<span class="at">.data =</span> new_penguins, species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Chinstrap&quot;</span>, <span class="st">&quot;Gentoo&quot;</span>))</span></code></pre></div>
<p>You can include multiple expressions within <code>filter()</code> and it will pull out only those rows that evaluate to <code>TRUE</code> for all of your conditions.</p>
<p>For example the below code will pull out only those observations of Adelie penguins where flipper length was measured as greater than 190mm.</p>
<div class="tab">
<button class="tablinksunnamed-chunk-39 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-39&#39;, &#39;unnamed-chunk-39&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-39" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-39&#39;, &#39;unnamed-chunk-39&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-39" class="tabcontentunnamed-chunk-39">
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" tabindex="-1"></a>new_penguins[new_penguins<span class="sc">$</span>species <span class="sc">==</span> <span class="st">&quot;Adelie&quot;</span> <span class="sc">&amp;</span> new_penguins<span class="sc">$</span>flipper_length_mm <span class="sc">&gt;</span> <span class="dv">190</span>, ]</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-39" class="tabcontentunnamed-chunk-39">
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" tabindex="-1"></a><span class="fu">filter</span>(<span class="at">.data =</span> new_penguins, species <span class="sc">==</span> <span class="st">&quot;Adelie&quot;</span>, flipper_length_mm <span class="sc">&gt;</span> <span class="dv">190</span>)</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-39') </script>
</div>
<div id="arrange" class="section level3" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Arrange</h3>
<p>The function <code>arrange()</code> sorts the rows in the table according to the columns supplied. For example</p>
<div class="tab">
<button class="tablinksunnamed-chunk-40 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-40&#39;, &#39;unnamed-chunk-40&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-40" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-40&#39;, &#39;unnamed-chunk-40&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-40" class="tabcontentunnamed-chunk-40">
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" tabindex="-1"></a>new_penguins[<span class="fu">order</span>(new_penguins<span class="sc">$</span>sex), ] <span class="co"># define columns to be arranged</span></span></code></pre></div>
</div>
<div id="option2unnamed-chunk-40" class="tabcontentunnamed-chunk-40">
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" tabindex="-1"></a><span class="fu">arrange</span>(<span class="at">.data =</span> new_penguins, sex)</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-40') </script>
<p>The data is now arranged in alphabetical order by sex. So all of the observations of female penguins are listed before males.</p>
<p>You can also reverse this with <code>desc()</code></p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" tabindex="-1"></a><span class="fu">arrange</span>(<span class="at">.data =</span> new_penguins, <span class="fu">desc</span>(sex))</span></code></pre></div>
<p>You can also sort by more than one column, what do you think the code below does?</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" tabindex="-1"></a><span class="fu">arrange</span>(<span class="at">.data =</span> new_penguins,</span>
<span id="cb104-2"><a href="#cb104-2" tabindex="-1"></a>        sex,</span>
<span id="cb104-3"><a href="#cb104-3" tabindex="-1"></a>        <span class="fu">desc</span>(species),</span>
<span id="cb104-4"><a href="#cb104-4" tabindex="-1"></a>        <span class="fu">desc</span>(flipper_length_mm))</span></code></pre></div>
</div>
<div id="mutate" class="section level3" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Mutate</h3>
<p>Sometimes we need to create a new variable that doesn't exist in our dataset. For example we might want to figure out what the flipper length is when factoring in body mass.</p>
<p>To create new variables we use the function <code>mutate()</code>.</p>
<p>Note that as before, if you want to save your new column you must save it as an object. Here we are mutating a new column and attaching it to the <code>new_penguins</code> data oject.</p>
<div class="tab">
<button class="tablinksunnamed-chunk-43 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-43&#39;, &#39;unnamed-chunk-43&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-43" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-43&#39;, &#39;unnamed-chunk-43&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-43" class="tabcontentunnamed-chunk-43">
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" tabindex="-1"></a>new_penguins<span class="sc">$</span>body_mass_kg <span class="ot">&lt;-</span> new_penguins<span class="sc">$</span>body_mass_g <span class="sc">/</span> <span class="dv">1000</span></span></code></pre></div>
</div>
<div id="option2unnamed-chunk-43" class="tabcontentunnamed-chunk-43">
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" tabindex="-1"></a>new_penguins <span class="ot">&lt;-</span> <span class="fu">mutate</span>(<span class="at">.data =</span> new_penguins,</span>
<span id="cb106-2"><a href="#cb106-2" tabindex="-1"></a>                     <span class="at">body_mass_kg =</span> body_mass_g<span class="sc">/</span><span class="dv">1000</span>)</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-43') </script>
</div>
</div>
<div id="pipes" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Pipes</h2>
<p><img src="images/pipe_order.jpg" alt="Pipes make code more human readable" width="80%" style="display: block; margin: auto;" /></p>
<p>Pipes look like this: <code>|&gt;</code> Pipes allow you to send the output from one function straight into another function. Specifically, they send the result of the function before <code>|&gt;</code> to be the <strong>first</strong> argument of the function after <code>|&gt;</code>. As usual, it's easier to show, rather than tell so let's look at an example.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" tabindex="-1"></a><span class="co"># this example uses brackets to nest and order functions</span></span>
<span id="cb107-2"><a href="#cb107-2" tabindex="-1"></a><span class="fu">arrange</span>(<span class="at">.data =</span> <span class="fu">filter</span>(<span class="at">.data =</span> <span class="fu">select</span>(<span class="at">.data =</span> penguins, species, sex, flipper_length_mm), sex <span class="sc">==</span> <span class="st">&quot;MALE&quot;</span>), <span class="fu">desc</span>(flipper_length_mm))</span></code></pre></div>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" tabindex="-1"></a><span class="co"># this example uses sequential R objects to make the code more readable</span></span>
<span id="cb108-2"><a href="#cb108-2" tabindex="-1"></a>object_1 <span class="ot">&lt;-</span> <span class="fu">select</span>(<span class="at">.data =</span> penguins, species, sex, flipper_length_mm)</span>
<span id="cb108-3"><a href="#cb108-3" tabindex="-1"></a>object_2 <span class="ot">&lt;-</span> <span class="fu">filter</span>(<span class="at">.data =</span> object_1, sex <span class="sc">==</span> <span class="st">&quot;MALE&quot;</span>)</span>
<span id="cb108-4"><a href="#cb108-4" tabindex="-1"></a><span class="fu">arrange</span>(object_2, <span class="fu">desc</span>(flipper_length_mm))</span></code></pre></div>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" tabindex="-1"></a><span class="co"># this example is human readable without intermediate objects</span></span>
<span id="cb109-2"><a href="#cb109-2" tabindex="-1"></a>penguins <span class="sc">|&gt;</span>  </span>
<span id="cb109-3"><a href="#cb109-3" tabindex="-1"></a>  <span class="fu">select</span>(species, sex, flipper_length_mm) <span class="sc">|&gt;</span>  </span>
<span id="cb109-4"><a href="#cb109-4" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&quot;MALE&quot;</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb109-5"><a href="#cb109-5" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(flipper_length_mm))</span></code></pre></div>
<p>The reason that this function is called a pipe is because it 'pipes' the data through to the next function. When you wrote the code previously, the first argument of each function was the dataset you wanted to work on. When you use pipes it will automatically take the data from the previous line of code so you don't need to specify it again.</p>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
Try and write out as plain English what the |&gt; above is doing? You can read the |&gt; as THEN
</div>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<p>Take the penguins data AND THEN
Select only the species, sex and flipper length columns AND THEN
Filter to keep only those observations labelled as sex equals male AND THEN
Arrange the data from HIGHEST to LOWEST flipper lengths.</p>
</div>
<div class="info">
<p>
From R version 4 onwards there is now a “native pipe”
<code>|&gt;</code>
</p>
<p>
This doesn’t require the tidyverse <code>magrittr</code> package and
the “old pipe” <code>%&gt;%</code> or any other packages to load and
use.
</p>
<p>
You may be familiar with the magrittr pipe or see it in other
tutorials, and website usages. The native pipe works equivalntly in most
situations but if you want to read about some of the operational
differences, <a
href="https://www.infoworld.com/article/3621369/use-the-new-r-pipe-built-into-r-41.html">this
site</a> does a good job of explaining .
</p>
</div>
</div>
<div id="a-few-more-handy-functions" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> A few more handy functions</h2>
<div id="check-for-duplication" class="section level3" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> Check for duplication</h3>
<p>It is very easy when inputting data to make mistakes, copy something in twice for example, or if someone did a lot of copy-pasting to assemble a spreadsheet (yikes!). We can check this pretty quickly</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" tabindex="-1"></a><span class="co"># check for duplicate rows in the data</span></span>
<span id="cb110-2"><a href="#cb110-2" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb110-3"><a href="#cb110-3" tabindex="-1"></a>  <span class="fu">duplicated</span>() <span class="sc">|&gt;</span>  <span class="co"># produces a list of TRUE/FALSE statements for duplicated or not</span></span>
<span id="cb110-4"><a href="#cb110-4" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="co"># sums all the TRUE statements</span></span></code></pre></div>
<pre><code>[1] 0</code></pre>
<p>Great!</p>
</div>
<div id="summarise" class="section level3" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> Summarise</h3>
<p>We can also explore our data for very obvious typos by checking for implausibly small or large values, this is a simple use of the <code>summarise</code> function.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" tabindex="-1"></a><span class="co"># use summarise to make calculations</span></span>
<span id="cb112-2"><a href="#cb112-2" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb112-3"><a href="#cb112-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">min=</span><span class="fu">min</span>(body_mass_g, <span class="at">na.rm=</span><span class="cn">TRUE</span>), </span>
<span id="cb112-4"><a href="#cb112-4" tabindex="-1"></a>            <span class="at">max=</span><span class="fu">max</span>(body_mass_g, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code></pre></div>
<p>The minimum weight for our penguins is 2.7kg, and the max is 6.3kg - not outrageous. If the min had come out at 27g we might have been suspicious. We will use <code>summarise</code> again to calculate other metrics in the future.</p>
<div class="info">
<p>
our first data insight, the difference the smallest adult penguin in
our dataset is nearly half the size of the largest penguin.
</p>
</div>
</div>
<div id="group-by" class="section level3" number="4.5.3">
<h3><span class="header-section-number">4.5.3</span> Group By</h3>
<p>Many data analysis tasks can be approached using the “split-apply-combine” paradigm: split the data into groups, apply some analysis to each group, and then combine the results. <code>dplyr</code> makes this very easy with the <code>group_by()</code> function. In the <code>summarise</code> example above we were able to find the max-min body mass values for the penguins in our dataset. But what if we wanted to break that down by a grouping such as species of penguin. This is where <code>group_by()</code> comes in.</p>
<div class="tab">
<button class="tablinksunnamed-chunk-53 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-53&#39;, &#39;unnamed-chunk-53&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-53" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-53&#39;, &#39;unnamed-chunk-53&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-53" class="tabcontentunnamed-chunk-53">
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" tabindex="-1"></a><span class="co">#Things start to get more complicated with Base R</span></span>
<span id="cb113-2"><a href="#cb113-2" tabindex="-1"></a></span>
<span id="cb113-3"><a href="#cb113-3" tabindex="-1"></a><span class="fu">split</span>(penguins<span class="sc">$</span>body_mass_g, penguins<span class="sc">$</span>species) <span class="sc">|&gt;</span> </span>
<span id="cb113-4"><a href="#cb113-4" tabindex="-1"></a>    <span class="fu">lapply</span>(<span class="cf">function</span>(x) <span class="fu">c</span>(<span class="fu">min</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="fu">max</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb113-5"><a href="#cb113-5" tabindex="-1"></a>    <span class="fu">do.call</span>(rbind, <span class="at">args =</span> _ ) <span class="sc">|&gt;</span> </span>
<span id="cb113-6"><a href="#cb113-6" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-53" class="tabcontentunnamed-chunk-53">
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb114-2"><a href="#cb114-2" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span>  <span class="co"># subsequent functions are perform &quot;by group&quot;</span></span>
<span id="cb114-3"><a href="#cb114-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">min=</span><span class="fu">min</span>(body_mass_g, <span class="at">na.rm=</span><span class="cn">TRUE</span>), </span>
<span id="cb114-4"><a href="#cb114-4" tabindex="-1"></a>            <span class="at">max=</span><span class="fu">max</span>(body_mass_g, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-53') </script>
<p>Now we know a little more about our data, the max weight of our Gentoo penguins is much larger than the other two species. In fact, the minimum weight of a Gentoo penguin is not far off the max weight of the other two species.</p>
</div>
<div id="distinct" class="section level3" number="4.5.4">
<h3><span class="header-section-number">4.5.4</span> Distinct</h3>
<p>We can also look for typos by asking R to produce all of the distinct values in a variable. This is more useful for categorical data, where we expect there to be only a few distinct categories</p>
<div class="tab">
<button class="tablinksunnamed-chunk-54 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-54&#39;, &#39;unnamed-chunk-54&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-54" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-54&#39;, &#39;unnamed-chunk-54&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-54" class="tabcontentunnamed-chunk-54">
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" tabindex="-1"></a><span class="fu">unique</span>(penquins<span class="sc">$</span>sex) <span class="co"># only works on vectord</span></span></code></pre></div>
</div>
<div id="option2unnamed-chunk-54" class="tabcontentunnamed-chunk-54">
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span>  </span>
<span id="cb116-2"><a href="#cb116-2" tabindex="-1"></a>  <span class="fu">distinct</span>(sex)</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-54') </script>
<p>Here if someone had mistyped e.g. 'FMALE' it would be obvious. We could do the same thing (and probably should have before we changed the names) for species.</p>
</div>
<div id="missing-values-na" class="section level3" number="4.5.5">
<h3><span class="header-section-number">4.5.5</span> Missing values: NA</h3>
<p>There are multiple ways to check for missing values in our data</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" tabindex="-1"></a><span class="co"># Get a sum of how many observations are missing in our dataframe</span></span>
<span id="cb117-2"><a href="#cb117-2" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb117-3"><a href="#cb117-3" tabindex="-1"></a>  <span class="fu">is.na</span>() <span class="sc">|&gt;</span> </span>
<span id="cb117-4"><a href="#cb117-4" tabindex="-1"></a>  <span class="fu">sum</span>()</span></code></pre></div>
<p>But this doesn't tell us where these are, fortunately the function <code>summary</code> does this easily</p>
</div>
</div>
<div id="summary" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> <code>Summary</code></h2>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" tabindex="-1"></a><span class="co"># produce a summary of our data</span></span>
<span id="cb118-2"><a href="#cb118-2" tabindex="-1"></a><span class="fu">summary</span>(penguins)</span>
<span id="cb118-3"><a href="#cb118-3" tabindex="-1"></a><span class="co">#__________________________----</span></span></code></pre></div>
<p>This provides a quick breakdown of the max and min for all numeric variables, as well as a list of how many missing observations there are for each one. As we can see there appear to be two missing observations for measurements in body mass, bill lengths, flipper lengths and several more for blood measures. We don't know for sure without inspecting our data further, <em>but</em> it is likely that the two birds are missing multiple measurements, and that several more were measured but didn't have their blood drawn.</p>
<p>We will leave the NA's alone for now, but it's useful to know how many we have.</p>
<p>We've now got a clean &amp; tidy dataset, with a handful of first insights into the data.</p>
</div>
<div id="finished" class="section level2" number="4.7">
<h2><span class="header-section-number">4.7</span> Finished</h2>
<p>That was a lot of work! But remember you don't have to remember all of these functions, remember this chapter when you do more data wrangling in the future. Also bookmark the <a href="https://www.rstudio.com/resources/cheatsheets/">RStudio Cheatsheets Page</a>.</p>
<p>Finally, make sure you have saved the changes made to your script 💾 &amp; make sure your workspace is set <strong>not</strong> to save objects from the environment <a href="#global-options"><em>between</em> sessions</a>.</p>
<p>We want our script to be our record of work and progress, and not to be confused by a cluttered R Environment.</p>
</div>
<div id="activity-reorganise-this-script" class="section level2" number="4.8">
<h2><span class="header-section-number">4.8</span> Activity: Reorganise this script</h2>
<p>Using the link below take the text and copy/paste into a <strong>new</strong> R script and save this as <code>YYYY_MM_DD_workshop_4_jumbled_script.R</code></p>
<p>All of the correct lines of code, comments and document markers are present, but not in the correct order. Can you unscramble them to produce a sensible output and a clear document outline?</p>
<a href="https://raw.githubusercontent.com/UEABIO/data-sci-v1/main/book/files/jumbled_script.R">
<button class="btn btn-success"><i class="fa fa-save"></i> Download jumbled R script</button>
</a>
<div class="webex-solution">
<button>
Solution
</button>
<p>If you want to check your answers (or are just completely stuck) then click here</p>
<a href="https://raw.githubusercontent.com/UEABIO/data-sci-v1/main/book/files/unjumbled_script.R">
<button class="btn btn-success"><i class="fa fa-save"></i> Unjumbled script</button>
</a>
</div>
</div>
</div>
<div id="data-wrangling-part-two" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Data wrangling part two</h1>
<div id="load-your-workspace" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Load your workspace</h2>
<p>You should have a workspace ready to work with the Palmer penguins data. Load this workspace now.</p>
<p>Think about some basic checks before you start your work today.</p>
<div id="checklist" class="section level3" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Checklist</h3>
<ul>
<li><p>Are there objects already in your Environment pane? <a href="#global-options">There shouldn't be</a>, if there are use <code>rm(list=ls())</code></p></li>
<li><p>Re-run your script from <a href="#data-wrangling-part-one">last time</a> from line 1 to the last line</p></li>
<li><p>Check for any warning or error messages</p></li>
<li><p>Add the code from today's session to your script as we go</p></li>
</ul>
</div>
</div>
<div id="more-summary-tools" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> More summary tools</h2>
<p>Very often we want to make calculations aobut groups of observations, such as the mean or median. We are often interested in comparing responses among groups. For example, we previously found the number of distinct penguins in our entire dataset.</p>
<div class="try">
<p>
Add these new lines of code to your script as you try them. Comment
out # and add short descriptions of what you are achieving with them
</p>
</div>
<div class="tab">
<button class="tablinksunnamed-chunk-63 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-63&#39;, &#39;unnamed-chunk-63&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-63" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-63&#39;, &#39;unnamed-chunk-63&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-63" class="tabcontentunnamed-chunk-63">
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" tabindex="-1"></a><span class="fu">unique</span>(penguins<span class="sc">$</span>individual_id) <span class="sc">|&gt;</span> </span>
<span id="cb119-2"><a href="#cb119-2" tabindex="-1"></a>  <span class="fu">length</span>()</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-63" class="tabcontentunnamed-chunk-63">
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb120-2"><a href="#cb120-2" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">n_distinct</span>(individual_id))</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr>
<th style="text-align:right;">
n_distinct(individual_id)
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
190
</td>
</tr>
</tbody>
</table>
</div>
</div>
<script> javascript:hide('option2unnamed-chunk-63') </script>
<p>Now consider when the groups are subsets of observations, as when we find out the number of penguins in each species and sex.</p>
<div class="tab">
<button class="tablinksunnamed-chunk-64 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-64&#39;, &#39;unnamed-chunk-64&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-64" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-64&#39;, &#39;unnamed-chunk-64&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-64" class="tabcontentunnamed-chunk-64">
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" tabindex="-1"></a><span class="co"># note aggregate doesn&#39;t have functionality to deal with missing data</span></span>
<span id="cb121-2"><a href="#cb121-2" tabindex="-1"></a><span class="fu">aggregate</span>(individual_id <span class="sc">~</span> species <span class="sc">+</span> sex, </span>
<span id="cb121-3"><a href="#cb121-3" tabindex="-1"></a>          <span class="at">data =</span> penguins, </span>
<span id="cb121-4"><a href="#cb121-4" tabindex="-1"></a>          <span class="at">FUN =</span> <span class="cf">function</span>(x) <span class="fu">length</span>(<span class="fu">unique</span>(x)))</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-64" class="tabcontentunnamed-chunk-64">
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb122-2"><a href="#cb122-2" tabindex="-1"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span> </span>
<span id="cb122-3"><a href="#cb122-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">n_distinct</span>(individual_id))</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-64') </script>
<p>As we progress, not only are we learning how to use our data wrangling tools. We are also gaining insights into our data.</p>
<p><strong>Question</strong> How many female Adelie penguins are in our dataset?</p>
<p><input class='webex-solveme nospaces' size='2' data-answer='["65"]'/></p>
<p><br></p>
<p><strong>Question</strong> How many Gentoo penguins <strong>did not</strong> have their sex recorded?</p>
<p><input class='webex-solveme nospaces' size='1' data-answer='["5"]'/></p>
<p><br></p>
<p>We are using summarise and group_by a lot! They are very powerful functions:</p>
<ul>
<li><p><code>group_by</code> adds <em>grouping</em> information into a data object, so that subsequent calculations happen on a <em>group-specific</em> basis.</p></li>
<li><p><code>summarise</code> is a data aggregation function thart calculates summaries of one or more variables, and it will do this separately for any groups defined by <code>group_by</code></p></li>
</ul>
<div id="summarise-1" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> summarise()</h3>
<p><code>summarise()</code> has a whole list of useful functions for producing <em>descriptive</em> statistics</p>
<div class="kable-table">
<table>
<thead>
<tr>
<th style="text-align:left;">
verb
</th>
<th style="text-align:left;">
action
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
mean(), median()
</td>
<td style="text-align:left;">
Center data
</td>
</tr>
<tr>
<td style="text-align:left;">
sd(), IQR()
</td>
<td style="text-align:left;">
Spread of data
</td>
</tr>
<tr>
<td style="text-align:left;">
min(), max(), quantile()
</td>
<td style="text-align:left;">
Range of data
</td>
</tr>
<tr>
<td style="text-align:left;">
first(), last(), nth()
</td>
<td style="text-align:left;">
Position
</td>
</tr>
<tr>
<td style="text-align:left;">
n(), n_distinct()
</td>
<td style="text-align:left;">
Count
</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><p><code>min</code> and <code>max</code> to calculate minimum and maximum values of a numeric vector</p></li>
<li><p><code>mean</code> and <code>median</code> to calculate averages of a numeric vector</p></li>
<li><p><code>sd</code> and <code>var</code> calculate standard deviation and variance of a numeric vector</p></li>
</ul>
<p>Using <code>summarise</code> we can calculate the mean flipper and bill lengths of our penguins:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb123-2"><a href="#cb123-2" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb123-3"><a href="#cb123-3" tabindex="-1"></a>    <span class="at">mean_flipper_length =</span> <span class="fu">mean</span>(flipper_length_mm, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb123-4"><a href="#cb123-4" tabindex="-1"></a>     <span class="at">mean_culmen_length =</span> <span class="fu">mean</span>(culmen_length_mm, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code></pre></div>
<div class="info">
<p>
Note - we provide informative names for ourselves on the left side of
the <code>=</code>
</p>
<p>
When performing calculations in summarise it is important to set
<code>na.rm = TRUE</code>, this removes missing values from the
calculation
</p>
</div>
<div class="try">
<p>
What happens when you try to produce calculations that include
<code>NA</code>? e.g <code>NA</code> + 4 or <code>NA</code> * 5
</p>
</div>
<p>We can use several functions in <code>summarise</code>. Which means we can string several calculations together in a single step, and generate more insights into our data.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb124-2"><a href="#cb124-2" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>(), <span class="co"># number of rows of data</span></span>
<span id="cb124-3"><a href="#cb124-3" tabindex="-1"></a>            <span class="at">num_penguins =</span> <span class="fu">n_distinct</span>(individual_id), <span class="co"># number of unique individuals</span></span>
<span id="cb124-4"><a href="#cb124-4" tabindex="-1"></a>            <span class="at">mean_flipper_length =</span> <span class="fu">mean</span>(flipper_length_mm, <span class="at">na.rm=</span><span class="cn">TRUE</span>), <span class="co"># mean flipper length</span></span>
<span id="cb124-5"><a href="#cb124-5" tabindex="-1"></a>            <span class="at">prop_female =</span> <span class="fu">sum</span>(sex <span class="sc">==</span> <span class="st">&quot;FEMALE&quot;</span>, <span class="at">na.rm=</span><span class="cn">TRUE</span>) <span class="sc">/</span> <span class="fu">n</span>()) <span class="co"># proportion of observations that are coded as female</span></span></code></pre></div>
<div class="webex-solution">
<button>
Solution
</button>
<ul>
<li>There are 190 unique IDs and 344 total observations so it would appear that there are roughly twice as many observations as unique individuals. The sex ratio is roughly even (48% female) and the average flipper length is 201 mm.</li>
</ul>
</div>
<div id="summarize-across-columns" class="section level4" number="5.2.1.1">
<h4><span class="header-section-number">5.2.1.1</span> Summarize <code>across</code> columns</h4>
<p><code>across</code> has two arguments, <code>.cols</code> and <code>.fns</code>.</p>
<ul>
<li><p>The <code>.cols</code> argument lets you select the columns you wish to apply functions to</p></li>
<li><p>The <code>.fns</code> argument applies the required function to all of the selected columns.</p></li>
</ul>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" tabindex="-1"></a><span class="co"># Across ----</span></span>
<span id="cb125-2"><a href="#cb125-2" tabindex="-1"></a><span class="co"># The mean of ALL numeric columns in the data, where(is.numeric == TRUE) hunts for numeric columns</span></span>
<span id="cb125-3"><a href="#cb125-3" tabindex="-1"></a></span>
<span id="cb125-4"><a href="#cb125-4" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb125-5"><a href="#cb125-5" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="at">.cols =</span> <span class="fu">where</span>(is.numeric), </span>
<span id="cb125-6"><a href="#cb125-6" tabindex="-1"></a>                   <span class="at">.fns =</span> <span class="sc">~</span> <span class="fu">mean</span>(., <span class="at">na.rm=</span><span class="cn">TRUE</span>)))</span></code></pre></div>
<p>The above example calculates the means of any &amp; all numeric variables in the dataset.</p>
<p>The below example is a slightly complicated way of running the n_distinct for summarise. The <code>.cols()</code> looks for any column that contains the word "penguin" and then runs the <code>n_distinct()</code>command on these</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" tabindex="-1"></a><span class="co"># number of distinct penguins, as only one column contains the word penguin</span></span>
<span id="cb126-2"><a href="#cb126-2" tabindex="-1"></a><span class="co"># the argument contains looks for columns that match a character expression</span></span>
<span id="cb126-3"><a href="#cb126-3" tabindex="-1"></a></span>
<span id="cb126-4"><a href="#cb126-4" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb126-5"><a href="#cb126-5" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="at">.cols =</span> <span class="fu">contains</span>(<span class="st">&quot;individual&quot;</span>), </span>
<span id="cb126-6"><a href="#cb126-6" tabindex="-1"></a>                   <span class="at">.fns =</span> <span class="sc">~</span><span class="fu">n_distinct</span>(.)))</span></code></pre></div>
</div>
</div>
<div id="group_by-revisited" class="section level3" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> group_by revisited</h3>
<p>The <code>group_by</code> function provides the ability to separate our summary functions according to any subgroups we wish to make. The real magic happens when we pair this with <code>summarise</code> and <code>mutate</code>.</p>
<p>In this example, by grouping on the individual penguin ids, then summarising by n - we can see how many times each penguin was monitored in the course of this study.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" tabindex="-1"></a>penguin_stats <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb127-2"><a href="#cb127-2" tabindex="-1"></a>  <span class="fu">group_by</span>(individual_id) <span class="sc">|&gt;</span> </span>
<span id="cb127-3"><a href="#cb127-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">num=</span><span class="fu">n</span>())</span></code></pre></div>
<div class="info">
<p>
Remember the actions of <code>group_by</code> are “invisible”.
Subsequent functions are applied in a “grouped by” manner - but the
dataframe itself looks unchanged.
</p>
</div>
<div id="more-than-one-grouping-variable" class="section level4" number="5.2.2.1">
<h4><span class="header-section-number">5.2.2.1</span> More than one grouping variable</h4>
<p>What if we need to calculate by more than one variable at a time?
No problem we can submit several arguments:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" tabindex="-1"></a>penguins_grouped <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb128-2"><a href="#cb128-2" tabindex="-1"></a>  <span class="fu">group_by</span>(sex, species)</span></code></pre></div>
<p>We can then calculate the mean flipper length of penguins in each of the six combinations</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" tabindex="-1"></a>penguins_grouped <span class="sc">|&gt;</span> </span>
<span id="cb129-2"><a href="#cb129-2" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">mean_flipper =</span> <span class="fu">mean</span>(flipper_length_mm, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code></pre></div>
<p>Now the first row of our summary table shows us the mean flipper length (in mm) for female Adelie penguins. There are eight rows in total, six unique combinations and two rows where the sex of the penguins was not recorded(<code>NA</code>)</p>
</div>
<div id="using-group_by-with-mutate" class="section level4" number="5.2.2.2">
<h4><span class="header-section-number">5.2.2.2</span> using group_by with mutate</h4>
<p>So far we have only used <code>group_by</code> with the <code>summarise</code> function, but this doesn't always have to be the case.
When <code>mutate</code> is used with <code>group_by</code>, the calculations occur by 'group'. Here's an example:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" tabindex="-1"></a><span class="co"># Using mutate and group_by ----</span></span>
<span id="cb130-2"><a href="#cb130-2" tabindex="-1"></a>centered_penguins <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb130-3"><a href="#cb130-3" tabindex="-1"></a>  <span class="fu">group_by</span>(sex, species) <span class="sc">|&gt;</span> </span>
<span id="cb130-4"><a href="#cb130-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">flipper_centered =</span> flipper_length_mm<span class="sc">-</span><span class="fu">mean</span>(flipper_length_mm, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span>
<span id="cb130-5"><a href="#cb130-5" tabindex="-1"></a></span>
<span id="cb130-6"><a href="#cb130-6" tabindex="-1"></a>centered_penguins <span class="sc">|&gt;</span> </span>
<span id="cb130-7"><a href="#cb130-7" tabindex="-1"></a>  <span class="fu">select</span>(flipper_centered)</span>
<span id="cb130-8"><a href="#cb130-8" tabindex="-1"></a><span class="co"># Each row now returns a value for EACH penguin of how much greater/lesser than the group average (sex and species) its flipper is. </span></span></code></pre></div>
<p>Here we are calculating a <strong>group centered mean</strong>, this new variable contains the <em>difference</em> between each observation and the mean of whichever group that observation is in.</p>
</div>
<div id="remove-group_by" class="section level4" number="5.2.2.3">
<h4><span class="header-section-number">5.2.2.3</span> remove group_by</h4>
<p>On occasion we may need to remove the grouping information from a dataset. This is often required when we string pipes together, when we need to work using a grouping structure, then revert back to the whole dataset again</p>
<p>Look at our grouped dataframe, and we can see the information on groups is at the top of the data:</p>
<pre><code># A tibble: 344 x 10
# Groups:   sex, species [8]
   species island culmen_length_mm culmen_depth_mm flipper_length_~ body_mass_g
   &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;            &lt;dbl&gt;       &lt;dbl&gt;
 1 Adelie  Torge~           39.1          18.7              181        3750
 2 Adelie  Torge~           39.5          17.4              186        3800
 3 Adelie  Torge~           40.3          18                195        3250</code></pre>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" tabindex="-1"></a><span class="co"># Run this command will remove the groups - but this is only saved if assigned BACK to an object</span></span>
<span id="cb132-2"><a href="#cb132-2" tabindex="-1"></a></span>
<span id="cb132-3"><a href="#cb132-3" tabindex="-1"></a>centered_penguins <span class="ot">&lt;-</span> centered_penguins <span class="sc">|&gt;</span> </span>
<span id="cb132-4"><a href="#cb132-4" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb132-5"><a href="#cb132-5" tabindex="-1"></a></span>
<span id="cb132-6"><a href="#cb132-6" tabindex="-1"></a>centered_penguins</span></code></pre></div>
<p>Look at this output - you can see the information on groups has now been removed from the data.</p>
</div>
</div>
</div>
<div id="working-with-character-strings" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Working with character strings</h2>
<p>Datasets often contain words, and we call these words "(character) strings".</p>
<p>Often these aren't quite how we want them to be, but we can manipulate these as much as we like. Functions in the package <code>stringr</code>, are fantastic. And the number of different types of manipulations are endless!</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" tabindex="-1"></a><span class="co"># Stringr ----</span></span>
<span id="cb133-2"><a href="#cb133-2" tabindex="-1"></a></span>
<span id="cb133-3"><a href="#cb133-3" tabindex="-1"></a><span class="fu">str_replace_all</span>(<span class="fu">names</span>(penguins), <span class="fu">c</span>(<span class="st">&quot;e&quot;</span><span class="ot">=</span> <span class="st">&quot;E&quot;</span>))</span>
<span id="cb133-4"><a href="#cb133-4" tabindex="-1"></a><span class="co"># replace all character &quot;e&quot; with &quot;E&quot;</span></span></code></pre></div>
<div id="more-stringr" class="section level3" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> More stringr</h3>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb134-2"><a href="#cb134-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species=</span><span class="fu">str_to_upper</span>(species))</span>
<span id="cb134-3"><a href="#cb134-3" tabindex="-1"></a><span class="co"># Capitalise all letters</span></span></code></pre></div>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb135-2"><a href="#cb135-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species=</span><span class="fu">str_remove_all</span>(species, <span class="st">&quot;e&quot;</span>))</span>
<span id="cb135-3"><a href="#cb135-3" tabindex="-1"></a><span class="co"># remove every character &quot;e&quot; from selected variables</span></span></code></pre></div>
<p>We can also trim leading or trailing empty spaces with <code>str_trim</code>. These are often problematic and difficult to spot e.g.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">label=</span><span class="fu">c</span>(<span class="st">&quot;penguin&quot;</span>, <span class="st">&quot; penguin&quot;</span>, <span class="st">&quot;penguin &quot;</span>)) </span>
<span id="cb136-2"><a href="#cb136-2" tabindex="-1"></a>df2 <span class="co"># make a test dataframe</span></span></code></pre></div>
<p>We can easily imagine a scenario where data is manually input, and trailing or leading spaces are left in. These are difficult to spot by eye - but problematic because as far as R is concerned these are different values. We can use the function <code>distinct</code> to return the names of all the different levels it can find in this dataframe.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" tabindex="-1"></a>df2 <span class="sc">%&gt;%</span> </span>
<span id="cb137-2"><a href="#cb137-2" tabindex="-1"></a>  <span class="fu">distinct</span>()</span></code></pre></div>
<p>If we pipe the data throught the <code>str_trim</code> function to remove any gaps, then pipe this on to <code>distinct</code> again - by removing the whitespace, R now recognises just one level to this data.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" tabindex="-1"></a>df2 <span class="sc">%&gt;%</span> </span>
<span id="cb138-2"><a href="#cb138-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">label=</span><span class="fu">str_trim</span>(label, <span class="at">side=</span><span class="st">&quot;both&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb138-3"><a href="#cb138-3" tabindex="-1"></a>  <span class="fu">distinct</span>()</span></code></pre></div>
<p>A quick example of how to extract partial strings according to a pattern is to use <code>str_detect</code>. Combined with <code>filter</code> it is possible to subset a dataframe by searching for all the strings that match provided information, such as all the penguin IDs that start with "N1"</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb139-2"><a href="#cb139-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(individual_id, <span class="st">&quot;N1&quot;</span>))</span></code></pre></div>
</div>
<div id="separate" class="section level3" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> separate</h3>
<p>Sometimes a string might contain two pieces of information in one. This does not confirm to our tidy data principles. But we can easily separate the information with <code>separate()</code> from the <code>tidyr</code> package.</p>
<p>First we produce some made-up data</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">label=</span><span class="fu">c</span>(<span class="st">&quot;a-1&quot;</span>, <span class="st">&quot;a-2&quot;</span>, <span class="st">&quot;a-3&quot;</span>)) </span>
<span id="cb140-2"><a href="#cb140-2" tabindex="-1"></a><span class="co">#make a one column tibble</span></span>
<span id="cb140-3"><a href="#cb140-3" tabindex="-1"></a>df</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr>
<th style="text-align:left;">
label
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
a-1
</td>
</tr>
<tr>
<td style="text-align:left;">
a-2
</td>
</tr>
<tr>
<td style="text-align:left;">
a-3
</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb141-2"><a href="#cb141-2" tabindex="-1"></a>  <span class="fu">separate</span>(label, <span class="co"># name of variable</span></span>
<span id="cb141-3"><a href="#cb141-3" tabindex="-1"></a>           <span class="fu">c</span>(<span class="st">&quot;treatment&quot;</span>, <span class="st">&quot;replicate&quot;</span>), <span class="co"># new column names</span></span>
<span id="cb141-4"><a href="#cb141-4" tabindex="-1"></a>           <span class="at">sep=</span><span class="st">&quot;-&quot;</span>) <span class="co"># the character to mark where the separation occurs</span></span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr>
<th style="text-align:left;">
treatment
</th>
<th style="text-align:left;">
replicate
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
a
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
a
</td>
<td style="text-align:left;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
a
</td>
<td style="text-align:left;">
3
</td>
</tr>
</tbody>
</table>
</div>
<p>We started with one variable called <code>label</code> and then split it into two variables, <code>treatment</code> and <code>replicate</code>, with the split made where <code>-</code> occurs.
The opposite of this function is <code>unite()</code></p>
</div>
</div>
<div id="working-with-dates" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> Working with dates</h2>
<p>Working with dates can be tricky, treating date as strictly numeric is problematic, it won't account for number of days in months or number of months in a year.</p>
<p>Additionally there's a lot of different ways to write the same date:</p>
<ul>
<li><p>13-10-2019</p></li>
<li><p>10-13-2019</p></li>
<li><p>13-10-19</p></li>
<li><p>13th Oct 2019</p></li>
<li><p>2019-10-13</p></li>
</ul>
<p>This variability makes it difficult to tell our software how to read the information, luckily we can use the functions in the <code>lubridate</code> package.</p>
<div class="warning">
<p>
If you get a warning that some dates could not be parsed, then you
might find the date has been inconsistently entered into the
dataset.
</p>
<p>
Pay attention to warning and error messages
</p>
</div>
<p>Depending on how we interpret the date ordering in a file, we can use <code>ymd()</code>, <code>ydm()</code>, <code>mdy()</code>, <code>dmy()</code></p>
<ul>
<li><strong>Question</strong> What is the appropriate function from the above to use on the <code>date_egg</code> variable?</li>
</ul>
<div id="radio_KRWXYUNFTX" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_KRWXYUNFTX" value=""></input> <span>ymd()</span></label><label><input type="radio" autocomplete="off" name="radio_KRWXYUNFTX" value=""></input> <span>ydm()</span></label><label><input type="radio" autocomplete="off" name="radio_KRWXYUNFTX" value=""></input> <span>mdy()</span></label><label><input type="radio" autocomplete="off" name="radio_KRWXYUNFTX" value="answer"></input> <span>dmy()</span></label>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span></span>
<span id="cb142-2"><a href="#cb142-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date_egg_proper =</span> lubridate<span class="sc">::</span><span class="fu">dmy</span>(date_egg))</span></code></pre></div>
<p>Here we use the <code>mutate</code> function from <code>dplyr</code> to create a <em>new variable</em> called <code>date_egg_proper</code> based on the output of converting the characters in <code>date_egg</code> to date format. The original variable is left intact, if we had specified the "new" variable was also called <code>date_egg</code> then it would have overwritten the original variable.</p>
</div>
<p>Once we have established our date data, we are able to perform calculations. Such as the date range across which our data was collected.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb143-2"><a href="#cb143-2" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">min_date=</span><span class="fu">min</span>(date_egg_proper),</span>
<span id="cb143-3"><a href="#cb143-3" tabindex="-1"></a>            <span class="at">max_date=</span><span class="fu">max</span>(date_egg_proper))</span></code></pre></div>
<div id="calculations-with-dates" class="section level4" number="5.4.0.1">
<h4><span class="header-section-number">5.4.0.1</span> Calculations with dates</h4>
<p>How many times was each penguin measured, and across what total time period?</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb144-2"><a href="#cb144-2" tabindex="-1"></a>  <span class="fu">group_by</span>(individual_id) <span class="sc">|&gt;</span> </span>
<span id="cb144-3"><a href="#cb144-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">first_observation=</span><span class="fu">min</span>(date_egg_proper), </span>
<span id="cb144-4"><a href="#cb144-4" tabindex="-1"></a>            <span class="at">last_observation=</span><span class="fu">max</span>(date_egg_proper), </span>
<span id="cb144-5"><a href="#cb144-5" tabindex="-1"></a>            <span class="at">study_duration =</span> last_observation<span class="sc">-</span>first_observation, </span>
<span id="cb144-6"><a href="#cb144-6" tabindex="-1"></a>            <span class="at">n=</span><span class="fu">n</span>())</span></code></pre></div>
<p>Cool we can also convert intervals such as days into weeks, months or years with <code>dweeks(1)</code>, <code>dmonths(1)</code>, <code>dyears(1)</code>.</p>
<p>As with all cool functions, you should check out the RStudio <a href="https://www.rstudio.com/resources/cheatsheets/">cheat sheet</a> for more information. Date type data is common in datasets, and learning to work with it is a useful skill.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb145-2"><a href="#cb145-2" tabindex="-1"></a>  <span class="fu">group_by</span>(individual_id) <span class="sc">|&gt;</span> </span>
<span id="cb145-3"><a href="#cb145-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">first_observation=</span><span class="fu">min</span>(date_egg_proper), </span>
<span id="cb145-4"><a href="#cb145-4" tabindex="-1"></a>            <span class="at">last_observation=</span><span class="fu">max</span>(date_egg_proper), </span>
<span id="cb145-5"><a href="#cb145-5" tabindex="-1"></a>            <span class="at">study_duration_years =</span> (last_observation<span class="sc">-</span>first_observation)<span class="sc">/</span>lubridate<span class="sc">::</span><span class="fu">dyears</span>(<span class="dv">1</span>), </span>
<span id="cb145-6"><a href="#cb145-6" tabindex="-1"></a>            <span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb145-7"><a href="#cb145-7" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(study_duration_years))</span></code></pre></div>
</div>
</div>
<div id="factors" class="section level2" number="5.5">
<h2><span class="header-section-number">5.5</span> Factors</h2>
<p>In R, factors are a class of data that allow for <strong>ordered categories</strong> with a fixed set of acceptable values.</p>
<p>Typically, you would convert a column from character or numeric class to a factor if you want to set an intrinsic order to the values (“levels”) so they can be displayed non-alphabetically in plots and tables, or for use in linear model analyses (more on this later).</p>
<p>Another common use of factors is to standardise the legends of plots so they do not fluctuate if certain values are temporarily absent from the data.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb146-2"><a href="#cb146-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">flipper_range =</span> <span class="fu">case_when</span>(flipper_length_mm <span class="sc">&lt;=</span> <span class="dv">190</span> <span class="sc">~</span> <span class="st">&quot;small&quot;</span>,</span>
<span id="cb146-3"><a href="#cb146-3" tabindex="-1"></a>                                   flipper_length_mm <span class="sc">&gt;</span><span class="dv">190</span> <span class="sc">&amp;</span> flipper_length_mm <span class="sc">&lt;</span> <span class="dv">213</span> <span class="sc">~</span> <span class="st">&quot;medium&quot;</span>,</span>
<span id="cb146-4"><a href="#cb146-4" tabindex="-1"></a>                                   flipper_length_mm <span class="sc">&gt;=</span> <span class="dv">213</span> <span class="sc">~</span> <span class="st">&quot;large&quot;</span>))</span></code></pre></div>
<p>If we make a barplot, the order of the values on the x axis will typically be in alphabetical order for any character data</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb147-2"><a href="#cb147-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_range))<span class="sc">+</span></span>
<span id="cb147-3"><a href="#cb147-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="02-loading-data_files/figure-html/unnamed-chunk-93-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>To convert a character or numeric column to class factor, you can use any function from the <code>forcats</code> package. They will convert to class factor and then also perform or allow certain ordering of the levels - for example using <code>forcats::fct_relevel()</code> lets you manually specify the level order.</p>
<p>The function <code>as_factor()</code> simply converts the class without any further capabilities.</p>
<p>The <code>base R</code> function <code>factor()</code> converts a column to factor and allows you to manually specify the order of the levels, as a character vector to its <code>levels =</code> argument.</p>
<p>Below we use <code>mutate()</code> and <code>fct_relevel()</code> to convert the column flipper_range from class character to class factor.</p>
<div class="tab">
<button class="tablinksunnamed-chunk-94 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-94&#39;, &#39;unnamed-chunk-94&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-94" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-94&#39;, &#39;unnamed-chunk-94&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-94" class="tabcontentunnamed-chunk-94">
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" tabindex="-1"></a>penguins<span class="sc">$</span>flipper_range <span class="ot">&lt;-</span> <span class="fu">factor</span>(penguins<span class="sc">$</span>flipper_range)</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-94" class="tabcontentunnamed-chunk-94">
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb149-2"><a href="#cb149-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">flipper_range =</span> <span class="fu">fct_relevel</span>(flipper_range))</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-94') </script>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" tabindex="-1"></a><span class="fu">levels</span>(penguins<span class="sc">$</span>flipper_range)</span></code></pre></div>
<pre><code>## [1] &quot;large&quot;  &quot;medium&quot; &quot;small&quot;</code></pre>
<div class="tab">
<button class="tablinksunnamed-chunk-96 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-96&#39;, &#39;unnamed-chunk-96&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-96" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-96&#39;, &#39;unnamed-chunk-96&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-96" class="tabcontentunnamed-chunk-96">
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" tabindex="-1"></a>penguins<span class="sc">$</span>flipper_range <span class="ot">&lt;-</span> <span class="fu">factor</span>(penguins<span class="sc">$</span>flipper_range,</span>
<span id="cb152-2"><a href="#cb152-2" tabindex="-1"></a>                                  <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;small&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;large&quot;</span>))</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-96" class="tabcontentunnamed-chunk-96">
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" tabindex="-1"></a><span class="co"># Correct the code in your script with this version</span></span>
<span id="cb153-2"><a href="#cb153-2" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb153-3"><a href="#cb153-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">flipper_range =</span> <span class="fu">fct_relevel</span>(flipper_range, <span class="st">&quot;small&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;large&quot;</span>))</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-96') </script>
<p>Now when we call a plot, we can see that the x axis categories match the intrinsic order we have specified with our factor levels.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb154-2"><a href="#cb154-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_range))<span class="sc">+</span></span>
<span id="cb154-3"><a href="#cb154-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="02-loading-data_files/figure-html/unnamed-chunk-97-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="info">
<p>
Factors will also be important when we build linear models a bit
later. The reference or intercept for a categorical predictor variable
when it is read as a <code>&lt;chr&gt;</code> is set by R as the first
one when ordered alphabetically. This may not always be the most
appropriate choice, and by changing this to an ordered
<code>&lt;fct&gt;</code> we can manually set the intercept.
</p>
</div>
</div>
<div id="finished-1" class="section level2" number="5.6">
<h2><span class="header-section-number">5.6</span> Finished</h2>
<ul>
<li><p>Make sure you have <strong>saved your script 💾</strong> and given it the filename "01_import_penguins_data.R" in the <a href="#activity-1-organising-our-workspace">"scripts" folder</a>.</p></li>
<li><p>Does your workspace look like the below?</p></li>
</ul>
<div class="figure" style="text-align: center">
<img src="images/project_penguin.png" alt="My neat project layout" width="100%" />
<p class="caption">
(#fig:unnamed-chunk-99)My neat project layout
</p>
</div>
<div class="figure" style="text-align: center">
<img src="images/r_script.png" alt="My scripts and file subdirectory" width="100%" />
<p class="caption">
(#fig:unnamed-chunk-100)My scripts and file subdirectory
</p>
</div>
</div>
<div id="activity-test-yourself" class="section level2" number="5.7">
<h2><span class="header-section-number">5.7</span> Activity: Test yourself</h2>
<p><strong>Question 1.</strong> In order to subset a data by <strong>rows</strong> I should use the function <select class='webex-select'><option value='blank'></option><option value=''>select()</option><option value='answer'>filter()</option><option value=''>group_by()</option></select></p>
<p><strong>Question 2.</strong> In order to subset a data by <strong>columns</strong> I should use the function <select class='webex-select'><option value='blank'></option><option value='answer'>select()</option><option value=''>filter()</option><option value=''>group_by()</option></select></p>
<p><strong>Question 3.</strong> In order to make a new column I should use the function <select class='webex-select'><option value='blank'></option><option value=''>group_by()</option><option value=''>select()</option><option value='answer'>mutate()</option><option value=''>arrange()</option></select></p>
<p><strong>Question 4.</strong> Which operator should I use to send the output from line of code into the next line? <input class='webex-solveme nospaces' size='2' data-answer='["|>"]'/&gt;</p>
<p><strong>Question 5.</strong> What will be the outcome of the following line of code?</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb155-2"><a href="#cb155-2" tabindex="-1"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">&quot;Adelie&quot;</span>)</span></code></pre></div>
<p><select class='webex-select'><option value='blank'></option><option value=''>The penguins dataframe object is reduced to include only Adelie penguins from now on</option><option value='answer'>A new filtered dataframe of only Adelie penguins will be printed into the console</option></select></p>
<div class="webex-solution">
<button>
Explain this answer
</button>
<p>Unless the output of a series of functions is "assigned" to an object using <code>&lt;-</code> it will not be saved, the results will be immediately printed. This code would have to be modified to the below in order to create a new filtered object <code>penguins_filtered</code></p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" tabindex="-1"></a>penguins_filtered <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb156-2"><a href="#cb156-2" tabindex="-1"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">&quot;Adelie&quot;</span>)</span></code></pre></div>
</div>
<p><br></p>
<p><strong>Question 5.</strong> What is the main point of a data "pipe"?</p>
<p><select class='webex-select'><option value='blank'></option><option value=''>The code runs faster</option><option value='answer'>The code is easier to read</option></select></p>
<p><strong>Question 6.</strong> The naming convention outputted by the function `janitor::clean_names() is
<select class='webex-select'><option value='blank'></option><option value='answer'>snake_case</option><option value=''>camelCase</option><option value=''>SCREAMING_SNAKE_CASE</option><option value=''>kebab-case</option></select></p>
<p><strong>Question 7.</strong> Which package provides useful functions for manipulating character strings?</p>
<p><select class='webex-select'><option value='blank'></option><option value='answer'>stringr</option><option value=''>ggplot2</option><option value=''>lubridate</option><option value=''>forcats</option></select></p>
<p><strong>Question 8.</strong> Which package provides useful functions for manipulating dates?</p>
<p><select class='webex-select'><option value='blank'></option><option value=''>stringr</option><option value=''>ggplot2</option><option value='answer'>lubridate</option><option value=''>forcats</option></select></p>
<p><strong>Question 9.</strong> If we do not specify a character variable as a factor, then ordering will default to what?</p>
<p><select class='webex-select'><option value='blank'></option><option value=''>numerical</option><option value='answer'>alphabetical</option><option value=''>order in the dataframe</option></select></p>
</div>
</div>
<div id="part-bonus-automated-exploratory-analysis" class="section level1 unnumbered">
<h1 class="unnumbered">(PART*) BONUS: Automated Exploratory Analysis</h1>
</div>
<div id="packages-for-automated-exploratory-data-analysis" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Packages for Automated Exploratory Data Analysis</h1>
<p>In the realm of data science, the use of automated exploratory analysis is gaining prominence as a powerful approach. This methodology offers a way for data analysts and scientists to rapidly gain insights into their datasets, particularly when they have been working with tidyverse tools, without the need for laborious manual inspections of individual variables or the creation of numerous plots. The aim is to streamline and speed up the workflow, making data exploration more efficient and effective. To achieve this, data professionals turn to specific R packages such as skimr, ggally, and dataxray.</p>
<p><code>skimr</code>: The skimr package is tailored to provide a concise and informative summary of a dataset's variables. It supplies a variety of functions for generating descriptive statistics, data type details, and visual representations. This empowers you to efficiently grasp the structure and characteristics of your data, aligning with the tidyverse principles. Skimr is particularly valuable for gaining an initial understanding of your dataset and for spotting potential issues or patterns.</p>
<p><code>ggally</code>: Known as the "ggplot2 extension for exploring correlations," ggally is an R package that extends the capabilities of the well-known ggplot2 package. If you're already familiar with tidyverse, you'll appreciate ggally's seamless integration with tidy data principles. It is primarily used to create visualizations and plots for exploring relationships and correlations among variables. With ggally, you can readily produce scatterplots, density plots, and other types of graphs that shed light on the connections within your data.</p>
<p><code>dataxray</code>: For data professionals who have been using tidyverse tools, the dataxray package is a natural extension of the workflow. This new R package provides quick statistical summaries in an interactive table inside of the Rstudio Viewer Pane.</p>
<p>Together, these R packages serve to streamline and automate the exploratory analysis process within the tidyverse framework. They make data exploration more efficient and effective, enabling data scientists and analysts to swiftly gain insights into their datasets, pinpoint potential problems, and lay the foundation for more in-depth analyses and modeling. Automated exploratory analysis, when seamlessly integrated with tidyverse tools, plays a pivotal role in the data analysis workflow, providing a deeper understanding of the data and guiding informed decisions about subsequent steps in analysis and modeling tasks.</p>
<div id="skimr-for-automated-data-quality-checking" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Skimr for automated data quality checking</h2>
<p>Skimr is my preferred R package for quickly assessing data quality, serving as my initial step in exploratory data analysis. Before proceeding with any other tasks, I rely on skimr to conduct a thorough data quality check.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;skimr&quot;</span>)</span>
<span id="cb157-2"><a href="#cb157-2" tabindex="-1"></a><span class="fu">library</span>(skimr)</span></code></pre></div>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" tabindex="-1"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(penguins)</span></code></pre></div>
<table style="width: auto;" class="table table-condensed">
<caption>
(#tab:unnamed-chunk-105)Data summary
</caption>
<tbody>
<tr>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
penguins
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of rows
</td>
<td style="text-align:left;">
344
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of columns
</td>
<td style="text-align:left;">
19
</td>
</tr>
<tr>
<td style="text-align:left;">
_______________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Column type frequency:
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
Date
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
factor
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
numeric
</td>
<td style="text-align:left;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
________________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Group variables
</td>
<td style="text-align:left;">
None
</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
min
</th>
<th style="text-align:right;">
max
</th>
<th style="text-align:right;">
empty
</th>
<th style="text-align:right;">
n_unique
</th>
<th style="text-align:right;">
whitespace
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
study_name
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
species
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
41
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
region
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
island
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
stage
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
individual_id
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
190
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
clutch_completion
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
date_egg
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
sex
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
0.97
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
comments
</td>
<td style="text-align:right;">
290
</td>
<td style="text-align:right;">
0.16
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
68
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: Date</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:left;">
min
</th>
<th style="text-align:left;">
max
</th>
<th style="text-align:left;">
median
</th>
<th style="text-align:right;">
n_unique
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
date_egg_proper
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2007-11-09
</td>
<td style="text-align:left;">
2009-12-01
</td>
<td style="text-align:left;">
2008-11-09
</td>
<td style="text-align:right;">
50
</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:left;">
ordered
</th>
<th style="text-align:right;">
n_unique
</th>
<th style="text-align:left;">
top_counts
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
flipper_range
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.99
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
med: 152, sma: 99, lar: 91
</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
mean
</th>
<th style="text-align:right;">
sd
</th>
<th style="text-align:right;">
p0
</th>
<th style="text-align:right;">
p25
</th>
<th style="text-align:right;">
p50
</th>
<th style="text-align:right;">
p75
</th>
<th style="text-align:right;">
p100
</th>
<th style="text-align:left;">
hist
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
sample_number
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
63.15
</td>
<td style="text-align:right;">
40.43
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
29.00
</td>
<td style="text-align:right;">
58.00
</td>
<td style="text-align:right;">
95.25
</td>
<td style="text-align:right;">
152.00
</td>
<td style="text-align:left;">
▇▇▆▅▃
</td>
</tr>
<tr>
<td style="text-align:left;">
culmen_length_mm
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.99
</td>
<td style="text-align:right;">
43.92
</td>
<td style="text-align:right;">
5.46
</td>
<td style="text-align:right;">
32.10
</td>
<td style="text-align:right;">
39.23
</td>
<td style="text-align:right;">
44.45
</td>
<td style="text-align:right;">
48.50
</td>
<td style="text-align:right;">
59.60
</td>
<td style="text-align:left;">
▃▇▇▆▁
</td>
</tr>
<tr>
<td style="text-align:left;">
culmen_depth_mm
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.99
</td>
<td style="text-align:right;">
17.15
</td>
<td style="text-align:right;">
1.97
</td>
<td style="text-align:right;">
13.10
</td>
<td style="text-align:right;">
15.60
</td>
<td style="text-align:right;">
17.30
</td>
<td style="text-align:right;">
18.70
</td>
<td style="text-align:right;">
21.50
</td>
<td style="text-align:left;">
▅▅▇▇▂
</td>
</tr>
<tr>
<td style="text-align:left;">
flipper_length_mm
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.99
</td>
<td style="text-align:right;">
200.92
</td>
<td style="text-align:right;">
14.06
</td>
<td style="text-align:right;">
172.00
</td>
<td style="text-align:right;">
190.00
</td>
<td style="text-align:right;">
197.00
</td>
<td style="text-align:right;">
213.00
</td>
<td style="text-align:right;">
231.00
</td>
<td style="text-align:left;">
▂▇▃▅▂
</td>
</tr>
<tr>
<td style="text-align:left;">
body_mass_g
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.99
</td>
<td style="text-align:right;">
4201.75
</td>
<td style="text-align:right;">
801.95
</td>
<td style="text-align:right;">
2700.00
</td>
<td style="text-align:right;">
3550.00
</td>
<td style="text-align:right;">
4050.00
</td>
<td style="text-align:right;">
4750.00
</td>
<td style="text-align:right;">
6300.00
</td>
<td style="text-align:left;">
▃▇▆▃▂
</td>
</tr>
<tr>
<td style="text-align:left;">
delta_15_n_o_oo
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
0.96
</td>
<td style="text-align:right;">
8.73
</td>
<td style="text-align:right;">
0.55
</td>
<td style="text-align:right;">
7.63
</td>
<td style="text-align:right;">
8.30
</td>
<td style="text-align:right;">
8.65
</td>
<td style="text-align:right;">
9.17
</td>
<td style="text-align:right;">
10.03
</td>
<td style="text-align:left;">
▃▇▆▅▂
</td>
</tr>
<tr>
<td style="text-align:left;">
delta_13_c_o_oo
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
0.96
</td>
<td style="text-align:right;">
-25.69
</td>
<td style="text-align:right;">
0.79
</td>
<td style="text-align:right;">
-27.02
</td>
<td style="text-align:right;">
-26.32
</td>
<td style="text-align:right;">
-25.83
</td>
<td style="text-align:right;">
-25.06
</td>
<td style="text-align:right;">
-23.79
</td>
<td style="text-align:left;">
▆▇▅▅▂
</td>
</tr>
</tbody>
</table>
<p>We can end up dedicating a significant amount of our time to tasks such as data comprehension, exploration, wrangling, and preparation for analysis.</p>
<p>However, we can significantly expedite this process. In every single data project I undertake, I rely on <code>skimr</code>, which is my go-to solution for achieving efficiency and speed.</p>
<div id="how-skimr-works" class="section level3" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> How Skimr works</h3>
<p>One of the best features of Skimr is its capability to generate a comprehensive Data Quality Report with just a single line of code. This automation encompasses:</p>
<ul>
<li><p>Data Profiling</p></li>
<li><p>Compatibility with Numeric, Categorical, Text, Date, Nested List Columns, and even dplyr groups</p></li>
</ul>
<p>In essence, this remarkable functionality translates to significant time savings for data scientists 🕒</p>
<p>Assessing data with <code>skimr</code> makes simple quality checks easy!</p>
</div>
<div id="reporting" class="section level3" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> Reporting</h3>
<p>The penguins dataset has a lot of information in it, 344 rows of data and 19 independent variables. It has multiple data types and frequent missing data. With <code>skimr::skim()</code> we get an overall data summary of th number of rows, columns, data types by column and any group variables.</p>
<div id="character-summaries" class="section level4" number="6.1.2.1">
<h4><span class="header-section-number">6.1.2.1</span> Character summaries</h4>
<p>Missing/completion rate, number of unique observations, and text features.</p>
</div>
<div id="factor-summaries" class="section level4" number="6.1.2.2">
<h4><span class="header-section-number">6.1.2.2</span> Factor summaries</h4>
<p>If data is recognised as factorial we get missing/completion rate, whether the factor is ordered, numbr of unique levels and the number of observations for each factor</p>
</div>
<div id="date-summaries" class="section level4" number="6.1.2.3">
<h4><span class="header-section-number">6.1.2.3</span> Date summaries</h4>
<p>Missing/completion rates, min/max dates, and the number of unique dates.</p>
</div>
<div id="numeric-summaries" class="section level4" number="6.1.2.4">
<h4><span class="header-section-number">6.1.2.4</span> Numeric summaries</h4>
<p>Missing/completion rates and distributions.</p>
</div>
</div>
</div>
<div id="ggally-for-exploratory-analysis" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> GGally for exploratory analysis</h2>
<p><code>GGally</code> is another invaluable tool in a researcher's toolkit. It seamlessly extends the capabilities of the widely used <code>ggplot2</code> package. With <code>GGally</code>, you can effortlessly create a variety of visualizations to explore and understand distributions and correlations among your variables. Its flexibility and ease of use make it a go-to choice for streamlining the process of creating insightful plots and charts for data analysis.</p>
<div id="pairs" class="section level3" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> pairs</h3>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb159-2"><a href="#cb159-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">|&gt;</span> </span>
<span id="cb159-3"><a href="#cb159-3" tabindex="-1"></a>  <span class="fu">pairs</span>()</span></code></pre></div>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb160-2"><a href="#cb160-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb160-3"><a href="#cb160-3" tabindex="-1"></a>  <span class="fu">pairs</span>()</span></code></pre></div>
<p><img src="02-loading-data_files/figure-html/unnamed-chunk-107-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="ggally" class="section level3" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> GGally</h3>
<p>So far, we have only used the pairs function that comes together with the base installation of R. However, the ggplot2 and GGally packages provide an even more advanced pairs function, which is called <code>ggpairs()</code>. Let’s install and load the packages:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" tabindex="-1"></a><span class="fu">library</span>(GGally)</span></code></pre></div>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb162-2"><a href="#cb162-2" tabindex="-1"></a>  <span class="fu">select</span>(species, island, culmen_length_mm, culmen_depth_mm, flipper_length_mm, body_mass_g, sex) <span class="sc">|&gt;</span> </span>
<span id="cb162-3"><a href="#cb162-3" tabindex="-1"></a>  <span class="fu">ggpairs</span>()</span></code></pre></div>
<p><img src="02-loading-data_files/figure-html/unnamed-chunk-109-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb163-2"><a href="#cb163-2" tabindex="-1"></a>  <span class="fu">ggpairs</span>(<span class="at">columns =</span> <span class="dv">10</span><span class="sc">:</span><span class="dv">12</span>, ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">colour =</span> species))</span></code></pre></div>
<p><img src="02-loading-data_files/figure-html/unnamed-chunk-110-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb164-2"><a href="#cb164-2" tabindex="-1"></a>  <span class="fu">ggpairs</span>(<span class="at">columns =</span> <span class="dv">10</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">upper =</span> <span class="st">&quot;blank&quot;</span>)</span></code></pre></div>
<p><img src="02-loading-data_files/figure-html/unnamed-chunk-111-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb165-2"><a href="#cb165-2" tabindex="-1"></a>  <span class="fu">ggpairs</span>(<span class="at">columns =</span> <span class="dv">10</span><span class="sc">:</span><span class="dv">14</span>, <span class="at">columnLabels =</span> <span class="fu">c</span>(<span class="st">&quot;Bill length&quot;</span>, <span class="st">&quot;Bill depth&quot;</span>, <span class="st">&quot;Flipper length&quot;</span>, <span class="st">&quot;Body mass&quot;</span>, <span class="st">&quot;Sex&quot;</span>))</span></code></pre></div>
<p><img src="02-loading-data_files/figure-html/unnamed-chunk-112-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb166-2"><a href="#cb166-2" tabindex="-1"></a>  <span class="fu">ggpairs</span>(<span class="at">columns =</span> <span class="dv">10</span><span class="sc">:</span><span class="dv">14</span>, <span class="at">upper =</span> <span class="fu">list</span>(<span class="at">continuous =</span> <span class="st">&quot;density&quot;</span>, <span class="at">combo =</span> <span class="st">&quot;box_no_facet&quot;</span>),</span>
<span id="cb166-3"><a href="#cb166-3" tabindex="-1"></a>          <span class="at">lower =</span> <span class="fu">list</span>(<span class="at">continuous =</span> <span class="st">&quot;points&quot;</span>, <span class="at">combo =</span> <span class="st">&quot;dot_no_facet&quot;</span>))</span></code></pre></div>
<p><img src="02-loading-data_files/figure-html/unnamed-chunk-113-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb167-2"><a href="#cb167-2" tabindex="-1"></a>  <span class="fu">ggpairs</span>(<span class="at">columns =</span> <span class="dv">10</span><span class="sc">:</span><span class="dv">14</span>, <span class="at">upper =</span> <span class="fu">list</span>(<span class="at">continuous =</span> <span class="st">&quot;density&quot;</span>, <span class="at">combo =</span> <span class="st">&quot;box_no_facet&quot;</span>),</span>
<span id="cb167-3"><a href="#cb167-3" tabindex="-1"></a>          <span class="at">lower =</span> <span class="fu">list</span>(<span class="at">continuous =</span> <span class="st">&quot;points&quot;</span>, <span class="at">combo =</span> <span class="st">&quot;dot_no_facet&quot;</span>),</span>
<span id="cb167-4"><a href="#cb167-4" tabindex="-1"></a>          ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">colour =</span> species))</span></code></pre></div>
<p><img src="02-loading-data_files/figure-html/unnamed-chunk-114-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb168-2"><a href="#cb168-2" tabindex="-1"></a>  <span class="fu">ggpairs</span>(<span class="at">columns =</span> <span class="dv">10</span><span class="sc">:</span><span class="dv">14</span>, <span class="at">axisLabels =</span> <span class="st">&quot;internal&quot;</span>)</span></code></pre></div>
<p><img src="02-loading-data_files/figure-html/unnamed-chunk-115-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="dataxray" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> dataxray</h2>
<p><code>dataxray</code> is a new R package that provides quick statistical summaries in an interactive table inside of the Rstudio Viewer Pane. To use this package we need to install from Github, which means we need the <code>devtools</code> package and <code>devtools::install_github()</code></p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" tabindex="-1"></a><span class="co"># install.packages(&quot;devtools&quot;)</span></span>
<span id="cb169-2"><a href="#cb169-2" tabindex="-1"></a><span class="co"># devtools::install_github(&quot;agstn/dataxray&quot;)</span></span>
<span id="cb169-3"><a href="#cb169-3" tabindex="-1"></a><span class="fu">library</span>(dataxray)</span></code></pre></div>
<p><code>dataxray</code> emphasises an interactive exploration of the exploratory summaries. This goes beyond what <code>skimr</code> can do by adding an interactive exploration element to feature summaries. So if you like interactivity, then try <code>dataxray</code>.</p>
<p>There are just two functions we require with this package</p>
<ul>
<li><p><code>dataxray::make_xray()</code> to convert the raw data to preformatted data for the reactable interactive table</p></li>
<li><p><code>dataxray::view_xray()</code> to display the interactive exploratory table using the underlying reactable library.</p></li>
</ul>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb170-2"><a href="#cb170-2" tabindex="-1"></a>  <span class="fu">make_xray</span>() <span class="sc">|&gt;</span> </span>
<span id="cb170-3"><a href="#cb170-3" tabindex="-1"></a>  <span class="fu">view_xray</span>()</span></code></pre></div>
<p>Now you can explore each column to see:</p>
<ul>
<li><p>Count and Percent Missing - How many NA values</p></li>
<li><p>Number of Distinct - How many unique observations</p></li>
<li><p>Categorical Data - Bar charts for frequency by category</p></li>
<li><p>Numeric Data - Distribution with histogram and quantiles</p></li>
<li><p>Expandable Groups - You can expand the groups to find out more information about the features</p></li>
<li><p>Search Features - Use regex to search the name. Great if you have a lot of features (columns)</p></li>
</ul>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code></pre></div>
<pre><code>## R version 4.3.1 (2023-06-16)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 20.04.6 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/atlas/libblas.so.3.10.3 
## LAPACK: /usr/lib/x86_64-linux-gnu/atlas/liblapack.so.3.10.3;  LAPACK version 3.9.0
## 
## locale:
##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       
##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   
##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          
## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   
## 
## time zone: UTC
## tzcode source: system (glibc)
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] dataxray_0.1.0     GGally_2.1.2       kableExtra_1.3.4   here_1.0.1        
##  [5] janitor_2.2.0      knitr_1.43         webexercises_1.1.0 glossary_1.0.0    
##  [9] lubridate_1.9.2    forcats_1.0.0      stringr_1.5.0      dplyr_1.1.2       
## [13] purrr_1.0.1        readr_2.1.4        tidyr_1.3.0        tibble_3.2.1      
## [17] ggplot2_3.4.2      tidyverse_2.0.0   
## 
## loaded via a namespace (and not attached):
##  [1] tidyselect_1.2.0    viridisLite_0.4.2   fastmap_1.1.1      
##  [4] lazyeval_0.2.2      reshape_0.8.9       promises_1.2.0.1   
##  [7] digest_0.6.33       rpart_4.1.19        mime_0.12          
## [10] timechange_0.2.0    lifecycle_1.0.3     cluster_2.1.4      
## [13] ellipsis_0.3.2      magrittr_2.0.3      compiler_4.3.1     
## [16] rlang_1.1.1         Hmisc_5.1-1         sass_0.4.6         
## [19] tools_4.3.1         utf8_1.2.3          yaml_2.3.7         
## [22] data.table_1.14.8   htmlwidgets_1.6.2   plyr_1.8.8         
## [25] xml2_1.3.5          RColorBrewer_1.1-3  withr_2.5.0        
## [28] foreign_0.8-84      nnet_7.3-19         grid_4.3.1         
## [31] fansi_1.0.4         xtable_1.8-4        colorspace_2.1-0   
## [34] scales_1.2.1        cli_3.6.1           rmarkdown_2.23     
## [37] generics_0.1.3      rstudioapi_0.15.0   httr_1.4.6         
## [40] tzdb_0.4.0          cachem_1.0.8        rvest_1.0.3        
## [43] base64enc_0.1-3     vctrs_0.6.3         webshot_0.5.5      
## [46] jsonlite_1.8.7      bookdown_0.34       hms_1.1.3          
## [49] Formula_1.2-5       htmlTable_2.4.1     systemfonts_1.0.4  
## [52] plotly_4.10.2       jquerylib_0.1.4     glue_1.6.2         
## [55] stringi_1.7.12      gtable_0.3.3        later_1.3.1        
## [58] downlit_0.4.3       munsell_0.5.0       pillar_1.9.0       
## [61] htmltools_0.5.5     reactable_0.4.4     R6_2.5.1           
## [64] reactablefmtr_2.0.0 rprojroot_2.0.3     evaluate_0.21      
## [67] shiny_1.7.4.1       backports_1.4.1     memoise_2.0.1      
## [70] snakecase_0.11.0    httpuv_1.6.11       bslib_0.5.0        
## [73] Rcpp_1.0.11         svglite_2.1.1       gridExtra_2.3      
## [76] checkmate_2.2.0     xfun_0.39           fs_1.6.2           
## [79] pkgconfig_2.0.3</code></pre>
<!--chapter:end:02-loading-data.Rmd-->
</div>
</div>
<div id="part-functional-programming" class="section level1 unnumbered">
<h1 class="unnumbered">(PART*) Functional Programming</h1>
</div>
<div id="writing-functions" class="section level1" number="7">
<h1><span class="header-section-number">7</span> Writing Functions</h1>
<p>Good simple intro: <a href="https://github.com/tomjemmett/nhs-r_conf_21-fp_workshop" class="uri">https://github.com/tomjemmett/nhs-r_conf_21-fp_workshop</a></p>
<p><a href="https://www.earthdatascience.org/courses/earth-analytics/automate-science-workflows/write-efficient-code-for-science-r/" class="uri">https://www.earthdatascience.org/courses/earth-analytics/automate-science-workflows/write-efficient-code-for-science-r/</a></p>
<p><a href="https://bookdown.org/rdpeng/rprogdatascience/control-structures.html" class="uri">https://bookdown.org/rdpeng/rprogdatascience/control-structures.html</a></p>
<div id="structuring-a-function" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Structuring a function</h2>
<p>R makes it easy to create user defined functions by using <code>function()</code>. Here is how it works:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" tabindex="-1"></a><span class="co"># this is an example function</span></span>
<span id="cb173-2"><a href="#cb173-2" tabindex="-1"></a>my_function_name <span class="ot">&lt;-</span> <span class="cf">function</span>(my_args) {</span>
<span id="cb173-3"><a href="#cb173-3" tabindex="-1"></a>  <span class="co"># document your function here</span></span>
<span id="cb173-4"><a href="#cb173-4" tabindex="-1"></a>  <span class="co"># what the function does</span></span>
<span id="cb173-5"><a href="#cb173-5" tabindex="-1"></a>  <span class="co"># function inputs and outputs</span></span>
<span id="cb173-6"><a href="#cb173-6" tabindex="-1"></a>  some_calculated_output <span class="ot">&lt;-</span> (argument1 <span class="sc">+</span> argument2 )</span>
<span id="cb173-7"><a href="#cb173-7" tabindex="-1"></a>  </span>
<span id="cb173-8"><a href="#cb173-8" tabindex="-1"></a>  <span class="fu">return</span>(some_calculated_output)</span>
<span id="cb173-9"><a href="#cb173-9" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li><p>Give your function an object name and assign the function to it, e.g. <code>my_function_name &lt;- function()</code>.</p></li>
<li><p>Within the parentheses you specify inputs and arguments just like how pre-written functions work, e.g. <code>function(my_args)</code>.</p></li>
<li><p>Next, put all the code you want your function to execute inside curly brackets like this: <code>function(my_args) {code to run}</code></p></li>
<li><p>Use <code>return()</code> to specify what you want to your function to output once it is done running the code.</p></li>
</ul>
<div id="activity-understand-the-function" class="section level3" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> Activity: Understand the function</h3>
<p>Here is a very simple function. Can you guess what it does?</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" tabindex="-1"></a>add_one <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb174-2"><a href="#cb174-2" tabindex="-1"></a>  <span class="fu">return</span>(x <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb174-3"><a href="#cb174-3" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" tabindex="-1"></a><span class="fu">add_one</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 11</code></pre>
<p>What value did you get when running the function above? <input class='webex-solveme nospaces' size='2' data-answer='["11"]'/></p>
<p>Now try applying your function to this vector:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" tabindex="-1"></a>number_series <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">10</span>)</span></code></pre></div>
<p>You should see it worked on <em>each element</em> inside the vector. This emphasises that R is a vector based language (it will by default apply functions on all elements in an object).</p>
</div>
</div>
<div id="function-environments" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> Function environments</h2>
<p>When a function is evaluated, it creates it's own environment. All of the arguments that are passed to the function,
along with any variables created in the function are stored in this new environment.</p>
<p>The function's environment's parent will be the global environment, so we can see all of the variables created in the
global environment. Variables that are created in the function's environment aren't visible from the global environment
though.</p>
<p>If we reassign a variable in a function it will take a copy of that variable rather than mutating the value in the global environment. If we want to update <code>x</code> in the global environment we need to use the <code>&lt;&lt;-</code> operator.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" tabindex="-1"></a><span class="co"># x has a value of 1 in the global environment</span></span>
<span id="cb178-2"><a href="#cb178-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span> </span>
<span id="cb178-3"><a href="#cb178-3" tabindex="-1"></a></span>
<span id="cb178-4"><a href="#cb178-4" tabindex="-1"></a>fn <span class="ot">&lt;-</span> <span class="cf">function</span>(y) {</span>
<span id="cb178-5"><a href="#cb178-5" tabindex="-1"></a> <span class="co"># the value of x is copied from the global environment</span></span>
<span id="cb178-6"><a href="#cb178-6" tabindex="-1"></a> <span class="co"># but any changes remain only within the function environment</span></span>
<span id="cb178-7"><a href="#cb178-7" tabindex="-1"></a>  x <span class="ot">&lt;-</span> x <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb178-8"><a href="#cb178-8" tabindex="-1"></a>  z <span class="ot">&lt;-</span> x <span class="sc">+</span> y</span>
<span id="cb178-9"><a href="#cb178-9" tabindex="-1"></a>  <span class="fu">return</span>(z)</span>
<span id="cb178-10"><a href="#cb178-10" tabindex="-1"></a>}</span>
<span id="cb178-11"><a href="#cb178-11" tabindex="-1"></a></span>
<span id="cb178-12"><a href="#cb178-12" tabindex="-1"></a><span class="fu">fn</span>(<span class="dv">2</span>)</span>
<span id="cb178-13"><a href="#cb178-13" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 4
## [1] 1</code></pre>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
<p>create a function called <code>fahr_to_kelvin</code> that converts temperature values from degrees Fahrenheit to Kelvin.</p>
The conversion is <code>temp_in_kelvin &lt;- (temp_fahr - 32) * (5 / 9)) + 273.15</code>
</div>
</div>
<button id="displayTextunnamed-chunk-9" onclick="javascript:toggle(&#39;unnamed-chunk-9&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-9" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" tabindex="-1"></a>fahr_to_kelvin <span class="ot">&lt;-</span> <span class="cf">function</span>(fahr) {</span>
<span id="cb180-2"><a href="#cb180-2" tabindex="-1"></a></span>
<span id="cb180-3"><a href="#cb180-3" tabindex="-1"></a>  kelvin <span class="ot">&lt;-</span> ((fahr <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">*</span> (<span class="dv">5</span> <span class="sc">/</span> <span class="dv">9</span>)) <span class="sc">+</span> <span class="fl">273.15</span></span>
<span id="cb180-4"><a href="#cb180-4" tabindex="-1"></a>  <span class="fu">return</span>(kelvin)</span>
<span id="cb180-5"><a href="#cb180-5" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
</div>
<p>The <code>return()</code> function can return only a single object. If we want to return multiple values in R, we can use a <code>list</code> (or other objects) and return it.</p>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
To convert temperature to Celsius from kelvin, you subtract 273.15 from the temperature value in kelvin.
Write a function that performs this conversion and returns "both" kelvin and celsius.
</div>
</div>
<button id="displayTextunnamed-chunk-11" onclick="javascript:toggle(&#39;unnamed-chunk-11&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-11" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" tabindex="-1"></a>fahr_to_kelvin_celsius <span class="ot">&lt;-</span> <span class="cf">function</span>(fahr) {</span>
<span id="cb181-2"><a href="#cb181-2" tabindex="-1"></a></span>
<span id="cb181-3"><a href="#cb181-3" tabindex="-1"></a>  celsius <span class="ot">&lt;-</span> ((fahr <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">*</span> (<span class="dv">5</span> <span class="sc">/</span> <span class="dv">9</span>))</span>
<span id="cb181-4"><a href="#cb181-4" tabindex="-1"></a>  kelvin <span class="ot">&lt;-</span> celsius <span class="sc">+</span>  <span class="sc">+</span> <span class="fl">273.15</span></span>
<span id="cb181-5"><a href="#cb181-5" tabindex="-1"></a>  </span>
<span id="cb181-6"><a href="#cb181-6" tabindex="-1"></a>  temps <span class="ot">&lt;-</span> <span class="fu">list</span>(celsius, kelvin)</span>
<span id="cb181-7"><a href="#cb181-7" tabindex="-1"></a>  <span class="fu">names</span>(temps) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;celsius&quot;</span>, <span class="st">&quot;kelvin&quot;</span>)</span>
<span id="cb181-8"><a href="#cb181-8" tabindex="-1"></a>  </span>
<span id="cb181-9"><a href="#cb181-9" tabindex="-1"></a>  <span class="fu">return</span>(temps)</span>
<span id="cb181-10"><a href="#cb181-10" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
</div>
<div class="info">
<p>
A general rule of thumb. If you end up repeating a line of code more
than three times in a script - you should write a function to do the
work instead. And write clear comments on its use!
</p>
<p>
Why?
</p>
<p>
It reduces the numbers of lines of code in your script, it reduces
the amount of repetition in the code, if you need to make changes you
can change the function without having to hunt through all of your
code.
</p>
<p>
A really good way to organise your functions is to organise them into
a separate script to the rest of your analysis. Write functions in a
separate script and use source(“scripts/functions.R”)
</p>
</div>
<div id="argument-defaults" class="section level3" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> Argument defaults</h3>
<p>This is an example of a very simple function that just prints the string "Hello World" whenever you type the function <code>say_hello()</code></p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" tabindex="-1"></a>say_hello <span class="ot">&lt;-</span> <span class="cf">function</span>(){</span>
<span id="cb182-2"><a href="#cb182-2" tabindex="-1"></a>  <span class="fu">paste</span>(<span class="st">&quot;Hello World&quot;</span>) </span>
<span id="cb182-3"><a href="#cb182-3" tabindex="-1"></a>}</span>
<span id="cb182-4"><a href="#cb182-4" tabindex="-1"></a></span>
<span id="cb182-5"><a href="#cb182-5" tabindex="-1"></a><span class="fu">say_hello</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Hello World&quot;</code></pre>
</div>
<div id="activity-understanding-arguments" class="section level3" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> Activity: Understanding arguments</h3>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
<p>What happens when you try to put something in the brackets when <strong>using</strong> this function?</p>
e.g. say_hello("Phil")
</div>
</div>
<button id="displayTextunnamed-chunk-15" onclick="javascript:toggle(&#39;unnamed-chunk-15&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-15" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
Error in say_hello( or something similar, this function has not been set with any arguments, therefore it doesn't know what to do with any values provided to it.
</div>
</div>
</div>
<p>Now lets try a similar function, but we include an argument:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" tabindex="-1"></a>say_morning <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb184-2"><a href="#cb184-2" tabindex="-1"></a>  <span class="fu">paste</span>(<span class="st">&quot;Good morning&quot;</span>, x)</span>
<span id="cb184-3"><a href="#cb184-3" tabindex="-1"></a>}</span>
<span id="cb184-4"><a href="#cb184-4" tabindex="-1"></a></span>
<span id="cb184-5"><a href="#cb184-5" tabindex="-1"></a><span class="co">#  what about this one?</span></span>
<span id="cb184-6"><a href="#cb184-6" tabindex="-1"></a><span class="fu">say_morning</span>(<span class="st">&quot;Phil&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Good morning Phil&quot;</code></pre>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
What happens when you DO NOT put something in the brackets when using this function?
</div>
</div>
<button id="displayTextunnamed-chunk-18" onclick="javascript:toggle(&#39;unnamed-chunk-18&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-18" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">paste</span>(<span class="st">&quot;Good morning&quot;</span>, x) <span class="sc">:</span> </span>
<span id="cb186-2"><a href="#cb186-2" tabindex="-1"></a>  argument <span class="st">&quot;x&quot;</span> is missing, with no default</span></code></pre></div>
</div>
</div>
</div>
<p>So that was an example where we included an argument for our function. But now it requires a value be provided in order to work.</p>
<div id="argument-defaults-1" class="section level4" number="7.2.2.1">
<h4><span class="header-section-number">7.2.2.1</span> Argument defaults</h4>
<p>However, you are probably used to the idea that many functions have "default" values for arguments, and we can easily set these.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" tabindex="-1"></a>say_morning_default <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">name =</span> <span class="st">&quot;you&quot;</span>){</span>
<span id="cb187-2"><a href="#cb187-2" tabindex="-1"></a>  <span class="fu">paste</span>(<span class="st">&quot;Good morning&quot;</span>, name)</span>
<span id="cb187-3"><a href="#cb187-3" tabindex="-1"></a>}</span>
<span id="cb187-4"><a href="#cb187-4" tabindex="-1"></a></span>
<span id="cb187-5"><a href="#cb187-5" tabindex="-1"></a><span class="fu">say_morning_default</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Good morning you&quot;</code></pre>
<div class="try">
<p>
There is now a default value supplied to the argument, but this
should still be able to changed when running the function. Try it!
</p>
</div>
</div>
</div>
</div>
<div id="wrapper-functions" class="section level2" number="7.3">
<h2><span class="header-section-number">7.3</span> Wrapper functions</h2>
<p>Wrapper functions in R are a powerful tool for simplifying and customizing the use of existing functions. These functions act as intermediaries between the user and the underlying function, allowing you to add additional functionality, handle errors, or make the function more user-friendly. They are especially useful when you want to streamline repetitive tasks, create more intuitive interfaces, or modify the behavior of built-in functions without altering their source code. In this brief introduction, we'll explore the concept of wrapper functions, their benefits, and how to create and use them effectively in R.</p>
<div id="default-values" class="section level3" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> Default values</h3>
<p>ou can create a wrapper function that calls an existing function with default argument values to simplify its usage. For instance, if you frequently use the <code>mean</code> function with a specific argument, you can create a wrapper like this:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" tabindex="-1"></a>my_mean <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb189-2"><a href="#cb189-2" tabindex="-1"></a>  <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb189-3"><a href="#cb189-3" tabindex="-1"></a>}</span></code></pre></div>
<p>Now, you can use <code>my_mean(x)</code> to calculate the mean while always ignoring <code>NA</code> values.</p>
<p>What happens when you try to use your new function <code>my_mean</code> and set na.rm = F?</p>
<button id="displayTextunnamed-chunk-22" onclick="javascript:toggle(&#39;unnamed-chunk-22&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-22" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<pre><code>Error in my_mean(c(5, 6, 7, 8), na.rm = F) : unused argument (na.rm = F)</code></pre>
</div>
</div>
</div>
<p>If we want to be able to allow users to specify their own values for <code>na.rm = T</code> then we need to modify the wrapper function</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" tabindex="-1"></a>my_mean <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb191-2"><a href="#cb191-2" tabindex="-1"></a>  <span class="fu">mean</span>(x, <span class="at">na.rm =</span> na.rm)</span>
<span id="cb191-3"><a href="#cb191-3" tabindex="-1"></a>}</span></code></pre></div>
<p>With this modification, users can provide their own value for the na.rm argument when calling my_mean. For example:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" tabindex="-1"></a><span class="fu">my_mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">4</span>))<span class="co"># By default, NA values are removed</span></span>
<span id="cb192-2"><a href="#cb192-2" tabindex="-1"></a><span class="fu">my_mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">4</span>), <span class="at">na.rm =</span> <span class="cn">FALSE</span>)  <span class="co"># NA values are not removed</span></span></code></pre></div>
<pre><code>## [1] 2.333333
## [1] NA</code></pre>
<p>This modification makes the na.rm argument in the my_mean function flexible and allows users to override the default behavior when needed.</p>
</div>
<div id="using-..." class="section level3" number="7.3.2">
<h3><span class="header-section-number">7.3.2</span> Using "..."</h3>
<p>You can allow the user to access the original arguments of mean() by using the <code>...</code> (ellipsis) argument in your wrapper function.</p>
<p>In R the ellipse, ..., is used by functions for one of two things.</p>
<ul>
<li><p>to capture an unknown number of arguments</p></li>
<li><p>or to pass arguments through to some underlying function, as in ?print().</p></li>
</ul>
<p>The <code>...</code> argument allows you to pass additional arguments directly to the underlying function. Here's how you can modify the <code>my_mean</code> function to maintain the flexibility of the mean() function's arguments:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" tabindex="-1"></a>my_mean <span class="ot">&lt;-</span> <span class="cf">function</span>(..., <span class="at">na.rm =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb194-2"><a href="#cb194-2" tabindex="-1"></a>  <span class="fu">mean</span>(..., <span class="at">na.rm =</span> na.rm)</span>
<span id="cb194-3"><a href="#cb194-3" tabindex="-1"></a>}</span></code></pre></div>
<p>Now we can pass arguments directly to mean, and we have a version that by default removes <code>NA</code> from our dataframe (but can be overidden if necessary)</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" tabindex="-1"></a><span class="fu">my_mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">4</span>))</span></code></pre></div>
<pre><code>## [1] 2.333333</code></pre>
<p>And we can pass any additional arguments found in mean to our new function e.g. trim</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" tabindex="-1"></a><span class="fu">my_mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">4</span>), <span class="at">trim =</span> <span class="dv">1</span>) </span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="warning">
<p>
Not all functions are designed to accept arbitrary or unspecified
additional arguments via …. In the case of the lm() function for
example, it does not have a formal … argument that allows arbitrary
additional arguments to be passed.
</p>
<p>
If a function doesn’t support …, attempting to pass extra arguments
using … will result in an error, such as the “used in an incorrect
context, no … to look in” error that you encountered.
</p>
</div>
</div>
</div>
<div id="documenting-functions" class="section level2" number="7.4">
<h2><span class="header-section-number">7.4</span> Documenting functions</h2>
<p>It is important to document your functions to:</p>
<ul>
<li><p>Remind your future self what the function does</p></li>
<li><p>Show your future self and your colleagues how to use the function</p></li>
<li><p>Help anyone else looking at your code understand what you think the function does</p></li>
</ul>
<p>A common way to add documentation in software is to add comments to your function that specify</p>
<ul>
<li><p>What does this function do?</p></li>
<li><p>What are the arguments (inputs) to the function, and what are these supposed to be (e.g., what class are they? Character, numeric, logical?)</p></li>
<li><p>What does the function return, and what kind of object is it?</p></li>
</ul>
<p>Like this:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" tabindex="-1"></a><span class="co"># Function: fahr_to_kelvin_celsius</span></span>
<span id="cb199-2"><a href="#cb199-2" tabindex="-1"></a><span class="co"># Description: Converts a temperature in degrees Fahrenheit to degrees Celsius and Kelvin.</span></span>
<span id="cb199-3"><a href="#cb199-3" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb199-4"><a href="#cb199-4" tabindex="-1"></a><span class="co"># Input:</span></span>
<span id="cb199-5"><a href="#cb199-5" tabindex="-1"></a><span class="co">#   fahr: Numeric value representing temperature in degrees Fahrenheit.</span></span>
<span id="cb199-6"><a href="#cb199-6" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb199-7"><a href="#cb199-7" tabindex="-1"></a><span class="co"># Output:</span></span>
<span id="cb199-8"><a href="#cb199-8" tabindex="-1"></a><span class="co">#   A list containing two elements:</span></span>
<span id="cb199-9"><a href="#cb199-9" tabindex="-1"></a><span class="co">#   - celsius: Numeric value representing temperature in degrees Celsius.</span></span>
<span id="cb199-10"><a href="#cb199-10" tabindex="-1"></a><span class="co">#   - kelvin: Numeric value representing temperature in Kelvin.</span></span>
<span id="cb199-11"><a href="#cb199-11" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb199-12"><a href="#cb199-12" tabindex="-1"></a><span class="co"># Example Output:</span></span>
<span id="cb199-13"><a href="#cb199-13" tabindex="-1"></a><span class="co">#   If you call fahr_to_kelvin_celsius(32), the result would be:</span></span>
<span id="cb199-14"><a href="#cb199-14" tabindex="-1"></a><span class="co">#   celsius: 0</span></span>
<span id="cb199-15"><a href="#cb199-15" tabindex="-1"></a><span class="co">#   kelvin: 273.15</span></span>
<span id="cb199-16"><a href="#cb199-16" tabindex="-1"></a>  </span>
<span id="cb199-17"><a href="#cb199-17" tabindex="-1"></a></span>
<span id="cb199-18"><a href="#cb199-18" tabindex="-1"></a>fahr_to_kelvin_celsius <span class="ot">&lt;-</span> <span class="cf">function</span>(fahr) {</span>
<span id="cb199-19"><a href="#cb199-19" tabindex="-1"></a></span>
<span id="cb199-20"><a href="#cb199-20" tabindex="-1"></a> <span class="co"># Calculate the temperature in degrees Celsius  </span></span>
<span id="cb199-21"><a href="#cb199-21" tabindex="-1"></a>  celsius <span class="ot">&lt;-</span> ((fahr <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">*</span> (<span class="dv">5</span> <span class="sc">/</span> <span class="dv">9</span>))</span>
<span id="cb199-22"><a href="#cb199-22" tabindex="-1"></a>  </span>
<span id="cb199-23"><a href="#cb199-23" tabindex="-1"></a>  <span class="co"># Calculate the temperature in Kelvin</span></span>
<span id="cb199-24"><a href="#cb199-24" tabindex="-1"></a>  kelvin <span class="ot">&lt;-</span> celsius <span class="sc">+</span>  <span class="sc">+</span> <span class="fl">273.15</span></span>
<span id="cb199-25"><a href="#cb199-25" tabindex="-1"></a>  </span>
<span id="cb199-26"><a href="#cb199-26" tabindex="-1"></a>  <span class="co"># Create a list to store the results </span></span>
<span id="cb199-27"><a href="#cb199-27" tabindex="-1"></a>  temps <span class="ot">&lt;-</span> <span class="fu">list</span>(celsius, kelvin)</span>
<span id="cb199-28"><a href="#cb199-28" tabindex="-1"></a>  <span class="fu">names</span>(temps) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;celsius&quot;</span>, <span class="st">&quot;kelvin&quot;</span>)</span>
<span id="cb199-29"><a href="#cb199-29" tabindex="-1"></a> </span>
<span id="cb199-30"><a href="#cb199-30" tabindex="-1"></a>  <span class="co"># Return the list of temperatures </span></span>
<span id="cb199-31"><a href="#cb199-31" tabindex="-1"></a>  <span class="fu">return</span>(temps)</span>
<span id="cb199-32"><a href="#cb199-32" tabindex="-1"></a>}</span></code></pre></div>
<div class="info">
<p>
Formal documentation for R functions that you see when you access the
help in R is written in separate .Rd using a markup language similar to
LaTeX. You see the result of this documentation when you look at the
help file for a given function, e.g. ?read.csv. The
<code>roxygen2</code> package allows R coders to write documentation
alongside the function code and then process it into the appropriate .Rd
files. You should consider switching this more formal method of writing
documentation when you start working on more complicated R projects. Or
if you aspire to write packages in R! <a href="https://r-pkgs.org/">R
packages 2nd Edition</a>
</p>
</div>
<div id="exercise" class="section level3" number="7.4.1">
<h3><span class="header-section-number">7.4.1</span> Exercise</h3>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
Here is a custom script to print model diagnostics when running a linear model. Can you comment out this code to document it properly?
</div>
</div>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" tabindex="-1"></a>my_lm <span class="ot">&lt;-</span> <span class="cf">function</span>(formula, data) {</span>
<span id="cb200-2"><a href="#cb200-2" tabindex="-1"></a> </span>
<span id="cb200-3"><a href="#cb200-3" tabindex="-1"></a>  model <span class="ot">&lt;-</span> <span class="fu">lm</span>(formula, <span class="at">data =</span> data)</span>
<span id="cb200-4"><a href="#cb200-4" tabindex="-1"></a>  </span>
<span id="cb200-5"><a href="#cb200-5" tabindex="-1"></a></span>
<span id="cb200-6"><a href="#cb200-6" tabindex="-1"></a>  summary_model <span class="ot">&lt;-</span> <span class="fu">summary</span>(model)</span>
<span id="cb200-7"><a href="#cb200-7" tabindex="-1"></a>  </span>
<span id="cb200-8"><a href="#cb200-8" tabindex="-1"></a>  </span>
<span id="cb200-9"><a href="#cb200-9" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Coefficients:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb200-10"><a href="#cb200-10" tabindex="-1"></a>  <span class="fu">print</span>(summary_model<span class="sc">$</span>coefficients)</span>
<span id="cb200-11"><a href="#cb200-11" tabindex="-1"></a>  </span>
<span id="cb200-12"><a href="#cb200-12" tabindex="-1"></a>  </span>
<span id="cb200-13"><a href="#cb200-13" tabindex="-1"></a>  <span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))  <span class="co"># Arrange plots in a 2x2 grid</span></span>
<span id="cb200-14"><a href="#cb200-14" tabindex="-1"></a>  <span class="fu">plot</span>(model, <span class="at">which =</span> <span class="dv">1</span>)  <span class="co"># Residuals vs. Fitted</span></span>
<span id="cb200-15"><a href="#cb200-15" tabindex="-1"></a>  <span class="fu">plot</span>(model, <span class="at">which =</span> <span class="dv">2</span>)  <span class="co"># Normal Q-Q plot</span></span>
<span id="cb200-16"><a href="#cb200-16" tabindex="-1"></a>  <span class="fu">plot</span>(model, <span class="at">which =</span> <span class="dv">3</span>)  <span class="co"># Scale-Location plot</span></span>
<span id="cb200-17"><a href="#cb200-17" tabindex="-1"></a>  <span class="fu">plot</span>(model, <span class="at">which =</span> <span class="dv">4</span>)  <span class="co"># Residuals vs. Leverage</span></span>
<span id="cb200-18"><a href="#cb200-18" tabindex="-1"></a>  </span>
<span id="cb200-19"><a href="#cb200-19" tabindex="-1"></a>  <span class="co"># Return the fitted model</span></span>
<span id="cb200-20"><a href="#cb200-20" tabindex="-1"></a>  <span class="fu">return</span>(model)</span>
<span id="cb200-21"><a href="#cb200-21" tabindex="-1"></a>}</span></code></pre></div>
<button id="displayTextunnamed-chunk-33" onclick="javascript:toggle(&#39;unnamed-chunk-33&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-33" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" tabindex="-1"></a><span class="co"># Function: my_lm</span></span>
<span id="cb201-2"><a href="#cb201-2" tabindex="-1"></a><span class="co"># Description: Fit a linear regression model and provide summary statistics and diagnostic plots.</span></span>
<span id="cb201-3"><a href="#cb201-3" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb201-4"><a href="#cb201-4" tabindex="-1"></a><span class="co"># Input:</span></span>
<span id="cb201-5"><a href="#cb201-5" tabindex="-1"></a><span class="co">#   formula: A formula specifying the regression model.</span></span>
<span id="cb201-6"><a href="#cb201-6" tabindex="-1"></a><span class="co">#   data: The data frame containing the variables used in the model.</span></span>
<span id="cb201-7"><a href="#cb201-7" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb201-8"><a href="#cb201-8" tabindex="-1"></a><span class="co"># Output:</span></span>
<span id="cb201-9"><a href="#cb201-9" tabindex="-1"></a><span class="co">#   A linear regression model object fitted to the data.</span></span>
<span id="cb201-10"><a href="#cb201-10" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb201-11"><a href="#cb201-11" tabindex="-1"></a><span class="co"># Example Usage:</span></span>
<span id="cb201-12"><a href="#cb201-12" tabindex="-1"></a><span class="co">#   To fit a linear regression model to the &#39;body_mass_g&#39; variable as a function of &#39;flipper_length_mm in the &#39;penguins&#39; dataset,</span></span>
<span id="cb201-13"><a href="#cb201-13" tabindex="-1"></a><span class="co">#   you can call:</span></span>
<span id="cb201-14"><a href="#cb201-14" tabindex="-1"></a><span class="co">#   my_lm(body_mass_g ~ flipper_length_mm, data = penguins_raw)</span></span>
<span id="cb201-15"><a href="#cb201-15" tabindex="-1"></a></span>
<span id="cb201-16"><a href="#cb201-16" tabindex="-1"></a>my_lm <span class="ot">&lt;-</span> <span class="cf">function</span>(formula, data) {</span>
<span id="cb201-17"><a href="#cb201-17" tabindex="-1"></a>  <span class="co"># Fit a linear regression model</span></span>
<span id="cb201-18"><a href="#cb201-18" tabindex="-1"></a>  model <span class="ot">&lt;-</span> <span class="fu">lm</span>(formula, <span class="at">data =</span> data)</span>
<span id="cb201-19"><a href="#cb201-19" tabindex="-1"></a></span>
<span id="cb201-20"><a href="#cb201-20" tabindex="-1"></a>  <span class="co"># Get summary statistics of the model</span></span>
<span id="cb201-21"><a href="#cb201-21" tabindex="-1"></a>  summary_model <span class="ot">&lt;-</span> <span class="fu">summary</span>(model)</span>
<span id="cb201-22"><a href="#cb201-22" tabindex="-1"></a></span>
<span id="cb201-23"><a href="#cb201-23" tabindex="-1"></a>  <span class="co"># Print model coefficients</span></span>
<span id="cb201-24"><a href="#cb201-24" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Coefficients:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb201-25"><a href="#cb201-25" tabindex="-1"></a>  <span class="fu">print</span>(summary_model<span class="sc">$</span>coefficients)</span>
<span id="cb201-26"><a href="#cb201-26" tabindex="-1"></a></span>
<span id="cb201-27"><a href="#cb201-27" tabindex="-1"></a>  <span class="co"># Arrange plots in a 2x2 grid</span></span>
<span id="cb201-28"><a href="#cb201-28" tabindex="-1"></a>  <span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb201-29"><a href="#cb201-29" tabindex="-1"></a></span>
<span id="cb201-30"><a href="#cb201-30" tabindex="-1"></a>  <span class="co"># Plot diagnostics:</span></span>
<span id="cb201-31"><a href="#cb201-31" tabindex="-1"></a>  <span class="co"># 1. Residuals vs. Fitted</span></span>
<span id="cb201-32"><a href="#cb201-32" tabindex="-1"></a>  <span class="fu">plot</span>(model, <span class="at">which =</span> <span class="dv">1</span>)</span>
<span id="cb201-33"><a href="#cb201-33" tabindex="-1"></a></span>
<span id="cb201-34"><a href="#cb201-34" tabindex="-1"></a>  <span class="co"># 2. Normal Q-Q plot</span></span>
<span id="cb201-35"><a href="#cb201-35" tabindex="-1"></a>  <span class="fu">plot</span>(model, <span class="at">which =</span> <span class="dv">2</span>)</span>
<span id="cb201-36"><a href="#cb201-36" tabindex="-1"></a></span>
<span id="cb201-37"><a href="#cb201-37" tabindex="-1"></a>  <span class="co"># 3. Scale-Location plot</span></span>
<span id="cb201-38"><a href="#cb201-38" tabindex="-1"></a>  <span class="fu">plot</span>(model, <span class="at">which =</span> <span class="dv">3</span>)</span>
<span id="cb201-39"><a href="#cb201-39" tabindex="-1"></a></span>
<span id="cb201-40"><a href="#cb201-40" tabindex="-1"></a>  <span class="co"># 4. Residuals vs. Leverage</span></span>
<span id="cb201-41"><a href="#cb201-41" tabindex="-1"></a>  <span class="fu">plot</span>(model, <span class="at">which =</span> <span class="dv">4</span>)</span>
<span id="cb201-42"><a href="#cb201-42" tabindex="-1"></a></span>
<span id="cb201-43"><a href="#cb201-43" tabindex="-1"></a>  <span class="co"># Return the fitted model</span></span>
<span id="cb201-44"><a href="#cb201-44" tabindex="-1"></a>  <span class="fu">return</span>(model)</span>
<span id="cb201-45"><a href="#cb201-45" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
</div>
</div>
</div>
<div id="checking-functions" class="section level2" number="7.5">
<h2><span class="header-section-number">7.5</span> Checking functions</h2>
<div id="print" class="section level3" number="7.5.1">
<h3><span class="header-section-number">7.5.1</span> print</h3>
<p>One simple and easy way to keep on top of your functions, and understand what they are doing is to use lots of print statements.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" tabindex="-1"></a><span class="co"># This edited function will now remind the user what the input value was</span></span>
<span id="cb202-2"><a href="#cb202-2" tabindex="-1"></a></span>
<span id="cb202-3"><a href="#cb202-3" tabindex="-1"></a>fahr_to_kelvin_celsius <span class="ot">&lt;-</span> <span class="cf">function</span>(fahr) {</span>
<span id="cb202-4"><a href="#cb202-4" tabindex="-1"></a>    <span class="co"># Calculate the temperature in degrees Celsius</span></span>
<span id="cb202-5"><a href="#cb202-5" tabindex="-1"></a>    celsius <span class="ot">&lt;-</span> (fahr <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">*</span> (<span class="dv">5</span> <span class="sc">/</span> <span class="dv">9</span>)</span>
<span id="cb202-6"><a href="#cb202-6" tabindex="-1"></a>    </span>
<span id="cb202-7"><a href="#cb202-7" tabindex="-1"></a>    <span class="co"># Calculate the temperature in Kelvin</span></span>
<span id="cb202-8"><a href="#cb202-8" tabindex="-1"></a>    kelvin <span class="ot">&lt;-</span> celsius <span class="sc">+</span> <span class="fl">273.15</span></span>
<span id="cb202-9"><a href="#cb202-9" tabindex="-1"></a>    </span>
<span id="cb202-10"><a href="#cb202-10" tabindex="-1"></a>    <span class="co"># Create a list to store the results</span></span>
<span id="cb202-11"><a href="#cb202-11" tabindex="-1"></a>    temps <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">celsius =</span> celsius, <span class="at">kelvin =</span> kelvin)</span>
<span id="cb202-12"><a href="#cb202-12" tabindex="-1"></a>    </span>
<span id="cb202-13"><a href="#cb202-13" tabindex="-1"></a>    <span class="co"># Return the list of temperatures along with a message</span></span>
<span id="cb202-14"><a href="#cb202-14" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;The temperature in Fahrenheit was&quot;</span>, fahr))</span>
<span id="cb202-15"><a href="#cb202-15" tabindex="-1"></a>    <span class="fu">return</span>(temps)</span>
<span id="cb202-16"><a href="#cb202-16" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="testthat" class="section level3" number="7.5.2">
<h3><span class="header-section-number">7.5.2</span> testthat</h3>
<p>Pure Functions:
A pure function is a concept in programming that describes a function with the following characteristics:</p>
<p>It always produces the same output for the same input.
It has no side effects, meaning it doesn't modify external state or variables.
It relies only on its input parameters to generate output.
In R, pure functions are essential for creating clean and predictable code. They are often used in functional programming to perform operations on data without causing unexpected side effects.</p>
<p>When our function is pure, we can run expectation tests using the <code>testthat</code> package:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" tabindex="-1"></a><span class="fu">test_that</span>(<span class="st">&quot;it works as expected&quot;</span>, {</span>
<span id="cb203-2"><a href="#cb203-2" tabindex="-1"></a>    <span class="fu">expect_equal</span>(<span class="fu">fahr_to_kelvin</span>(<span class="dv">92</span>), <span class="fl">306.483</span>, <span class="at">tolerance=</span><span class="fl">1e-2</span>)  </span>
<span id="cb203-3"><a href="#cb203-3" tabindex="-1"></a>   </span>
<span id="cb203-4"><a href="#cb203-4" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="debugging" class="section level3" number="7.5.3">
<h3><span class="header-section-number">7.5.3</span> debugging</h3>
<p>For more complex functions, we may need to go digging! Here there are three basic commands:</p>
<ul>
<li><p><code>debug()</code></p></li>
<li><p><code>browser()</code></p></li>
<li><p><code>undebug()</code></p></li>
</ul>
<p>With <code>debug(function_name)</code> the next time you run <code>function_name()</code> an interactive session will open in Rstudio.
While you are in debug mode you can call the individual objects in your function, and run the commands line by line:</p>
<p><img src="images/debug_flow_1_zoom.gif" width="100%" style="display: block; margin: auto;" /></p>
<p>Once we are done with debugging it is important to turn the debug mode off - close the interactive page and run <code>undebug(function_name)</code> so that the debugging panel doesn't reopen the next time you launch your function.</p>
<div id="flow" class="section level4" number="7.5.3.1">
<h4><span class="header-section-number">7.5.3.1</span> flow</h4>
<p><code>flow</code> is a great package for helping to understand code structures - it visualizes a chart diagram of the functional architecture.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" tabindex="-1"></a><span class="fu">library</span>(flow)</span>
<span id="cb204-2"><a href="#cb204-2" tabindex="-1"></a></span>
<span id="cb204-3"><a href="#cb204-3" tabindex="-1"></a><span class="fu">flow_run</span>(<span class="fu">fahr_to_kelvin_celsius</span>(<span class="dv">92</span>))</span></code></pre></div>
<p><img src="images/flow.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
<div id="exercises" class="section level2" number="7.6">
<h2><span class="header-section-number">7.6</span> Exercises</h2>
<p>This function is designed to calculate the <a href="https://en.wikipedia.org/wiki/Triangular_number">triangular numbers</a></p>
<p><img src="images/First_six_triangular_numbers.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Let's build it and check that it works:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" tabindex="-1"></a><span class="fu">library</span>(testthat)</span>
<span id="cb205-2"><a href="#cb205-2" tabindex="-1"></a></span>
<span id="cb205-3"><a href="#cb205-3" tabindex="-1"></a>triangle_number <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb205-4"><a href="#cb205-4" tabindex="-1"></a>    <span class="fl">0.5</span> <span class="sc">*</span> x <span class="sc">*</span> (x <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb205-5"><a href="#cb205-5" tabindex="-1"></a>}</span></code></pre></div>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
Run <code>testthat()</code> to make sure this function works for multiple inputs
</div>
</div>
<button id="displayTextunnamed-chunk-43" onclick="javascript:toggle(&#39;unnamed-chunk-43&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-43" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" tabindex="-1"></a><span class="fu">test_that</span>(<span class="st">&quot;it works as expected&quot;</span>, {</span>
<span id="cb206-2"><a href="#cb206-2" tabindex="-1"></a>    <span class="fu">expect_equal</span>(<span class="fu">triangle_number</span>(<span class="dv">1</span>),  <span class="dv">1</span>)  </span>
<span id="cb206-3"><a href="#cb206-3" tabindex="-1"></a>    <span class="fu">expect_equal</span>(<span class="fu">triangle_number</span>(<span class="dv">2</span>),  <span class="dv">3</span>)  </span>
<span id="cb206-4"><a href="#cb206-4" tabindex="-1"></a>    <span class="fu">expect_equal</span>(<span class="fu">triangle_number</span>(<span class="dv">3</span>),  <span class="dv">6</span>)  </span>
<span id="cb206-5"><a href="#cb206-5" tabindex="-1"></a>    <span class="fu">expect_equal</span>(<span class="fu">triangle_number</span>(<span class="dv">4</span>), <span class="dv">10</span>)  </span>
<span id="cb206-6"><a href="#cb206-6" tabindex="-1"></a>    <span class="fu">expect_equal</span>(<span class="fu">triangle_number</span>(<span class="dv">5</span>), <span class="dv">15</span>)  </span>
<span id="cb206-7"><a href="#cb206-7" tabindex="-1"></a>})</span></code></pre></div>
<p>Test passed 😸</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
<p>This test fails, can you work out why?</p>
<p>test_that("it works as expected", {
expect_equal(fahr_to_kelvin_celsius(92), list(33, 306), tolerance = 1)</p>
})
</div>
</div>
<button id="displayTextunnamed-chunk-45" onclick="javascript:toggle(&#39;unnamed-chunk-45&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-45" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" tabindex="-1"></a><span class="co"># the output is a named list</span></span>
<span id="cb207-2"><a href="#cb207-2" tabindex="-1"></a>named_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">celsius =</span> <span class="fl">33.3</span>, <span class="at">kelvin =</span> <span class="fl">306.4</span>)</span>
<span id="cb207-3"><a href="#cb207-3" tabindex="-1"></a></span>
<span id="cb207-4"><a href="#cb207-4" tabindex="-1"></a></span>
<span id="cb207-5"><a href="#cb207-5" tabindex="-1"></a><span class="fu">test_that</span>(<span class="st">&quot;it works as expected&quot;</span>, {</span>
<span id="cb207-6"><a href="#cb207-6" tabindex="-1"></a>    <span class="fu">expect_equal</span>(<span class="fu">fahr_to_kelvin_celsius</span>(<span class="dv">92</span>), <span class="fu">list</span>(<span class="dv">33</span>, <span class="dv">306</span>), <span class="at">tolerance =</span> <span class="fl">1e-2</span>)  </span>
<span id="cb207-7"><a href="#cb207-7" tabindex="-1"></a>    </span>
<span id="cb207-8"><a href="#cb207-8" tabindex="-1"></a>})</span></code></pre></div>
<p>Test passed 😀</p>
</div>
</div>
</div>
</div>
</div>
<div id="flow-control" class="section level1" number="8">
<h1><span class="header-section-number">8</span> Flow control</h1>
<p><a href="https://modern-rstats.eu/defining-your-own-functions.html#control-flow" class="uri">https://modern-rstats.eu/defining-your-own-functions.html#control-flow</a></p>
<p><a href="https://bookdown.org/rdpeng/rprogdatascience/control-structures.html" class="uri">https://bookdown.org/rdpeng/rprogdatascience/control-structures.html</a></p>
<p>Imagine you want a variable to be equal to a certain value if a condition is met. This is a typical problem that requires the <code>if</code> and <code>else</code> construct. For instance:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb208-2"><a href="#cb208-2" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">5</span></span></code></pre></div>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" tabindex="-1"></a><span class="cf">if</span> (a <span class="sc">&gt;</span> b) {</span>
<span id="cb209-2"><a href="#cb209-2" tabindex="-1"></a>  f <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb209-3"><a href="#cb209-3" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb209-4"><a href="#cb209-4" tabindex="-1"></a>  f <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb209-5"><a href="#cb209-5" tabindex="-1"></a>}</span>
<span id="cb209-6"><a href="#cb209-6" tabindex="-1"></a></span>
<span id="cb209-7"><a href="#cb209-7" tabindex="-1"></a>f</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>Another way to achieve this is by using the <code>ifelse()</code> function:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(a <span class="sc">&gt;</span> b, <span class="dv">20</span>, <span class="dv">10</span>)</span>
<span id="cb211-2"><a href="#cb211-2" tabindex="-1"></a>f</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p><code>if</code> and <code>else</code> might seem interchangeable with <code>ifelse()</code>, but they’re not. <code>ifelse()</code> is vectorized. Let’s try the following:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" tabindex="-1"></a><span class="fu">ifelse</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>) <span class="sc">&gt;</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">0</span>), <span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;no&quot;  &quot;yes&quot; &quot;yes&quot;</code></pre>
<p>Trying to attempt the same with <code>if</code> and <code>else</code> will result in an error as only the first element can be evaluated</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>) <span class="sc">&gt;</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="fu">print</span>(<span class="st">&quot;yes&quot;</span>) <span class="cf">else</span> <span class="fu">print</span>(<span class="st">&quot;no&quot;</span>)</span></code></pre></div>
<pre><code>Error in if (c(1, 2, 4) &gt; c(3, 1, 0)) print(&quot;yes&quot;) else print(&quot;no&quot;) : 
  the condition has length &gt; 1
</code></pre>
<p>The work around for this would to be use a loop, so that each element along the vector can be evaluated in turn. We will revisit loops shortly.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" tabindex="-1"></a>vector1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>)</span>
<span id="cb217-2"><a href="#cb217-2" tabindex="-1"></a>vector2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb217-3"><a href="#cb217-3" tabindex="-1"></a></span>
<span id="cb217-4"><a href="#cb217-4" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">character</span>(<span class="fu">length</span>(vector1))  <span class="co"># Create an empty character vector to store the results</span></span>
<span id="cb217-5"><a href="#cb217-5" tabindex="-1"></a></span>
<span id="cb217-6"><a href="#cb217-6" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(vector1)) {</span>
<span id="cb217-7"><a href="#cb217-7" tabindex="-1"></a>  <span class="cf">if</span> (vector1[i] <span class="sc">&gt;</span> vector2[i]) {</span>
<span id="cb217-8"><a href="#cb217-8" tabindex="-1"></a>    result[i] <span class="ot">&lt;-</span> <span class="st">&quot;yes&quot;</span></span>
<span id="cb217-9"><a href="#cb217-9" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb217-10"><a href="#cb217-10" tabindex="-1"></a>    result[i] <span class="ot">&lt;-</span> <span class="st">&quot;no&quot;</span></span>
<span id="cb217-11"><a href="#cb217-11" tabindex="-1"></a>  }</span>
<span id="cb217-12"><a href="#cb217-12" tabindex="-1"></a>}</span>
<span id="cb217-13"><a href="#cb217-13" tabindex="-1"></a></span>
<span id="cb217-14"><a href="#cb217-14" tabindex="-1"></a><span class="fu">print</span>(result)</span></code></pre></div>
<pre><code>## [1] &quot;no&quot;  &quot;yes&quot; &quot;yes&quot;</code></pre>
<div id="case_when" class="section level3" number="8.0.1">
<h3><span class="header-section-number">8.0.1</span> <code>case_when</code></h3>
<p><code>case_when</code> is a powerful <code>tidyverse</code> function in R that serves as an extension of <code>if_else</code>, providing a flexible way to create conditional transformations on multiple values within a dataset. While <code>if_else</code> is primarily used for a single condition, <code>case_when</code> is designed to handle multiple conditions and allows you to assign specific values or perform operations based on these conditions.</p>
<p>Here's a simple introduction to case_when as an extension of <code>if_else</code>:</p>
<p>Imagine you have a dataset with a column called "temperature," and you want to create a new column called "weather" based on different temperature ranges. With if_else, you might write something like this:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" tabindex="-1"></a>temperature <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">25</span>, <span class="dv">5</span>, <span class="dv">30</span>, <span class="dv">15</span>)</span>
<span id="cb219-2"><a href="#cb219-2" tabindex="-1"></a></span>
<span id="cb219-3"><a href="#cb219-3" tabindex="-1"></a><span class="fu">ifelse</span>(temperature <span class="sc">&lt;</span> <span class="dv">10</span>, <span class="st">&quot;Cold&quot;</span>,</span>
<span id="cb219-4"><a href="#cb219-4" tabindex="-1"></a>        <span class="fu">ifelse</span>(temperature <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span> temperature <span class="sc">&lt;</span> <span class="dv">25</span>, <span class="st">&quot;Moderate&quot;</span>, <span class="st">&quot;Hot&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;Moderate&quot; &quot;Hot&quot;      &quot;Cold&quot;     &quot;Hot&quot;      &quot;Moderate&quot;</code></pre>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" tabindex="-1"></a><span class="fu">case_when</span>(</span>
<span id="cb221-2"><a href="#cb221-2" tabindex="-1"></a>    temperature <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">&quot;Cold&quot;</span>,</span>
<span id="cb221-3"><a href="#cb221-3" tabindex="-1"></a>    temperature <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span> temperature <span class="sc">&lt;</span> <span class="dv">25</span> <span class="sc">~</span> <span class="st">&quot;Moderate&quot;</span>,</span>
<span id="cb221-4"><a href="#cb221-4" tabindex="-1"></a>    temperature <span class="sc">&gt;=</span> <span class="dv">25</span> <span class="sc">~</span> <span class="st">&quot;Hot&quot;</span></span>
<span id="cb221-5"><a href="#cb221-5" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## [1] &quot;Moderate&quot; &quot;Hot&quot;      &quot;Cold&quot;     &quot;Hot&quot;      &quot;Moderate&quot;</code></pre>
</div>
<div id="conditional-functions" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Conditional functions</h2>
<p>Let's make a function that reports p-values in APA format (with "p = [rounded value]" when p &gt;= .001 and "p &lt; .001" when p &lt; .001).</p>
<p>You can add a default value to any argument. If that argument is skipped, then the function uses the default argument.</p>
<p>First we could make a function that rounds any value to three digits.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" tabindex="-1"></a>report_p <span class="ot">&lt;-</span> <span class="cf">function</span>(p, <span class="at">digits =</span> <span class="dv">3</span>) {</span>
<span id="cb223-2"><a href="#cb223-2" tabindex="-1"></a>      roundp <span class="ot">&lt;-</span> <span class="fu">round</span>(p, digits)</span>
<span id="cb223-3"><a href="#cb223-3" tabindex="-1"></a>    reported <span class="ot">&lt;-</span>  <span class="fu">paste</span>(<span class="st">&quot;p =&quot;</span>, roundp)</span>
<span id="cb223-4"><a href="#cb223-4" tabindex="-1"></a>    </span>
<span id="cb223-5"><a href="#cb223-5" tabindex="-1"></a>    <span class="fu">return</span>(reported)</span>
<span id="cb223-6"><a href="#cb223-6" tabindex="-1"></a>}</span></code></pre></div>
<p>But we would like this to have a conditional response as well: so we need an <code>if</code> <code>else</code> statement.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" tabindex="-1"></a> report_p <span class="ot">&lt;-</span> <span class="cf">function</span>(p, <span class="at">digits =</span> <span class="dv">3</span>) {</span>
<span id="cb224-2"><a href="#cb224-2" tabindex="-1"></a>     reported <span class="ot">&lt;-</span> <span class="cf">if</span>(p <span class="sc">&lt;</span> <span class="fl">0.001</span>){</span>
<span id="cb224-3"><a href="#cb224-3" tabindex="-1"></a>             <span class="st">&quot;p &lt; 0.001&quot;</span>} <span class="cf">else</span>{</span>
<span id="cb224-4"><a href="#cb224-4" tabindex="-1"></a>             <span class="fu">paste</span>(<span class="st">&quot;p =&quot;</span>, <span class="fu">round</span>(p, digits))}</span>
<span id="cb224-5"><a href="#cb224-5" tabindex="-1"></a>             </span>
<span id="cb224-6"><a href="#cb224-6" tabindex="-1"></a>     </span>
<span id="cb224-7"><a href="#cb224-7" tabindex="-1"></a>     <span class="fu">return</span>(reported)</span>
<span id="cb224-8"><a href="#cb224-8" tabindex="-1"></a> }</span></code></pre></div>
<p>However we soon hit our first problem, this function works well when provided a single numeric value, but when applied to a vector or a dataframe we encounter an error:</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.05</span>,<span class="fl">0.3</span>,<span class="fl">0.4</span>)</span>
<span id="cb225-2"><a href="#cb225-2" tabindex="-1"></a></span>
<span id="cb225-3"><a href="#cb225-3" tabindex="-1"></a><span class="fu">report_p</span>(x)</span></code></pre></div>
<pre><code>Error in if (p &lt; 0.001) { : the condition has length &gt; 1</code></pre>
<p>In R, conditional statements are not vector operations. They deal only with a single value. If you pass in, for example, a vector, the <code>if</code> statement will only check the very first element and issue a warning. The solution to this is the <code>ifelse()</code> or the tidyverse equivalent <code>if_else()</code> function</p>
<div class="tab">
<button class="tablinks= T active" onclick="javascript:openCode(event, &#39;option1= T&#39;, &#39;= T&#39;);">
Base R
</button>
<button class="tablinks= T" onclick="javascript:openCode(event, &#39;option2= T&#39;, &#39;= T&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1= T" class="tabcontent= T">
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="#cb227-1" tabindex="-1"></a> report_p <span class="ot">&lt;-</span> <span class="cf">function</span>(p, <span class="at">digits =</span> <span class="dv">3</span>) {</span>
<span id="cb227-2"><a href="#cb227-2" tabindex="-1"></a>     reported <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(p <span class="sc">&lt;</span> <span class="fl">0.001</span>,</span>
<span id="cb227-3"><a href="#cb227-3" tabindex="-1"></a>             <span class="st">&quot;p &lt; 0.001&quot;</span>,</span>
<span id="cb227-4"><a href="#cb227-4" tabindex="-1"></a>             <span class="fu">paste</span>(<span class="st">&quot;p =&quot;</span>, <span class="fu">round</span>(p, digits)))</span>
<span id="cb227-5"><a href="#cb227-5" tabindex="-1"></a>     </span>
<span id="cb227-6"><a href="#cb227-6" tabindex="-1"></a>     <span class="fu">return</span>(reported)</span>
<span id="cb227-7"><a href="#cb227-7" tabindex="-1"></a> }</span></code></pre></div>
</div>
<div id="option2= T" class="tabcontent= T">
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" tabindex="-1"></a> report_p <span class="ot">&lt;-</span> <span class="cf">function</span>(p, <span class="at">digits =</span> <span class="dv">3</span>) {</span>
<span id="cb228-2"><a href="#cb228-2" tabindex="-1"></a>     reported <span class="ot">&lt;-</span> <span class="fu">if_else</span>(p <span class="sc">&lt;</span> <span class="fl">0.001</span>,</span>
<span id="cb228-3"><a href="#cb228-3" tabindex="-1"></a>             <span class="st">&quot;p &lt; 0.001&quot;</span>,</span>
<span id="cb228-4"><a href="#cb228-4" tabindex="-1"></a>             <span class="fu">paste</span>(<span class="st">&quot;p =&quot;</span>, <span class="fu">round</span>(p, digits)))</span>
<span id="cb228-5"><a href="#cb228-5" tabindex="-1"></a>     </span>
<span id="cb228-6"><a href="#cb228-6" tabindex="-1"></a>     <span class="fu">return</span>(reported)</span>
<span id="cb228-7"><a href="#cb228-7" tabindex="-1"></a> }</span></code></pre></div>
</div>
<script> javascript:hide('option2= T') </script>
<p><a href="https://stackoverflow.com/questions/50646133/dplyr-if-else-vs-base-r-ifelse" class="uri">https://stackoverflow.com/questions/50646133/dplyr-if-else-vs-base-r-ifelse</a></p>
</div>
<div id="warnings-and-errors" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> Warnings and errors</h2>
<div class="try">
<p>
What happens when omit an argument for p, set the value to 1.5 or a
character “a”?
</p>
</div>
<p>Sometimes the function will not run, in the first example because we did not provide an argument default.</p>
<p>For <code>p = 1.5</code> it probably <em>shouldn't</em> run (p = 1.5 makes no sense), but it does!</p>
<p>For <code>p = "a"</code> there is a warning but perhaps not a very intuitive one.</p>
<p>We can make our own custom/specific warnings, try this and run it with the arguments above again!</p>
<button id="displayTextunnamed-chunk-58" onclick="javascript:toggle(&#39;unnamed-chunk-58&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-58" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="tab">
<button class="tablinksunnamed-chunk-58 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-58&#39;, &#39;unnamed-chunk-58&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-58" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-58&#39;, &#39;unnamed-chunk-58&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-58" class="tabcontentunnamed-chunk-58">
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="#cb229-1" tabindex="-1"></a> report_p <span class="ot">&lt;-</span> <span class="cf">function</span>(p, <span class="at">digits =</span> <span class="dv">3</span>) {</span>
<span id="cb229-2"><a href="#cb229-2" tabindex="-1"></a>   </span>
<span id="cb229-3"><a href="#cb229-3" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.numeric</span>(p)) <span class="fu">stop</span>(<span class="st">&quot;p must be a number&quot;</span>)</span>
<span id="cb229-4"><a href="#cb229-4" tabindex="-1"></a>  <span class="cf">if</span> (p <span class="sc">&lt;=</span> <span class="dv">0</span>) <span class="fu">warning</span>(<span class="st">&quot;p-values cannot less 0&quot;</span>)</span>
<span id="cb229-5"><a href="#cb229-5" tabindex="-1"></a>  <span class="cf">if</span> (p <span class="sc">&gt;=</span> <span class="dv">1</span>) <span class="fu">warning</span>(<span class="st">&quot;p-values cannot be greater than 1&quot;</span>)</span>
<span id="cb229-6"><a href="#cb229-6" tabindex="-1"></a>   </span>
<span id="cb229-7"><a href="#cb229-7" tabindex="-1"></a>     reported <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(p <span class="sc">&lt;</span> <span class="fl">0.001</span>,</span>
<span id="cb229-8"><a href="#cb229-8" tabindex="-1"></a>             <span class="st">&quot;p &lt; 0.001&quot;</span>,</span>
<span id="cb229-9"><a href="#cb229-9" tabindex="-1"></a>             <span class="fu">paste</span>(<span class="st">&quot;p =&quot;</span>, <span class="fu">round</span>(p, digits)))</span>
<span id="cb229-10"><a href="#cb229-10" tabindex="-1"></a>     <span class="fu">return</span>(reported)</span>
<span id="cb229-11"><a href="#cb229-11" tabindex="-1"></a> }</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-58" class="tabcontentunnamed-chunk-58">
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" tabindex="-1"></a>report_p <span class="ot">&lt;-</span> <span class="cf">function</span>(p, <span class="at">digits =</span> <span class="dv">3</span>) {</span>
<span id="cb230-2"><a href="#cb230-2" tabindex="-1"></a> </span>
<span id="cb230-3"><a href="#cb230-3" tabindex="-1"></a> <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.numeric</span>(p)) <span class="fu">stop</span>(<span class="st">&quot;p must be a number&quot;</span>)</span>
<span id="cb230-4"><a href="#cb230-4" tabindex="-1"></a> </span>
<span id="cb230-5"><a href="#cb230-5" tabindex="-1"></a>   result <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb230-6"><a href="#cb230-6" tabindex="-1"></a>       p <span class="sc">&lt;=</span> <span class="dv">0</span> <span class="sc">~</span> <span class="fu">warning</span>(<span class="st">&quot;p-values cannot be less than or equal to 0&quot;</span>),</span>
<span id="cb230-7"><a href="#cb230-7" tabindex="-1"></a>       p <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">~</span> <span class="fu">warning</span>(<span class="st">&quot;p-values cannot be greater than or equal to 1&quot;</span>),</span>
<span id="cb230-8"><a href="#cb230-8" tabindex="-1"></a>       p <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">&quot;p &lt; 0.001&quot;</span>,</span>
<span id="cb230-9"><a href="#cb230-9" tabindex="-1"></a>       <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">paste</span>(<span class="st">&quot;p =&quot;</span>, <span class="fu">round</span>(p, digits))</span>
<span id="cb230-10"><a href="#cb230-10" tabindex="-1"></a>   )</span>
<span id="cb230-11"><a href="#cb230-11" tabindex="-1"></a>   </span>
<span id="cb230-12"><a href="#cb230-12" tabindex="-1"></a>   <span class="fu">return</span>(result)</span>
<span id="cb230-13"><a href="#cb230-13" tabindex="-1"></a>}</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-58') </script>
</div>
</div>
</div>
</div>
<div id="activities" class="section level2" number="8.3">
<h2><span class="header-section-number">8.3</span> Activities</h2>
<p>Exercise 1: Write a Simple Function
We'll create a function that calculates the GC content of a DNA sequence, and the result melting temperature of the sequence and returns both in a list. GC content is the percentage of the DNA molecule's nitrogenous bases that are either guanine (G) or cytosine (C). This is a common metric used in molecular biology and genetics to analyze DNA sequences. Each GC base addes 4 degrees to melting temp while each AT base adds 2 degrees.</p>
<blockquote>
<p>Hint<code>stringr</code> and associated functions will be very helpful here</p>
</blockquote>
<button id="displayTextunnamed-chunk-59" onclick="javascript:toggle(&#39;unnamed-chunk-59&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-59" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="tab">
<button class="tablinksunnamed-chunk-59 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-59&#39;, &#39;unnamed-chunk-59&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-59" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-59&#39;, &#39;unnamed-chunk-59&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-59" class="tabcontentunnamed-chunk-59">
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="#cb231-1" tabindex="-1"></a>gc_content <span class="ot">&lt;-</span> <span class="cf">function</span>(dna_sequence) {</span>
<span id="cb231-2"><a href="#cb231-2" tabindex="-1"></a>  <span class="co"># Convert the input sequence to uppercase to handle mixed-case input</span></span>
<span id="cb231-3"><a href="#cb231-3" tabindex="-1"></a>  dna_sequence <span class="ot">&lt;-</span> <span class="fu">toupper</span>(dna_sequence)</span>
<span id="cb231-4"><a href="#cb231-4" tabindex="-1"></a>  </span>
<span id="cb231-5"><a href="#cb231-5" tabindex="-1"></a> </span>
<span id="cb231-6"><a href="#cb231-6" tabindex="-1"></a>  </span>
<span id="cb231-7"><a href="#cb231-7" tabindex="-1"></a>  <span class="co"># Calculate the number of GC bases (C and G) in the sequence</span></span>
<span id="cb231-8"><a href="#cb231-8" tabindex="-1"></a> gc_positions <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">gregexpr</span>(<span class="st">&quot;[GC]&quot;</span>, dna_sequence))</span>
<span id="cb231-9"><a href="#cb231-9" tabindex="-1"></a> gc_count <span class="ot">&lt;-</span> <span class="fu">length</span>(gc_positions)</span>
<span id="cb231-10"><a href="#cb231-10" tabindex="-1"></a></span>
<span id="cb231-11"><a href="#cb231-11" tabindex="-1"></a>  <span class="co"># Calculate the total number of bases in the sequence</span></span>
<span id="cb231-12"><a href="#cb231-12" tabindex="-1"></a>  total_bases <span class="ot">&lt;-</span> <span class="fu">nchar</span>(dna_sequence)</span>
<span id="cb231-13"><a href="#cb231-13" tabindex="-1"></a>  </span>
<span id="cb231-14"><a href="#cb231-14" tabindex="-1"></a>  <span class="co"># Calculate the GC content as a percentage</span></span>
<span id="cb231-15"><a href="#cb231-15" tabindex="-1"></a>  gc_percentage <span class="ot">&lt;-</span> (gc_count <span class="sc">/</span> total_bases) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb231-16"><a href="#cb231-16" tabindex="-1"></a>  </span>
<span id="cb231-17"><a href="#cb231-17" tabindex="-1"></a>  gc_percentage <span class="ot">&lt;-</span> <span class="fu">round</span>(gc_percentage, <span class="dv">2</span>)</span>
<span id="cb231-18"><a href="#cb231-18" tabindex="-1"></a>  </span>
<span id="cb231-19"><a href="#cb231-19" tabindex="-1"></a>  <span class="co"># Calculate AT numbers</span></span>
<span id="cb231-20"><a href="#cb231-20" tabindex="-1"></a>  at_count <span class="ot">&lt;-</span> total_bases <span class="sc">-</span> gc_count</span>
<span id="cb231-21"><a href="#cb231-21" tabindex="-1"></a>  </span>
<span id="cb231-22"><a href="#cb231-22" tabindex="-1"></a>  <span class="co"># Calculate melting temp of sequence</span></span>
<span id="cb231-23"><a href="#cb231-23" tabindex="-1"></a>  melt_temp <span class="ot">&lt;-</span> (gc_count<span class="sc">*</span><span class="dv">4</span>) <span class="sc">+</span> (at_count<span class="sc">*</span><span class="dv">2</span>)</span>
<span id="cb231-24"><a href="#cb231-24" tabindex="-1"></a>  </span>
<span id="cb231-25"><a href="#cb231-25" tabindex="-1"></a>  </span>
<span id="cb231-26"><a href="#cb231-26" tabindex="-1"></a>  dna_content <span class="ot">&lt;-</span> <span class="fu">list</span>(gc_percentage, melt_temp)</span>
<span id="cb231-27"><a href="#cb231-27" tabindex="-1"></a>  <span class="fu">names</span>(dna_content) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;GC Percentage&quot;</span>, <span class="st">&quot;Melting temp (celsius)&quot;</span>)</span>
<span id="cb231-28"><a href="#cb231-28" tabindex="-1"></a>  </span>
<span id="cb231-29"><a href="#cb231-29" tabindex="-1"></a>  </span>
<span id="cb231-30"><a href="#cb231-30" tabindex="-1"></a>  <span class="fu">return</span>(dna_content)</span>
<span id="cb231-31"><a href="#cb231-31" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-59" class="tabcontentunnamed-chunk-59">
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1" tabindex="-1"></a>gc_content <span class="ot">&lt;-</span> <span class="cf">function</span>(dna_sequence) {</span>
<span id="cb232-2"><a href="#cb232-2" tabindex="-1"></a>  <span class="co"># Convert the input sequence to uppercase to handle mixed-case input</span></span>
<span id="cb232-3"><a href="#cb232-3" tabindex="-1"></a>  dna_sequence <span class="ot">&lt;-</span> <span class="fu">str_to_upper</span>(dna_sequence)</span>
<span id="cb232-4"><a href="#cb232-4" tabindex="-1"></a>  </span>
<span id="cb232-5"><a href="#cb232-5" tabindex="-1"></a></span>
<span id="cb232-6"><a href="#cb232-6" tabindex="-1"></a>  </span>
<span id="cb232-7"><a href="#cb232-7" tabindex="-1"></a>  <span class="co"># Calculate the number of GC bases (C and G) in the sequence</span></span>
<span id="cb232-8"><a href="#cb232-8" tabindex="-1"></a>  gc_count <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">str_count</span>(dna_sequence <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;G&quot;</span>, <span class="st">&quot;C&quot;</span>)))</span>
<span id="cb232-9"><a href="#cb232-9" tabindex="-1"></a>  </span>
<span id="cb232-10"><a href="#cb232-10" tabindex="-1"></a>  <span class="co"># Calculate the total number of bases in the sequence</span></span>
<span id="cb232-11"><a href="#cb232-11" tabindex="-1"></a>  total_bases <span class="ot">&lt;-</span> <span class="fu">str_length</span>(dna_sequence)</span>
<span id="cb232-12"><a href="#cb232-12" tabindex="-1"></a>  </span>
<span id="cb232-13"><a href="#cb232-13" tabindex="-1"></a>  <span class="co"># Calculate the GC content as a percentage</span></span>
<span id="cb232-14"><a href="#cb232-14" tabindex="-1"></a>  gc_percentage <span class="ot">&lt;-</span> (gc_count <span class="sc">/</span> total_bases) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb232-15"><a href="#cb232-15" tabindex="-1"></a>  </span>
<span id="cb232-16"><a href="#cb232-16" tabindex="-1"></a>  gc_percentage <span class="ot">&lt;-</span> <span class="fu">round</span>(gc_percentage, <span class="dv">2</span>)</span>
<span id="cb232-17"><a href="#cb232-17" tabindex="-1"></a>  </span>
<span id="cb232-18"><a href="#cb232-18" tabindex="-1"></a>   <span class="co"># Calculate AT numbers</span></span>
<span id="cb232-19"><a href="#cb232-19" tabindex="-1"></a>  at_count <span class="ot">&lt;-</span> total_bases <span class="sc">-</span> gc_count</span>
<span id="cb232-20"><a href="#cb232-20" tabindex="-1"></a>  </span>
<span id="cb232-21"><a href="#cb232-21" tabindex="-1"></a>  <span class="co"># Calculate melting temp of sequence</span></span>
<span id="cb232-22"><a href="#cb232-22" tabindex="-1"></a>  melt_temp <span class="ot">&lt;-</span> (gc_count<span class="sc">*</span><span class="dv">4</span>) <span class="sc">+</span> (at_count<span class="sc">*</span><span class="dv">2</span>)</span>
<span id="cb232-23"><a href="#cb232-23" tabindex="-1"></a>  </span>
<span id="cb232-24"><a href="#cb232-24" tabindex="-1"></a>  </span>
<span id="cb232-25"><a href="#cb232-25" tabindex="-1"></a>  dna_content <span class="ot">&lt;-</span> <span class="fu">list</span>(gc_percentage, melt_temp)</span>
<span id="cb232-26"><a href="#cb232-26" tabindex="-1"></a>  <span class="fu">names</span>(dna_content) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;GC Percentage&quot;</span>, <span class="st">&quot;Melting temp (celsius)&quot;</span>)</span>
<span id="cb232-27"><a href="#cb232-27" tabindex="-1"></a>  </span>
<span id="cb232-28"><a href="#cb232-28" tabindex="-1"></a>  </span>
<span id="cb232-29"><a href="#cb232-29" tabindex="-1"></a>  <span class="fu">return</span>(dna_content)</span>
<span id="cb232-30"><a href="#cb232-30" tabindex="-1"></a>}</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-59') </script>
</div>
</div>
</div>
<p>Exercise 2: Document the Function
Add documentation to the factorial function using roxygen2-style comments. Include a title, description, arguments, and examples.</p>
<button id="displayTextunnamed-chunk-60" onclick="javascript:toggle(&#39;unnamed-chunk-60&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-60" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">

</div>
</div>
</div>
<p>Exercise 3: Test the Function
Create a test script that uses test_that to check if the function returns the correct GC percentage and melting temps</p>
<button id="displayTextunnamed-chunk-61" onclick="javascript:toggle(&#39;unnamed-chunk-61&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-61" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1" tabindex="-1"></a><span class="fu">test_that</span>(<span class="st">&quot;gc_content function tests&quot;</span>, {</span>
<span id="cb233-2"><a href="#cb233-2" tabindex="-1"></a>    <span class="co"># Test valid input and GC content calculation</span></span>
<span id="cb233-3"><a href="#cb233-3" tabindex="-1"></a>    dna_seq1 <span class="ot">&lt;-</span> <span class="st">&quot;ATGCGTAGCT&quot;</span></span>
<span id="cb233-4"><a href="#cb233-4" tabindex="-1"></a>    result1 <span class="ot">&lt;-</span> <span class="fu">gc_content</span>(dna_seq1)</span>
<span id="cb233-5"><a href="#cb233-5" tabindex="-1"></a>    <span class="fu">expect_equal</span>(result1<span class="sc">$</span><span class="st">`</span><span class="at">GC Percentage</span><span class="st">`</span>, <span class="dv">50</span>)</span>
<span id="cb233-6"><a href="#cb233-6" tabindex="-1"></a>    <span class="fu">expect_equal</span>(result1<span class="sc">$</span><span class="st">`</span><span class="at">Melting temp (celsius)</span><span class="st">`</span>, <span class="dv">30</span>)})</span></code></pre></div>
<pre><code>## Test passed 😸</code></pre>
</div>
</div>
</div>
<p>Exercise 4: Handle Errors
You can optionally modify the gc_content function to handle errors such as when the input contains non-DNA characters, or warnings if the the length exceeds 30nt?</p>
<button id="displayTextunnamed-chunk-62" onclick="javascript:toggle(&#39;unnamed-chunk-62&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-62" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="tab">
<button class="tablinksunnamed-chunk-62 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-62&#39;, &#39;unnamed-chunk-62&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-62" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-62&#39;, &#39;unnamed-chunk-62&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-62" class="tabcontentunnamed-chunk-62">
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1" tabindex="-1"></a>gc_content <span class="ot">&lt;-</span> <span class="cf">function</span>(dna_sequence) {</span>
<span id="cb235-2"><a href="#cb235-2" tabindex="-1"></a>  <span class="co"># Convert the input sequence to uppercase to handle mixed-case input</span></span>
<span id="cb235-3"><a href="#cb235-3" tabindex="-1"></a>  dna_sequence <span class="ot">&lt;-</span> <span class="fu">toupper</span>(dna_sequence)</span>
<span id="cb235-4"><a href="#cb235-4" tabindex="-1"></a>  </span>
<span id="cb235-5"><a href="#cb235-5" tabindex="-1"></a>  <span class="co"># Check if the input sequence contains only valid DNA characters (A, T, C, G)</span></span>
<span id="cb235-6"><a href="#cb235-6" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;^[ATCG]+$&quot;</span>, dna_sequence)) <span class="fu">stop</span>(<span class="st">&quot;Invalid DNA sequence. Only A, T, C, and G are allowed.&quot;</span>)</span>
<span id="cb235-7"><a href="#cb235-7" tabindex="-1"></a>  </span>
<span id="cb235-8"><a href="#cb235-8" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">nchar</span>(dna_sequence) <span class="sc">&gt;</span> <span class="dv">30</span> ) <span class="fu">warning</span>(<span class="st">&quot;Sequence is &gt; 30 nt temperature predictions may be inaccurate&quot;</span>)</span>
<span id="cb235-9"><a href="#cb235-9" tabindex="-1"></a>  </span>
<span id="cb235-10"><a href="#cb235-10" tabindex="-1"></a>  </span>
<span id="cb235-11"><a href="#cb235-11" tabindex="-1"></a>  <span class="co"># Calculate the number of GC bases (C and G) in the sequence</span></span>
<span id="cb235-12"><a href="#cb235-12" tabindex="-1"></a> gc_positions <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">gregexpr</span>(<span class="st">&quot;[GC]&quot;</span>, dna_sequence))</span>
<span id="cb235-13"><a href="#cb235-13" tabindex="-1"></a> gc_count <span class="ot">&lt;-</span> <span class="fu">length</span>(gc_positions)</span>
<span id="cb235-14"><a href="#cb235-14" tabindex="-1"></a></span>
<span id="cb235-15"><a href="#cb235-15" tabindex="-1"></a>  <span class="co"># Calculate the total number of bases in the sequence</span></span>
<span id="cb235-16"><a href="#cb235-16" tabindex="-1"></a>  total_bases <span class="ot">&lt;-</span> <span class="fu">nchar</span>(dna_sequence)</span>
<span id="cb235-17"><a href="#cb235-17" tabindex="-1"></a>  </span>
<span id="cb235-18"><a href="#cb235-18" tabindex="-1"></a>  <span class="co"># Calculate the GC content as a percentage</span></span>
<span id="cb235-19"><a href="#cb235-19" tabindex="-1"></a>  gc_percentage <span class="ot">&lt;-</span> (gc_count <span class="sc">/</span> total_bases) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb235-20"><a href="#cb235-20" tabindex="-1"></a>  </span>
<span id="cb235-21"><a href="#cb235-21" tabindex="-1"></a>  gc_percentage <span class="ot">&lt;-</span> <span class="fu">round</span>(gc_percentage, <span class="dv">2</span>)</span>
<span id="cb235-22"><a href="#cb235-22" tabindex="-1"></a>  </span>
<span id="cb235-23"><a href="#cb235-23" tabindex="-1"></a>  <span class="co"># Calculate AT numbers</span></span>
<span id="cb235-24"><a href="#cb235-24" tabindex="-1"></a>  at_count <span class="ot">&lt;-</span> total_bases <span class="sc">-</span> gc_count</span>
<span id="cb235-25"><a href="#cb235-25" tabindex="-1"></a>  </span>
<span id="cb235-26"><a href="#cb235-26" tabindex="-1"></a>  <span class="co"># Calculate melting temp of sequence</span></span>
<span id="cb235-27"><a href="#cb235-27" tabindex="-1"></a>  melt_temp <span class="ot">&lt;-</span> (gc_count<span class="sc">*</span><span class="dv">4</span>) <span class="sc">+</span> (at_count<span class="sc">*</span><span class="dv">2</span>)</span>
<span id="cb235-28"><a href="#cb235-28" tabindex="-1"></a>  </span>
<span id="cb235-29"><a href="#cb235-29" tabindex="-1"></a>  </span>
<span id="cb235-30"><a href="#cb235-30" tabindex="-1"></a>  dna_content <span class="ot">&lt;-</span> <span class="fu">list</span>(gc_percentage, melt_temp)</span>
<span id="cb235-31"><a href="#cb235-31" tabindex="-1"></a>  <span class="fu">names</span>(dna_content) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;GC Percentage&quot;</span>, <span class="st">&quot;Melting temp (celsius)&quot;</span>)</span>
<span id="cb235-32"><a href="#cb235-32" tabindex="-1"></a>  </span>
<span id="cb235-33"><a href="#cb235-33" tabindex="-1"></a>  </span>
<span id="cb235-34"><a href="#cb235-34" tabindex="-1"></a>  <span class="fu">return</span>(dna_content)</span>
<span id="cb235-35"><a href="#cb235-35" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-62" class="tabcontentunnamed-chunk-62">
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1" tabindex="-1"></a>gc_content <span class="ot">&lt;-</span> <span class="cf">function</span>(dna_sequence) {</span>
<span id="cb236-2"><a href="#cb236-2" tabindex="-1"></a>  <span class="co"># Convert the input sequence to uppercase to handle mixed-case input</span></span>
<span id="cb236-3"><a href="#cb236-3" tabindex="-1"></a>  dna_sequence <span class="ot">&lt;-</span> <span class="fu">str_to_upper</span>(dna_sequence)</span>
<span id="cb236-4"><a href="#cb236-4" tabindex="-1"></a>  </span>
<span id="cb236-5"><a href="#cb236-5" tabindex="-1"></a>  <span class="co"># Check if the input sequence contains only valid DNA characters (A, T, C, G)</span></span>
<span id="cb236-6"><a href="#cb236-6" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">str_detect</span>(dna_sequence, <span class="st">&quot;^[ATCG]+$&quot;</span>)) <span class="fu">stop</span>(<span class="st">&quot;Invalid DNA sequence. Only A, T, C, and G are allowed.&quot;</span>)</span>
<span id="cb236-7"><a href="#cb236-7" tabindex="-1"></a></span>
<span id="cb236-8"><a href="#cb236-8" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">str_length</span>(dna_sequence) <span class="sc">&gt;</span> <span class="dv">30</span> ) <span class="fu">warning</span>(<span class="st">&quot;Sequence is &gt; 30 nt temperature predictions may be inaccurate&quot;</span>)</span>
<span id="cb236-9"><a href="#cb236-9" tabindex="-1"></a></span>
<span id="cb236-10"><a href="#cb236-10" tabindex="-1"></a>  </span>
<span id="cb236-11"><a href="#cb236-11" tabindex="-1"></a>  <span class="co"># Calculate the number of GC bases (C and G) in the sequence</span></span>
<span id="cb236-12"><a href="#cb236-12" tabindex="-1"></a>  gc_count <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">str_count</span>(dna_sequence <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;G&quot;</span>, <span class="st">&quot;C&quot;</span>)))</span>
<span id="cb236-13"><a href="#cb236-13" tabindex="-1"></a>  </span>
<span id="cb236-14"><a href="#cb236-14" tabindex="-1"></a>  <span class="co"># Calculate the total number of bases in the sequence</span></span>
<span id="cb236-15"><a href="#cb236-15" tabindex="-1"></a>  total_bases <span class="ot">&lt;-</span> <span class="fu">str_length</span>(dna_sequence)</span>
<span id="cb236-16"><a href="#cb236-16" tabindex="-1"></a>  </span>
<span id="cb236-17"><a href="#cb236-17" tabindex="-1"></a>  <span class="co"># Calculate the GC content as a percentage</span></span>
<span id="cb236-18"><a href="#cb236-18" tabindex="-1"></a>  gc_percentage <span class="ot">&lt;-</span> (gc_count <span class="sc">/</span> total_bases) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb236-19"><a href="#cb236-19" tabindex="-1"></a>  </span>
<span id="cb236-20"><a href="#cb236-20" tabindex="-1"></a>  gc_percentage <span class="ot">&lt;-</span> <span class="fu">round</span>(gc_percentage, <span class="dv">2</span>)</span>
<span id="cb236-21"><a href="#cb236-21" tabindex="-1"></a>  </span>
<span id="cb236-22"><a href="#cb236-22" tabindex="-1"></a>   <span class="co"># Calculate AT numbers</span></span>
<span id="cb236-23"><a href="#cb236-23" tabindex="-1"></a>  at_count <span class="ot">&lt;-</span> total_bases <span class="sc">-</span> gc_count</span>
<span id="cb236-24"><a href="#cb236-24" tabindex="-1"></a>  </span>
<span id="cb236-25"><a href="#cb236-25" tabindex="-1"></a>  <span class="co"># Calculate melting temp of sequence</span></span>
<span id="cb236-26"><a href="#cb236-26" tabindex="-1"></a>  melt_temp <span class="ot">&lt;-</span> (gc_count<span class="sc">*</span><span class="dv">4</span>) <span class="sc">+</span> (at_count<span class="sc">*</span><span class="dv">2</span>)</span>
<span id="cb236-27"><a href="#cb236-27" tabindex="-1"></a>  </span>
<span id="cb236-28"><a href="#cb236-28" tabindex="-1"></a>  </span>
<span id="cb236-29"><a href="#cb236-29" tabindex="-1"></a>  dna_content <span class="ot">&lt;-</span> <span class="fu">list</span>(gc_percentage, melt_temp)</span>
<span id="cb236-30"><a href="#cb236-30" tabindex="-1"></a>  <span class="fu">names</span>(dna_content) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;GC Percentage&quot;</span>, <span class="st">&quot;Melting temp (celsius)&quot;</span>)</span>
<span id="cb236-31"><a href="#cb236-31" tabindex="-1"></a>  </span>
<span id="cb236-32"><a href="#cb236-32" tabindex="-1"></a>  </span>
<span id="cb236-33"><a href="#cb236-33" tabindex="-1"></a>  <span class="fu">return</span>(dna_content)</span>
<span id="cb236-34"><a href="#cb236-34" tabindex="-1"></a>}</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-62') </script>
</div>
</div>
</div>
</div>
</div>
<div id="simple-iteration" class="section level1" number="9">
<h1><span class="header-section-number">9</span> Simple iteration</h1>
<p>We’ve seen how to write a function and how they can be used to create concise re-usable operations that can be applied multiple times in a script without having to copy and paste, but where functions really come into their own is when combined with iteration. Iteration is the process of running the same operation on a group of objects, further minimising code replication.</p>
<p>Functional programming in R requires a good understanding of the types of data structure available in R. So make sure you remember the distinctions between vectors, lists, matrices and dataframes.</p>
<p>In the section below we will start with simple functions that allow you to replicate arguments</p>
<div id="rep" class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> <code>rep()</code></h2>
<p>The function <code>rep()</code> lets you repeat the first argument a set number of times.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1" tabindex="-1"></a><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">5</span>)</span>
<span id="cb237-2"><a href="#cb237-2" tabindex="-1"></a></span>
<span id="cb237-3"><a href="#cb237-3" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Gentoo&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span>), <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  [1] 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5
## [1] &quot;Adelie&quot;    &quot;Gentoo&quot;    &quot;Chinstrap&quot; &quot;Adelie&quot;    &quot;Gentoo&quot;    &quot;Chinstrap&quot;</code></pre>
<p>The default for the amount of repetition is <code>times =</code> it will print the entire vector start to finish THEN repeat.</p>
<p>If the second argument is a vector with the same number of elements as the <em>first</em> vector, then it will repeat to the specified values for each</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Gentoo&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span>), <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## [1] &quot;Adelie&quot;    &quot;Adelie&quot;    &quot;Gentoo&quot;    &quot;Chinstrap&quot; &quot;Chinstrap&quot; &quot;Chinstrap&quot;</code></pre>
<p>Or if you use the argument <code>each</code> then it will rep all of the first element <em>first</em> followed by the second etc.</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="#cb241-1" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Gentoo&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span>), <span class="at">each =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Adelie&quot;    &quot;Adelie&quot;    &quot;Adelie&quot;    &quot;Gentoo&quot;    &quot;Gentoo&quot;    &quot;Gentoo&quot;   
## [7] &quot;Chinstrap&quot; &quot;Chinstrap&quot; &quot;Chinstrap&quot;</code></pre>
<p>What do you think will happen if you set both times to 3 and each to 2?</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="#cb243-1" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Gentoo&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span>), <span class="at">times =</span> <span class="dv">2</span>, <span class="at">each =</span> <span class="dv">3</span>)</span></code></pre></div>
<button id="displayTextunnamed-chunk-67" onclick="javascript:toggle(&#39;unnamed-chunk-67&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-67" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<pre><code>##  [1] &quot;Adelie&quot;    &quot;Adelie&quot;    &quot;Adelie&quot;    &quot;Gentoo&quot;    &quot;Gentoo&quot;    &quot;Gentoo&quot;   
##  [7] &quot;Chinstrap&quot; &quot;Chinstrap&quot; &quot;Chinstrap&quot; &quot;Adelie&quot;    &quot;Adelie&quot;    &quot;Adelie&quot;   
## [13] &quot;Gentoo&quot;    &quot;Gentoo&quot;    &quot;Gentoo&quot;    &quot;Chinstrap&quot; &quot;Chinstrap&quot; &quot;Chinstrap&quot;</code></pre>
</div>
</div>
</div>
</div>
<div id="seq" class="section level2" number="9.2">
<h2><span class="header-section-number">9.2</span> <code>seq()</code></h2>
<p>The function <code>seq()</code> is useful for generating a sequence of numbers with some pattern.</p>
<p>Use <code>seq()</code> to create a vector of the integers 0 to 10.</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="#cb245-1" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<p>This is initially very similar to just making a vector with</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<p>But with <code>seq</code> we have extra functions. You can set the by argument to count by numbers other than 1 (the default). Use <code>seq()</code> to create a vector of the numbers 0 to 100 by 10s.</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="#cb249-1" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1]   0  10  20  30  40  50  60  70  80  90 100</code></pre>
<p>We also have the argument <code>length.out</code>, which is useful when you want to know how to many steps to divide something into</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="#cb251-1" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">length.out =</span> <span class="dv">12</span>)</span></code></pre></div>
<pre><code>##  [1]   0.000000   9.090909  18.181818  27.272727  36.363636  45.454545
##  [7]  54.545455  63.636364  72.727273  81.818182  90.909091 100.000000</code></pre>
</div>
<div id="replicate" class="section level2" number="9.3">
<h2><span class="header-section-number">9.3</span> <code>replicate()</code></h2>
<p>Replicate is our first example of a function whose purpose is to iterate <em>other</em> functions</p>
<p>For example the <code>rnorm</code> function generates numbers from a normal distribution.</p>
<p>Nesting this inside the <code>replicate()</code> function will repeat this command a specified number of times</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="#cb253-1" tabindex="-1"></a><span class="fu">replicate</span>(<span class="dv">3</span>, <span class="co"># times to replicate function</span></span>
<span id="cb253-2"><a href="#cb253-2" tabindex="-1"></a>          <span class="at">expr =</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">5</span>, </span>
<span id="cb253-3"><a href="#cb253-3" tabindex="-1"></a>                       <span class="at">mean =</span> <span class="dv">1</span>,</span>
<span id="cb253-4"><a href="#cb253-4" tabindex="-1"></a>                       <span class="at">sd =</span> <span class="dv">1</span>))</span></code></pre></div>
<pre><code>##             [,1]       [,2]        [,3]
## [1,]  1.16592053  0.5140128  0.10807777
## [2,]  0.39284707  0.2624521 -0.18835393
## [3,]  1.03595376  0.4665212  2.03492875
## [4,] -0.02451715  0.2637972 -0.38042257
## [5,]  1.62562205 -1.8899700 -0.04946246</code></pre>
<p><a href="https://www.r-bloggers.com/2023/07/the-replicate-function-in-r/" class="uri">https://www.r-bloggers.com/2023/07/the-replicate-function-in-r/</a></p>
</div>
</div>
<div id="loops" class="section level1" number="10">
<h1><span class="header-section-number">10</span> Loops</h1>
<p>Loops are one of the staples of all programming languages, not just R, and can be a powerful tool; though we will see later there are a suite of alternative to loops in R.</p>
<p>For loops make it possible to repeat a set of instructions i times. For example, try the following:</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="#cb255-1" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb255-2"><a href="#cb255-2" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;hello&quot;</span>)</span>
<span id="cb255-3"><a href="#cb255-3" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;hello&quot;
## [1] &quot;hello&quot;
## [1] &quot;hello&quot;
## [1] &quot;hello&quot;
## [1] &quot;hello&quot;</code></pre>
<p>Or</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="#cb257-1" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) {</span>
<span id="cb257-2"><a href="#cb257-2" tabindex="-1"></a>  <span class="fu">print</span>(i<span class="sc">+</span><span class="dv">1</span>)</span>
<span id="cb257-3"><a href="#cb257-3" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] 2
## [1] 3
## [1] 4</code></pre>
<p>This is a dynamic piece of code where an index 'i' is iteratively replaced by each value in the vector 1:5.</p>
<p>Let's break it down. Since the first value in our sequence (1:3) is 1, the loop begins by substituting 'i' with 1 and executing everything within the curly braces {1+1}. Loops conventionally use 'i' as the counter, which is short for iteration. However, you are free to use any variable name you prefer:</p>
<p>so the first loop is essentially:</p>
<pre><code>i &lt;- 1 + 1
print(i)
</code></pre>
<p>Once this first iteration is complete, it loops back to the beginning and replaces i with the next value in our 1:3 sequence (2 in this case):</p>
<pre><code>i &lt;- 2 + 1
print(i)
</code></pre>
<p>This process is then repeated until the loop reaches the final value in the sequence</p>
<pre><code>for (i in 1:3) { # the SEQUENCE is defined (numbers 1 to 5) and loop is opened with &quot;{&quot;
  print(i + 1)    # The OPERATIONS (add 1 to each sequence number and print)
}                            # The loop is closed with &quot;}&quot;
</code></pre>
<div id="functions-in-for-loops" class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> Functions in for loops</h2>
<p>Whilst above we have been using simple addition in the body of the loop, you can also combine loops with functions.</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="#cb262-1" tabindex="-1"></a><span class="co"># Define a function to calculate the square of a number</span></span>
<span id="cb262-2"><a href="#cb262-2" tabindex="-1"></a>square <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb262-3"><a href="#cb262-3" tabindex="-1"></a>  <span class="fu">return</span>(x <span class="sc">*</span> x)</span>
<span id="cb262-4"><a href="#cb262-4" tabindex="-1"></a>}</span>
<span id="cb262-5"><a href="#cb262-5" tabindex="-1"></a></span>
<span id="cb262-6"><a href="#cb262-6" tabindex="-1"></a><span class="co"># Use a for loop to calculate and print the squares of numbers from 1 to 5</span></span>
<span id="cb262-7"><a href="#cb262-7" tabindex="-1"></a><span class="cf">for</span> (num <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) { <span class="co"># Here I have replace i with num</span></span>
<span id="cb262-8"><a href="#cb262-8" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="fu">square</span>(num)</span>
<span id="cb262-9"><a href="#cb262-9" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;The square of&quot;</span>, num, <span class="st">&quot;is&quot;</span>, result, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb262-10"><a href="#cb262-10" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## The square of 1 is 1 
## The square of 2 is 4 
## The square of 3 is 9 
## The square of 4 is 16 
## The square of 5 is 25</code></pre>
</div>
<div id="for-loops-in-dataframes" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> For loops in dataframes</h2>
<p>Let's create a somewhat more intricate function. Initially, we generate a new tibble by creating four vectors, each consisting of 10 randomly generated numbers. These numbers are designed to be approximately centered around a mean of 0 with a standard deviation of 1. Afterward, we combine these vectors to form the final tibble.</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="#cb264-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb264-2"><a href="#cb264-2" tabindex="-1"></a></span>
<span id="cb264-3"><a href="#cb264-3" tabindex="-1"></a><span class="co"># a simple tibble</span></span>
<span id="cb264-4"><a href="#cb264-4" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb264-5"><a href="#cb264-5" tabindex="-1"></a>  <span class="at">a =</span>  <span class="fu">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb264-6"><a href="#cb264-6" tabindex="-1"></a>  <span class="at">b =</span>  <span class="fu">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb264-7"><a href="#cb264-7" tabindex="-1"></a>  <span class="at">c =</span>  <span class="fu">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb264-8"><a href="#cb264-8" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb264-9"><a href="#cb264-9" tabindex="-1"></a>  <span class="at">e =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb264-10"><a href="#cb264-10" tabindex="-1"></a>  <span class="at">f =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb264-11"><a href="#cb264-11" tabindex="-1"></a>  <span class="at">g =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb264-12"><a href="#cb264-12" tabindex="-1"></a>  <span class="at">h =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb264-13"><a href="#cb264-13" tabindex="-1"></a>)</span>
<span id="cb264-14"><a href="#cb264-14" tabindex="-1"></a></span>
<span id="cb264-15"><a href="#cb264-15" tabindex="-1"></a>df</span></code></pre></div>
<div class="kable-table">
<table>
<colgroup>
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">a</th>
<th align="right">b</th>
<th align="right">c</th>
<th align="right">d</th>
<th align="right">e</th>
<th align="right">f</th>
<th align="right">g</th>
<th align="right">h</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">-1.2070657</td>
<td align="right">-0.4771927</td>
<td align="right">0.1340882</td>
<td align="right">1.1022975</td>
<td align="right">1.4494963</td>
<td align="right">-1.8060313</td>
<td align="right">0.6565885</td>
<td align="right">0.0068928</td>
</tr>
<tr class="even">
<td align="right">0.2774292</td>
<td align="right">-0.9983864</td>
<td align="right">-0.4906859</td>
<td align="right">-0.4755931</td>
<td align="right">-1.0686427</td>
<td align="right">-0.5820759</td>
<td align="right">2.5489911</td>
<td align="right">-0.4554687</td>
</tr>
<tr class="odd">
<td align="right">1.0844412</td>
<td align="right">-0.7762539</td>
<td align="right">-0.4405479</td>
<td align="right">-0.7094400</td>
<td align="right">-0.8553646</td>
<td align="right">-1.1088896</td>
<td align="right">-0.0347604</td>
<td align="right">-0.3665239</td>
</tr>
<tr class="even">
<td align="right">-2.3456977</td>
<td align="right">0.0644588</td>
<td align="right">0.4595894</td>
<td align="right">-0.5012581</td>
<td align="right">-0.2806230</td>
<td align="right">-1.0149620</td>
<td align="right">-0.6696336</td>
<td align="right">0.6482866</td>
</tr>
<tr class="odd">
<td align="right">0.4291247</td>
<td align="right">0.9594941</td>
<td align="right">-0.6937202</td>
<td align="right">-1.6290935</td>
<td align="right">-0.9943401</td>
<td align="right">-0.1623095</td>
<td align="right">-0.0076048</td>
<td align="right">2.0702709</td>
</tr>
<tr class="even">
<td align="right">0.5060559</td>
<td align="right">-0.1102855</td>
<td align="right">-1.4482049</td>
<td align="right">-1.1676193</td>
<td align="right">-0.9685143</td>
<td align="right">0.5630558</td>
<td align="right">1.7770844</td>
<td align="right">-0.1533984</td>
</tr>
<tr class="odd">
<td align="right">-0.5747400</td>
<td align="right">-0.5110095</td>
<td align="right">0.5747557</td>
<td align="right">-2.1800396</td>
<td align="right">-1.1073182</td>
<td align="right">1.6478175</td>
<td align="right">-1.1386077</td>
<td align="right">-1.3907009</td>
</tr>
<tr class="even">
<td align="right">-0.5466319</td>
<td align="right">-0.9111954</td>
<td align="right">-1.0236557</td>
<td align="right">-1.3409932</td>
<td align="right">-1.2519859</td>
<td align="right">-0.7733534</td>
<td align="right">1.3678272</td>
<td align="right">-0.7235818</td>
</tr>
<tr class="odd">
<td align="right">-0.5644520</td>
<td align="right">-0.8371717</td>
<td align="right">-0.0151383</td>
<td align="right">-0.2942939</td>
<td align="right">-0.5238281</td>
<td align="right">1.6059096</td>
<td align="right">1.3295648</td>
<td align="right">0.2582618</td>
</tr>
<tr class="even">
<td align="right">-0.8900378</td>
<td align="right">2.4158352</td>
<td align="right">-0.9359486</td>
<td align="right">-0.4658975</td>
<td align="right">-0.4968500</td>
<td align="right">-1.1578085</td>
<td align="right">0.3364728</td>
<td align="right">-0.3170591</td>
</tr>
</tbody>
</table>
</div>
<p>Each vector is randomly generated so the actual averages will be slightly different, we can test that here:</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="#cb265-1" tabindex="-1"></a><span class="fu">mean</span>(df<span class="sc">$</span>a)</span>
<span id="cb265-2"><a href="#cb265-2" tabindex="-1"></a></span>
<span id="cb265-3"><a href="#cb265-3" tabindex="-1"></a><span class="fu">mean</span>(df<span class="sc">$</span>b)</span>
<span id="cb265-4"><a href="#cb265-4" tabindex="-1"></a></span>
<span id="cb265-5"><a href="#cb265-5" tabindex="-1"></a><span class="fu">mean</span>(df<span class="sc">$</span>c)</span>
<span id="cb265-6"><a href="#cb265-6" tabindex="-1"></a></span>
<span id="cb265-7"><a href="#cb265-7" tabindex="-1"></a><span class="fu">mean</span>(df<span class="sc">$</span>d)</span></code></pre></div>
<pre><code>## [1] -0.3831574
## [1] -0.1181707
## [1] -0.3879468
## [1] -0.7661931</code></pre>
<p>So the above code works, but it is repetitive, applying the same function again and again.</p>
<p>Below we have a simple for loop:</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="#cb267-1" tabindex="-1"></a><span class="co">#1. Having a predefined empty vector to receive the values is good practice, we will see why a bit later</span></span>
<span id="cb267-2"><a href="#cb267-2" tabindex="-1"></a></span>
<span id="cb267-3"><a href="#cb267-3" tabindex="-1"></a>output <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">&quot;double&quot;</span>, <span class="fu">ncol</span>(df)) <span class="co"># this will have four empty elements the same as the number of columns for the dataframe. The vector is set to receive numeric data</span></span></code></pre></div>
<p>Now we run our loop:</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="#cb268-1" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(df)) {            <span class="co"># 2. sequence - determines what to loop over </span></span>
<span id="cb268-2"><a href="#cb268-2" tabindex="-1"></a>  </span>
<span id="cb268-3"><a href="#cb268-3" tabindex="-1"></a>  output[[i]] <span class="ot">&lt;-</span> <span class="fu">mean</span>(df[[i]])      <span class="co"># 3. body - each time the loop runs it allocates a value to output, </span></span>
<span id="cb268-4"><a href="#cb268-4" tabindex="-1"></a>}</span>
<span id="cb268-5"><a href="#cb268-5" tabindex="-1"></a>output</span></code></pre></div>
<pre><code>## [1] -0.38315741 -0.11817071 -0.38794682 -0.76619306 -0.60979706 -0.27886474
## [7]  0.61659223 -0.04230209</code></pre>
<p>Each time the mean is calculate for one column in df this is then stored as an element in the previously empty output vector.</p>
<p><code>for()</code> loops are very useful for quickly iterating over a list, but because R prefers to store everything as a new object with each loop iteration, loops can become quite slow if they are complex, or running many processes and many iterations.</p>
</div>
<div id="speed" class="section level2" number="10.3">
<h2><span class="header-section-number">10.3</span> Speed</h2>
<div id="initialise-objects" class="section level3" number="10.3.1">
<h3><span class="header-section-number">10.3.1</span> Initialise objects</h3>
<p>Pre-allocating the output with the appropriate length before the loop avoids reallocation of memory inside the loop, which can be inefficient for large data. For example:</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="#cb270-1" tabindex="-1"></a>output2 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb270-2"><a href="#cb270-2" tabindex="-1"></a></span>
<span id="cb270-3"><a href="#cb270-3" tabindex="-1"></a>microbenchmark<span class="sc">::</span><span class="fu">microbenchmark</span>(</span>
<span id="cb270-4"><a href="#cb270-4" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(df)){             </span>
<span id="cb270-5"><a href="#cb270-5" tabindex="-1"></a>  </span>
<span id="cb270-6"><a href="#cb270-6" tabindex="-1"></a>  output2 <span class="ot">&lt;-</span> <span class="fu">c</span>(output2, <span class="fu">mean</span>(df[[i]])) <span class="co"># each new calculation is concatenated onto the end of the growing vector</span></span>
<span id="cb270-7"><a href="#cb270-7" tabindex="-1"></a>}</span>
<span id="cb270-8"><a href="#cb270-8" tabindex="-1"></a>)</span>
<span id="cb270-9"><a href="#cb270-9" tabindex="-1"></a>output2 <span class="co"># note because we did not predefine our vector length it continues to grow! </span></span></code></pre></div>
<p>Depending on your own computer processing power you may get different results - but here</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>Built inside loop</th>
<th>pre-initialised vector</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>min</td>
<td>2.38ms</td>
<td>2.29ms</td>
</tr>
<tr class="even">
<td>max</td>
<td>19.19ms</td>
<td>12.64ms</td>
</tr>
<tr class="odd">
<td>mean</td>
<td>3.4ms</td>
<td>2.55 ms</td>
</tr>
<tr class="even">
<td>median</td>
<td>2.71ms</td>
<td>2.42ms</td>
</tr>
</tbody>
</table>
</div>
<div id="simple-datatypes" class="section level3" number="10.3.2">
<h3><span class="header-section-number">10.3.2</span> simple datatypes</h3>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="#cb271-1" tabindex="-1"></a>df_list <span class="ot">&lt;-</span> <span class="fu">as.list</span>(df)</span>
<span id="cb271-2"><a href="#cb271-2" tabindex="-1"></a></span>
<span id="cb271-3"><a href="#cb271-3" tabindex="-1"></a></span>
<span id="cb271-4"><a href="#cb271-4" tabindex="-1"></a>microbenchmark<span class="sc">::</span><span class="fu">microbenchmark</span>( <span class="co"># check average processing time</span></span>
<span id="cb271-5"><a href="#cb271-5" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">length</span>(df_list)) {           </span>
<span id="cb271-6"><a href="#cb271-6" tabindex="-1"></a>  </span>
<span id="cb271-7"><a href="#cb271-7" tabindex="-1"></a>  output[[i]] <span class="ot">&lt;-</span> <span class="fu">mean</span>(df_list[[i]])      </span>
<span id="cb271-8"><a href="#cb271-8" tabindex="-1"></a>}</span>
<span id="cb271-9"><a href="#cb271-9" tabindex="-1"></a>)</span></code></pre></div>
<p>Depending on your own computer processing power you may get different results - but here</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>List</th>
<th>Tibble</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>min</td>
<td>1.92ms</td>
<td>2.38ms</td>
</tr>
<tr class="even">
<td>max</td>
<td>12.6ms</td>
<td>19.19ms</td>
</tr>
<tr class="odd">
<td>mean</td>
<td>2.53ms</td>
<td>2.55 ms</td>
</tr>
<tr class="even">
<td>median</td>
<td>2.41ms</td>
<td>2.42ms</td>
</tr>
</tbody>
</table>
</div>
<div id="visualise-speed" class="section level3" number="10.3.3">
<h3><span class="header-section-number">10.3.3</span> Visualise speed</h3>
<p>The <code>microbenchmark</code> package has some other useful features including the ability to run multiple functions for comparison simultaneously and with integration with ggplot2 we can plot these results</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="#cb272-1" tabindex="-1"></a>output_vector <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">&quot;double&quot;</span>, <span class="fu">ncol</span>(df))</span>
<span id="cb272-2"><a href="#cb272-2" tabindex="-1"></a>output_list <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="at">mode =</span> <span class="st">&quot;list&quot;</span>, <span class="at">length =</span> <span class="fu">ncol</span>(df))</span>
<span id="cb272-3"><a href="#cb272-3" tabindex="-1"></a>new_output_vector <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb272-4"><a href="#cb272-4" tabindex="-1"></a>new_output_vector2 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb272-5"><a href="#cb272-5" tabindex="-1"></a></span>
<span id="cb272-6"><a href="#cb272-6" tabindex="-1"></a></span>
<span id="cb272-7"><a href="#cb272-7" tabindex="-1"></a>mbm <span class="ot">&lt;-</span> microbenchmark<span class="sc">::</span><span class="fu">microbenchmark</span>(</span>
<span id="cb272-8"><a href="#cb272-8" tabindex="-1"></a><span class="at">df_input_vector_output =</span> <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(df)) {</span>
<span id="cb272-9"><a href="#cb272-9" tabindex="-1"></a>  output_vector[[i]] <span class="ot">&lt;-</span> <span class="fu">mean</span>(df[[i]]) </span>
<span id="cb272-10"><a href="#cb272-10" tabindex="-1"></a>}, </span>
<span id="cb272-11"><a href="#cb272-11" tabindex="-1"></a><span class="at">list_input_vector_output =</span> <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">length</span>(df_list)) {           </span>
<span id="cb272-12"><a href="#cb272-12" tabindex="-1"></a>    output_vector[[i]] <span class="ot">&lt;-</span> <span class="fu">mean</span>(df_list[[i]])      </span>
<span id="cb272-13"><a href="#cb272-13" tabindex="-1"></a>}, </span>
<span id="cb272-14"><a href="#cb272-14" tabindex="-1"></a><span class="at">df_input_build_vector =</span>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(df)){             </span>
<span id="cb272-15"><a href="#cb272-15" tabindex="-1"></a>    </span>
<span id="cb272-16"><a href="#cb272-16" tabindex="-1"></a>    new_output_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(new_output_vector, <span class="fu">mean</span>(df[[i]])) <span class="co"># each new calculation is concatenated onto the end of the growing vector</span></span>
<span id="cb272-17"><a href="#cb272-17" tabindex="-1"></a>}, </span>
<span id="cb272-18"><a href="#cb272-18" tabindex="-1"></a><span class="at">list_input_build_vector =</span> <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(df_list)){             </span>
<span id="cb272-19"><a href="#cb272-19" tabindex="-1"></a>    </span>
<span id="cb272-20"><a href="#cb272-20" tabindex="-1"></a>   new_output_vector2 <span class="ot">&lt;-</span> <span class="fu">c</span>(new_output_vector2, <span class="fu">mean</span>(df[[i]])) <span class="co"># each new calculation is concatenated onto the end of the growing vector</span></span>
<span id="cb272-21"><a href="#cb272-21" tabindex="-1"></a>}</span>
<span id="cb272-22"><a href="#cb272-22" tabindex="-1"></a>)</span>
<span id="cb272-23"><a href="#cb272-23" tabindex="-1"></a></span>
<span id="cb272-24"><a href="#cb272-24" tabindex="-1"></a>mbm</span></code></pre></div>
<pre><code>Unit: milliseconds
                     expr      min       lq     mean   median       uq      max neval
   df_input_vector_output 2.295303 2.401428 2.617219 2.447673 2.556309 12.36447   100
 list_input_vector_output 1.877293 1.946628 2.135324 1.997003 2.071233 12.31188   100
    df_input_build_vector 2.351764 2.411968 2.604022 2.455673 2.531924 13.46052   100
  list_input_build_vector 2.204953 2.297524 2.691931 2.351203 2.419803 12.77457   100
</code></pre>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="#cb274-1" tabindex="-1"></a><span class="fu">autoplot</span>(mbm)</span></code></pre></div>
<p><img src="03-functional-programming_files/figure-html/unnamed-chunk-86-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="do-as-little-as-possible-inside-a-loop" class="section level3" number="10.3.4">
<h3><span class="header-section-number">10.3.4</span> Do as little as possible inside a loop</h3>
<p>R is an interpreted language every thing you write inside a loop runs multiple times. The best thing you can do is to be parsimonious while writing code inside a loop. There are a number of steps that you can do to speed up a loop a bit more.</p>
<ul>
<li><p>Calculate results before the loop</p></li>
<li><p>Initialize objects before the loop</p></li>
<li><p>Iterate on as few numbers as possible</p></li>
<li><p>Write as few functions inside a loop as possible</p></li>
</ul>
<p>The main tip is to <em>Get out of loop</em> as quickly as possible.</p>
<p>See also <a href="https://bookdown.org/csgillespie/efficientR/programming.html#top-5-tips-for-efficient-programming" class="uri">https://bookdown.org/csgillespie/efficientR/programming.html#top-5-tips-for-efficient-programming</a></p>
</div>
</div>
<div id="activity" class="section level2" number="10.4">
<h2><span class="header-section-number">10.4</span> Activity</h2>
</div>
</div>
<div id="apply" class="section level1" number="11">
<h1><span class="header-section-number">11</span> Apply</h1>
<p>We can recreate the output from our loops in the previous chapter with the <code>apply</code> function in R.</p>
<p>The apply functions can be an alternative to writing for loops. The general idea is to apply (or map) a function to each element of an object. For example, you can apply a function to each row or column of a matrix.</p>
<p>Each function takes at least two arguments: an object and another function. The function is passed as an argument.</p>
<p>Every apply function has the dots, ..., argument that is used to pass on arguments to the function that is given as an argument.</p>
<p>Using apply functions when possible, can lead to shorter, more succinct R code. In this section, we will cover the three main functions, <code>apply()</code>, <code>lapply()</code>, and <code>sapply()</code>.</p>
<ul>
<li><p><code>lapply()</code>: Loop over a list and evaluate a function on each element</p></li>
<li><p><code>sapply()</code>: Same as lapply but try to simplify the result</p></li>
<li><p><code>apply()</code>: Apply a function over the margins of an array</p></li>
</ul>
<p>It is (I think) important to not that the apply family is still looping - but the actual looping is done internally in C code for efficiency reasons. Apply functions are loops under the hood and they are meant for convenience not for speed.</p>
<div id="lapply" class="section level2" number="11.1">
<h2><span class="header-section-number">11.1</span> lapply</h2>
<p>The <code>lapply()</code> function does the following simple series of operations:</p>
<p>it loops over a list, vector or dataframe, iterating over each element in turn</p>
<p>it applies a function to each element of the list (a function that you specify)</p>
<p>it always returns a list (the l is for “list”).</p>
<pre><code>&gt; lapply
function (X, FUN, ...) 
{
    FUN &lt;- match.fun(FUN)
    if (!is.vector(X) || is.object(X)) 
        X &lt;- as.list(X)
    .Internal(lapply(X, FUN))
}
&lt;bytecode: 0x7f79498e5528&gt;
&lt;environment: namespace:base&gt;
</code></pre>
<p>We can see the operation of an <code>lapply()</code> function here:</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="#cb276-1" tabindex="-1"></a><span class="fu">lapply</span>(df_list, mean)</span></code></pre></div>
<p>Notice that here we are passing the <code>mean()</code> function as an argument to the <code>lapply()</code> function. Functions in R can be used this way and can be passed back and forth as arguments just like any other object. When you pass a function to another function, you do not need to include the open and closed parentheses.</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="#cb277-1" tabindex="-1"></a>empty_list <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="at">mode =</span> <span class="st">&quot;list&quot;</span>, <span class="at">length =</span> <span class="fu">length</span>(df_list))</span>
<span id="cb277-2"><a href="#cb277-2" tabindex="-1"></a></span>
<span id="cb277-3"><a href="#cb277-3" tabindex="-1"></a></span>
<span id="cb277-4"><a href="#cb277-4" tabindex="-1"></a>microbenchmark<span class="sc">::</span><span class="fu">microbenchmark</span>(</span>
<span id="cb277-5"><a href="#cb277-5" tabindex="-1"></a> </span>
<span id="cb277-6"><a href="#cb277-6" tabindex="-1"></a>  <span class="at">forloop =</span> <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">length</span>(df_list)) {           </span>
<span id="cb277-7"><a href="#cb277-7" tabindex="-1"></a>  </span>
<span id="cb277-8"><a href="#cb277-8" tabindex="-1"></a>  empty_list[[i]] <span class="ot">&lt;-</span> <span class="fu">mean</span>(df_list[[i]])      </span>
<span id="cb277-9"><a href="#cb277-9" tabindex="-1"></a>  },</span>
<span id="cb277-10"><a href="#cb277-10" tabindex="-1"></a> <span class="at">apply =</span> <span class="fu">lapply</span>(df_list, mean)</span>
<span id="cb277-11"><a href="#cb277-11" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>Unit: microseconds
    expr      min        lq       mean    median       uq      max neval
 forloop 1908.053 1981.7625 2341.55928 2038.9475 2119.488 11949.11   100
   apply   23.531   24.8655   29.73571   27.9205   30.050   119.41   100
</code></pre>
<p>As well as being slightly faster than the <code>for()</code> loop, arguably, <code>lapply</code> is also easier to read.</p>
<div id="run-lapply-with-additional-arguments" class="section level3" number="11.1.1">
<h3><span class="header-section-number">11.1.1</span> Run lapply with additional arguments</h3>
<p>The first argument of <code>lapply()</code> gives the list object to be iterated over.
The second argument defines an anonymous function.</p>
<div id="functions-with-lapply" class="section level4" number="11.1.1.1">
<h4><span class="header-section-number">11.1.1.1</span> Functions with <code>lapply</code></h4>
<p>In this example we define the list to run a function over <code>numbers</code>, then write our function as normal. Defined like this it is what we call an <strong>anonymous function</strong>, it has no name and cannot be used outside of this <code>lapply</code> function.</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="#cb279-1" tabindex="-1"></a><span class="co"># Create a list of numbers</span></span>
<span id="cb279-2"><a href="#cb279-2" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb279-3"><a href="#cb279-3" tabindex="-1"></a></span>
<span id="cb279-4"><a href="#cb279-4" tabindex="-1"></a></span>
<span id="cb279-5"><a href="#cb279-5" tabindex="-1"></a><span class="co"># Use lapply to add 10 to each number in the list</span></span>
<span id="cb279-6"><a href="#cb279-6" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">lapply</span>(numbers, <span class="cf">function</span>(x){</span>
<span id="cb279-7"><a href="#cb279-7" tabindex="-1"></a>  <span class="fu">return</span>(x <span class="sc">+</span> <span class="dv">10</span>)</span>
<span id="cb279-8"><a href="#cb279-8" tabindex="-1"></a>})</span>
<span id="cb279-9"><a href="#cb279-9" tabindex="-1"></a></span>
<span id="cb279-10"><a href="#cb279-10" tabindex="-1"></a><span class="co"># Print the result</span></span>
<span id="cb279-11"><a href="#cb279-11" tabindex="-1"></a><span class="fu">print</span>(result)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 11
## 
## [[2]]
## [1] 12
## 
## [[3]]
## [1] 13
## 
## [[4]]
## [1] 14
## 
## [[5]]
## [1] 15</code></pre>
</div>
<div id="using-existing-functions-in-lapply" class="section level4" number="11.1.1.2">
<h4><span class="header-section-number">11.1.1.2</span> Using existing functions in <code>lapply</code></h4>
<p>In this example we write a named function. Notice how we don't have to use curly brackets or an anonymous function, instead, we just passed <code>mean</code>add_value<code>as the second argument of</code>lapply()`. I also supply any necessary arguments required by the function by specifying it afterwards.</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="#cb281-1" tabindex="-1"></a><span class="co"># Create a list of numbers</span></span>
<span id="cb281-2"><a href="#cb281-2" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb281-3"><a href="#cb281-3" tabindex="-1"></a></span>
<span id="cb281-4"><a href="#cb281-4" tabindex="-1"></a><span class="co"># Define a custom function that adds a given value to each number</span></span>
<span id="cb281-5"><a href="#cb281-5" tabindex="-1"></a>add_value <span class="ot">&lt;-</span> <span class="cf">function</span>(x, value) {</span>
<span id="cb281-6"><a href="#cb281-6" tabindex="-1"></a>  <span class="fu">return</span>(x <span class="sc">+</span> value)</span>
<span id="cb281-7"><a href="#cb281-7" tabindex="-1"></a>}</span>
<span id="cb281-8"><a href="#cb281-8" tabindex="-1"></a></span>
<span id="cb281-9"><a href="#cb281-9" tabindex="-1"></a><span class="co"># Use lapply to add 10 to each number in the list</span></span>
<span id="cb281-10"><a href="#cb281-10" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">lapply</span>(numbers, add_value, <span class="at">value =</span> <span class="dv">10</span>)</span>
<span id="cb281-11"><a href="#cb281-11" tabindex="-1"></a></span>
<span id="cb281-12"><a href="#cb281-12" tabindex="-1"></a><span class="co"># Print the result</span></span>
<span id="cb281-13"><a href="#cb281-13" tabindex="-1"></a><span class="fu">print</span>(result)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 11
## 
## [[2]]
## [1] 12
## 
## [[3]]
## [1] 13
## 
## [[4]]
## [1] 14
## 
## [[5]]
## [1] 15</code></pre>
</div>
</div>
</div>
<div id="sapply" class="section level2" number="11.2">
<h2><span class="header-section-number">11.2</span> sapply</h2>
<p>The <code>sapply()</code> function behaves similarly to <code>lapply()</code>; the only real difference is in the return value. <code>sapply()</code> will try to simplify the result of <code>lapply()</code> if possible. Essentially, <code>sapply()</code> calls <code>lapply()</code> on its input and then applies the following algorithm:</p>
<ul>
<li><p>If the result is a list where every element is length 1, then a vector is returned</p></li>
<li><p>If the result is a list where every element is a vector of the same length (&gt; 1), a matrix is returned.</p></li>
<li><p>If it can’t figure things out, a list is returned.</p></li>
</ul>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="#cb283-1" tabindex="-1"></a><span class="fu">sapply</span>(df_list, mean)</span></code></pre></div>
<pre><code>##           a           b           c           d           e           f 
## -0.38315741 -0.11817071 -0.38794682 -0.76619306 -0.60979706 -0.27886474 
##           g           h 
##  0.61659223 -0.04230209</code></pre>
<p>Notice that here <code>sapply()</code> returns a vector as each element had length of 1.</p>
</div>
<div id="apply-1" class="section level2" number="11.3">
<h2><span class="header-section-number">11.3</span> apply</h2>
<p>The <code>apply()</code> function is used to a evaluate a function (often an anonymous one) over an array. It is most often used to apply a function to the rows or columns of a matrix or dataframe, in fact this function <em>cannot</em> be used on a list. Using <code>apply()</code> is often not really faster than writing a loop, but it works in one line and is highly compact.</p>
<p>MARGIN = 1 means apply function over rows</p>
<p>MARGIN = 2 means apply function over columns</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="#cb285-1" tabindex="-1"></a><span class="fu">apply</span>(df, <span class="at">MARGIN =</span> <span class="dv">1</span>, mean)</span></code></pre></div>
<pre><code>##  [1] -0.017615796 -0.155554062 -0.400917401 -0.454979941 -0.003522308
##  [6] -0.125228280 -0.584980350 -0.650446262  0.119856528 -0.188911702</code></pre>
<ul>
<li><p>If the result is a list where every element is length 1, then a vector is returned</p></li>
<li><p>If the result is a list where every element is a vector of the same length (&gt; 1), a matrix is returned.</p></li>
</ul>
<div id="summary-of-apply-functions" class="section level3" number="11.3.1">
<h3><span class="header-section-number">11.3.1</span> summary of apply functions</h3>
<table>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Arguments</th>
<th>Objective</th>
<th>Input</th>
<th>Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>apply</td>
<td>apply(X, MARGIN, FUN)</td>
<td>Apply a function to the rows, columns or both</td>
<td>Dataframe or matrix</td>
<td>vector, list or matrix</td>
</tr>
<tr class="even">
<td>lapply</td>
<td>lapply(X,FUN)</td>
<td>Apply a function to all the elements of the input</td>
<td>List, vector or dataframe</td>
<td>list</td>
</tr>
<tr class="odd">
<td>sapply</td>
<td>sapply(X,FUN)</td>
<td>Apply a function to all the elements of the input</td>
<td>List, vector or dataframe</td>
<td>vector or matrix</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="exercise-1" class="section level2" number="11.4">
<h2><span class="header-section-number">11.4</span> Exercise</h2>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
Make a function that converts values with a normal distribution into their z scores
</div>
</div>
<button id="displayTextunnamed-chunk-95" onclick="javascript:toggle(&#39;unnamed-chunk-95&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-95" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="#cb287-1" tabindex="-1"></a>z_score <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb287-2"><a href="#cb287-2" tabindex="-1"></a>    (x <span class="sc">-</span> <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">/</span>  </span>
<span id="cb287-3"><a href="#cb287-3" tabindex="-1"></a>        <span class="fu">sd</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb287-4"><a href="#cb287-4" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
Choose the appropriate apply function to calculate a matrix of z-scores for the dataframe <code>df</code>
</div>
</div>
<button id="displayTextunnamed-chunk-97" onclick="javascript:toggle(&#39;unnamed-chunk-97&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-97" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<p>apply(df, MARGIN = 2, z_score)</p>
</div>
</div>
</div>
</div>
</div>
<div id="purrr" class="section level1" number="12">
<h1><span class="header-section-number">12</span> Purrr</h1>
<p>The <code>purrr::map()</code> family of functions are the tidyverse equivalent of <code>apply</code></p>
<p>The base equivalent to <code>map()</code> is <code>lapply()</code>. The only difference is that <code>lapply()</code> does not support the helpers that you’ll learn about below, so if you’re only using <code>map()</code> from purrr, you can skip the additional dependency and use <code>lapply()</code> directly.</p>
<p>The basic syntax is map(<code>.x</code> = SEQUENCE, <code>.f</code> = FUNCTION, OTHER ARGUMENTS). In a bit more detail:</p>
<ul>
<li><p><code>.x</code> = are the inputs upon which the .f function will be iteratively applied - e.g. a vector of jurisdiction names, columns in a data frame, or a list of data frames</p></li>
<li><p><code>.f</code> = is the function to apply to each element of the .x input - it could be a function like print() that already exists, or a custom function that you define. The function is often written after a tilde ~ (details below).
A few more notes on syntax:</p></li>
<li><p>If the function needs no further arguments specified, it can be written with no parentheses and no tilde (e.g. <code>.f = mean</code>).</p></li>
<li><p>You can use <code>.x</code> (or simply <code>.</code>) within the <code>.f = function</code> as a placeholder for the <code>.x</code> value of that iteration</p></li>
</ul>
<p><strong>The output of using<code>map()</code> is a list</strong> - a list is an object class like a vector but whose elements can be of different classes. So, a list produced by <code>map()</code> could contain many data frames, or many vectors, many single values, or even many lists! There are alternative versions of <code>map()</code> explained below that produce other types of outputs (e.g. <code>map_dfr()</code> to produce a data frame, <code>map_chr()</code> to produce character vectors, and <code>map_dbl()</code> to produce numeric vectors).</p>
<p>Basic <code>map()</code> will <em>always</em> return a <code>list</code>, other variants return different data types.Unlike <code>apply</code>, <code>map</code> will ONLY return one type of data, removing the potential for changing data types that occasionally happens when using <code>apply</code>.</p>
<div id="example" class="section level2" number="12.1">
<h2><span class="header-section-number">12.1</span> Example</h2>
<div class="tab">
<button class="tablinksunnamed-chunk-98 active" onclick="javascript:openCode(event, &#39;option1unnamed-chunk-98&#39;, &#39;unnamed-chunk-98&#39;);">
Base R
</button>
<button class="tablinksunnamed-chunk-98" onclick="javascript:openCode(event, &#39;option2unnamed-chunk-98&#39;, &#39;unnamed-chunk-98&#39;);">
<tt>tidyverse</tt>
</button>
</div>
<div id="option1unnamed-chunk-98" class="tabcontentunnamed-chunk-98">
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="#cb288-1" tabindex="-1"></a><span class="fu">lapply</span>(df_list, mean)</span></code></pre></div>
</div>
<div id="option2unnamed-chunk-98" class="tabcontentunnamed-chunk-98">
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="#cb289-1" tabindex="-1"></a><span class="fu">map</span>(<span class="at">.x =</span> df_list, <span class="at">.f =</span> mean)</span>
<span id="cb289-2"><a href="#cb289-2" tabindex="-1"></a></span>
<span id="cb289-3"><a href="#cb289-3" tabindex="-1"></a><span class="fu">map</span>(df_list, mean)</span></code></pre></div>
</div>
<script> javascript:hide('option2unnamed-chunk-98') </script>
</div>
<div id="more-maps" class="section level2" number="12.2">
<h2><span class="header-section-number">12.2</span> more maps</h2>
<p><code>map()</code> always returns a list, which makes it the most general of the map family because you can put anything in a list. But it is inconvenient to return a list when a simpler data structure would do, so there are four more specific variants: <code>map_lgl()</code>, <code>map_int()</code>, <code>map_dbl()</code>, and <code>map_chr()</code>. Each returns an atomic vector of the specified type:</p>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>Data type returned</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>map_lgl()</code></td>
<td>returns a logical</td>
</tr>
<tr class="even">
<td><code>map_int()</code></td>
<td>returns an integer vector</td>
</tr>
<tr class="odd">
<td><code>map_dbl()</code></td>
<td>returns a double vector</td>
</tr>
<tr class="even">
<td><code>map_chr()</code></td>
<td>returns a character vector</td>
</tr>
<tr class="odd">
<td><code>map_df()</code></td>
<td>returns a data frame/tibble</td>
</tr>
</tbody>
</table>
<div class="info">
<p>
These specialized map functions are “type-safe” and will fail with
incorrect return type.
</p>
<p>
This is safer than using functions like sapply() which tries to
simplify results and could return a list, vector or matrix depending on
input.
</p>
</div>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="#cb290-1" tabindex="-1"></a><span class="co"># map lgl always returns a logical vector</span></span>
<span id="cb290-2"><a href="#cb290-2" tabindex="-1"></a><span class="fu">map_lgl</span>(df_list, is.double)</span>
<span id="cb290-3"><a href="#cb290-3" tabindex="-1"></a><span class="co">#   a    b    c    d    e    f    g    h </span></span>
<span id="cb290-4"><a href="#cb290-4" tabindex="-1"></a><span class="co"># TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</span></span>
<span id="cb290-5"><a href="#cb290-5" tabindex="-1"></a></span>
<span id="cb290-6"><a href="#cb290-6" tabindex="-1"></a></span>
<span id="cb290-7"><a href="#cb290-7" tabindex="-1"></a><span class="co"># map_dbl always returns a double vector</span></span>
<span id="cb290-8"><a href="#cb290-8" tabindex="-1"></a><span class="fu">map_dbl</span>(df_list, mean)</span>
<span id="cb290-9"><a href="#cb290-9" tabindex="-1"></a><span class="co">#          a           b           c           d           e           f           g           h </span></span>
<span id="cb290-10"><a href="#cb290-10" tabindex="-1"></a><span class="co"># -0.38315741 -0.11817071 -0.38794682 -0.76619306 -0.60979706 -0.27886474  0.61659223 -0.04230209 </span></span>
<span id="cb290-11"><a href="#cb290-11" tabindex="-1"></a></span>
<span id="cb290-12"><a href="#cb290-12" tabindex="-1"></a><span class="co"># map_int always returns an integer vector</span></span>
<span id="cb290-13"><a href="#cb290-13" tabindex="-1"></a><span class="fu">map_int</span>(df_list, <span class="sc">~</span>.x <span class="sc">|&gt;</span>  <span class="fu">mean</span>() <span class="sc">|&gt;</span> <span class="fu">round</span>())</span>
<span id="cb290-14"><a href="#cb290-14" tabindex="-1"></a><span class="co"># a  b  c  d  e  f  g  h </span></span>
<span id="cb290-15"><a href="#cb290-15" tabindex="-1"></a><span class="co"># 0  0  0 -1 -1  0  1  0 </span></span>
<span id="cb290-16"><a href="#cb290-16" tabindex="-1"></a></span>
<span id="cb290-17"><a href="#cb290-17" tabindex="-1"></a><span class="co"># map_int always returns an integer vector - note this comes with a deprecated coercion warning - use as.character()</span></span>
<span id="cb290-18"><a href="#cb290-18" tabindex="-1"></a> <span class="fu">map_chr</span>(df_list, mean)</span>
<span id="cb290-19"><a href="#cb290-19" tabindex="-1"></a><span class="co">#          a           b           c           d           e           f           g           h </span></span>
<span id="cb290-20"><a href="#cb290-20" tabindex="-1"></a><span class="co">#&quot;-0.383157&quot; &quot;-0.118171&quot; &quot;-0.387947&quot; &quot;-0.766193&quot; &quot;-0.609797&quot; &quot;-0.278865&quot;  &quot;0.616592&quot; &quot;-0.042302&quot; </span></span>
<span id="cb290-21"><a href="#cb290-21" tabindex="-1"></a> </span>
<span id="cb290-22"><a href="#cb290-22" tabindex="-1"></a><span class="co"># map_df always returns a dataframe </span></span>
<span id="cb290-23"><a href="#cb290-23" tabindex="-1"></a> <span class="fu">map_df</span>(df_list, mean)</span>
<span id="cb290-24"><a href="#cb290-24" tabindex="-1"></a><span class="co">#       a      b      c      d      e      f     g       h</span></span>
<span id="cb290-25"><a href="#cb290-25" tabindex="-1"></a><span class="co">#   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb290-26"><a href="#cb290-26" tabindex="-1"></a><span class="co">#   1 -0.383 -0.118 -0.388 -0.766 -0.610 -0.279 0.617 -0.0423</span></span></code></pre></div>
<p>purrr uses the convention that suffixes, like <code>_dbl()</code>, refer to the output. All <code>map_*()</code> functions can take any type of vector as input.</p>
</div>
<div id="anonymous-functions" class="section level2" number="12.3">
<h2><span class="header-section-number">12.3</span> Anonymous functions</h2>
<p>There are multiple ways of structuring a <code>map()</code> call</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="#cb291-1" tabindex="-1"></a><span class="fu">map</span>(df_list, mean)</span>
<span id="cb291-2"><a href="#cb291-2" tabindex="-1"></a></span>
<span id="cb291-3"><a href="#cb291-3" tabindex="-1"></a>df_list <span class="sc">|&gt;</span>  </span>
<span id="cb291-4"><a href="#cb291-4" tabindex="-1"></a>  <span class="fu">map</span>(mean)</span>
<span id="cb291-5"><a href="#cb291-5" tabindex="-1"></a></span>
<span id="cb291-6"><a href="#cb291-6" tabindex="-1"></a>df_list <span class="sc">|&gt;</span> </span>
<span id="cb291-7"><a href="#cb291-7" tabindex="-1"></a>    <span class="fu">map</span>(<span class="sc">~</span><span class="fu">mean</span>(.))</span></code></pre></div>
<div id="whats-up-with" class="section level3" number="12.3.1">
<h3><span class="header-section-number">12.3.1</span> What's up with <code>~</code>?</h3>
<p>Instead of using <code>map()</code> with an exisiting function, we can use inline anonymous functions as demonstrated with <code>apply()</code></p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="#cb292-1" tabindex="-1"></a><span class="fu">map_dbl</span>(df_list, <span class="cf">function</span>(x) <span class="fu">sum</span>(x)<span class="sc">/</span><span class="fu">length</span>(x))</span></code></pre></div>
<pre><code>##           a           b           c           d           e           f 
## -0.38315741 -0.11817071 -0.38794682 -0.76619306 -0.60979706 -0.27886474 
##           g           h 
##  0.61659223 -0.04230209</code></pre>
<p>But this is quite <em>verbose</em> we can use <code>~</code> to support a shortcut</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="#cb294-1" tabindex="-1"></a><span class="fu">map_dbl</span>(df_list, <span class="sc">~</span> <span class="fu">sum</span>(.x)<span class="sc">/</span><span class="fu">length</span>(.x))</span></code></pre></div>
<pre><code>##           a           b           c           d           e           f 
## -0.38315741 -0.11817071 -0.38794682 -0.76619306 -0.60979706 -0.27886474 
##           g           h 
##  0.61659223 -0.04230209</code></pre>
<p>It look a little quirky but you to refer to <code>.</code> for argument functions.</p>
<div class="info">
<p>
Reserve this syntax for short and simple functions. A good rule of
thumb is that if your function spans lines or uses {}, it’s time to give
it a name.
</p>
</div>
</div>
<div id="passing-arguments" class="section level3" number="12.3.2">
<h3><span class="header-section-number">12.3.2</span> Passing arguments</h3>
<p><code>map</code> functions all pass <code>...</code> along, so there are two ways we can pass additional arguments to functions</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="#cb296-1" tabindex="-1"></a><span class="fu">map_dbl</span>(df_list, <span class="sc">~</span> <span class="fu">mean</span>(.x, <span class="at">na.rm =</span> T))</span>
<span id="cb296-2"><a href="#cb296-2" tabindex="-1"></a></span>
<span id="cb296-3"><a href="#cb296-3" tabindex="-1"></a></span>
<span id="cb296-4"><a href="#cb296-4" tabindex="-1"></a><span class="fu">map_dbl</span>(df_list, mean, <span class="at">na.rm =</span> T)</span></code></pre></div>
</div>
</div>
<div id="map-with-nested-dataframes" class="section level2" number="12.4">
<h2><span class="header-section-number">12.4</span> map with nested dataframes</h2>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="#cb297-1" tabindex="-1"></a>nested_penguins <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb297-2"><a href="#cb297-2" tabindex="-1"></a>  <span class="fu">nest</span>(<span class="at">data =</span> <span class="sc">-</span>species)</span>
<span id="cb297-3"><a href="#cb297-3" tabindex="-1"></a></span>
<span id="cb297-4"><a href="#cb297-4" tabindex="-1"></a>nested_heavy_penguins <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb297-5"><a href="#cb297-5" tabindex="-1"></a>    <span class="fu">nest</span>(<span class="at">data =</span> <span class="sc">-</span>species) <span class="sc">|&gt;</span> </span>
<span id="cb297-6"><a href="#cb297-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">new_data =</span> <span class="fu">map</span>(data, <span class="sc">~</span> .x </span>
<span id="cb297-7"><a href="#cb297-7" tabindex="-1"></a>                        <span class="sc">|&gt;</span> <span class="fu">filter</span>(body_mass_g <span class="sc">&gt;</span> <span class="dv">3000</span>))</span>
<span id="cb297-8"><a href="#cb297-8" tabindex="-1"></a>         )</span>
<span id="cb297-9"><a href="#cb297-9" tabindex="-1"></a></span>
<span id="cb297-10"><a href="#cb297-10" tabindex="-1"></a>plots <span class="ot">&lt;-</span> nested_heavy_penguins <span class="sc">|&gt;</span> </span>
<span id="cb297-11"><a href="#cb297-11" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">scatterplots =</span> <span class="fu">map</span>(new_data, <span class="sc">~</span> </span>
<span id="cb297-12"><a href="#cb297-12" tabindex="-1"></a>            <span class="fu">ggplot</span>(<span class="at">data =</span> .x, <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">y =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb297-13"><a href="#cb297-13" tabindex="-1"></a>                <span class="fu">geom_point</span>()</span>
<span id="cb297-14"><a href="#cb297-14" tabindex="-1"></a>        ))</span></code></pre></div>
<p>Plots can now be called in a number of ways</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="#cb298-1" tabindex="-1"></a>plots[[<span class="dv">1</span>,<span class="dv">4</span>]]</span>
<span id="cb298-2"><a href="#cb298-2" tabindex="-1"></a></span>
<span id="cb298-3"><a href="#cb298-3" tabindex="-1"></a>plots<span class="sc">$</span>scatterplots[[<span class="dv">1</span>]]</span></code></pre></div>
<div class="info">
<p>
gg objects are not the only type of objects that can be created using
map() and mutate(). Another application of these two functions is
fitting models to our data and storing the results in a new column. For
example, we could use map() and mutate() to fit a linear regression
model to the x and y columns and store the model output in a new
column
</p>
</div>
<p>To view all the plots together, we can use the <code>patchwork::wrap_plots()</code> function</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="#cb299-1" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb299-2"><a href="#cb299-2" tabindex="-1"></a>plots<span class="sc">$</span>scatterplots <span class="sc">|&gt;</span> <span class="fu">wrap_plots</span>()</span></code></pre></div>
<p><img src="03-functional-programming_files/figure-html/unnamed-chunk-109-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="map2" class="section level2" number="12.5">
<h2><span class="header-section-number">12.5</span> map2</h2>
<p><code>map2</code> is a versatile function in the <code>purrr</code> package for R that allows you to iterate over <strong>two</strong> input vectors or lists in parallel, applying a specified function to pairs of corresponding elements. It's particularly useful when you need to perform operations that depend on elements from two separate input sources simultaneously, offering a powerful way to combine and process data in a pairwise manner.</p>
<p>Here is a quick example building on our plot making function - where we are able to alter the colour of the plots according to a</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="#cb300-1" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb300-2"><a href="#cb300-2" tabindex="-1"></a>  <span class="st">&quot;Adelie&quot;</span> <span class="ot">=</span> <span class="st">&quot;#FF8C00&quot;</span>, </span>
<span id="cb300-3"><a href="#cb300-3" tabindex="-1"></a>  <span class="st">&quot;Chinstrap&quot;</span> <span class="ot">=</span> <span class="st">&quot;#A034F0&quot;</span>, </span>
<span id="cb300-4"><a href="#cb300-4" tabindex="-1"></a>  <span class="st">&quot;Gentoo&quot;</span> <span class="ot">=</span> <span class="st">&quot;#159090&quot;</span>)</span>
<span id="cb300-5"><a href="#cb300-5" tabindex="-1"></a></span>
<span id="cb300-6"><a href="#cb300-6" tabindex="-1"></a></span>
<span id="cb300-7"><a href="#cb300-7" tabindex="-1"></a>plots <span class="ot">&lt;-</span> nested_heavy_penguins <span class="sc">|&gt;</span> </span>
<span id="cb300-8"><a href="#cb300-8" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">scatterplots =</span> <span class="fu">map2</span>(<span class="at">.x =</span> new_data, <span class="at">.y =</span> pal, <span class="sc">~</span> </span>
<span id="cb300-9"><a href="#cb300-9" tabindex="-1"></a>            <span class="fu">ggplot</span>(<span class="at">data =</span> .x, <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">y =</span> flipper_length_mm, <span class="at">colour =</span> .y)) <span class="sc">+</span></span>
<span id="cb300-10"><a href="#cb300-10" tabindex="-1"></a>                <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb300-11"><a href="#cb300-11" tabindex="-1"></a>              <span class="fu">scale_colour_identity</span>()</span>
<span id="cb300-12"><a href="#cb300-12" tabindex="-1"></a>        ))</span>
<span id="cb300-13"><a href="#cb300-13" tabindex="-1"></a></span>
<span id="cb300-14"><a href="#cb300-14" tabindex="-1"></a></span>
<span id="cb300-15"><a href="#cb300-15" tabindex="-1"></a>plots<span class="sc">$</span>scatterplots <span class="sc">|&gt;</span> </span>
<span id="cb300-16"><a href="#cb300-16" tabindex="-1"></a>    <span class="fu">wrap_plots</span>(<span class="at">... =</span> _, <span class="at">guides =</span> <span class="st">&quot;collect&quot;</span>)</span></code></pre></div>
<p><img src="03-functional-programming_files/figure-html/unnamed-chunk-110-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div id="running-different-summary-functions-on-each-nested-dataframe" class="section level3" number="12.5.1">
<h3><span class="header-section-number">12.5.1</span> Running different summary functions on each nested dataframe</h3>
<p>When working with nested data frames, <code>map2</code> provides the capability to apply distinct functions to each nested data frame, making it a versatile tool for performing customized and specialized operations on grouped data. This flexibility is distinct from simple operations with <code>group_by()</code>, as it allows you to tailor your computations to the unique characteristics of each subgroup within your nested data structure.</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="#cb301-1" tabindex="-1"></a>summary_functions <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb301-2"><a href="#cb301-2" tabindex="-1"></a>    Adelie <span class="ot">&lt;-</span> <span class="cf">function</span>(data) {</span>
<span id="cb301-3"><a href="#cb301-3" tabindex="-1"></a>        <span class="fu">summarise</span>(data, </span>
<span id="cb301-4"><a href="#cb301-4" tabindex="-1"></a>                  <span class="at">mean_bill_length =</span> <span class="fu">mean</span>(bill_length_mm, <span class="at">na.rm =</span> T),</span>
<span id="cb301-5"><a href="#cb301-5" tabindex="-1"></a>                  <span class="at">mean_flipper_length =</span> <span class="fu">mean</span>(flipper_length_mm, <span class="at">na.rm =</span> T))</span>
<span id="cb301-6"><a href="#cb301-6" tabindex="-1"></a>    },</span>
<span id="cb301-7"><a href="#cb301-7" tabindex="-1"></a>    Chinstrap <span class="ot">&lt;-</span> <span class="cf">function</span>(data) {</span>
<span id="cb301-8"><a href="#cb301-8" tabindex="-1"></a>        <span class="fu">summarise</span>(data,</span>
<span id="cb301-9"><a href="#cb301-9" tabindex="-1"></a>                  <span class="at">max_bill_length =</span> <span class="fu">max</span>(bill_length_mm, <span class="at">na.rm =</span> T),</span>
<span id="cb301-10"><a href="#cb301-10" tabindex="-1"></a>                  <span class="at">max_flipper_length =</span> <span class="fu">max</span>(flipper_length_mm, <span class="at">na.rm =</span> T))</span>
<span id="cb301-11"><a href="#cb301-11" tabindex="-1"></a>    },</span>
<span id="cb301-12"><a href="#cb301-12" tabindex="-1"></a>    Gentoo <span class="ot">&lt;-</span> <span class="cf">function</span>(data) {</span>
<span id="cb301-13"><a href="#cb301-13" tabindex="-1"></a>        <span class="fu">summarise</span>(data,</span>
<span id="cb301-14"><a href="#cb301-14" tabindex="-1"></a>                  <span class="at">min_bill_length =</span> <span class="fu">min</span>(bill_length_mm, <span class="at">na.rm =</span> T),</span>
<span id="cb301-15"><a href="#cb301-15" tabindex="-1"></a>                  <span class="at">min_flipper_length =</span> <span class="fu">min</span>(flipper_length_mm, <span class="at">na.rm =</span> T))</span>
<span id="cb301-16"><a href="#cb301-16" tabindex="-1"></a>    }</span>
<span id="cb301-17"><a href="#cb301-17" tabindex="-1"></a>)</span>
<span id="cb301-18"><a href="#cb301-18" tabindex="-1"></a></span>
<span id="cb301-19"><a href="#cb301-19" tabindex="-1"></a><span class="co"># Apply the summary functions to each species using map2</span></span>
<span id="cb301-20"><a href="#cb301-20" tabindex="-1"></a>result <span class="ot">&lt;-</span> nested_penguins <span class="sc">%&gt;%</span></span>
<span id="cb301-21"><a href="#cb301-21" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">summaries =</span> <span class="fu">map2</span>(data, summary_functions, <span class="sc">~</span> <span class="fu">.y</span>(.x)))</span>
<span id="cb301-22"><a href="#cb301-22" tabindex="-1"></a></span>
<span id="cb301-23"><a href="#cb301-23" tabindex="-1"></a>result<span class="sc">$</span>summaries</span></code></pre></div>
<pre><code>## [[1]]
## # A tibble: 1 × 2
##   mean_bill_length mean_flipper_length
##              &lt;dbl&gt;               &lt;dbl&gt;
## 1             38.8                190.
## 
## [[2]]
## # A tibble: 1 × 2
##   max_bill_length max_flipper_length
##             &lt;dbl&gt;              &lt;int&gt;
## 1            59.6                231
## 
## [[3]]
## # A tibble: 1 × 2
##   min_bill_length min_flipper_length
##             &lt;dbl&gt;              &lt;int&gt;
## 1            40.9                178</code></pre>
</div>
</div>
<div id="exercises-1" class="section level2" number="12.6">
<h2><span class="header-section-number">12.6</span> Exercises</h2>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
In the previous chapter with apply we wrote the <code>z_score()</code> function, can you apply this using map to our <code>df</code> tibble?
</div>
</div>
<button id="displayTextunnamed-chunk-113" onclick="javascript:toggle(&#39;unnamed-chunk-113&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-113" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="#cb303-1" tabindex="-1"></a><span class="fu">map_df</span>(<span class="at">.x =</span> df, </span>
<span id="cb303-2"><a href="#cb303-2" tabindex="-1"></a>       <span class="at">.f =</span> z_score)</span>
<span id="cb303-3"><a href="#cb303-3" tabindex="-1"></a></span>
<span id="cb303-4"><a href="#cb303-4" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb303-5"><a href="#cb303-5" tabindex="-1"></a>  <span class="fu">map_df</span>(z_score)</span>
<span id="cb303-6"><a href="#cb303-6" tabindex="-1"></a></span>
<span id="cb303-7"><a href="#cb303-7" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb303-8"><a href="#cb303-8" tabindex="-1"></a>    <span class="fu">map_df</span>(<span class="sc">~</span><span class="fu">z_score</span>(.))</span></code></pre></div>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
LPI data loops
</div>
</div>
</div>
</div>
<div id="bonus-simulation" class="section level1" number="13">
<h1><span class="header-section-number">13</span> Bonus: Simulation</h1>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="#cb304-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb304-2"><a href="#cb304-2" tabindex="-1"></a></span>
<span id="cb304-3"><a href="#cb304-3" tabindex="-1"></a><span class="co"># Define a function to run the simulation for a given sample size and effect size</span></span>
<span id="cb304-4"><a href="#cb304-4" tabindex="-1"></a>simulate_difference <span class="ot">&lt;-</span> <span class="cf">function</span>(sample_size, effect_size) {</span>
<span id="cb304-5"><a href="#cb304-5" tabindex="-1"></a>    <span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb304-6"><a href="#cb304-6" tabindex="-1"></a>    </span>
<span id="cb304-7"><a href="#cb304-7" tabindex="-1"></a>    <span class="co"># Initialize a data frame to store the estimated differences</span></span>
<span id="cb304-8"><a href="#cb304-8" tabindex="-1"></a>    results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Simulated_Difference =</span> <span class="fu">numeric</span>(<span class="dv">100</span>))</span>
<span id="cb304-9"><a href="#cb304-9" tabindex="-1"></a>    </span>
<span id="cb304-10"><a href="#cb304-10" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) {  <span class="co"># Perform 100 simulations for the fixed sample size</span></span>
<span id="cb304-11"><a href="#cb304-11" tabindex="-1"></a>        <span class="co"># Generate data for two groups with a specified effect size</span></span>
<span id="cb304-12"><a href="#cb304-12" tabindex="-1"></a>        group1 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(sample_size, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>)</span>
<span id="cb304-13"><a href="#cb304-13" tabindex="-1"></a>        group2 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(sample_size, <span class="at">mean =</span> effect_size, <span class="at">sd =</span> <span class="dv">1</span>)</span>
<span id="cb304-14"><a href="#cb304-14" tabindex="-1"></a>        </span>
<span id="cb304-15"><a href="#cb304-15" tabindex="-1"></a>        <span class="co"># Create a data frame for the two groups</span></span>
<span id="cb304-16"><a href="#cb304-16" tabindex="-1"></a>        data_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Group =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Group1&quot;</span>, <span class="st">&quot;Group2&quot;</span>), <span class="at">each =</span> sample_size),</span>
<span id="cb304-17"><a href="#cb304-17" tabindex="-1"></a>                              <span class="at">Value =</span> <span class="fu">c</span>(group1, group2))</span>
<span id="cb304-18"><a href="#cb304-18" tabindex="-1"></a>        </span>
<span id="cb304-19"><a href="#cb304-19" tabindex="-1"></a>        <span class="co"># Fit a linear model to estimate the difference in means</span></span>
<span id="cb304-20"><a href="#cb304-20" tabindex="-1"></a>        lm_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(Value <span class="sc">~</span> Group, <span class="at">data =</span> data_df)</span>
<span id="cb304-21"><a href="#cb304-21" tabindex="-1"></a>        </span>
<span id="cb304-22"><a href="#cb304-22" tabindex="-1"></a>        <span class="co"># Extract the estimated difference from the model</span></span>
<span id="cb304-23"><a href="#cb304-23" tabindex="-1"></a>        estimated_difference <span class="ot">&lt;-</span> <span class="fu">coef</span>(lm_model)[<span class="dv">2</span>]</span>
<span id="cb304-24"><a href="#cb304-24" tabindex="-1"></a>        </span>
<span id="cb304-25"><a href="#cb304-25" tabindex="-1"></a>        results<span class="sc">$</span>Simulated_Difference[i] <span class="ot">&lt;-</span> estimated_difference</span>
<span id="cb304-26"><a href="#cb304-26" tabindex="-1"></a>    }</span>
<span id="cb304-27"><a href="#cb304-27" tabindex="-1"></a>    </span>
<span id="cb304-28"><a href="#cb304-28" tabindex="-1"></a>    <span class="co"># Return the data frame of estimated differences</span></span>
<span id="cb304-29"><a href="#cb304-29" tabindex="-1"></a>    <span class="fu">return</span>(results)</span>
<span id="cb304-30"><a href="#cb304-30" tabindex="-1"></a>}</span>
<span id="cb304-31"><a href="#cb304-31" tabindex="-1"></a></span>
<span id="cb304-32"><a href="#cb304-32" tabindex="-1"></a><span class="co"># Fixed sample size of 20</span></span>
<span id="cb304-33"><a href="#cb304-33" tabindex="-1"></a>sample_size <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb304-34"><a href="#cb304-34" tabindex="-1"></a></span>
<span id="cb304-35"><a href="#cb304-35" tabindex="-1"></a><span class="co"># Set the effect size</span></span>
<span id="cb304-36"><a href="#cb304-36" tabindex="-1"></a>effect_size <span class="ot">&lt;-</span> .<span class="dv">8</span>  <span class="co"># Adjust as needed</span></span>
<span id="cb304-37"><a href="#cb304-37" tabindex="-1"></a></span>
<span id="cb304-38"><a href="#cb304-38" tabindex="-1"></a><span class="co"># Run the simulation for the fixed sample size</span></span>
<span id="cb304-39"><a href="#cb304-39" tabindex="-1"></a>simulation_results <span class="ot">&lt;-</span> <span class="fu">simulate_difference</span>(sample_size, effect_size)</span>
<span id="cb304-40"><a href="#cb304-40" tabindex="-1"></a></span>
<span id="cb304-41"><a href="#cb304-41" tabindex="-1"></a><span class="co"># Calculate the mean and 2.5th and 97.5th percentiles for the confidence interval</span></span>
<span id="cb304-42"><a href="#cb304-42" tabindex="-1"></a>mean_difference <span class="ot">&lt;-</span> <span class="fu">mean</span>(simulation_results<span class="sc">$</span>Simulated_Difference)</span>
<span id="cb304-43"><a href="#cb304-43" tabindex="-1"></a>lower_percentile <span class="ot">&lt;-</span> <span class="fu">quantile</span>(simulation_results<span class="sc">$</span>Simulated_Difference, <span class="fl">0.025</span>)</span>
<span id="cb304-44"><a href="#cb304-44" tabindex="-1"></a>upper_percentile <span class="ot">&lt;-</span> <span class="fu">quantile</span>(simulation_results<span class="sc">$</span>Simulated_Difference, <span class="fl">0.975</span>)</span>
<span id="cb304-45"><a href="#cb304-45" tabindex="-1"></a></span>
<span id="cb304-46"><a href="#cb304-46" tabindex="-1"></a><span class="co"># Create a density histogram of the estimated differences with lines for percentiles</span></span>
<span id="cb304-47"><a href="#cb304-47" tabindex="-1"></a><span class="fu">ggplot</span>(simulation_results, <span class="fu">aes</span>(<span class="at">x =</span> Simulated_Difference)) <span class="sc">+</span></span>
<span id="cb304-48"><a href="#cb304-48" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.05</span>, <span class="at">fill =</span> <span class="st">&quot;lightblue&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb304-49"><a href="#cb304-49" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> mean_difference), <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="sc">+</span></span>
<span id="cb304-50"><a href="#cb304-50" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> lower_percentile), <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb304-51"><a href="#cb304-51" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> upper_percentile), <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb304-52"><a href="#cb304-52" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Estimated Difference&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Density&quot;</span>) <span class="sc">+</span></span>
<span id="cb304-53"><a href="#cb304-53" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste</span>(<span class="st">&quot;Density Histogram of Estimated Differences (Sample Size = 20)&quot;</span>)) <span class="sc">+</span></span>
<span id="cb304-54"><a href="#cb304-54" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="03-functional-programming_files/figure-html/unnamed-chunk-115-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="#cb305-1" tabindex="-1"></a><span class="co"># Define a function to run the simulation for a given sample size and effect size</span></span>
<span id="cb305-2"><a href="#cb305-2" tabindex="-1"></a>simulate_power <span class="ot">&lt;-</span> <span class="cf">function</span>(sample_size, effect_size) {</span>
<span id="cb305-3"><a href="#cb305-3" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb305-4"><a href="#cb305-4" tabindex="-1"></a>  </span>
<span id="cb305-5"><a href="#cb305-5" tabindex="-1"></a>  <span class="co"># Initialize a counter for the number of significant t-tests</span></span>
<span id="cb305-6"><a href="#cb305-6" tabindex="-1"></a>  num_significant <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb305-7"><a href="#cb305-7" tabindex="-1"></a>  </span>
<span id="cb305-8"><a href="#cb305-8" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) {  <span class="co"># Perform 100 simulations for each sample size</span></span>
<span id="cb305-9"><a href="#cb305-9" tabindex="-1"></a></span>
<span id="cb305-10"><a href="#cb305-10" tabindex="-1"></a>          <span class="co"># Generate data for two groups with a specified effect size</span></span>
<span id="cb305-11"><a href="#cb305-11" tabindex="-1"></a>    group1 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(sample_size, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>)</span>
<span id="cb305-12"><a href="#cb305-12" tabindex="-1"></a>    group2 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(sample_size, <span class="at">mean =</span> effect_size, <span class="at">sd =</span> <span class="dv">1</span>)</span>
<span id="cb305-13"><a href="#cb305-13" tabindex="-1"></a></span>
<span id="cb305-14"><a href="#cb305-14" tabindex="-1"></a>     <span class="co"># Create a data frame for the two groups</span></span>
<span id="cb305-15"><a href="#cb305-15" tabindex="-1"></a>        data_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Group =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Group1&quot;</span>, <span class="st">&quot;Group2&quot;</span>), <span class="at">each =</span> sample_size),</span>
<span id="cb305-16"><a href="#cb305-16" tabindex="-1"></a>                              <span class="at">Value =</span> <span class="fu">c</span>(group1, group2))</span>
<span id="cb305-17"><a href="#cb305-17" tabindex="-1"></a>        </span>
<span id="cb305-18"><a href="#cb305-18" tabindex="-1"></a>        <span class="co"># Fit a linear model to estimate the difference in means</span></span>
<span id="cb305-19"><a href="#cb305-19" tabindex="-1"></a>        lm_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(Value <span class="sc">~</span> Group, <span class="at">data =</span> data_df)</span>
<span id="cb305-20"><a href="#cb305-20" tabindex="-1"></a>        </span>
<span id="cb305-21"><a href="#cb305-21" tabindex="-1"></a>        <span class="co"># Extract the p value from the model</span></span>
<span id="cb305-22"><a href="#cb305-22" tabindex="-1"></a>       </span>
<span id="cb305-23"><a href="#cb305-23" tabindex="-1"></a>      </span>
<span id="cb305-24"><a href="#cb305-24" tabindex="-1"></a>        </span>
<span id="cb305-25"><a href="#cb305-25" tabindex="-1"></a>    <span class="co"># Check if the null hypothesis is rejected (p-value &lt; 0.05)</span></span>
<span id="cb305-26"><a href="#cb305-26" tabindex="-1"></a>    <span class="cf">if</span> ( broom<span class="sc">::</span><span class="fu">tidy</span>(lm_model)[[<span class="dv">2</span>,<span class="dv">5</span>]] <span class="sc">&lt;</span> <span class="fl">0.05</span>) {</span>
<span id="cb305-27"><a href="#cb305-27" tabindex="-1"></a>      num_significant <span class="ot">&lt;-</span> num_significant <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb305-28"><a href="#cb305-28" tabindex="-1"></a>    }</span>
<span id="cb305-29"><a href="#cb305-29" tabindex="-1"></a>  }</span>
<span id="cb305-30"><a href="#cb305-30" tabindex="-1"></a>  </span>
<span id="cb305-31"><a href="#cb305-31" tabindex="-1"></a>  <span class="co"># Return the proportion of significant t-tests (power)</span></span>
<span id="cb305-32"><a href="#cb305-32" tabindex="-1"></a>  <span class="fu">return</span>(num_significant <span class="sc">/</span> <span class="dv">100</span>)</span>
<span id="cb305-33"><a href="#cb305-33" tabindex="-1"></a>}</span>
<span id="cb305-34"><a href="#cb305-34" tabindex="-1"></a></span>
<span id="cb305-35"><a href="#cb305-35" tabindex="-1"></a><span class="co"># Specify a range of sample sizes to test</span></span>
<span id="cb305-36"><a href="#cb305-36" tabindex="-1"></a>sample_sizes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">70</span>, <span class="dv">80</span>, <span class="dv">90</span>, <span class="dv">100</span>)</span>
<span id="cb305-37"><a href="#cb305-37" tabindex="-1"></a></span>
<span id="cb305-38"><a href="#cb305-38" tabindex="-1"></a><span class="co"># Set the effect size</span></span>
<span id="cb305-39"><a href="#cb305-39" tabindex="-1"></a>effect_size <span class="ot">&lt;-</span> <span class="dv">1</span>  <span class="co"># Adjust as needed</span></span>
<span id="cb305-40"><a href="#cb305-40" tabindex="-1"></a></span>
<span id="cb305-41"><a href="#cb305-41" tabindex="-1"></a><span class="co"># Run the simulation for each sample size</span></span>
<span id="cb305-42"><a href="#cb305-42" tabindex="-1"></a>simulation_results <span class="ot">&lt;-</span> <span class="fu">map_dbl</span>(sample_sizes, simulate_power, effect_size)</span>
<span id="cb305-43"><a href="#cb305-43" tabindex="-1"></a></span>
<span id="cb305-44"><a href="#cb305-44" tabindex="-1"></a><span class="co"># Plot the power as a function of sample size</span></span>
<span id="cb305-45"><a href="#cb305-45" tabindex="-1"></a><span class="fu">plot</span>(sample_sizes, simulation_results, <span class="at">type =</span> <span class="st">&quot;b&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Sample Size&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Power&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Power vs. Sample Size&quot;</span>)</span></code></pre></div>
<p><img src="03-functional-programming_files/figure-html/unnamed-chunk-116-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div id="further-reading" class="section level2" number="13.1">
<h2><span class="header-section-number">13.1</span> Further Reading:</h2>
<p>Simulations: <a href="https://rstudio-education.github.io/hopr/" class="uri">https://rstudio-education.github.io/hopr/</a></p>
<p><a href="https://aosmith.rbind.io/2018/01/09/simulate-simulate-part1/#simulate-simulate-dance-to-the-music" class="uri">https://aosmith.rbind.io/2018/01/09/simulate-simulate-part1/#simulate-simulate-dance-to-the-music</a></p>
<p><a href="https://aosmith.rbind.io/2019/07/22/automate-model-fitting-with-loops/" class="uri">https://aosmith.rbind.io/2019/07/22/automate-model-fitting-with-loops/</a></p>
<p><a href="https://aosmith.rbind.io/2017/12/31/many-datasets/#list-all-files-to-read-in" class="uri">https://aosmith.rbind.io/2017/12/31/many-datasets/#list-all-files-to-read-in</a></p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="#cb306-1" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code></pre></div>
<pre><code>## R version 4.3.1 (2023-06-16)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 20.04.6 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/atlas/libblas.so.3.10.3 
## LAPACK: /usr/lib/x86_64-linux-gnu/atlas/liblapack.so.3.10.3;  LAPACK version 3.9.0
## 
## locale:
##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       
##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   
##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          
## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   
## 
## time zone: UTC
## tzcode source: system (glibc)
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] patchwork_1.1.2       palmerpenguins_0.1.1  microbenchmark_1.4.10
##  [4] testthat_3.1.10       knitr_1.43            webexercises_1.1.0   
##  [7] glossary_1.0.0        lubridate_1.9.2       forcats_1.0.0        
## [10] stringr_1.5.0         dplyr_1.1.2           purrr_1.0.1          
## [13] readr_2.1.4           tidyr_1.3.0           tibble_3.2.1         
## [16] ggplot2_3.4.2         tidyverse_2.0.0      
## 
## loaded via a namespace (and not attached):
##  [1] sass_0.4.6        utf8_1.2.3        generics_0.1.3    xml2_1.3.5       
##  [5] stringi_1.7.12    hms_1.1.3         digest_0.6.33     magrittr_2.0.3   
##  [9] evaluate_0.21     grid_4.3.1        timechange_0.2.0  bookdown_0.34    
## [13] fastmap_1.1.1     jsonlite_1.8.7    backports_1.4.1   brio_1.1.3       
## [17] fansi_1.0.4       scales_1.2.1      codetools_0.2-19  jquerylib_0.1.4  
## [21] cli_3.6.1         rlang_1.1.1       munsell_0.5.0     withr_2.5.0      
## [25] cachem_1.0.8      yaml_2.3.7        tools_4.3.1       tzdb_0.4.0       
## [29] memoise_2.0.1     colorspace_2.1-0  broom_1.0.5       vctrs_0.6.3      
## [33] R6_2.5.1          lifecycle_1.0.3   fs_1.6.2          pkgconfig_2.0.3  
## [37] pillar_1.9.0      bslib_0.5.0       gtable_0.3.3      glue_1.6.2       
## [41] highr_0.10        xfun_0.39         tidyselect_1.2.0  rstudioapi_0.15.0
## [45] farver_2.1.1      htmltools_0.5.5   labeling_0.4.2    rmarkdown_2.23   
## [49] compiler_4.3.1    downlit_0.4.3</code></pre>
<!--chapter:end:03-functional-programming.Rmd-->
</div>
</div>
<div id="part-getting-the-most-out-of-tidyverse" class="section level1 unnumbered">
<h1 class="unnumbered">(PART*) Getting the most out of tidyverse</h1>
</div>
<div id="reading-files-with-readr" class="section level1" number="14">
<h1><span class="header-section-number">14</span> Reading files with <code>readr</code></h1>
<div id="cleaning-column-names" class="section level2" number="14.1">
<h2><span class="header-section-number">14.1</span> Cleaning column names</h2>
<p>Reading a CSV file often requires some data cleaning. For example, let's say I want to import data and convert all column names to <code>snake_case</code>.</p>
<p>Most of us would probably read the .CSV file first, then start data cleaning - for example with the <code>janitor::clean_names()</code> function.</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="#cb308-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb308-2"><a href="#cb308-2" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb308-3"><a href="#cb308-3" tabindex="-1"></a><span class="co">#load data</span></span>
<span id="cb308-4"><a href="#cb308-4" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">read_csv</span> (<span class="st">&quot;data/penguins_raw.csv&quot;</span>)</span>
<span id="cb308-5"><a href="#cb308-5" tabindex="-1"></a></span>
<span id="cb308-6"><a href="#cb308-6" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">read_csv</span>()</span>
<span id="cb308-7"><a href="#cb308-7" tabindex="-1"></a>janitor<span class="sc">::</span><span class="fu">clean_names</span>(penguins) </span></code></pre></div>
<p>In my previous example, I used the <code>clean_names()</code> function from the "janitor" package to convert the column names to lowercase. You can achieve the same result by using the <code>make_clean_names()</code> function within the <code>read_csv</code> function, specifying it in the <code>name_repair</code> argument.</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="#cb309-1" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">read_csv</span> (<span class="st">&quot;data/penguins_raw.csv&quot;</span>,</span>
<span id="cb309-2"><a href="#cb309-2" tabindex="-1"></a>                      <span class="at">name_repair =</span> janitor<span class="sc">::</span>make_clean_names)</span></code></pre></div>
<p>By default the <code>janitor::make_clean_names</code> function has a default argument of <code>snake_case</code> but within the function there is also a <code>case</code> argument where other common naming conventions can be used.</p>
</div>
<div id="selecting-columns" class="section level2" number="14.2">
<h2><span class="header-section-number">14.2</span> Selecting columns</h2>
<p>In addition to cleaning your column names, you can also directly select columns while using the "read_csv" function by utilizing the "col_select" argument. This can be extremely useful when working with large files, selecting only the columns you need can be memory-efficient.</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="#cb310-1" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">read_csv</span> (<span class="st">&quot;data/penguins_raw.csv&quot;</span>,</span>
<span id="cb310-2"><a href="#cb310-2" tabindex="-1"></a>                      <span class="at">name_repair =</span> janitor<span class="sc">::</span>make_clean_names,</span>
<span id="cb310-3"><a href="#cb310-3" tabindex="-1"></a>                      <span class="at">col_select =</span> <span class="fu">c</span>(species, body_mass_g, flipper_length_mm)) <span class="sc">|&gt;</span> </span>
<span id="cb310-4"><a href="#cb310-4" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
</div>
<div id="reading-multiple-files" class="section level2" number="14.3">
<h2><span class="header-section-number">14.3</span> Reading multiple files</h2>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="#cb311-1" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="fu">c</span>(<span class="st">&quot;data/many_files&quot;</span>))</span>
<span id="cb311-2"><a href="#cb311-2" tabindex="-1"></a>peng_samples <span class="ot">&lt;-</span> <span class="fu">map</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, <span class="sc">~</span> <span class="fu">slice_sample</span>(penguins, <span class="at">n =</span> <span class="dv">20</span>))</span>
<span id="cb311-3"><a href="#cb311-3" tabindex="-1"></a></span>
<span id="cb311-4"><a href="#cb311-4" tabindex="-1"></a><span class="fu">iwalk</span>(peng_samples, <span class="sc">~</span> <span class="fu">write_csv</span>(., <span class="fu">paste0</span>(<span class="st">&quot;data/many_files/&quot;</span>, .y, <span class="st">&quot;.csv&quot;</span>)))</span></code></pre></div>
<div id="create-a-vector-of-file-paths" class="section level3" number="14.3.1">
<h3><span class="header-section-number">14.3.1</span> Create a vector of file paths</h3>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="#cb312-1" tabindex="-1"></a>csv_files_list_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> <span class="st">&quot;data/many_files&quot;</span>,</span>
<span id="cb312-2"><a href="#cb312-2" tabindex="-1"></a>                                    <span class="at">pattern =</span> <span class="st">&quot;csv&quot;</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code> [1] &quot;data/many_files/1.csv&quot;  &quot;data/many_files/10.csv&quot; &quot;data/many_files/11.csv&quot; &quot;data/many_files/12.csv&quot;
 [5] &quot;data/many_files/13.csv&quot; &quot;data/many_files/14.csv&quot; &quot;data/many_files/15.csv&quot; &quot;data/many_files/16.csv&quot;
 [9] &quot;data/many_files/17.csv&quot; &quot;data/many_files/18.csv&quot; &quot;data/many_files/19.csv&quot; &quot;data/many_files/2.csv&quot; 
[13] &quot;data/many_files/20.csv&quot; &quot;data/many_files/21.csv&quot; &quot;data/many_files/22.csv&quot; &quot;data/many_files/23.csv&quot;
[17] &quot;data/many_files/24.csv&quot; &quot;data/many_files/25.csv&quot; &quot;data/many_files/3.csv&quot;  &quot;data/many_files/4.csv&quot; 
[21] &quot;data/many_files/5.csv&quot;  &quot;data/many_files/6.csv&quot;  &quot;data/many_files/7.csv&quot;  &quot;data/many_files/8.csv&quot; 
[25] &quot;data/many_files/9.csv&quot;</code></pre>
<p>The function "list.files" has several arguments. Here's an explanation of some key arguments:</p>
<ul>
<li><p>"path": This argument allows you to specify the directory where your files are located. It's essential to ensure the path is set correctly. You should be working within an R-Studio project or have defined your working directory to avoid issues.</p></li>
<li><p>"pattern": You provide a regular expression in this argument to filter the files you want to list. In your example, you mentioned that you are looking for files containing the string "csv." This helps narrow down the selection to specific file types or patterns.</p></li>
<li><p>"full.names": Setting this argument to <code>TRUE</code> indicates that you want to store the full paths of the files, not just their names. This is important for ensuring you can correctly access and read these files later. If "full.names" is not set to <code>TRUE</code>, you may encounter difficulties when attempting to read the files because the file paths would be incomplete.</p></li>
</ul>
</div>
<div id="read-multiple-files" class="section level3" number="14.3.2">
<h3><span class="header-section-number">14.3.2</span> Read multiple files</h3>
<p>Now that we have obtained the file paths, we can proceed to load the files into R. The preferred method in the tidyverse is to use the <code>map_dfr</code> function from the <code>purrr</code> package. This function iterates through all the file paths and combines the data frames into a single, unified data frame. In the following code, <code>.x</code> represents the file name or path. To read and output the actual content of the CSV files (not just the filenames), you should include <code>.x</code> (the path) within a <code>readr</code> function. While this example deals with CSV files, this approach works similarly for other rectangular file formats.</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="#cb314-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(csv_files_list_files,</span>
<span id="cb314-2"><a href="#cb314-2" tabindex="-1"></a>              <span class="sc">~</span> <span class="fu">read_csv</span>(.x))</span>
<span id="cb314-3"><a href="#cb314-3" tabindex="-1"></a></span>
<span id="cb314-4"><a href="#cb314-4" tabindex="-1"></a><span class="fu">glimpse</span>(df)</span></code></pre></div>
</div>
<div id="selecting-files" class="section level3" number="14.3.3">
<h3><span class="header-section-number">14.3.3</span> Selecting files</h3>
<p><code>stringr::str_detect()</code></p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="#cb315-1" tabindex="-1"></a>csv_files_list_files[<span class="fu">str_detect</span>(csv_files_list_files, <span class="at">pattern =</span> <span class="st">&quot;[2-4]&quot;</span>,</span>
<span id="cb315-2"><a href="#cb315-2" tabindex="-1"></a><span class="at">negate =</span> <span class="cn">FALSE</span>)]</span></code></pre></div>
<pre><code> [1] &quot;data/many_files/12.csv&quot; &quot;data/many_files/13.csv&quot; &quot;data/many_files/14.csv&quot;
 [4] &quot;data/many_files/2.csv&quot;  &quot;data/many_files/20.csv&quot; &quot;data/many_files/21.csv&quot;
 [7] &quot;data/many_files/22.csv&quot; &quot;data/many_files/23.csv&quot; &quot;data/many_files/24.csv&quot;
[10] &quot;data/many_files/25.csv&quot; &quot;data/many_files/3.csv&quot;  &quot;data/many_files/4.csv&quot;</code></pre>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="#cb317-1" tabindex="-1"></a>csv_files_list_files[<span class="fu">str_detect</span>(csv_files_list_files, <span class="at">pattern =</span> <span class="st">&quot;[24]</span><span class="sc">\\</span><span class="st">.csv$&quot;</span>)]</span></code></pre></div>
<pre><code>[1] &quot;data/many_files/12.csv&quot; &quot;data/many_files/14.csv&quot; &quot;data/many_files/2.csv&quot; 
[4] &quot;data/many_files/22.csv&quot; &quot;data/many_files/24.csv&quot; &quot;data/many_files/4.csv&quot;
</code></pre>
</div>
</div>
</div>
<div id="working-across-columns" class="section level1" number="15">
<h1><span class="header-section-number">15</span> Working across columns</h1>
<p>In this section we will go through the following functions:</p>
<ul>
<li><p><code>last_col()</code></p></li>
<li><p><code>starts_with()</code></p></li>
<li><p><code>ends_with()</code></p></li>
<li><p><code>contains()</code></p></li>
<li><p><code>matches()</code></p></li>
<li><p><code>num_range()</code></p></li>
<li><p><code>where()</code></p></li>
</ul>
<div id="select-the-last-column" class="section level2" number="15.1">
<h2><span class="header-section-number">15.1</span> Select the last column</h2>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="#cb319-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb319-2"><a href="#cb319-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">last_col</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb319-3"><a href="#cb319-3" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 344
## Columns: 1
## $ flipper_range &lt;fct&gt; small, small, medium, NA, medium, small, small, medium, …</code></pre>
<p>You can also select <code>n-to-the-last</code> with <code>last_col()</code></p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="#cb321-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb321-2"><a href="#cb321-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">last_col</span>(<span class="dv">3</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb321-3"><a href="#cb321-3" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 344
## Columns: 1
## $ delta_13_c_o_oo &lt;dbl&gt; NA, -24.69454, -25.33302, NA, -25.32426, -25.29805, -2…</code></pre>
<div class="info">
<p>
Indexing starts at 0, so 1 indicates n-1.
</p>
</div>
</div>
<div id="selecting-columns-based-on-string" class="section level2" number="15.2">
<h2><span class="header-section-number">15.2</span> Selecting columns based on string</h2>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="#cb323-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb323-2"><a href="#cb323-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">&quot;s&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb323-3"><a href="#cb323-3" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>Rows: 344
Columns: 5
$ study_name    &lt;chr&gt; &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;…
$ sample_number &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24,…
$ species       &lt;chr&gt; &quot;Adelie Penguin (Pygoscelis adeliae)&quot;, &quot;Adelie Penguin (Pygoscelis adeliae)&quot;, &quot;Adelie …
$ stage         &lt;chr&gt; &quot;Adult, 1 Egg Stage&quot;, &quot;Adult, 1 Egg Stage&quot;, &quot;Adult, 1 Egg Stage&quot;, &quot;Adult, 1 Egg Stage&quot;…
$ sex           &lt;chr&gt; &quot;MALE&quot;, &quot;FEMALE&quot;, &quot;FEMALE&quot;, NA, &quot;FEMALE&quot;, &quot;MALE&quot;, &quot;FEMALE&quot;, &quot;MALE&quot;, NA, NA, NA, NA, &quot;F…
</code></pre>
<p><code>starts_with</code> and <code>ends_with</code> works with any character, but also with a vector of characters</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="#cb325-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb325-2"><a href="#cb325-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="fu">c</span>(<span class="st">&quot;s&quot;</span>, <span class="st">&quot;c&quot;</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb325-3"><a href="#cb325-3" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>Rows: 344
Columns: 9
$ study_name        &lt;chr&gt; &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0…
$ sample_number     &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,…
$ species           &lt;chr&gt; &quot;Adelie Penguin (Pygoscelis adeliae)&quot;, &quot;Adelie Penguin (Pygoscelis adeliae)&quot;, &quot;Ade…
$ stage             &lt;chr&gt; &quot;Adult, 1 Egg Stage&quot;, &quot;Adult, 1 Egg Stage&quot;, &quot;Adult, 1 Egg Stage&quot;, &quot;Adult, 1 Egg St…
$ sex               &lt;chr&gt; &quot;MALE&quot;, &quot;FEMALE&quot;, &quot;FEMALE&quot;, NA, &quot;FEMALE&quot;, &quot;MALE&quot;, &quot;FEMALE&quot;, &quot;MALE&quot;, NA, NA, NA, NA…
$ clutch_completion &lt;chr&gt; &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, …
$ culmen_length_mm  &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, 42.0, 37.8, 37.8, 41.1, 38.6, …
$ culmen_depth_mm   &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, 20.2, 17.1, 17.3, 17.6, 21.2, …
$ comments          &lt;chr&gt; &quot;Not enough blood for isotopes.&quot;, NA, NA, &quot;Adult not sampled.&quot;, NA, NA, &quot;Nest neve…</code></pre>
<div id="contains" class="section level3" number="15.2.1">
<h3><span class="header-section-number">15.2.1</span> Contains</h3>
<p>We can also use the <code>contains()</code> function to search for columns that contain a specific string, it searches for an exact match to your string (no regular expressions) but is case-insensitive</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="#cb327-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb327-2"><a href="#cb327-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">&quot;length&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb327-3"><a href="#cb327-3" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>Rows: 344
Columns: 2
$ culmen_length_mm  &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, 42.0, 37.8, 37.8, 41.1, 38.6, …
$ flipper_length_mm &lt;dbl&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186, 180, 182, 191, 198, 185, 195…</code></pre>
</div>
<div id="regular-expressions" class="section level3" number="15.2.2">
<h3><span class="header-section-number">15.2.2</span> Regular expressions</h3>
<p><a href="https://help.relativity.com/RelativityOne/Content/Relativity/Regular_expressions/Searching_with_regular_expressions.htm#" class="uri">https://help.relativity.com/RelativityOne/Content/Relativity/Regular_expressions/Searching_with_regular_expressions.htm#</a>:~:text=For%20example%2C%20%E2%80%9C%5Cd%E2%80%9D,that%20follow%20a%20specific%20pattern.</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="#cb329-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb329-2"><a href="#cb329-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">&quot;[0-9]&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb329-3"><a href="#cb329-3" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>Rows: 344
Columns: 2
$ delta_15_n_o_oo &lt;dbl&gt; NA, 8.94956, 8.36821, NA, 8.76651, 8.66496, 9.18718, 9.46060, NA, 9.13362, 8.63243, …
$ delta_13_c_o_oo &lt;dbl&gt; NA, -24.69454, -25.33302, NA, -25.32426, -25.29805, -25.21799, -24.89958, NA, -25.09…
</code></pre>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="#cb331-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb331-2"><a href="#cb331-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">&quot;[0-9]&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb331-3"><a href="#cb331-3" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="#cb332-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb332-2"><a href="#cb332-2" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">&quot;length_[a-z][a-z]&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb332-3"><a href="#cb332-3" tabindex="-1"></a>    <span class="fu">glimpse</span>()</span></code></pre></div>
</div>
</div>
<div id="selecting-by-column-type" class="section level2" number="15.3">
<h2><span class="header-section-number">15.3</span> Selecting by column type</h2>
<p>The where function is used when you want to select variables of a specific data type in a dataset. For example, you can use it to select character variables.</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="#cb333-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb333-2"><a href="#cb333-2" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">where</span>(is.character)) <span class="sc">|&gt;</span> </span>
<span id="cb333-3"><a href="#cb333-3" tabindex="-1"></a>    <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>Rows: 344
Columns: 10
$ study_name        &lt;chr&gt; &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0…
$ species           &lt;chr&gt; &quot;Adelie Penguin (Pygoscelis adeliae)&quot;, &quot;Adelie Penguin (Pygoscelis adeliae)&quot;, &quot;Ade…
$ region            &lt;chr&gt; &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;A…
$ island            &lt;chr&gt; &quot;Torgersen&quot;, &quot;Torgersen&quot;, &quot;Torgersen&quot;, &quot;Torgersen&quot;, &quot;Torgersen&quot;, &quot;Torgersen&quot;, &quot;Tor…
$ stage             &lt;chr&gt; &quot;Adult, 1 Egg Stage&quot;, &quot;Adult, 1 Egg Stage&quot;, &quot;Adult, 1 Egg Stage&quot;, &quot;Adult, 1 Egg St…
$ individual_id     &lt;chr&gt; &quot;N1A1&quot;, &quot;N1A2&quot;, &quot;N2A1&quot;, &quot;N2A2&quot;, &quot;N3A1&quot;, &quot;N3A2&quot;, &quot;N4A1&quot;, &quot;N4A2&quot;, &quot;N5A1&quot;, &quot;N5A2&quot;, &quot;N…
$ clutch_completion &lt;chr&gt; &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, …
$ date_egg          &lt;chr&gt; &quot;11/11/2007&quot;, &quot;11/11/2007&quot;, &quot;16/11/2007&quot;, &quot;16/11/2007&quot;, &quot;16/11/2007&quot;, &quot;16/11/2007&quot;…
$ sex               &lt;chr&gt; &quot;MALE&quot;, &quot;FEMALE&quot;, &quot;FEMALE&quot;, NA, &quot;FEMALE&quot;, &quot;MALE&quot;, &quot;FEMALE&quot;, &quot;MALE&quot;, NA, NA, NA, NA…
$ comments          &lt;chr&gt; &quot;Not enough blood for isotopes.&quot;, NA, NA, &quot;Adult not sampled.&quot;, NA, NA, &quot;Nest neve…</code></pre>
<p>Other "predicate functions" include</p>
<ul>
<li><p>is.double</p></li>
<li><p>is.numeric</p></li>
<li><p>is.logical</p></li>
<li><p>is.factor</p></li>
<li><p>is.integer</p></li>
</ul>
</div>
<div id="combos" class="section level2" number="15.4">
<h2><span class="header-section-number">15.4</span> Combos</h2>
<p>Using standard logical operators such as <code>|</code> and <code>&amp;</code> we can string toether different combinations of selection criteria</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="#cb335-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb335-2"><a href="#cb335-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric) <span class="sc">|</span> <span class="fu">contains</span>(<span class="st">&quot;species&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb335-3"><a href="#cb335-3" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>Rows: 344
Columns: 8
$ sample_number     &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,…
$ culmen_length_mm  &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, 42.0, 37.8, 37.8, 41.1, 38.6, …
$ culmen_depth_mm   &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, 20.2, 17.1, 17.3, 17.6, 21.2, …
$ flipper_length_mm &lt;dbl&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186, 180, 182, 191, 198, 185, 195…
$ body_mass_g       &lt;dbl&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, 4250, 3300, 3700, 3200, 3800, …
$ delta_15_n_o_oo   &lt;dbl&gt; NA, 8.94956, 8.36821, NA, 8.76651, 8.66496, 9.18718, 9.46060, NA, 9.13362, 8.63243…
$ delta_13_c_o_oo   &lt;dbl&gt; NA, -24.69454, -25.33302, NA, -25.32426, -25.29805, -25.21799, -24.89958, NA, -25.…
$ species           &lt;chr&gt; &quot;Adelie Penguin (Pygoscelis adeliae)&quot;, &quot;Adelie Penguin (Pygoscelis adeliae)&quot;, &quot;Ade…
</code></pre>
</div>
</div>
<div id="modifying-variables" class="section level1" number="16">
<h1><span class="header-section-number">16</span> Modifying variables</h1>
<div id="count" class="section level2" number="16.1">
<h2><span class="header-section-number">16.1</span> count</h2>
</div>
<div id="extract" class="section level2" number="16.2">
<h2><span class="header-section-number">16.2</span> extract</h2>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="#cb337-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb337-2"><a href="#cb337-2" tabindex="-1"></a>  <span class="fu">separate</span>(species,</span>
<span id="cb337-3"><a href="#cb337-3" tabindex="-1"></a>          <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;species&quot;</span>, <span class="st">&quot;full_latin_name&quot;</span>),</span>
<span id="cb337-4"><a href="#cb337-4" tabindex="-1"></a>          <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">(&quot;</span></span>
<span id="cb337-5"><a href="#cb337-5" tabindex="-1"></a>          )</span></code></pre></div>
<p>This approach reaches its limits quite quickly - note here it has left an ugly <code>)</code> on the end of the second column. There are also issues when we lack a clear separator to distinguish the columns we want to create. For these use cases we have extract.</p>
<p>Now suppose you want to separate the common names and latin names of the species variable by regex:</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="#cb338-1" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb338-2"><a href="#cb338-2" tabindex="-1"></a>  <span class="fu">extract</span>(species,</span>
<span id="cb338-3"><a href="#cb338-3" tabindex="-1"></a>          <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;species&quot;</span>, <span class="st">&quot;full_latin_name&quot;</span>),</span>
<span id="cb338-4"><a href="#cb338-4" tabindex="-1"></a>          <span class="at">regex =</span> <span class="st">&quot;(</span><span class="sc">\\</span><span class="st">w+) .* </span><span class="sc">\\</span><span class="st">(([^)]+)</span><span class="sc">\\</span><span class="st">)&quot;</span></span>
<span id="cb338-5"><a href="#cb338-5" tabindex="-1"></a>          )</span>
<span id="cb338-6"><a href="#cb338-6" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">colnames</span>()</span></code></pre></div>
<pre><code>##  [1] &quot;study_name&quot;        &quot;sample_number&quot;     &quot;species&quot;          
##  [4] &quot;full_latin_name&quot;   &quot;region&quot;            &quot;island&quot;           
##  [7] &quot;stage&quot;             &quot;individual_id&quot;     &quot;clutch_completion&quot;
## [10] &quot;date_egg&quot;          &quot;culmen_length_mm&quot;  &quot;culmen_depth_mm&quot;  
## [13] &quot;flipper_length_mm&quot; &quot;body_mass_g&quot;       &quot;sex&quot;              
## [16] &quot;delta_15_n_o_oo&quot;   &quot;delta_13_c_o_oo&quot;   &quot;comments&quot;         
## [19] &quot;date_egg_proper&quot;   &quot;flipper_range&quot;</code></pre>
<ul>
<li><p>The first group captures at least 1 letter (\w+).</p></li>
<li><p>The column is then followed by a space, and all characters in between are followed by
another space: .*</p></li>
<li><p>The last group contains anything found inside brackets <code>()</code></p></li>
</ul>
</div>
</div>
<div id="factors-1" class="section level1" number="17">
<h1><span class="header-section-number">17</span> Factors</h1>
<div id="anonymising-factors" class="section level2" number="17.1">
<h2><span class="header-section-number">17.1</span> Anonymising factors</h2>
<p>Sometimes you want to make your data completely anonymous so that other people can’t see sensitive information. Or because you wish to blind you own analyses.</p>
<p><code>forcats::fct_anon</code></p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="#cb340-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb340-2"><a href="#cb340-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">fct_anon</span>(species,</span>
<span id="cb340-3"><a href="#cb340-3" tabindex="-1"></a>         <span class="at">prefix =</span> <span class="st">&quot;species_&quot;</span>))</span></code></pre></div>
</div>
<div id="lump-factors" class="section level2" number="17.2">
<h2><span class="header-section-number">17.2</span> lump factors</h2>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="#cb341-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb341-2"><a href="#cb341-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">body_size =</span> <span class="fu">fct_lump_min</span>(<span class="fu">as_factor</span>(species), <span class="dv">50</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb341-3"><a href="#cb341-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> body_size,</span>
<span id="cb341-4"><a href="#cb341-4" tabindex="-1"></a>         <span class="at">y =</span> flipper_length_mm))<span class="sc">+</span></span>
<span id="cb341-5"><a href="#cb341-5" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
</div>
<div id="ordering-factors" class="section level2" number="17.3">
<h2><span class="header-section-number">17.3</span> ordering factors</h2>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="#cb342-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb342-2"><a href="#cb342-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">fct_relevel</span>(species, <span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span>, <span class="st">&quot;Gentoo&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb342-3"><a href="#cb342-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species))<span class="sc">+</span></span>
<span id="cb342-4"><a href="#cb342-4" tabindex="-1"></a>  <span class="fu">geom_bar</span>()<span class="sc">+</span></span>
<span id="cb342-5"><a href="#cb342-5" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="04-tidyverse_files/figure-html/unnamed-chunk-26-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>With the function <code>fct_infreq</code> we can change the order according to how frequently each level occurs</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="#cb343-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb343-2"><a href="#cb343-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">fct_infreq</span>(species)) <span class="sc">|&gt;</span> </span>
<span id="cb343-3"><a href="#cb343-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species))<span class="sc">+</span></span>
<span id="cb343-4"><a href="#cb343-4" tabindex="-1"></a>  <span class="fu">geom_bar</span>()<span class="sc">+</span></span>
<span id="cb343-5"><a href="#cb343-5" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="04-tidyverse_files/figure-html/unnamed-chunk-27-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="#cb344-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb344-2"><a href="#cb344-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">fct_rev</span>(<span class="fu">as_factor</span>(species))) <span class="sc">|&gt;</span> </span>
<span id="cb344-3"><a href="#cb344-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species))<span class="sc">+</span></span>
<span id="cb344-4"><a href="#cb344-4" tabindex="-1"></a>  <span class="fu">geom_bar</span>()<span class="sc">+</span></span>
<span id="cb344-5"><a href="#cb344-5" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="04-tidyverse_files/figure-html/unnamed-chunk-28-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p><code>fct_reorder</code> allows us to order the levels based on another continuous variable</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="#cb345-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb345-2"><a href="#cb345-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">as_factor</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb345-3"><a href="#cb345-3" tabindex="-1"></a>           <span class="fu">fct_reorder</span>(body_mass_g,</span>
<span id="cb345-4"><a href="#cb345-4" tabindex="-1"></a>                       <span class="at">.fun =</span> median)) <span class="sc">|&gt;</span> </span>
<span id="cb345-5"><a href="#cb345-5" tabindex="-1"></a>  <span class="co"># by default the levels are ordered by the median values of the continuous variable</span></span>
<span id="cb345-6"><a href="#cb345-6" tabindex="-1"></a>  <span class="co"># mean, min and max can all be included here</span></span>
<span id="cb345-7"><a href="#cb345-7" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species,</span>
<span id="cb345-8"><a href="#cb345-8" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g,</span>
<span id="cb345-9"><a href="#cb345-9" tabindex="-1"></a>             <span class="at">colour =</span> species))<span class="sc">+</span></span>
<span id="cb345-10"><a href="#cb345-10" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> .<span class="dv">2</span>,</span>
<span id="cb345-11"><a href="#cb345-11" tabindex="-1"></a>               <span class="at">outlier.shape =</span> <span class="cn">NA</span>)<span class="sc">+</span></span>
<span id="cb345-12"><a href="#cb345-12" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> .<span class="dv">2</span>,</span>
<span id="cb345-13"><a href="#cb345-13" tabindex="-1"></a>              <span class="at">alpha =</span> .<span class="dv">4</span>)</span></code></pre></div>
<p><img src="04-tidyverse_files/figure-html/unnamed-chunk-29-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="applying-functions-across-columns" class="section level1" number="18">
<h1><span class="header-section-number">18</span> Applying functions across columns</h1>
<div id="calculate-summary-statistics-across-columns" class="section level2" number="18.1">
<h2><span class="header-section-number">18.1</span> calculate summary statistics across columns</h2>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="#cb346-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb346-2"><a href="#cb346-2" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb346-3"><a href="#cb346-3" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb346-4"><a href="#cb346-4" tabindex="-1"></a>    <span class="at">mean_body_mass =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> T),</span>
<span id="cb346-5"><a href="#cb346-5" tabindex="-1"></a>    <span class="at">mean_flipper_length =</span> <span class="fu">mean</span>(flipper_length_mm, <span class="at">na.rm =</span> T)</span>
<span id="cb346-6"><a href="#cb346-6" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="#cb347-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb347-2"><a href="#cb347-2" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb347-3"><a href="#cb347-3" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb347-4"><a href="#cb347-4" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb347-5"><a href="#cb347-5" tabindex="-1"></a>      <span class="at">.cols =</span> <span class="fu">where</span>(is.numeric),</span>
<span id="cb347-6"><a href="#cb347-6" tabindex="-1"></a>      <span class="at">.fns =</span> <span class="sc">~</span><span class="fu">mean</span>(.x, <span class="at">na.rm =</span> T),</span>
<span id="cb347-7"><a href="#cb347-7" tabindex="-1"></a>      <span class="at">.names =</span> <span class="st">&quot;mean_{.col}&quot;</span>)</span>
<span id="cb347-8"><a href="#cb347-8" tabindex="-1"></a>    )</span></code></pre></div>
<div class="kable-table">
<table>
<colgroup>
<col width="22%" />
<col width="10%" />
<col width="11%" />
<col width="11%" />
<col width="12%" />
<col width="9%" />
<col width="11%" />
<col width="11%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">species</th>
<th align="right">mean_sample_number</th>
<th align="right">mean_culmen_length_mm</th>
<th align="right">mean_culmen_depth_mm</th>
<th align="right">mean_flipper_length_mm</th>
<th align="right">mean_body_mass_g</th>
<th align="right">mean_delta_15_n_o_oo</th>
<th align="right">mean_delta_13_c_o_oo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Adelie Penguin (Pygoscelis adeliae)</td>
<td align="right">76.5</td>
<td align="right">38.79139</td>
<td align="right">18.34636</td>
<td align="right">189.9536</td>
<td align="right">3700.662</td>
<td align="right">8.859733</td>
<td align="right">-25.80419</td>
</tr>
<tr class="even">
<td align="left">Chinstrap penguin (Pygoscelis antarctica)</td>
<td align="right">34.5</td>
<td align="right">48.83382</td>
<td align="right">18.42059</td>
<td align="right">195.8235</td>
<td align="right">3733.088</td>
<td align="right">9.356155</td>
<td align="right">-24.54654</td>
</tr>
<tr class="odd">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">62.5</td>
<td align="right">47.50488</td>
<td align="right">14.98211</td>
<td align="right">217.1870</td>
<td align="right">5076.016</td>
<td align="right">8.245338</td>
<td align="right">-26.18530</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="change-variable-types-across-columns" class="section level2" number="18.2">
<h2><span class="header-section-number">18.2</span> Change variable types across columns</h2>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="#cb348-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb348-2"><a href="#cb348-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb348-3"><a href="#cb348-3" tabindex="-1"></a>    <span class="fu">across</span>(<span class="at">.cols =</span> <span class="fu">c</span>(<span class="st">&quot;species&quot;</span>, <span class="st">&quot;island&quot;</span>, <span class="st">&quot;region&quot;</span>),</span>
<span id="cb348-4"><a href="#cb348-4" tabindex="-1"></a>           <span class="at">.fns =</span> as_factor)</span>
<span id="cb348-5"><a href="#cb348-5" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb348-6"><a href="#cb348-6" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.factor)) <span class="sc">|&gt;</span> </span>
<span id="cb348-7"><a href="#cb348-7" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 344
## Columns: 4
## $ species       &lt;fct&gt; Adelie Penguin (Pygoscelis adeliae), Adelie Penguin (Pyg…
## $ region        &lt;fct&gt; Anvers, Anvers, Anvers, Anvers, Anvers, Anvers, Anvers, …
## $ island        &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgersen, T…
## $ flipper_range &lt;fct&gt; small, small, medium, NA, medium, small, small, medium, …</code></pre>
<pre><code>Rows: 344
Columns: 3
$ species &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…
$ region  &lt;fct&gt; Anvers, Anvers, Anvers, Anvers, Anvers, Anvers, Anvers, Anvers, Anvers, Anve…
$ island  &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgersen, Torgersen, Torgersen,…</code></pre>
</div>
<div id="correct-typos" class="section level2" number="18.3">
<h2><span class="header-section-number">18.3</span> Correct typos</h2>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="#cb351-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;adelie&quot;</span>, <span class="st">&quot;pinstrap&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span>)</span>
<span id="cb351-2"><a href="#cb351-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;adelie&quot;</span>, <span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span>,<span class="st">&quot;Chinstrap&quot;</span>)</span>
<span id="cb351-3"><a href="#cb351-3" tabindex="-1"></a></span>
<span id="cb351-4"><a href="#cb351-4" tabindex="-1"></a>typo_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(x,y)</span></code></pre></div>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="#cb352-1" tabindex="-1"></a>typo_df <span class="sc">|&gt;</span> </span>
<span id="cb352-2"><a href="#cb352-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(</span>
<span id="cb352-3"><a href="#cb352-3" tabindex="-1"></a>    <span class="at">.cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb352-4"><a href="#cb352-4" tabindex="-1"></a>    <span class="at">.fns =</span> <span class="sc">~</span> <span class="fu">case_when</span>(</span>
<span id="cb352-5"><a href="#cb352-5" tabindex="-1"></a>      <span class="fu">str_detect</span>(., <span class="st">&quot;adelie&quot;</span>) <span class="sc">~</span> <span class="fu">str_replace</span>(., <span class="st">&quot;adelie&quot;</span>, <span class="st">&quot;Adelie&quot;</span>),</span>
<span id="cb352-6"><a href="#cb352-6" tabindex="-1"></a>      <span class="fu">str_detect</span>(., <span class="st">&quot;pinstrap&quot;</span>) <span class="sc">~</span> <span class="fu">str_replace</span>(., <span class="st">&quot;pinstrap&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span>),</span>
<span id="cb352-7"><a href="#cb352-7" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> .</span>
<span id="cb352-8"><a href="#cb352-8" tabindex="-1"></a>    )</span>
<span id="cb352-9"><a href="#cb352-9" tabindex="-1"></a>  ))</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">x</th>
<th align="left">y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Adelie</td>
<td align="left">Adelie</td>
</tr>
<tr class="even">
<td align="left">Adelie</td>
<td align="left">Adelie</td>
</tr>
<tr class="odd">
<td align="left">Chinstrap</td>
<td align="left">Chinstrap</td>
</tr>
<tr class="even">
<td align="left">Chinstrap</td>
<td align="left">Chinstrap</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="working-with-rows" class="section level1" number="19">
<h1><span class="header-section-number">19</span> Working with rows</h1>
<div id="filtering-rows-based-on-conditions-across-multiple-columns" class="section level2" number="19.1">
<h2><span class="header-section-number">19.1</span> Filtering rows based on conditions across multiple columns</h2>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="#cb353-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb353-2"><a href="#cb353-2" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb353-3"><a href="#cb353-3" tabindex="-1"></a>    <span class="fu">if_any</span>(<span class="at">.cols =</span> <span class="fu">contains</span>(<span class="st">&quot;culmen&quot;</span>),</span>
<span id="cb353-4"><a href="#cb353-4" tabindex="-1"></a>           <span class="at">.fns =</span> <span class="sc">~</span>. <span class="sc">&lt;</span> <span class="dv">40</span>)</span>
<span id="cb353-5"><a href="#cb353-5" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb353-6"><a href="#cb353-6" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="#cb354-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb354-2"><a href="#cb354-2" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb354-3"><a href="#cb354-3" tabindex="-1"></a>    <span class="fu">if_all</span>(<span class="at">.cols =</span> <span class="fu">contains</span>(<span class="st">&quot;culmen&quot;</span>),</span>
<span id="cb354-4"><a href="#cb354-4" tabindex="-1"></a>           <span class="at">.fns =</span> <span class="sc">~</span>. <span class="sc">&lt;</span> <span class="dv">40</span>)</span>
<span id="cb354-5"><a href="#cb354-5" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb354-6"><a href="#cb354-6" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
</div>
<div id="filter-rows-based-on-missing-values" class="section level2" number="19.2">
<h2><span class="header-section-number">19.2</span> filter rows based on missing values</h2>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="#cb355-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb355-2"><a href="#cb355-2" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb355-3"><a href="#cb355-3" tabindex="-1"></a>    <span class="fu">if_all</span>(<span class="at">.cols =</span> <span class="fu">where</span>(is.numeric),</span>
<span id="cb355-4"><a href="#cb355-4" tabindex="-1"></a>           <span class="at">.fns =</span> <span class="sc">~!</span><span class="fu">is.na</span>(.))</span>
<span id="cb355-5"><a href="#cb355-5" tabindex="-1"></a>  ) </span></code></pre></div>
<div class="try">
<p>
At first the outcome above can seem counter-intuitive, but can be
explained by the <code>!</code> operator. The if_all is evaluating
whether all columns meet the condition of NOT containing NA.
</p>
<p>
You can try different combinations of if_all, if_any and the NOT
operator
</p>
</div>
</div>
<div id="slicing" class="section level2" number="19.3">
<h2><span class="header-section-number">19.3</span> slicing</h2>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="#cb356-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb356-2"><a href="#cb356-2" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(body_mass_g)) <span class="sc">|&gt;</span> </span>
<span id="cb356-3"><a href="#cb356-3" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<div class="kable-table">
<table style="width:100%;">
<colgroup>
<col width="4%" />
<col width="5%" />
<col width="12%" />
<col width="2%" />
<col width="2%" />
<col width="6%" />
<col width="5%" />
<col width="6%" />
<col width="4%" />
<col width="6%" />
<col width="5%" />
<col width="6%" />
<col width="4%" />
<col width="1%" />
<col width="5%" />
<col width="5%" />
<col width="3%" />
<col width="5%" />
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">study_name</th>
<th align="right">sample_number</th>
<th align="left">species</th>
<th align="left">region</th>
<th align="left">island</th>
<th align="left">stage</th>
<th align="left">individual_id</th>
<th align="left">clutch_completion</th>
<th align="left">date_egg</th>
<th align="right">culmen_length_mm</th>
<th align="right">culmen_depth_mm</th>
<th align="right">flipper_length_mm</th>
<th align="right">body_mass_g</th>
<th align="left">sex</th>
<th align="right">delta_15_n_o_oo</th>
<th align="right">delta_13_c_o_oo</th>
<th align="left">comments</th>
<th align="left">date_egg_proper</th>
<th align="left">flipper_range</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">PAL0708</td>
<td align="right">18</td>
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="left">Anvers</td>
<td align="left">Biscoe</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N39A2</td>
<td align="left">Yes</td>
<td align="left">27/11/2007</td>
<td align="right">49.2</td>
<td align="right">15.2</td>
<td align="right">221</td>
<td align="right">6300</td>
<td align="left">MALE</td>
<td align="right">8.27376</td>
<td align="right">-25.00169</td>
<td align="left">NA</td>
<td align="left">2007-11-27</td>
<td align="left">large</td>
</tr>
<tr class="even">
<td align="left">PAL0708</td>
<td align="right">34</td>
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="left">Anvers</td>
<td align="left">Biscoe</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N56A2</td>
<td align="left">Yes</td>
<td align="left">03/12/2007</td>
<td align="right">59.6</td>
<td align="right">17.0</td>
<td align="right">230</td>
<td align="right">6050</td>
<td align="left">MALE</td>
<td align="right">7.76843</td>
<td align="right">-25.68210</td>
<td align="left">NA</td>
<td align="left">2007-12-03</td>
<td align="left">large</td>
</tr>
<tr class="odd">
<td align="left">PAL0809</td>
<td align="right">78</td>
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="left">Anvers</td>
<td align="left">Biscoe</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N58A2</td>
<td align="left">Yes</td>
<td align="left">06/11/2008</td>
<td align="right">51.1</td>
<td align="right">16.3</td>
<td align="right">220</td>
<td align="right">6000</td>
<td align="left">MALE</td>
<td align="right">8.40327</td>
<td align="right">-26.76821</td>
<td align="left">NA</td>
<td align="left">2008-11-06</td>
<td align="left">large</td>
</tr>
<tr class="even">
<td align="left">PAL0910</td>
<td align="right">118</td>
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="left">Anvers</td>
<td align="left">Biscoe</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N36A2</td>
<td align="left">Yes</td>
<td align="left">01/12/2009</td>
<td align="right">48.8</td>
<td align="right">16.2</td>
<td align="right">222</td>
<td align="right">6000</td>
<td align="left">MALE</td>
<td align="right">8.33825</td>
<td align="right">-25.88547</td>
<td align="left">NA</td>
<td align="left">2009-12-01</td>
<td align="left">large</td>
</tr>
<tr class="odd">
<td align="left">PAL0809</td>
<td align="right">80</td>
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="left">Anvers</td>
<td align="left">Biscoe</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N60A2</td>
<td align="left">Yes</td>
<td align="left">09/11/2008</td>
<td align="right">45.2</td>
<td align="right">16.4</td>
<td align="right">223</td>
<td align="right">5950</td>
<td align="left">MALE</td>
<td align="right">8.19749</td>
<td align="right">-26.65931</td>
<td align="left">NA</td>
<td align="left">2008-11-09</td>
<td align="left">large</td>
</tr>
<tr class="even">
<td align="left">PAL0910</td>
<td align="right">112</td>
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="left">Anvers</td>
<td align="left">Biscoe</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N32A2</td>
<td align="left">Yes</td>
<td align="left">20/11/2009</td>
<td align="right">49.8</td>
<td align="right">15.9</td>
<td align="right">229</td>
<td align="right">5950</td>
<td align="left">MALE</td>
<td align="right">8.29226</td>
<td align="right">-26.21019</td>
<td align="left">NA</td>
<td align="left">2009-11-20</td>
<td align="left">large</td>
</tr>
<tr class="odd">
<td align="left">PAL0708</td>
<td align="right">14</td>
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="left">Anvers</td>
<td align="left">Biscoe</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N37A2</td>
<td align="left">Yes</td>
<td align="left">29/11/2007</td>
<td align="right">48.4</td>
<td align="right">14.6</td>
<td align="right">213</td>
<td align="right">5850</td>
<td align="left">MALE</td>
<td align="right">7.82080</td>
<td align="right">-25.48025</td>
<td align="left">NA</td>
<td align="left">2007-11-29</td>
<td align="left">large</td>
</tr>
<tr class="even">
<td align="left">PAL0708</td>
<td align="right">16</td>
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="left">Anvers</td>
<td align="left">Biscoe</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N38A2</td>
<td align="left">Yes</td>
<td align="left">03/12/2007</td>
<td align="right">49.3</td>
<td align="right">15.7</td>
<td align="right">217</td>
<td align="right">5850</td>
<td align="left">MALE</td>
<td align="right">8.07137</td>
<td align="right">-25.52473</td>
<td align="left">NA</td>
<td align="left">2007-12-03</td>
<td align="left">large</td>
</tr>
<tr class="odd">
<td align="left">PAL0910</td>
<td align="right">116</td>
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="left">Anvers</td>
<td align="left">Biscoe</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N35A2</td>
<td align="left">Yes</td>
<td align="left">25/11/2009</td>
<td align="right">55.1</td>
<td align="right">16.0</td>
<td align="right">230</td>
<td align="right">5850</td>
<td align="left">MALE</td>
<td align="right">8.08354</td>
<td align="right">-26.18161</td>
<td align="left">NA</td>
<td align="left">2009-11-25</td>
<td align="left">large</td>
</tr>
<tr class="even">
<td align="left">PAL0809</td>
<td align="right">68</td>
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="left">Anvers</td>
<td align="left">Biscoe</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N51A2</td>
<td align="left">Yes</td>
<td align="left">09/11/2008</td>
<td align="right">49.5</td>
<td align="right">16.2</td>
<td align="right">229</td>
<td align="right">5800</td>
<td align="left">MALE</td>
<td align="right">8.49854</td>
<td align="right">-26.74809</td>
<td align="left">NA</td>
<td align="left">2008-11-09</td>
<td align="left">large</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="#cb357-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb357-2"><a href="#cb357-2" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(body_mass_g)) <span class="sc">|&gt;</span> </span>
<span id="cb357-3"><a href="#cb357-3" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">&quot;row_number&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb357-4"><a href="#cb357-4" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">123</span>,<span class="dv">307</span>))</span></code></pre></div>
<div class="kable-table">
<table style="width:100%;">
<colgroup>
<col width="3%" />
<col width="3%" />
<col width="4%" />
<col width="12%" />
<col width="2%" />
<col width="2%" />
<col width="5%" />
<col width="4%" />
<col width="5%" />
<col width="3%" />
<col width="5%" />
<col width="4%" />
<col width="5%" />
<col width="3%" />
<col width="2%" />
<col width="4%" />
<col width="4%" />
<col width="11%" />
<col width="4%" />
<col width="4%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">row_number</th>
<th align="left">study_name</th>
<th align="right">sample_number</th>
<th align="left">species</th>
<th align="left">region</th>
<th align="left">island</th>
<th align="left">stage</th>
<th align="left">individual_id</th>
<th align="left">clutch_completion</th>
<th align="left">date_egg</th>
<th align="right">culmen_length_mm</th>
<th align="right">culmen_depth_mm</th>
<th align="right">flipper_length_mm</th>
<th align="right">body_mass_g</th>
<th align="left">sex</th>
<th align="right">delta_15_n_o_oo</th>
<th align="right">delta_13_c_o_oo</th>
<th align="left">comments</th>
<th align="left">date_egg_proper</th>
<th align="left">flipper_range</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">PAL0708</td>
<td align="right">18</td>
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="left">Anvers</td>
<td align="left">Biscoe</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N39A2</td>
<td align="left">Yes</td>
<td align="left">27/11/2007</td>
<td align="right">49.2</td>
<td align="right">15.2</td>
<td align="right">221</td>
<td align="right">6300</td>
<td align="left">MALE</td>
<td align="right">8.27376</td>
<td align="right">-25.00169</td>
<td align="left">NA</td>
<td align="left">2007-11-27</td>
<td align="left">large</td>
</tr>
<tr class="even">
<td align="left">123</td>
<td align="left">PAL0809</td>
<td align="right">59</td>
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="left">Anvers</td>
<td align="left">Biscoe</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N17A1</td>
<td align="left">Yes</td>
<td align="left">06/11/2008</td>
<td align="right">43.2</td>
<td align="right">14.5</td>
<td align="right">208</td>
<td align="right">4450</td>
<td align="left">FEMALE</td>
<td align="right">8.48367</td>
<td align="right">-26.86485</td>
<td align="left">NA</td>
<td align="left">2008-11-06</td>
<td align="left">medium</td>
</tr>
<tr class="odd">
<td align="left">307</td>
<td align="left">PAL0708</td>
<td align="right">17</td>
<td align="left">Chinstrap penguin (Pygoscelis antarctica)</td>
<td align="left">Anvers</td>
<td align="left">Dream</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N71A1</td>
<td align="left">No</td>
<td align="left">30/11/2007</td>
<td align="right">50.3</td>
<td align="right">20.0</td>
<td align="right">197</td>
<td align="right">3300</td>
<td align="left">MALE</td>
<td align="right">10.02019</td>
<td align="right">-24.54704</td>
<td align="left">Nest never observed with full clutch.</td>
<td align="left">2007-11-30</td>
<td align="left">medium</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="#cb358-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb358-2"><a href="#cb358-2" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(body_mass_g)) <span class="sc">|&gt;</span> </span>
<span id="cb358-3"><a href="#cb358-3" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">&quot;row_number&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb358-4"><a href="#cb358-4" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span><span class="sc">:-</span><span class="dv">340</span>))</span></code></pre></div>
<div class="kable-table">
<table style="width:100%;">
<colgroup>
<col width="3%" />
<col width="3%" />
<col width="4%" />
<col width="12%" />
<col width="2%" />
<col width="2%" />
<col width="5%" />
<col width="4%" />
<col width="5%" />
<col width="3%" />
<col width="4%" />
<col width="4%" />
<col width="5%" />
<col width="3%" />
<col width="2%" />
<col width="4%" />
<col width="4%" />
<col width="16%" />
<col width="4%" />
<col width="4%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">row_number</th>
<th align="left">study_name</th>
<th align="right">sample_number</th>
<th align="left">species</th>
<th align="left">region</th>
<th align="left">island</th>
<th align="left">stage</th>
<th align="left">individual_id</th>
<th align="left">clutch_completion</th>
<th align="left">date_egg</th>
<th align="right">culmen_length_mm</th>
<th align="right">culmen_depth_mm</th>
<th align="right">flipper_length_mm</th>
<th align="right">body_mass_g</th>
<th align="left">sex</th>
<th align="right">delta_15_n_o_oo</th>
<th align="right">delta_13_c_o_oo</th>
<th align="left">comments</th>
<th align="left">date_egg_proper</th>
<th align="left">flipper_range</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">341</td>
<td align="left">PAL0809</td>
<td align="right">65</td>
<td align="left">Adelie Penguin (Pygoscelis adeliae)</td>
<td align="left">Anvers</td>
<td align="left">Biscoe</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N29A1</td>
<td align="left">Yes</td>
<td align="left">13/11/2008</td>
<td align="right">36.4</td>
<td align="right">17.1</td>
<td align="right">184</td>
<td align="right">2850</td>
<td align="left">FEMALE</td>
<td align="right">8.62623</td>
<td align="right">-26.11650</td>
<td align="left">NA</td>
<td align="left">2008-11-13</td>
<td align="left">small</td>
</tr>
<tr class="even">
<td align="left">342</td>
<td align="left">PAL0809</td>
<td align="right">39</td>
<td align="left">Chinstrap penguin (Pygoscelis antarctica)</td>
<td align="left">Anvers</td>
<td align="left">Dream</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N72A1</td>
<td align="left">No</td>
<td align="left">24/11/2008</td>
<td align="right">46.9</td>
<td align="right">16.6</td>
<td align="right">192</td>
<td align="right">2700</td>
<td align="left">FEMALE</td>
<td align="right">9.80589</td>
<td align="right">-24.73735</td>
<td align="left">Nest never observed with full clutch.</td>
<td align="left">2008-11-24</td>
<td align="left">medium</td>
</tr>
<tr class="odd">
<td align="left">343</td>
<td align="left">PAL0708</td>
<td align="right">4</td>
<td align="left">Adelie Penguin (Pygoscelis adeliae)</td>
<td align="left">Anvers</td>
<td align="left">Torgersen</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N2A2</td>
<td align="left">Yes</td>
<td align="left">16/11/2007</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">Adult not sampled.</td>
<td align="left">2007-11-16</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">344</td>
<td align="left">PAL0910</td>
<td align="right">120</td>
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="left">Anvers</td>
<td align="left">Biscoe</td>
<td align="left">Adult, 1 Egg Stage</td>
<td align="left">N38A2</td>
<td align="left">No</td>
<td align="left">01/12/2009</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">Adult not sampled. Nest never observed with full clutch.</td>
<td align="left">2009-12-01</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
</div>
<p>Helper functions include <code>slice_head()</code>, <code>slice_tail()</code>, <code>slice_max()</code>, <code>slice_min()</code> and <code>slice_sample()</code>
We can use these functions to more quickly and easily filter our data under some situations</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="#cb359-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb359-2"><a href="#cb359-2" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> body_mass_g,</span>
<span id="cb359-3"><a href="#cb359-3" tabindex="-1"></a>            <span class="at">n =</span> <span class="dv">20</span>) <span class="sc">|&gt;</span> <span class="co"># we can also use prop e.g. prop =.1 to slice the top 10%</span></span>
<span id="cb359-4"><a href="#cb359-4" tabindex="-1"></a>  <span class="fu">select</span>(species, body_mass_g)</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">species</th>
<th align="right">body_mass_g</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">6300</td>
</tr>
<tr class="even">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">6050</td>
</tr>
<tr class="odd">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">6000</td>
</tr>
<tr class="even">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">6000</td>
</tr>
<tr class="odd">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5950</td>
</tr>
<tr class="even">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5950</td>
</tr>
<tr class="odd">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5850</td>
</tr>
<tr class="even">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5850</td>
</tr>
<tr class="odd">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5850</td>
</tr>
<tr class="even">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5800</td>
</tr>
<tr class="odd">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5800</td>
</tr>
<tr class="even">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5750</td>
</tr>
<tr class="odd">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5700</td>
</tr>
<tr class="even">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5700</td>
</tr>
<tr class="odd">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5700</td>
</tr>
<tr class="even">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5700</td>
</tr>
<tr class="odd">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5700</td>
</tr>
<tr class="even">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5650</td>
</tr>
<tr class="odd">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5650</td>
</tr>
<tr class="even">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">5650</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="groupwise-slicing" class="section level2" number="19.4">
<h2><span class="header-section-number">19.4</span> groupwise slicing</h2>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="#cb360-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb360-2"><a href="#cb360-2" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb360-3"><a href="#cb360-3" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> body_mass_g,</span>
<span id="cb360-4"><a href="#cb360-4" tabindex="-1"></a>            <span class="at">n =</span> <span class="dv">3</span>) <span class="sc">|&gt;</span> </span>
<span id="cb360-5"><a href="#cb360-5" tabindex="-1"></a>  <span class="fu">select</span>(species, body_mass_g) <span class="sc">|&gt;</span> </span>
<span id="cb360-6"><a href="#cb360-6" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">species</th>
<th align="right">body_mass_g</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Adelie Penguin (Pygoscelis adeliae)</td>
<td align="right">4775</td>
</tr>
<tr class="even">
<td align="left">Adelie Penguin (Pygoscelis adeliae)</td>
<td align="right">4725</td>
</tr>
<tr class="odd">
<td align="left">Adelie Penguin (Pygoscelis adeliae)</td>
<td align="right">4700</td>
</tr>
<tr class="even">
<td align="left">Chinstrap penguin (Pygoscelis antarctica)</td>
<td align="right">4800</td>
</tr>
<tr class="odd">
<td align="left">Chinstrap penguin (Pygoscelis antarctica)</td>
<td align="right">4550</td>
</tr>
<tr class="even">
<td align="left">Chinstrap penguin (Pygoscelis antarctica)</td>
<td align="right">4500</td>
</tr>
<tr class="odd">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">6300</td>
</tr>
<tr class="even">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">6050</td>
</tr>
<tr class="odd">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">6000</td>
</tr>
<tr class="even">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="right">6000</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="bootstrapping-with-slice" class="section level2" number="19.5">
<h2><span class="header-section-number">19.5</span> bootstrapping with slice</h2>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="#cb361-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">342</span>)</span>
<span id="cb361-2"><a href="#cb361-2" tabindex="-1"></a>bootstraps <span class="ot">&lt;-</span> <span class="fu">map</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>, <span class="sc">~</span><span class="fu">slice_sample</span>(penguins, <span class="at">prop =</span> .<span class="dv">1</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>))</span>
<span id="cb361-3"><a href="#cb361-3" tabindex="-1"></a></span>
<span id="cb361-4"><a href="#cb361-4" tabindex="-1"></a>bootstraps <span class="sc">%&gt;%</span></span>
<span id="cb361-5"><a href="#cb361-5" tabindex="-1"></a>    <span class="fu">map_dbl</span>(<span class="sc">~</span> <span class="fu">mean</span>(.<span class="sc">$</span>body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb361-6"><a href="#cb361-6" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">x =</span> _ ) <span class="sc">|&gt;</span> </span>
<span id="cb361-7"><a href="#cb361-7" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x)) <span class="sc">+</span></span>
<span id="cb361-8"><a href="#cb361-8" tabindex="-1"></a><span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">&quot;grey80&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>)<span class="sc">+</span></span>
<span id="cb361-9"><a href="#cb361-9" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">data =</span> penguins,</span>
<span id="cb361-10"><a href="#cb361-10" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> T)),</span>
<span id="cb361-11"><a href="#cb361-11" tabindex="-1"></a>             <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>, <span class="at">linetype  =</span><span class="st">&quot;dashed&quot;</span>)</span></code></pre></div>
<p><img src="04-tidyverse_files/figure-html/unnamed-chunk-44-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="group-work" class="section level1" number="20">
<h1><span class="header-section-number">20</span> Group work</h1>
<p>The R4DS book demonstrates how functions can be used to run multiple models simultaneously. This technique is valuable for extracting meaningful insights from your data. A well-known example of this approach involves the Gapminder dataset. We will cover a brief version here:</p>
<p>To find out how well culmen length can predict culmen depth we build a linear regression model.</p>
<p>Once we have created the model, we can retrieve the results parameters and test statistics
with the summary function:
<code>summary(model)</code></p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="#cb362-1" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(culmen_depth_mm <span class="sc">~</span> culmen_length_mm, <span class="at">data =</span> penguins)</span>
<span id="cb362-2"><a href="#cb362-2" tabindex="-1"></a></span>
<span id="cb362-3"><a href="#cb362-3" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = culmen_depth_mm ~ culmen_length_mm, data = penguins)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.1381 -1.4263  0.0164  1.3841  4.5255 
## 
## Coefficients:
##                  Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)      20.88547    0.84388  24.749  &lt; 2e-16 ***
## culmen_length_mm -0.08502    0.01907  -4.459 1.12e-05 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1.922 on 340 degrees of freedom
##   (2 observations deleted due to missingness)
## Multiple R-squared:  0.05525,    Adjusted R-squared:  0.05247 
## F-statistic: 19.88 on 1 and 340 DF,  p-value: 1.12e-05</code></pre>
<p>Now we know that there are important covariates to consider - and the most appropriate method from an analysis perspective would be to include these as covariates within a single model</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="#cb364-1" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(culmen_depth_mm <span class="sc">~</span> culmen_length_mm <span class="sc">*</span> species, <span class="at">data =</span> penguins)</span>
<span id="cb364-2"><a href="#cb364-2" tabindex="-1"></a></span>
<span id="cb364-3"><a href="#cb364-3" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code></pre></div>
<pre><code>Call:
lm(formula = culmen_depth_mm ~ culmen_length_mm * species, data = penguins)

Residuals:
    Min      1Q  Median      3Q     Max 
-2.6574 -0.6675 -0.0524  0.5383  3.5032 

Coefficients:
                                  Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                       11.40912    1.13812  10.025  &lt; 2e-16 ***
culmen_length_mm                   0.17883    0.02927   6.110 2.76e-09 ***
speciesChinstrap                  -3.83998    2.05398  -1.870 0.062419 .  
speciesGentoo                     -6.15812    1.75451  -3.510 0.000509 ***
culmen_length_mm:speciesChinstrap  0.04338    0.04558   0.952 0.341895    
culmen_length_mm:speciesGentoo     0.02601    0.04054   0.642 0.521590    
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 0.9548 on 336 degrees of freedom
  (2 observations deleted due to missingness)
Multiple R-squared:  0.7697,    Adjusted R-squared:  0.7662 
F-statistic: 224.5 on 5 and 336 DF,  p-value: &lt; 2.2e-16
</code></pre>
<p>However, there may be occasions where we wish to apply simple models to each subpopulation in turn:</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="#cb366-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb366-2"><a href="#cb366-2" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb366-3"><a href="#cb366-3" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">|&gt;</span> </span>
<span id="cb366-4"><a href="#cb366-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="fu">map</span>(data, <span class="sc">~</span> <span class="fu">lm</span>(culmen_depth_mm <span class="sc">~</span> culmen_length_mm, <span class="at">data =</span> .))) <span class="sc">|&gt;</span> </span>
<span id="cb366-5"><a href="#cb366-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tidy =</span> <span class="fu">map</span>(model, broom<span class="sc">::</span>tidy)) <span class="sc">|&gt;</span> </span>
<span id="cb366-6"><a href="#cb366-6" tabindex="-1"></a>  <span class="fu">unnest</span>(tidy)</span></code></pre></div>
<pre><code>A tibble:6 × 8
Groups:species [3]

Adelie  &lt;tibble&gt;    &lt;S3: lm&gt;    (Intercept) 11.4091245  1.33893250  
Adelie  &lt;tibble&gt;    &lt;S3: lm&gt;    culmen_length_mm    0.1788343   0.03443569  
Gentoo  &lt;tibble&gt;    &lt;S3: lm&gt;    (Intercept) 5.2510084   1.05480901  
Gentoo  &lt;tibble&gt;    &lt;S3: lm&gt;    culmen_length_mm    0.2048443   0.02215802  
Chinstrap   &lt;tibble&gt;    &lt;S3: lm&gt;    (Intercept) 7.5691401   1.55052928  
Chinstrap   &lt;tibble&gt;    &lt;S3: lm&gt;    culmen_length_mm    0.2222117   0.03167825  
6 rows | 1-6 of 8 columns
</code></pre>
</div>
<div id="pivot" class="section level1" number="21">
<h1><span class="header-section-number">21</span> Pivot</h1>
<div id="pivot-wider" class="section level2" number="21.1">
<h2><span class="header-section-number">21.1</span> pivot wider</h2>
<div class="info">
<p>
Un-tidy data violates one of these three principles in one way or
another:
</p>
<p>
• Each variable forms a column • Each observation forms a row • Each
type of observation unit is a table
</p>
</div>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="#cb368-1" tabindex="-1"></a>wk1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb368-2"><a href="#cb368-2" tabindex="-1"></a>wk2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb368-3"><a href="#cb368-3" tabindex="-1"></a>wk3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">0</span>)</span>
<span id="cb368-4"><a href="#cb368-4" tabindex="-1"></a>penguin_id <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;N15A1&quot;</span> , <span class="st">&quot;N15A2&quot;</span> , <span class="st">&quot;N18A1&quot;</span>, <span class="st">&quot;N71A2&quot;</span>)</span>
<span id="cb368-5"><a href="#cb368-5" tabindex="-1"></a></span>
<span id="cb368-6"><a href="#cb368-6" tabindex="-1"></a>peng_obs <span class="ot">&lt;-</span> <span class="fu">tibble</span>(penguin_id, wk1,wk2,wk3)</span></code></pre></div>
<p>This data is untidy because a value that measures the same underlying attribute (number of observations) is split across three columns. Here wk1,wk2 and wk3 represent the underlying variable of observations split across three weeks.</p>
<p>We can use pivot to create a tidy representation of the data</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="#cb369-1" tabindex="-1"></a>peng_obs <span class="sc">|&gt;</span> </span>
<span id="cb369-2"><a href="#cb369-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb369-3"><a href="#cb369-3" tabindex="-1"></a>    <span class="at">cols =</span> <span class="st">&quot;wk1&quot;</span><span class="sc">:</span><span class="st">&quot;wk3&quot;</span>,</span>
<span id="cb369-4"><a href="#cb369-4" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">&quot;week&quot;</span>,</span>
<span id="cb369-5"><a href="#cb369-5" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;observations&quot;</span></span>
<span id="cb369-6"><a href="#cb369-6" tabindex="-1"></a>  )</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">penguin_id</th>
<th align="left">week</th>
<th align="right">observations</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">N15A1</td>
<td align="left">wk1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">N15A1</td>
<td align="left">wk2</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">N15A1</td>
<td align="left">wk3</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">N15A2</td>
<td align="left">wk1</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">N15A2</td>
<td align="left">wk2</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">N15A2</td>
<td align="left">wk3</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">N18A1</td>
<td align="left">wk1</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">N18A1</td>
<td align="left">wk2</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">N18A1</td>
<td align="left">wk3</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">N71A2</td>
<td align="left">wk1</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="left">N71A2</td>
<td align="left">wk2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">N71A2</td>
<td align="left">wk3</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
<p>We can tidy this dataframe further by removing the "wk" prefix:</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="#cb370-1" tabindex="-1"></a>peng_obs <span class="sc">|&gt;</span> </span>
<span id="cb370-2"><a href="#cb370-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb370-3"><a href="#cb370-3" tabindex="-1"></a>    <span class="at">cols =</span> <span class="st">&quot;wk1&quot;</span><span class="sc">:</span><span class="st">&quot;wk3&quot;</span>,</span>
<span id="cb370-4"><a href="#cb370-4" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">&quot;week&quot;</span>,</span>
<span id="cb370-5"><a href="#cb370-5" tabindex="-1"></a>    <span class="at">names_prefix =</span> <span class="st">&quot;wk&quot;</span>,</span>
<span id="cb370-6"><a href="#cb370-6" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;observations&quot;</span></span>
<span id="cb370-7"><a href="#cb370-7" tabindex="-1"></a>  )</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">penguin_id</th>
<th align="left">week</th>
<th align="right">observations</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">N15A1</td>
<td align="left">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">N15A1</td>
<td align="left">2</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">N15A1</td>
<td align="left">3</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">N15A2</td>
<td align="left">1</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">N15A2</td>
<td align="left">2</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">N15A2</td>
<td align="left">3</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">N18A1</td>
<td align="left">1</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">N18A1</td>
<td align="left">2</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">N18A1</td>
<td align="left">3</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">N71A2</td>
<td align="left">1</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="left">N71A2</td>
<td align="left">2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">N71A2</td>
<td align="left">3</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
<div class="warning">
<p>
Note that the week column is still being treated as a character
string. using <code>names_transform</code> we can fix this
</p>
</div>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="#cb371-1" tabindex="-1"></a>peng_obs <span class="sc">|&gt;</span> </span>
<span id="cb371-2"><a href="#cb371-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb371-3"><a href="#cb371-3" tabindex="-1"></a>    <span class="at">cols =</span> <span class="st">&quot;wk1&quot;</span><span class="sc">:</span><span class="st">&quot;wk3&quot;</span>,</span>
<span id="cb371-4"><a href="#cb371-4" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">&quot;week&quot;</span>,</span>
<span id="cb371-5"><a href="#cb371-5" tabindex="-1"></a>    <span class="at">names_prefix =</span> <span class="st">&quot;wk&quot;</span>,</span>
<span id="cb371-6"><a href="#cb371-6" tabindex="-1"></a>    <span class="at">names_transform =</span> as.integer,</span>
<span id="cb371-7"><a href="#cb371-7" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;observations&quot;</span></span>
<span id="cb371-8"><a href="#cb371-8" tabindex="-1"></a>  )</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">penguin_id</th>
<th align="right">week</th>
<th align="right">observations</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">N15A1</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">N15A1</td>
<td align="right">2</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">N15A1</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">N15A2</td>
<td align="right">1</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">N15A2</td>
<td align="right">2</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">N15A2</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">N18A1</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">N18A1</td>
<td align="right">2</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">N18A1</td>
<td align="right">3</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">N71A2</td>
<td align="right">1</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="left">N71A2</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">N71A2</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="pivot-longer" class="section level2" number="21.2">
<h2><span class="header-section-number">21.2</span> pivot longer</h2>
<p>Suppose you would like to make a data frame wider because you would like to present the results in a human-readable table. To do this, you can use pivot_wider and provide arguments for its main parameters:</p>
<ul>
<li><p>id_cols: These columns are the identifiers for the observations. These column names
remain unchanged in the data frame. Their values form the rows of the transformed data
frame. By default, all columns except those specified in names_from and values_from
become id_cols.</p></li>
<li><p>names_from: These columns will be transformed into a wider format. Their values will
be converted to columns. If you specify more than one column for names_from, the
newly created column names will be a combination of the column values.</p></li>
<li><p>values_from: The values of these columns will be used for the columns created with
names_from.</p></li>
</ul>
</div>
<div id="pivot-wider-for-summary-tables" class="section level2" number="21.3">
<h2><span class="header-section-number">21.3</span> pivot wider for summary tables</h2>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb372-1"><a href="#cb372-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb372-2"><a href="#cb372-2" tabindex="-1"></a>  <span class="fu">group_by</span>(species, island) <span class="sc">|&gt;</span> </span>
<span id="cb372-3"><a href="#cb372-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> T))</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">species</th>
<th align="left">island</th>
<th align="right">mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Adelie Penguin (Pygoscelis adeliae)</td>
<td align="left">Biscoe</td>
<td align="right">3709.659</td>
</tr>
<tr class="even">
<td align="left">Adelie Penguin (Pygoscelis adeliae)</td>
<td align="left">Dream</td>
<td align="right">3688.393</td>
</tr>
<tr class="odd">
<td align="left">Adelie Penguin (Pygoscelis adeliae)</td>
<td align="left">Torgersen</td>
<td align="right">3706.373</td>
</tr>
<tr class="even">
<td align="left">Chinstrap penguin (Pygoscelis antarctica)</td>
<td align="left">Dream</td>
<td align="right">3733.088</td>
</tr>
<tr class="odd">
<td align="left">Gentoo penguin (Pygoscelis papua)</td>
<td align="left">Biscoe</td>
<td align="right">5076.016</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="#cb373-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb373-2"><a href="#cb373-2" tabindex="-1"></a>  <span class="fu">group_by</span>(species, island) <span class="sc">|&gt;</span> </span>
<span id="cb373-3"><a href="#cb373-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> T)) <span class="sc">|&gt;</span> </span>
<span id="cb373-4"><a href="#cb373-4" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">c</span>(species, island),</span>
<span id="cb373-5"><a href="#cb373-5" tabindex="-1"></a>              <span class="at">values_from =</span> mean,</span>
<span id="cb373-6"><a href="#cb373-6" tabindex="-1"></a>              <span class="at">names_prefix =</span> <span class="st">&quot;mean_&quot;</span>)</span></code></pre></div>
<div class="kable-table">
<table>
<colgroup>
<col width="19%" />
<col width="19%" />
<col width="20%" />
<col width="21%" />
<col width="18%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">mean_Adelie Penguin (Pygoscelis adeliae)_Biscoe</th>
<th align="right">mean_Adelie Penguin (Pygoscelis adeliae)_Dream</th>
<th align="right">mean_Adelie Penguin (Pygoscelis adeliae)_Torgersen</th>
<th align="right">mean_Chinstrap penguin (Pygoscelis antarctica)_Dream</th>
<th align="right">mean_Gentoo penguin (Pygoscelis papua)_Biscoe</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">3709.659</td>
<td align="right">3688.393</td>
<td align="right">3706.373</td>
<td align="right">3733.088</td>
<td align="right">5076.016</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="writing-functions-in-tidyverse" class="section level1" number="22">
<h1><span class="header-section-number">22</span> Writing Functions in Tidyverse</h1>
<p>The goal here is to understand how to use tidy evaluation to write functions that incorporate <code>{tidyverse}</code> functions e.g. (mutate, select, filter) etc.</p>
<p>Below is an example of some code to select a variable:</p>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="#cb374-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb374-2"><a href="#cb374-2" tabindex="-1"></a>  <span class="fu">select</span>(species)</span></code></pre></div>
<p>Put that exact working code into a function</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="#cb375-1" tabindex="-1"></a>test_function <span class="ot">&lt;-</span> <span class="cf">function</span>(select_var){</span>
<span id="cb375-2"><a href="#cb375-2" tabindex="-1"></a>  penguins <span class="sc">|&gt;</span> </span>
<span id="cb375-3"><a href="#cb375-3" tabindex="-1"></a>  <span class="fu">select</span>(select_var)</span>
<span id="cb375-4"><a href="#cb375-4" tabindex="-1"></a>}</span>
<span id="cb375-5"><a href="#cb375-5" tabindex="-1"></a></span>
<span id="cb375-6"><a href="#cb375-6" tabindex="-1"></a><span class="fu">test_function</span>(<span class="at">select_var =</span> species)</span></code></pre></div>
<pre><code>Error: object &#39;species&#39; not found
</code></pre>
<p>This error occurs becaus of <em>tidy evaluation</em></p>
<div class="info">
<p>
Tidy evaluation: A framework for controlling how expressions and
variables in your code are evaluated by tidyverse functions.
</p>
<ul>
<li>
<p>
Allows programmers to select variables based on their position,
name, or type
</p>
</li>
<li>
<p>
Useful for passing variable names as inputs to functions that use
tidyverse packages like dplyr and ggplot2
</p>
</li>
<li>
<p>
{dplyr} verbs rely on tidy evaluation to resolve programming
commands
</p>
</li>
</ul>
</div>
<div id="data-masking" class="section level2" number="22.1">
<h2><span class="header-section-number">22.1</span> Data masking</h2>
<p>Data masking is a handy feature of tidyverse that makes it easier to program with dataframes. It allows you to reference columns wihout using <code>$</code>, whereas almost all base R functions use unmasked programming.</p>
<p>However, this makes it harder to create functions</p>
<p>Data masking is used by <code>arrange()</code>, <code>count()</code>, <code>filter()</code>, <code>group_by()</code>, <code>mutate()</code>, and <code>summarise()</code>. To check which type of tidy evaluation a function uses, check the help file.</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="#cb377-1" tabindex="-1"></a>test_filter_species <span class="ot">&lt;-</span> <span class="cf">function</span>(filter_var) {</span>
<span id="cb377-2"><a href="#cb377-2" tabindex="-1"></a>  penguins <span class="sc">%&gt;%</span></span>
<span id="cb377-3"><a href="#cb377-3" tabindex="-1"></a>    <span class="fu">filter</span>(species <span class="sc">==</span> filter_var)</span>
<span id="cb377-4"><a href="#cb377-4" tabindex="-1"></a>}</span>
<span id="cb377-5"><a href="#cb377-5" tabindex="-1"></a></span>
<span id="cb377-6"><a href="#cb377-6" tabindex="-1"></a><span class="fu">test_filter_species</span>(<span class="st">&quot;Adelie&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb377-7"><a href="#cb377-7" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 0
## Columns: 19
## $ study_name        &lt;chr&gt; 
## $ sample_number     &lt;dbl&gt; 
## $ species           &lt;chr&gt; 
## $ region            &lt;chr&gt; 
## $ island            &lt;chr&gt; 
## $ stage             &lt;chr&gt; 
## $ individual_id     &lt;chr&gt; 
## $ clutch_completion &lt;chr&gt; 
## $ date_egg          &lt;chr&gt; 
## $ culmen_length_mm  &lt;dbl&gt; 
## $ culmen_depth_mm   &lt;dbl&gt; 
## $ flipper_length_mm &lt;dbl&gt; 
## $ body_mass_g       &lt;dbl&gt; 
## $ sex               &lt;chr&gt; 
## $ delta_15_n_o_oo   &lt;dbl&gt; 
## $ delta_13_c_o_oo   &lt;dbl&gt; 
## $ comments          &lt;chr&gt; 
## $ date_egg_proper   &lt;date&gt; 
## $ flipper_range     &lt;fct&gt;</code></pre>
<p>By passing quoted arguments to the function, you can use it directly in the expression, and the function will evaluate it as if it were part of the data frame.</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="#cb379-1" tabindex="-1"></a>test_filter_general <span class="ot">&lt;-</span> <span class="cf">function</span>(filter_condition) {</span>
<span id="cb379-2"><a href="#cb379-2" tabindex="-1"></a>  penguins <span class="sc">%&gt;%</span></span>
<span id="cb379-3"><a href="#cb379-3" tabindex="-1"></a>    <span class="fu">filter</span>(filter_condition)</span>
<span id="cb379-4"><a href="#cb379-4" tabindex="-1"></a>}</span>
<span id="cb379-5"><a href="#cb379-5" tabindex="-1"></a></span>
<span id="cb379-6"><a href="#cb379-6" tabindex="-1"></a><span class="fu">test_filter_general</span>(<span class="st">&quot;flipper_length_mm &gt; 180&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb379-7"><a href="#cb379-7" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>Error in `filter()`:
ℹ In argument: `filter_condition`.
Caused by error:
! `..1` must be a logical vector, not the string &quot;fliper_length_mm &gt; 180&quot;.
Backtrace:
  1. test_filter_general(&quot;flipper_length_mm &gt; 180&quot;) %&gt;% glimpse()
 12. dplyr:::dplyr_internal_error(...)
</code></pre>
<p>However, we can avoid this by embracing the curly operators <code>{{.}}</code> this allows the data-masked argument to have its evaluation delayed until after the data frame columns are defined. With the <code>{{</code> operator you can tunnel data-variables (i.e. columns from the data frames) through arg-variables (function arguments).</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="#cb381-1" tabindex="-1"></a>test_filter_general <span class="ot">&lt;-</span> <span class="cf">function</span>(filter_condition) {</span>
<span id="cb381-2"><a href="#cb381-2" tabindex="-1"></a>  penguins <span class="sc">%&gt;%</span></span>
<span id="cb381-3"><a href="#cb381-3" tabindex="-1"></a>    <span class="fu">filter</span>({{filter_condition}})</span>
<span id="cb381-4"><a href="#cb381-4" tabindex="-1"></a>}</span>
<span id="cb381-5"><a href="#cb381-5" tabindex="-1"></a></span>
<span id="cb381-6"><a href="#cb381-6" tabindex="-1"></a><span class="fu">test_filter_general</span>(flipper_length_mm <span class="sc">&gt;</span> <span class="dv">180</span>) <span class="sc">%&gt;%</span></span>
<span id="cb381-7"><a href="#cb381-7" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 329
## Columns: 19
## $ study_name        &lt;chr&gt; &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708…
## $ sample_number     &lt;dbl&gt; 1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, …
## $ species           &lt;chr&gt; &quot;Adelie Penguin (Pygoscelis adeliae)&quot;, &quot;Adelie Pengu…
## $ region            &lt;chr&gt; &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;A…
## $ island            &lt;chr&gt; &quot;Torgersen&quot;, &quot;Torgersen&quot;, &quot;Torgersen&quot;, &quot;Torgersen&quot;, …
## $ stage             &lt;chr&gt; &quot;Adult, 1 Egg Stage&quot;, &quot;Adult, 1 Egg Stage&quot;, &quot;Adult, …
## $ individual_id     &lt;chr&gt; &quot;N1A1&quot;, &quot;N1A2&quot;, &quot;N2A1&quot;, &quot;N3A1&quot;, &quot;N3A2&quot;, &quot;N4A1&quot;, &quot;N4A…
## $ clutch_completion &lt;chr&gt; &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Yes&quot;…
## $ date_egg          &lt;chr&gt; &quot;11/11/2007&quot;, &quot;11/11/2007&quot;, &quot;16/11/2007&quot;, &quot;16/11/200…
## $ culmen_length_mm  &lt;dbl&gt; 39.1, 39.5, 40.3, 36.7, 39.3, 38.9, 39.2, 34.1, 42.0…
## $ culmen_depth_mm   &lt;dbl&gt; 18.7, 17.4, 18.0, 19.3, 20.6, 17.8, 19.6, 18.1, 20.2…
## $ flipper_length_mm &lt;dbl&gt; 181, 186, 195, 193, 190, 181, 195, 193, 190, 186, 18…
## $ body_mass_g       &lt;dbl&gt; 3750, 3800, 3250, 3450, 3650, 3625, 4675, 3475, 4250…
## $ sex               &lt;chr&gt; &quot;MALE&quot;, &quot;FEMALE&quot;, &quot;FEMALE&quot;, &quot;FEMALE&quot;, &quot;MALE&quot;, &quot;FEMAL…
## $ delta_15_n_o_oo   &lt;dbl&gt; NA, 8.94956, 8.36821, 8.76651, 8.66496, 9.18718, 9.4…
## $ delta_13_c_o_oo   &lt;dbl&gt; NA, -24.69454, -25.33302, -25.32426, -25.29805, -25.…
## $ comments          &lt;chr&gt; &quot;Not enough blood for isotopes.&quot;, NA, NA, NA, NA, &quot;N…
## $ date_egg_proper   &lt;date&gt; 2007-11-11, 2007-11-11, 2007-11-16, 2007-11-16, 200…
## $ flipper_range     &lt;fct&gt; small, small, medium, medium, small, small, medium, …</code></pre>
<p>Let's try another data-masked function</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="#cb383-1" tabindex="-1"></a>summary_table <span class="ot">&lt;-</span> <span class="cf">function</span>(df, var){</span>
<span id="cb383-2"><a href="#cb383-2" tabindex="-1"></a>  df <span class="sc">|&gt;</span> </span>
<span id="cb383-3"><a href="#cb383-3" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>({{var}}, <span class="at">na.rm =</span> T),</span>
<span id="cb383-4"><a href="#cb383-4" tabindex="-1"></a>              <span class="at">sd =</span> <span class="fu">sd</span>({{var}}, <span class="at">na.rm =</span> T))</span>
<span id="cb383-5"><a href="#cb383-5" tabindex="-1"></a>}</span>
<span id="cb383-6"><a href="#cb383-6" tabindex="-1"></a></span>
<span id="cb383-7"><a href="#cb383-7" tabindex="-1"></a><span class="fu">summary_table</span>(penguins, body_mass_g)</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">mean</th>
<th align="right">sd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">4201.754</td>
<td align="right">801.9545</td>
</tr>
</tbody>
</table>
</div>
<div id="alternative-to" class="section level3" number="22.1.1">
<h3><span class="header-section-number">22.1.1</span> Alternative to <code>{{}}</code></h3>
<p>The <code>{{.}}</code> is a shortcut for <code>!!enquo(.)</code> Where <code>rlang::enquo()</code> captures and quote an argument or an expression. The result of <code>enquo()</code> is a <strong>quosure</strong>, which is a combination of the quoted expression and its associated environment.</p>
<p><code>!!</code> This is the unquote operator. It's used to unquote or unsplice the contents of a quosure. In other words, it takes the quoted expression out of the quosure and evaluates it. We can see how this would work for one of our previous examples:</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb384-1"><a href="#cb384-1" tabindex="-1"></a>test_filter_general <span class="ot">&lt;-</span> <span class="cf">function</span>(filter_condition) {</span>
<span id="cb384-2"><a href="#cb384-2" tabindex="-1"></a>  </span>
<span id="cb384-3"><a href="#cb384-3" tabindex="-1"></a>  filter_quo <span class="ot">&lt;-</span> <span class="fu">enquo</span>(filter_condition)</span>
<span id="cb384-4"><a href="#cb384-4" tabindex="-1"></a>  </span>
<span id="cb384-5"><a href="#cb384-5" tabindex="-1"></a>  penguins <span class="sc">%&gt;%</span></span>
<span id="cb384-6"><a href="#cb384-6" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!!</span>filter_quo)</span>
<span id="cb384-7"><a href="#cb384-7" tabindex="-1"></a>}</span>
<span id="cb384-8"><a href="#cb384-8" tabindex="-1"></a></span>
<span id="cb384-9"><a href="#cb384-9" tabindex="-1"></a><span class="fu">test_filter_general</span>(flipper_length_mm <span class="sc">&gt;</span> <span class="dv">180</span>) <span class="sc">%&gt;%</span></span>
<span id="cb384-10"><a href="#cb384-10" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 329
## Columns: 19
## $ study_name        &lt;chr&gt; &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708…
## $ sample_number     &lt;dbl&gt; 1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, …
## $ species           &lt;chr&gt; &quot;Adelie Penguin (Pygoscelis adeliae)&quot;, &quot;Adelie Pengu…
## $ region            &lt;chr&gt; &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;A…
## $ island            &lt;chr&gt; &quot;Torgersen&quot;, &quot;Torgersen&quot;, &quot;Torgersen&quot;, &quot;Torgersen&quot;, …
## $ stage             &lt;chr&gt; &quot;Adult, 1 Egg Stage&quot;, &quot;Adult, 1 Egg Stage&quot;, &quot;Adult, …
## $ individual_id     &lt;chr&gt; &quot;N1A1&quot;, &quot;N1A2&quot;, &quot;N2A1&quot;, &quot;N3A1&quot;, &quot;N3A2&quot;, &quot;N4A1&quot;, &quot;N4A…
## $ clutch_completion &lt;chr&gt; &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Yes&quot;…
## $ date_egg          &lt;chr&gt; &quot;11/11/2007&quot;, &quot;11/11/2007&quot;, &quot;16/11/2007&quot;, &quot;16/11/200…
## $ culmen_length_mm  &lt;dbl&gt; 39.1, 39.5, 40.3, 36.7, 39.3, 38.9, 39.2, 34.1, 42.0…
## $ culmen_depth_mm   &lt;dbl&gt; 18.7, 17.4, 18.0, 19.3, 20.6, 17.8, 19.6, 18.1, 20.2…
## $ flipper_length_mm &lt;dbl&gt; 181, 186, 195, 193, 190, 181, 195, 193, 190, 186, 18…
## $ body_mass_g       &lt;dbl&gt; 3750, 3800, 3250, 3450, 3650, 3625, 4675, 3475, 4250…
## $ sex               &lt;chr&gt; &quot;MALE&quot;, &quot;FEMALE&quot;, &quot;FEMALE&quot;, &quot;FEMALE&quot;, &quot;MALE&quot;, &quot;FEMAL…
## $ delta_15_n_o_oo   &lt;dbl&gt; NA, 8.94956, 8.36821, 8.76651, 8.66496, 9.18718, 9.4…
## $ delta_13_c_o_oo   &lt;dbl&gt; NA, -24.69454, -25.33302, -25.32426, -25.29805, -25.…
## $ comments          &lt;chr&gt; &quot;Not enough blood for isotopes.&quot;, NA, NA, NA, NA, &quot;N…
## $ date_egg_proper   &lt;date&gt; 2007-11-11, 2007-11-11, 2007-11-16, 2007-11-16, 200…
## $ flipper_range     &lt;fct&gt; small, small, medium, medium, small, small, medium, …</code></pre>
</div>
</div>
<div id="tidy-select" class="section level2" number="22.2">
<h2><span class="header-section-number">22.2</span> tidy-select</h2>
<p>When using functions that use tidy-select, we put variable names in quotes and use th <code>all_of</code> and <code>any_of</code> functions.</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="#cb386-1" tabindex="-1"></a>my_select_function <span class="ot">&lt;-</span> <span class="cf">function</span>(select_variable){</span>
<span id="cb386-2"><a href="#cb386-2" tabindex="-1"></a>  penguins <span class="sc">|&gt;</span> </span>
<span id="cb386-3"><a href="#cb386-3" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(select_variable)</span>
<span id="cb386-4"><a href="#cb386-4" tabindex="-1"></a>  }</span>
<span id="cb386-5"><a href="#cb386-5" tabindex="-1"></a></span>
<span id="cb386-6"><a href="#cb386-6" tabindex="-1"></a><span class="fu">my_select_function</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb386-7"><a href="#cb386-7" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>Error: object &#39;species&#39; not found
</code></pre>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="#cb388-1" tabindex="-1"></a>my_select_function <span class="ot">&lt;-</span> <span class="cf">function</span>(select_variable){</span>
<span id="cb388-2"><a href="#cb388-2" tabindex="-1"></a>  penguins <span class="sc">|&gt;</span> </span>
<span id="cb388-3"><a href="#cb388-3" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(select_variable)</span>
<span id="cb388-4"><a href="#cb388-4" tabindex="-1"></a>  }</span>
<span id="cb388-5"><a href="#cb388-5" tabindex="-1"></a></span>
<span id="cb388-6"><a href="#cb388-6" tabindex="-1"></a><span class="fu">my_select_function</span>(<span class="st">&quot;species&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb388-7"><a href="#cb388-7" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>Warning: Using an external vector in selections was deprecated in tidyselect 1.1.0.
Please use `all_of()` or `any_of()` instead.
# Was:
data %&gt;% select(select_variable)

# Now:
data %&gt;% select(all_of(select_variable))
</code></pre>
<ul>
<li><p><code>any_of()</code>: selecting any of the listed variables</p></li>
<li><p><code>all_of()</code>: for strict selection. If any of the variables in the character vector is missing, an error is thrown</p></li>
<li><p>Can also use <code>!all_of()</code> to select all variables not found in the character vector supplied to all_of()</p></li>
</ul>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="#cb390-1" tabindex="-1"></a>my_select_function <span class="ot">&lt;-</span> <span class="cf">function</span>(select_variable){</span>
<span id="cb390-2"><a href="#cb390-2" tabindex="-1"></a>  penguins <span class="sc">|&gt;</span> </span>
<span id="cb390-3"><a href="#cb390-3" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(dplyr<span class="sc">::</span><span class="fu">all_of</span>(select_variable))</span>
<span id="cb390-4"><a href="#cb390-4" tabindex="-1"></a>  }</span>
<span id="cb390-5"><a href="#cb390-5" tabindex="-1"></a></span>
<span id="cb390-6"><a href="#cb390-6" tabindex="-1"></a><span class="fu">my_select_function</span>(<span class="at">select_variable =</span> <span class="fu">c</span>(<span class="st">&quot;species&quot;</span>, <span class="st">&quot;sex&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb390-7"><a href="#cb390-7" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 344
## Columns: 2
## $ species &lt;chr&gt; &quot;Adelie Penguin (Pygoscelis adeliae)&quot;, &quot;Adelie Penguin (Pygosc…
## $ sex     &lt;chr&gt; &quot;MALE&quot;, &quot;FEMALE&quot;, &quot;FEMALE&quot;, NA, &quot;FEMALE&quot;, &quot;MALE&quot;, &quot;FEMALE&quot;, &quot;M…</code></pre>
</div>
<div id="practice" class="section level2" number="22.3">
<h2><span class="header-section-number">22.3</span> Practice</h2>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
<p>Write a <code>function</code> that uses filter to take any two of the penguin species then selects one numeric variable e.g. body_mass_g and compares them with a violin plot (<code>geom_violin()</code>)</p>
</div>
</div>
<button id="displayTextunnamed-chunk-68" onclick="javascript:toggle(&#39;unnamed-chunk-68&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-68" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb392"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb392-1"><a href="#cb392-1" tabindex="-1"></a>compare_species_plot <span class="ot">&lt;-</span> <span class="cf">function</span>(data, species_1, species_2, feature) {</span>
<span id="cb392-2"><a href="#cb392-2" tabindex="-1"></a>    </span>
<span id="cb392-3"><a href="#cb392-3" tabindex="-1"></a>  filtered_data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb392-4"><a href="#cb392-4" tabindex="-1"></a>        <span class="fu">filter</span>(species <span class="sc">%in%</span> <span class="fu">c</span>(species_1, species_2))</span>
<span id="cb392-5"><a href="#cb392-5" tabindex="-1"></a>    </span>
<span id="cb392-6"><a href="#cb392-6" tabindex="-1"></a>    <span class="co"># Create a conditional ggplot</span></span>
<span id="cb392-7"><a href="#cb392-7" tabindex="-1"></a>    <span class="fu">ggplot</span>(filtered_data, <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> {{feature}}))<span class="sc">+</span> </span>
<span id="cb392-8"><a href="#cb392-8" tabindex="-1"></a>      <span class="fu">geom_violin</span>()</span>
<span id="cb392-9"><a href="#cb392-9" tabindex="-1"></a>        </span>
<span id="cb392-10"><a href="#cb392-10" tabindex="-1"></a></span>
<span id="cb392-11"><a href="#cb392-11" tabindex="-1"></a>}</span>
<span id="cb392-12"><a href="#cb392-12" tabindex="-1"></a></span>
<span id="cb392-13"><a href="#cb392-13" tabindex="-1"></a><span class="fu">compare_species_plot</span>(penguins, <span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span>, culmen_length_mm)</span></code></pre></div>
<p><img src="04-tidyverse_files/figure-html/unnamed-chunk-71-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
<p>In the example below I have used <code>enquo</code> to enable conversion to character strings, this means all of the function arguments can be provided without "quotes".</p>
<button id="displayTextunnamed-chunk-69" onclick="javascript:toggle(&#39;unnamed-chunk-69&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-69" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="#cb393-1" tabindex="-1"></a>compare_species_plot <span class="ot">&lt;-</span> <span class="cf">function</span>(data, species_1, species_2, feature) {</span>
<span id="cb393-2"><a href="#cb393-2" tabindex="-1"></a>    </span>
<span id="cb393-3"><a href="#cb393-3" tabindex="-1"></a>   </span>
<span id="cb393-4"><a href="#cb393-4" tabindex="-1"></a>    </span>
<span id="cb393-5"><a href="#cb393-5" tabindex="-1"></a>    <span class="co"># Quote species_1 and species_2 using quosures</span></span>
<span id="cb393-6"><a href="#cb393-6" tabindex="-1"></a>    species_1_quo <span class="ot">&lt;-</span> <span class="fu">quo_name</span>(<span class="fu">enquo</span>(species_1))</span>
<span id="cb393-7"><a href="#cb393-7" tabindex="-1"></a>    species_2_quo <span class="ot">&lt;-</span> <span class="fu">quo_name</span>(<span class="fu">enquo</span>(species_2))</span>
<span id="cb393-8"><a href="#cb393-8" tabindex="-1"></a>    </span>
<span id="cb393-9"><a href="#cb393-9" tabindex="-1"></a></span>
<span id="cb393-10"><a href="#cb393-10" tabindex="-1"></a>    filtered_data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb393-11"><a href="#cb393-11" tabindex="-1"></a>        <span class="fu">filter</span>(species <span class="sc">%in%</span> <span class="fu">c</span>(species_1_quo, species_2_quo))</span>
<span id="cb393-12"><a href="#cb393-12" tabindex="-1"></a>    </span>
<span id="cb393-13"><a href="#cb393-13" tabindex="-1"></a>    <span class="co"># Create a conditional ggplot</span></span>
<span id="cb393-14"><a href="#cb393-14" tabindex="-1"></a>    <span class="fu">ggplot</span>(filtered_data, <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> {{feature}})) <span class="sc">+</span></span>
<span id="cb393-15"><a href="#cb393-15" tabindex="-1"></a>        <span class="fu">geom_violin</span>()</span>
<span id="cb393-16"><a href="#cb393-16" tabindex="-1"></a>}</span>
<span id="cb393-17"><a href="#cb393-17" tabindex="-1"></a></span>
<span id="cb393-18"><a href="#cb393-18" tabindex="-1"></a><span class="co"># Example usage without quotes for species names</span></span>
<span id="cb393-19"><a href="#cb393-19" tabindex="-1"></a></span>
<span id="cb393-20"><a href="#cb393-20" tabindex="-1"></a><span class="fu">compare_species_plot</span>(penguins, Adelie, Chinstrap, culmen_length_mm)</span></code></pre></div>
</div>
</div>
</div>
</div>
<div id="practice-1" class="section level2" number="22.4">
<h2><span class="header-section-number">22.4</span> Practice</h2>
<p>Can you write your own custom function in tidyverse?</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb394-1"><a href="#cb394-1" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code></pre></div>
<pre><code>## R version 4.3.1 (2023-06-16)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 20.04.6 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/atlas/libblas.so.3.10.3 
## LAPACK: /usr/lib/x86_64-linux-gnu/atlas/liblapack.so.3.10.3;  LAPACK version 3.9.0
## 
## locale:
##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       
##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   
##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          
## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   
## 
## time zone: UTC
## tzcode source: system (glibc)
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] janitor_2.2.0      knitr_1.43         webexercises_1.1.0 glossary_1.0.0    
##  [5] lubridate_1.9.2    forcats_1.0.0      stringr_1.5.0      dplyr_1.1.2       
##  [9] purrr_1.0.1        readr_2.1.4        tidyr_1.3.0        tibble_3.2.1      
## [13] ggplot2_3.4.2      tidyverse_2.0.0   
## 
## loaded via a namespace (and not attached):
##  [1] sass_0.4.6        utf8_1.2.3        generics_0.1.3    xml2_1.3.5       
##  [5] stringi_1.7.12    hms_1.1.3         digest_0.6.33     magrittr_2.0.3   
##  [9] evaluate_0.21     grid_4.3.1        timechange_0.2.0  bookdown_0.34    
## [13] fastmap_1.1.1     jsonlite_1.8.7    fansi_1.0.4       scales_1.2.1     
## [17] jquerylib_0.1.4   cli_3.6.1         rlang_1.1.1       munsell_0.5.0    
## [21] withr_2.5.0       cachem_1.0.8      yaml_2.3.7        tools_4.3.1      
## [25] tzdb_0.4.0        memoise_2.0.1     colorspace_2.1-0  vctrs_0.6.3      
## [29] R6_2.5.1          lifecycle_1.0.3   snakecase_0.11.0  fs_1.6.2         
## [33] pkgconfig_2.0.3   pillar_1.9.0      bslib_0.5.0       gtable_0.3.3     
## [37] glue_1.6.2        xfun_0.39         tidyselect_1.2.0  rstudioapi_0.15.0
## [41] htmltools_0.5.5   rmarkdown_2.23    compiler_4.3.1    downlit_0.4.3</code></pre>
<!--chapter:end:04-tidyverse.Rmd-->
</div>
</div>
<div id="part-data-presentation" class="section level1 unnumbered">
<h1 class="unnumbered">(PART*) Data Presentation</h1>
</div>
<div id="data-visualisation-with-ggplot2" class="section level1" number="23">
<h1><span class="header-section-number">23</span> Data visualisation with ggplot2</h1>
<div id="intro-to-grammar" class="section level2" number="23.1">
<h2><span class="header-section-number">23.1</span> Intro to grammar</h2>
<p>The ggplot2 package is widely used and valued for its simple, consistent approach to making data visuals.</p>
<p>The 'grammar of graphics' relates to the different components of a plot that function like different parts of linguistic grammar. For example, all plots require axes, so the x and y axes form one part of the ‘language’ of a plot. Similarly, all plots have data represented between the axes, often as points, lines or bars. The visual way that the data is represented forms another component of the grammar of graphics. Furthermore, the colour, shape or size of points and lines can be used to encode additional information in the plot. This information is usually clarified in a key, or legend, which can also be considered part of this ‘grammar’.</p>
<p>The philosophy of ggplot is much better explained by the package author, Hadley Wickham (<span class="citation">Wickham et al. (<a href="#ref-R-ggplot2">2023</a>)</span>). For now, we just need to be aware that ggplots are constructed by specifying the different components that we want to display, based on underlying information in a data frame.</p>
<div class="figure" style="text-align: center">
<img src="images/ambitious.png" alt="An example of what we can produce in ggplot" width="100%" />
<p class="caption">
(#fig:ambitious-figure)An example of what we can produce in ggplot
</p>
</div>
<div id="before-we-start" class="section level4" number="23.1.0.1">
<h4><span class="header-section-number">23.1.0.1</span> Before we start</h4>
<p>You should have a workspace ready to work with the Palmer penguins data. Load this workspace now.</p>
<p>Think about some basic checks before you start your work today.</p>
</div>
<div id="checklist-1" class="section level4" number="23.1.0.2">
<h4><span class="header-section-number">23.1.0.2</span> Checklist</h4>
<div class="try">
<p>
Today we are going to make a NEW R script in the same project space
as we have previously been working. This is part of organising our
workspace so that our analysis workflow is <a
href="#activity-1-organising-our-workspace">well documented and easy to
follow</a>
</p>
</div>
<ul>
<li><p>Open a <strong>new</strong> R script - we are moving on from data wrangling to data visualisation</p></li>
<li><p>Save this file <strong>in the scripts folder</strong> and call it <code>02_visualisation_penguins.R</code></p></li>
<li><p>Add the following to your script and run it:</p></li>
</ul>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb396-1"><a href="#cb396-1" tabindex="-1"></a><span class="co"># LOAD R OBJECTS AND FUNCTIONS ----</span></span>
<span id="cb396-2"><a href="#cb396-2" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;scripts/01_import_penguins_data.R&quot;</span>)</span>
<span id="cb396-3"><a href="#cb396-3" tabindex="-1"></a><span class="co"># import tidied penguins data and functions</span></span>
<span id="cb396-4"><a href="#cb396-4" tabindex="-1"></a><span class="co">#__________________________----</span></span></code></pre></div>
<ul>
<li>You should find your Environment fills up with objects from script 1</li>
</ul>
<div class="info">
<p>
The <code>source()</code> function is a very handy way of allowing
you to have different scripts for different parts of your R project, but
allow access to objects built elsewhere. In this way we are building our
analysis in stages.
</p>
</div>
<div class="warning">
<p>
The above command will ONLY work if you remembered to save and name
your script exactly as above AND put that script inside a subfolder
called scripts.
</p>
<p>
Does your project look like the one below?
</p>
</div>
<div class="figure" style="text-align: center">
<img src="images/project_penguin.png" alt="My neat project layout" width="100%" />
<p class="caption">
(#fig:unnamed-chunk-7)My neat project layout
</p>
</div>
<div class="figure" style="text-align: center">
<img src="images/r_script.png" alt="If you have sucessfully saved 02_visualisation_penguins.R it should be visible here too " width="100%" />
<p class="caption">
(#fig:unnamed-chunk-8)If you have sucessfully saved 02_visualisation_penguins.R it should be visible here too
</p>
</div>
</div>
<div id="what-if-source-isnt-working" class="section level4" number="23.1.0.3">
<h4><span class="header-section-number">23.1.0.3</span> What if source isn't working?</h4>
<p>If source isn't working, or you can't figure out your project set-up you can complete this worksheet if you put the following commands at the top of your script <em>instead</em> of <code>source("scripts/01_import_penguins_data.R")</code></p>
<div class="webex-solution">
<button>
Script adjustment
</button>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="#cb397-1" tabindex="-1"></a><span class="co">#___________________________----</span></span>
<span id="cb397-2"><a href="#cb397-2" tabindex="-1"></a><span class="co"># SET UP ----</span></span>
<span id="cb397-3"><a href="#cb397-3" tabindex="-1"></a><span class="do">## An analysis of the bill dimensions of male and female Adelie, Gentoo and Chinstrap penguins ----</span></span>
<span id="cb397-4"><a href="#cb397-4" tabindex="-1"></a></span>
<span id="cb397-5"><a href="#cb397-5" tabindex="-1"></a><span class="do">### Data first published in  Gorman, KB, TD Williams, and WR Fraser. 2014. “Ecological Sexual Dimorphism and Environmental Variability Within a Community of Antarctic Penguins (Genus Pygoscelis).” PLos One 9 (3): e90081. https://doi.org/10.1371/journal.pone.0090081. ----</span></span>
<span id="cb397-6"><a href="#cb397-6" tabindex="-1"></a><span class="co">#__________________________----</span></span>
<span id="cb397-7"><a href="#cb397-7" tabindex="-1"></a></span>
<span id="cb397-8"><a href="#cb397-8" tabindex="-1"></a><span class="co"># PACKAGES ----</span></span>
<span id="cb397-9"><a href="#cb397-9" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># tidy data packages</span></span>
<span id="cb397-10"><a href="#cb397-10" tabindex="-1"></a><span class="fu">library</span>(janitor) <span class="co"># cleans variable names</span></span>
<span id="cb397-11"><a href="#cb397-11" tabindex="-1"></a><span class="fu">library</span>(lubridate) <span class="co"># make sure dates are processed properly</span></span>
<span id="cb397-12"><a href="#cb397-12" tabindex="-1"></a><span class="co">#__________________________----</span></span>
<span id="cb397-13"><a href="#cb397-13" tabindex="-1"></a></span>
<span id="cb397-14"><a href="#cb397-14" tabindex="-1"></a><span class="co"># IMPORT DATA ----</span></span>
<span id="cb397-15"><a href="#cb397-15" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">read_csv</span> (<span class="st">&quot;data/penguins_raw.csv&quot;</span>)</span>
<span id="cb397-16"><a href="#cb397-16" tabindex="-1"></a></span>
<span id="cb397-17"><a href="#cb397-17" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(penguins) <span class="co"># clean variable names</span></span>
<span id="cb397-18"><a href="#cb397-18" tabindex="-1"></a><span class="co">#__________________________----</span></span></code></pre></div>
</div>
</div>
</div>
<div id="building-a-plot" class="section level2" number="23.2">
<h2><span class="header-section-number">23.2</span> Building a plot</h2>
<p>To start building the plot We are going to use the penguin data we have been working with previously. First we must specify the data frame that contains the relevant data for our plot. We can do this in two ways:</p>
<ol style="list-style-type: decimal">
<li>Here we are ‘sending the penguins data set into the ggplot function’:</li>
</ol>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="#cb398-1" tabindex="-1"></a><span class="co"># Building a ggplot step by step ----</span></span>
<span id="cb398-2"><a href="#cb398-2" tabindex="-1"></a><span class="do">## Render a plot background ----</span></span>
<span id="cb398-3"><a href="#cb398-3" tabindex="-1"></a>penguins  <span class="sc">|&gt;</span>  </span>
<span id="cb398-4"><a href="#cb398-4" tabindex="-1"></a>  <span class="fu">ggplot</span>()</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Here we are specifying the dataframe <em>within</em> the <code>ggplot()</code> function</li>
</ol>
<p>The output is identical</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="#cb399-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-11-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="info">
<p>
Running this command will produce an empty grey panel. This is
because we need to specify how different columns of the data frame
should be represented in the plot.
</p>
</div>
<div id="aesthetics---aes" class="section level3" number="23.2.1">
<h3><span class="header-section-number">23.2.1</span> Aesthetics - <code>aes()</code></h3>
<p>We can call in different columns of data from any dataset based on their column names. Column names are given as ‘aesthetic’ elements to the ggplot function, and are wrapped in the aes() function.</p>
<p>Because we want a scatter plot, each point will have an x and a y coordinate. We want the x axis to represent flipper length ( x = flipper_length_mm ), and the y axis to represent the body mass ( y = body_mass_g ).</p>
<p>We give these specifications separated by a comma. Quotes are not required when giving variables within <code>aes()</code>.</p>
<div class="info">
<p>
Those interested in why quotes aren’t required can read about <a
href="https://edwinth.github.io/blog/nse/">non-standard
evaluation</a>.
</p>
</div>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb400-1"><a href="#cb400-1" tabindex="-1"></a><span class="do">## Set axes ----</span></span>
<span id="cb400-2"><a href="#cb400-2" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb400-3"><a href="#cb400-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb400-4"><a href="#cb400-4" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g))</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-14-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>So far we have the grid lines for our x and y axis. <code>ggplot()</code> knows the variables required for the plot, and thus the scale, but has no information about how to display the data points.</p>
</div>
</div>
<div id="geometric-representations---geom" class="section level2" number="23.3">
<h2><span class="header-section-number">23.3</span> Geometric representations - geom()</h2>
<p>Given we want a scatter plot, we need to specify that the geometric representation of the data will be in point form, using geom_point(). <a href="https://ggplot2.tidyverse.org/reference/#geoms">There are many geometric object types</a>.</p>
<div class="figure" style="text-align: center">
<img src="images/geoms.png" alt="geom shapes" width="100%" />
<p class="caption">
(#fig:img-objects-enviro)geom shapes
</p>
</div>
<p>Here we are adding a layer (hence the + sign) of points to the plot. We can think of this as similar to e.g. Adobe Photoshop which uses layers of images that can be reordered and modified individually. Because we add to plots layer by layer <strong>the order</strong> of your geoms may be important for your final aesthetic design.</p>
<p>For ggplot, each layer will be added over the plot according to its position in the code. Below I first show the full breakdown of the components in a layer. Each layer requires information on</p>
<ul>
<li>data</li>
<li>aesthetics</li>
<li>geometric type</li>
<li>any summary of the data</li>
<li>position</li>
</ul>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="#cb401-1" tabindex="-1"></a><span class="do">## Add a geom ----</span></span>
<span id="cb401-2"><a href="#cb401-2" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb401-3"><a href="#cb401-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb401-4"><a href="#cb401-4" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g))<span class="sc">+</span></span>
<span id="cb401-5"><a href="#cb401-5" tabindex="-1"></a>  <span class="fu">layer</span>(                <span class="co"># layer inherits data and aesthetic arguments from previous</span></span>
<span id="cb401-6"><a href="#cb401-6" tabindex="-1"></a>    <span class="at">geom=</span><span class="st">&quot;point&quot;</span>,       <span class="co"># draw point objects</span></span>
<span id="cb401-7"><a href="#cb401-7" tabindex="-1"></a>    <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>,    <span class="co"># each individual data point gets a geom (no summaries)</span></span>
<span id="cb401-8"><a href="#cb401-8" tabindex="-1"></a>    <span class="at">position=</span><span class="fu">position_identity</span>()) <span class="co"># data points are not moved in any way e.g. we could specify jitter or dodge if we want to avoid busy overlapping data</span></span></code></pre></div>
<p>This is quite a complicate way to write new layers - and it is more usual to see a simpler more compact approach</p>
<div class="sourceCode" id="cb402"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb402-1"><a href="#cb402-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb402-2"><a href="#cb402-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb402-3"><a href="#cb402-3" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g))<span class="sc">+</span></span>
<span id="cb402-4"><a href="#cb402-4" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="co"># geom_point function will always draw points, and unless specified otherwise the arguments for position and stat are both &quot;identity&quot;.</span></span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-16-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Now we have the scatter plot! Each row (except for two rows of missing data) in the penguins data set now has an x coordinate, a y coordinate, and a designated geometric representation (point).</p>
<p>From this we can see that smaller penguins tend to have smaller flipper lengths.</p>
<div id="and" class="section level3" number="23.3.1">
<h3><span class="header-section-number">23.3.1</span> |&gt; and +</h3>
<p>ggplot2, an early component of the tidyverse package, was written before the pipe was introduced. The + sign in ggplot2 functions in a similar way to the pipe in other functions in the tidyverse: by allowing code to be written from left to right.</p>
</div>
<div id="colour" class="section level3" number="23.3.2">
<h3><span class="header-section-number">23.3.2</span> Colour</h3>
<p>The colors of lines and points can be set directly using <code>colour="red"</code>, replacing “red” with a color name. The colors of filled objects, like bars, can be set using <code>fill="red"</code>.</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="#cb403-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb403-2"><a href="#cb403-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb403-3"><a href="#cb403-3" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g))<span class="sc">+</span></span>
<span id="cb403-4"><a href="#cb403-4" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">colour=</span><span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-17-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>However the current plot could be more informative if colour was used to convey information about the species of each penguin.</p>
<p>In order to achieve this we need to use <code>aes()</code> again, and make the colour conditional upon a variable.</p>
<p>Here, the <code>aes()</code> function containing the relevant column name, is given within the <code>geom_point()</code> function.</p>
<div class="warning">
<p>
A common mistake is to get confused about when to use (or not use)
<code>aes()</code>
</p>
<p>
If specifying a fixed aesthetic e.g. red for everything it DOES NOT
go inside <code>aes()</code> instead specify e.g. colour = “red” or
shape =21.
</p>
<p>
If you wish to modify an aethetic according to a variable in your
data THEN it DOES go inside <code>aes()</code>
e.g. <code>aes(colour = species)</code>
</p>
</div>
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb404-1"><a href="#cb404-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb404-2"><a href="#cb404-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb404-3"><a href="#cb404-3" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g))<span class="sc">+</span></span>
<span id="cb404-4"><a href="#cb404-4" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour=</span>species))</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-19-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="info">
<p>
You may (or may not) have noticed that the grammar of ggplot (and
tidyverse in general) accepts British/Americanization for
spelling!!!
</p>
</div>
<p>With data visualisations we can start to gain insights into our data very quickly, we can see that the Gentoo penguins tend to be both larger and have longer flippers</p>
<div class="info">
<p>
Add carriage returns (new lines) after each |&gt; or + symbols.
</p>
<p>
In most cases, R is blind to white space and new lines, so this is
simply to make our code more readable, and allow us to add readable
comments.
</p>
</div>
</div>
<div id="more-layers" class="section level3" number="23.3.3">
<h3><span class="header-section-number">23.3.3</span> More layers</h3>
<p>We can see the relationship between body size and flipper length. But what if we want to model this relationship with a trend line? We can add another ‘layer’ to this plot, using a different geometric representation of the data. In this case a trend line, which is in fact a summary of the data rather than a representation of each point.</p>
<p>The <code>geom_smooth()</code> function draws a trend line through the data. The default behaviour is to draw a local regression line (curve) through the points, however these can be hard to interpret. We want to add a straight line based on a linear model (‘lm’) of the relationship between x and y.</p>
<p>This is our <strong>first</strong> encounter with linear models in this course, but we will learn a lot more about them later on.</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="#cb405-1" tabindex="-1"></a><span class="do">## Add a second geom ----</span></span>
<span id="cb405-2"><a href="#cb405-2" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb405-3"><a href="#cb405-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb405-4"><a href="#cb405-4" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g))<span class="sc">+</span></span>
<span id="cb405-5"><a href="#cb405-5" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour=</span>species))<span class="sc">+</span></span>
<span id="cb405-6"><a href="#cb405-6" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,    <span class="co">#add another layer of data representation.</span></span>
<span id="cb405-7"><a href="#cb405-7" tabindex="-1"></a>              <span class="at">se=</span><span class="cn">FALSE</span>,</span>
<span id="cb405-8"><a href="#cb405-8" tabindex="-1"></a>              <span class="fu">aes</span>(<span class="at">colour=</span>species)) <span class="co"># note layers inherit information from the top ggplot() function but not previous layers - if we want separate lines per species we need to either specify this again *or* move the color aesthetic to the top layer. </span></span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-22-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>In the example above we may notice that we are assigning colour to the same variable (species) in both geometric layers. This means we have the option to simplify our code. Aesthetics set in the "top layer" of <code>ggplot()</code> are inherited by all subsequent layers.</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="#cb406-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb406-2"><a href="#cb406-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb406-3"><a href="#cb406-3" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g,</span>
<span id="cb406-4"><a href="#cb406-4" tabindex="-1"></a>             <span class="at">colour=</span>species))<span class="sc">+</span> <span class="do">### now colour is set here it will be inherited by ALL layers</span></span>
<span id="cb406-5"><a href="#cb406-5" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb406-6"><a href="#cb406-6" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,    <span class="co">#add another layer of data representation.</span></span>
<span id="cb406-7"><a href="#cb406-7" tabindex="-1"></a>              <span class="at">se=</span><span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-23-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="try">
<p>
Note - that the trend line is blocking out certain points, because it
is the ‘top layer’ of the plot. The geom layers that appear early in the
command are drawn first, and can be obscured by the geom layers that
come after them.
</p>
<p>
What happens if you switch the order of the geom_point() and
geom_smooth() functions above? What do you notice about the trend
line?
</p>
</div>
</div>
<div id="co-ordinate-space" class="section level3" number="23.3.4">
<h3><span class="header-section-number">23.3.4</span> Co-ordinate space</h3>
<p>ggplot will automatically pick the scale for each axis, and the type of coordinate space. Most plots are in Cartesian (linear X vs linear Y) coordinate space.</p>
<p>For this plot, let’s say we want the x and y origin to be set at 0. To do this we can add in <code>xlim()</code> and <code>ylim()</code> functions, which define the limits of the axes:</p>
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb407-1"><a href="#cb407-1" tabindex="-1"></a><span class="do">## Set axis limits ----</span></span>
<span id="cb407-2"><a href="#cb407-2" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb407-3"><a href="#cb407-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb407-4"><a href="#cb407-4" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g,</span>
<span id="cb407-5"><a href="#cb407-5" tabindex="-1"></a>             <span class="at">colour=</span>species))<span class="sc">+</span> </span>
<span id="cb407-6"><a href="#cb407-6" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb407-7"><a href="#cb407-7" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,    </span>
<span id="cb407-8"><a href="#cb407-8" tabindex="-1"></a>              <span class="at">se=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb407-9"><a href="#cb407-9" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>,<span class="dv">240</span>) <span class="sc">+</span> <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">7000</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-25-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Further, we can control the coordinate space using <code>coord()</code> functions. Say we want to flip the x and y axes, we add <code>coord_flip()</code>:</p>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb408-1"><a href="#cb408-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb408-2"><a href="#cb408-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb408-3"><a href="#cb408-3" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g,</span>
<span id="cb408-4"><a href="#cb408-4" tabindex="-1"></a>             <span class="at">colour=</span>species))<span class="sc">+</span> </span>
<span id="cb408-5"><a href="#cb408-5" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb408-6"><a href="#cb408-6" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,    </span>
<span id="cb408-7"><a href="#cb408-7" tabindex="-1"></a>              <span class="at">se=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb408-8"><a href="#cb408-8" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>,<span class="dv">240</span>) <span class="sc">+</span> <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">7000</span>)<span class="sc">+</span></span>
<span id="cb408-9"><a href="#cb408-9" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-26-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="labels" class="section level2" number="23.4">
<h2><span class="header-section-number">23.4</span> Labels</h2>
<p>By default, the axis labels will be the column names we gave as aesthetics aes(). We can change the axis labels using the xlab() and ylab() functions. Given that column names are often short and can be cryptic, this functionality is particularly important for effectively communicating results.</p>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb409-1"><a href="#cb409-1" tabindex="-1"></a><span class="do">## Custom labels ----</span></span>
<span id="cb409-2"><a href="#cb409-2" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb409-3"><a href="#cb409-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb409-4"><a href="#cb409-4" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g,</span>
<span id="cb409-5"><a href="#cb409-5" tabindex="-1"></a>             <span class="at">colour=</span>species))<span class="sc">+</span> </span>
<span id="cb409-6"><a href="#cb409-6" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb409-7"><a href="#cb409-7" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,    </span>
<span id="cb409-8"><a href="#cb409-8" tabindex="-1"></a>              <span class="at">se=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb409-9"><a href="#cb409-9" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Flipper length (mm)&quot;</span>,</span>
<span id="cb409-10"><a href="#cb409-10" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Body mass (g)&quot;</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-27-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div id="titles-and-subtitles" class="section level4" number="23.4.0.1">
<h4><span class="header-section-number">23.4.0.1</span> Titles and subtitles</h4>
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb410-1"><a href="#cb410-1" tabindex="-1"></a><span class="do">## Add titles ----</span></span>
<span id="cb410-2"><a href="#cb410-2" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb410-3"><a href="#cb410-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb410-4"><a href="#cb410-4" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g,</span>
<span id="cb410-5"><a href="#cb410-5" tabindex="-1"></a>             <span class="at">colour=</span>species))<span class="sc">+</span> </span>
<span id="cb410-6"><a href="#cb410-6" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb410-7"><a href="#cb410-7" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,    </span>
<span id="cb410-8"><a href="#cb410-8" tabindex="-1"></a>              <span class="at">se=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb410-9"><a href="#cb410-9" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Flipper length (mm)&quot;</span>,</span>
<span id="cb410-10"><a href="#cb410-10" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Body mass (g)&quot;</span>,</span>
<span id="cb410-11"><a href="#cb410-11" tabindex="-1"></a>       <span class="at">title=</span> <span class="st">&quot;Penguin Size, Palmer Station LTER&quot;</span>,</span>
<span id="cb410-12"><a href="#cb410-12" tabindex="-1"></a>       <span class="at">subtitle=</span> <span class="st">&quot;Flipper length and body mass for three penguin species&quot;</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-28-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="themes" class="section level2" number="23.5">
<h2><span class="header-section-number">23.5</span> Themes</h2>
<p>Finally, the overall appearance of the plot can be modified using theme() functions. The default theme has a grey background.
You may prefer <code>theme_classic()</code>, a <code>theme_minimal()</code> or even <code>theme_void()</code>. Try them out.</p>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb411-1"><a href="#cb411-1" tabindex="-1"></a><span class="do">## Custom themes ----</span></span>
<span id="cb411-2"><a href="#cb411-2" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb411-3"><a href="#cb411-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb411-4"><a href="#cb411-4" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g,</span>
<span id="cb411-5"><a href="#cb411-5" tabindex="-1"></a>             <span class="at">colour=</span>species))<span class="sc">+</span> </span>
<span id="cb411-6"><a href="#cb411-6" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb411-7"><a href="#cb411-7" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,    </span>
<span id="cb411-8"><a href="#cb411-8" tabindex="-1"></a>              <span class="at">se=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb411-9"><a href="#cb411-9" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Flipper length (mm)&quot;</span>,</span>
<span id="cb411-10"><a href="#cb411-10" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Body mass (g)&quot;</span>,</span>
<span id="cb411-11"><a href="#cb411-11" tabindex="-1"></a>       <span class="at">title=</span> <span class="st">&quot;Penguin Size, Palmer Station LTER&quot;</span>,</span>
<span id="cb411-12"><a href="#cb411-12" tabindex="-1"></a>       <span class="at">subtitle=</span> <span class="st">&quot;Flipper length and body mass for three penguin species&quot;</span>)<span class="sc">+</span></span>
<span id="cb411-13"><a href="#cb411-13" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-29-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="info">
<p>
There is a lot more customisation available through the theme()
function. We will look at making our own custom themes in later
lessons
</p>
<p>
You can also try installing and running an even wider range of
pre-built themes if you install the R package <a
href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/">ggthemes</a>.
</p>
<p>
First you will need to run the
<code>install.packages("ggthemes")</code> command. Remember this is one
of the few times a command should NOT be written in your script but
typed directly into the console. That’s because it’s rude to send
someone a script that will install packages on their computer - think of
<code>library()</code> as a polite request instead!
</p>
<p>
To access the range of themes available type
<code>help(ggthemes)</code> then follow the documentation to find out
what you can do.
</p>
</div>
</div>
<div id="more-geom-shapes" class="section level2" number="23.6">
<h2><span class="header-section-number">23.6</span> More geom shapes</h2>
<div id="jitter" class="section level3" number="23.6.1">
<h3><span class="header-section-number">23.6.1</span> Jitter</h3>
<p>The <code>geom_jitter()</code> command adds some random scatter to the points which can reduce over-plotting. Compare these two plots:</p>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-31-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb412"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb412-1"><a href="#cb412-1" tabindex="-1"></a><span class="do">## geom point</span></span>
<span id="cb412-2"><a href="#cb412-2" tabindex="-1"></a></span>
<span id="cb412-3"><a href="#cb412-3" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> culmen_length_mm)) <span class="sc">+</span></span>
<span id="cb412-4"><a href="#cb412-4" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> species),</span>
<span id="cb412-5"><a href="#cb412-5" tabindex="-1"></a>              <span class="at">alpha =</span> <span class="fl">0.7</span>, </span>
<span id="cb412-6"><a href="#cb412-6" tabindex="-1"></a>              <span class="at">show.legend =</span> <span class="cn">FALSE</span>) </span>
<span id="cb412-7"><a href="#cb412-7" tabindex="-1"></a></span>
<span id="cb412-8"><a href="#cb412-8" tabindex="-1"></a><span class="do">## More geoms ----</span></span>
<span id="cb412-9"><a href="#cb412-9" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> culmen_length_mm)) <span class="sc">+</span></span>
<span id="cb412-10"><a href="#cb412-10" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">color =</span> species),</span>
<span id="cb412-11"><a href="#cb412-11" tabindex="-1"></a>              <span class="at">width =</span> <span class="fl">0.1</span>, <span class="co"># specifies the width, change this to change the range of scatter</span></span>
<span id="cb412-12"><a href="#cb412-12" tabindex="-1"></a>              <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="co"># specifies the amount of transparency in the points</span></span>
<span id="cb412-13"><a href="#cb412-13" tabindex="-1"></a>              <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="co"># don&#39;t leave a legend in a plot, if it doesn&#39;t add value</span></span></code></pre></div>
</div>
<div id="boxplots" class="section level3" number="23.6.2">
<h3><span class="header-section-number">23.6.2</span> Boxplots</h3>
<p>Box plots, or ‘box &amp; whisker plots’ are another essential tool for data analysis. Box plots summarize the distribution of a set of values by displaying the minimum and maximum values, the median (i.e. middle-ranked value), and the range of the middle 50% of values (inter-quartile range).
The whisker line extending above and below the IQR box define Q3 + (1.5 x IQR), and Q1 - (1.5 x IQR) respectively. You can watch a short video to learn more about box plots <a href="https://www.youtube.com/watch?v=fHLhBnmwUM0">here</a>.</p>
<p><img src="images/boxplot.png" width="80%" style="display: block; margin: auto;" /></p>
<p>To create a box plot from our data we use (no prizes here) <code>geom_boxplot()</code></p>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb413-1"><a href="#cb413-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> culmen_length_mm)) <span class="sc">+</span></span>
<span id="cb413-2"><a href="#cb413-2" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> species),</span>
<span id="cb413-3"><a href="#cb413-3" tabindex="-1"></a>              <span class="at">alpha =</span> <span class="fl">0.7</span>, </span>
<span id="cb413-4"><a href="#cb413-4" tabindex="-1"></a>              <span class="at">width =</span> <span class="fl">0.5</span>, <span class="co"># change width of boxplot</span></span>
<span id="cb413-5"><a href="#cb413-5" tabindex="-1"></a>              <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-34-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="try">
<p>
Note that when specifying colour variables using <code>aes()</code>
some geometric shapes support an internal colour “fill” and an external
colour “colour”. Try changing the aes fill for colour in the code above,
and note what happens.
</p>
</div>
<p>The points indicate outlier values [i.e., those greater than Q3 + (1.5 x IQR)].</p>
<p>We can overlay a boxplot on the scatter plot for the entire dataset, to fully communicate both the raw and summary data. Here we reduce the width of the jitter points slightly.</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="#cb414-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> culmen_length_mm)) <span class="sc">+</span></span>
<span id="cb414-2"><a href="#cb414-2" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> species), <span class="co"># note fill is &quot;inside&quot; colour and colour is &quot;edges&quot; - try it for yourself</span></span>
<span id="cb414-3"><a href="#cb414-3" tabindex="-1"></a>              <span class="at">alpha =</span> <span class="fl">0.2</span>, <span class="co"># fainter boxes so the points &quot;pop&quot;</span></span>
<span id="cb414-4"><a href="#cb414-4" tabindex="-1"></a>              <span class="at">width =</span> <span class="fl">0.5</span>, <span class="co"># change width of boxplot</span></span>
<span id="cb414-5"><a href="#cb414-5" tabindex="-1"></a>              <span class="at">outlier.shape=</span><span class="cn">NA</span>)<span class="sc">+</span></span>
<span id="cb414-6"><a href="#cb414-6" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">colour =</span> species),</span>
<span id="cb414-7"><a href="#cb414-7" tabindex="-1"></a>                <span class="at">width=</span><span class="fl">0.2</span>)<span class="sc">+</span></span>
<span id="cb414-8"><a href="#cb414-8" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-36-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="warning">
<p>
In the above example I switched from using show.legend=FALSE inside
the geom layer to using theme(legend.position=“none”). Why? This is an
example of reducing redundant code. I would have to specify
show.legend=FALSE for every geom layer in my plot, but the theme
function applies to every layer. Save code, save time, reduce
errors!
</p>
</div>
</div>
<div id="density-and-histogram" class="section level3" number="23.6.3">
<h3><span class="header-section-number">23.6.3</span> Density and histogram</h3>
<p>Compare the following two sets of code:</p>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb415-1"><a href="#cb415-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb415-2"><a href="#cb415-2" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>culmen_length_mm, <span class="at">fill=</span>species),</span>
<span id="cb415-3"><a href="#cb415-3" tabindex="-1"></a>           <span class="at">position =</span> <span class="st">&quot;identity&quot;</span>)<span class="sc">+</span></span>
<span id="cb415-4"><a href="#cb415-4" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins=</span><span class="dv">50</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-38-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>At first you might struggle to see/understand the difference between these two charts. The shapes should be roughly the same.</p>
<div class="sourceCode" id="cb416"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb416-1"><a href="#cb416-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb416-2"><a href="#cb416-2" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>culmen_length_mm, <span class="at">fill=</span>species))<span class="sc">+</span></span>
<span id="cb416-3"><a href="#cb416-3" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins=</span><span class="dv">50</span>, </span>
<span id="cb416-4"><a href="#cb416-4" tabindex="-1"></a>                   <span class="fu">aes</span>(<span class="at">y=</span>..density..),</span>
<span id="cb416-5"><a href="#cb416-5" tabindex="-1"></a>                   <span class="at">position =</span> <span class="st">&quot;identity&quot;</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-39-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="webex-solution">
<button>
Explain this
</button>
<p>The first block of code produced a frequency histogram, each bar represents the actual number of observations made within each 'bin', the second block of code shows the 'relative density' within each bin. In a density histogram the area under the curve for each sub-group will sum to 1. This allows us to compare distributions and shapes between sub-groups of different sizes. For example there are far fewer Adelie penguins in our dataset, but in a density histogram they occupy the same area of the graph as the other two species.</p>
</div>
<p><br></p>
</div>
</div>
<div id="more-colours" class="section level2" number="23.7">
<h2><span class="header-section-number">23.7</span> More Colours</h2>
<p>There are two main differences when it comes to colors in <code>ggplot2</code>. Both arguments, color and fill, can be specified as single color or
assigned to variables.</p>
<p>As you have already seen in this tutorial, variables that are inside the aesthetics are encoded by variables and those that are outside are properties that are unrelated to the variables.</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="#cb417-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb417-2"><a href="#cb417-2" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>culmen_length_mm))<span class="sc">+</span></span>
<span id="cb417-3"><a href="#cb417-3" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins=</span><span class="dv">50</span>, </span>
<span id="cb417-4"><a href="#cb417-4" tabindex="-1"></a>                   <span class="fu">aes</span>(<span class="at">y=</span>..density..,</span>
<span id="cb417-5"><a href="#cb417-5" tabindex="-1"></a>                       <span class="at">fill=</span>species), </span>
<span id="cb417-6"><a href="#cb417-6" tabindex="-1"></a>                   <span class="at">position =</span> <span class="st">&quot;identity&quot;</span>,</span>
<span id="cb417-7"><a href="#cb417-7" tabindex="-1"></a>                   <span class="at">colour=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-41-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div id="choosing-and-using-colour-palettes" class="section level4" number="23.7.0.1">
<h4><span class="header-section-number">23.7.0.1</span> Choosing and using colour palettes</h4>
<p>You can specify what colours you want to assign to variables in a number of different ways.</p>
<p>In ggplot2, colors that are assigned to variables are modified via the scale_color_* and the scale_fill_* functions. In order to use color with your data, most importantly you need to know if you are dealing with a categorical or continuous variable. The color palette should be chosen depending on type of the variable:</p>
<ul>
<li><p><strong>sequential or diverging</strong> color palettes being used for continuous variables</p></li>
<li><p><strong>qualitative</strong> color palettes for (unordered) categorical variables:</p></li>
</ul>
<p><img src="images/palette.png" width="80%" style="display: block; margin: auto;" /></p>
<p>You can pick your own sets of colours and assign them to a categorical variable. The number of specified colours <strong>has</strong> to match the number of categories. You can use a wide number of preset colour <a href="https://www.datanovia.com/en/blog/awesome-list-of-657-r-color-names/">names</a> or you can use <a href="https://www.datanovia.com/en/blog/awesome-list-of-hexadecimal-colors-you-should-have/">hexadecimals</a>.</p>
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb418-1"><a href="#cb418-1" tabindex="-1"></a><span class="do">## Custom colours ----</span></span>
<span id="cb418-2"><a href="#cb418-2" tabindex="-1"></a></span>
<span id="cb418-3"><a href="#cb418-3" tabindex="-1"></a>penguin_colours <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;darkolivegreen4&quot;</span>, <span class="st">&quot;darkorchid3&quot;</span>, <span class="st">&quot;goldenrod1&quot;</span>)</span>
<span id="cb418-4"><a href="#cb418-4" tabindex="-1"></a></span>
<span id="cb418-5"><a href="#cb418-5" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb418-6"><a href="#cb418-6" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb418-7"><a href="#cb418-7" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g))<span class="sc">+</span></span>
<span id="cb418-8"><a href="#cb418-8" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour=</span>species))<span class="sc">+</span></span>
<span id="cb418-9"><a href="#cb418-9" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span>penguin_colours)<span class="sc">+</span></span>
<span id="cb418-10"><a href="#cb418-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-43-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>You can also use a range of inbuilt colour palettes:</p>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="#cb419-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb419-2"><a href="#cb419-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb419-3"><a href="#cb419-3" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g))<span class="sc">+</span></span>
<span id="cb419-4"><a href="#cb419-4" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour=</span>species))<span class="sc">+</span></span>
<span id="cb419-5"><a href="#cb419-5" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette=</span><span class="st">&quot;Set1&quot;</span>)<span class="sc">+</span></span>
<span id="cb419-6"><a href="#cb419-6" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-44-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="info">
<p>
You can explore all schemes available with the command
<code>RColorBrewer::display.brewer.all()</code>
</p>
</div>
<p>There are also many, many extensions that provide additional colour palettes. Some of my favourite packages include <a href="https://cran.r-project.org/web/packages/ggsci/vignettes/ggsci.html">ggsci</a> and <a href="https://github.com/karthik/wesanderson">wesanderson</a></p>
<p><img src="images/wesanderson.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="accessibility" class="section level2" number="23.8">
<h2><span class="header-section-number">23.8</span> Accessibility</h2>
<div id="colour-blindness" class="section level4" number="23.8.0.1">
<h4><span class="header-section-number">23.8.0.1</span> Colour blindness</h4>
<p>It's very easy to get carried away with colour palettes, but you should remember at all times that your figures must be accessible. One way to check how accessible your figures are is to use a colour blindness checker <a href="https://cran.r-project.org/web/packages/colorBlindness/vignettes/colorBlindness.html">colorBlindness</a></p>
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb420-1"><a href="#cb420-1" tabindex="-1"></a><span class="do">## Check accessibility ----</span></span>
<span id="cb420-2"><a href="#cb420-2" tabindex="-1"></a></span>
<span id="cb420-3"><a href="#cb420-3" tabindex="-1"></a><span class="fu">library</span>(colorBlindness)</span>
<span id="cb420-4"><a href="#cb420-4" tabindex="-1"></a>colorBlindness<span class="sc">::</span><span class="fu">cvdPlot</span>() <span class="co"># will automatically run on the last plot you made</span></span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-47-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="guides-to-visual-accessibility" class="section level4" number="23.8.0.2">
<h4><span class="header-section-number">23.8.0.2</span> Guides to visual accessibility</h4>
<p>Using colours to tell categories apart can be useful, but as we can see in the example above, you should choose carefully. Other aesthetics which you can access in your geoms include <code>shape</code>, and <code>size</code> - you can combine these in complimentary ways to enhance the accessibility of your plots. Here is a hierarchy of "interpretability" for different types of data</p>
<p><img src="images/list.png" width="80%" style="display: block; margin: auto;" /></p>
<p><img src="images/shape_v_colour.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="multiple-plots" class="section level2" number="23.9">
<h2><span class="header-section-number">23.9</span> Multiple plots</h2>
<div id="facets" class="section level4" number="23.9.0.1">
<h4><span class="header-section-number">23.9.0.1</span> Facets</h4>
<p>Adding combinations of different aesthetics allows you to layer more information onto a 2D plot, sometimes though things will just become <em>too</em> busy. At the point where it becomes difficult to see the trends or differences in your plot then we want to break up a single plot into sub-plots; this is called ‘faceting’. Facets are commonly used when there is too much data to display clearly in a single plot. We will revisit faceting below, however for now, let’s try to facet the plot according to sex.</p>
<p>To do this we use the tilde symbol ‘~’ to indicate the column name that will form each facet.</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb421-1"><a href="#cb421-1" tabindex="-1"></a><span class="do">## Facetting ----</span></span>
<span id="cb421-2"><a href="#cb421-2" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb421-3"><a href="#cb421-3" tabindex="-1"></a>  <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb421-4"><a href="#cb421-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb421-5"><a href="#cb421-5" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g,</span>
<span id="cb421-6"><a href="#cb421-6" tabindex="-1"></a>             <span class="at">colour=</span>species))<span class="sc">+</span> </span>
<span id="cb421-7"><a href="#cb421-7" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb421-8"><a href="#cb421-8" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,    </span>
<span id="cb421-9"><a href="#cb421-9" tabindex="-1"></a>              <span class="at">se=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb421-10"><a href="#cb421-10" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>sex)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-50-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="patchwork" class="section level4" number="23.9.0.2">
<h4><span class="header-section-number">23.9.0.2</span> Patchwork</h4>
<p>There are many times you might want to <em>combine</em> separate figures into multi-panel plots. Probably the easiest way to do this is with the <code>patchwork</code> package (<span class="citation">Pedersen (<a href="#ref-R-patchwork">2022</a>)</span>).</p>
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb422-1"><a href="#cb422-1" tabindex="-1"></a><span class="do">## Patchwork ----</span></span>
<span id="cb422-2"><a href="#cb422-2" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb422-3"><a href="#cb422-3" tabindex="-1"></a></span>
<span id="cb422-4"><a href="#cb422-4" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb422-5"><a href="#cb422-5" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb422-6"><a href="#cb422-6" tabindex="-1"></a>             <span class="at">y =</span> culmen_length_mm))<span class="sc">+</span></span>
<span id="cb422-7"><a href="#cb422-7" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour=</span>species))<span class="sc">+</span></span>
<span id="cb422-8"><a href="#cb422-8" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span>penguin_colours)<span class="sc">+</span></span>
<span id="cb422-9"><a href="#cb422-9" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb422-10"><a href="#cb422-10" tabindex="-1"></a></span>
<span id="cb422-11"><a href="#cb422-11" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb422-12"><a href="#cb422-12" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>culmen_depth_mm, </span>
<span id="cb422-13"><a href="#cb422-13" tabindex="-1"></a>             <span class="at">y =</span> culmen_length_mm))<span class="sc">+</span></span>
<span id="cb422-14"><a href="#cb422-14" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour=</span>species))<span class="sc">+</span></span>
<span id="cb422-15"><a href="#cb422-15" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span>penguin_colours)<span class="sc">+</span></span>
<span id="cb422-16"><a href="#cb422-16" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb422-17"><a href="#cb422-17" tabindex="-1"></a></span>
<span id="cb422-18"><a href="#cb422-18" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span>     </span>
<span id="cb422-19"><a href="#cb422-19" tabindex="-1"></a>  <span class="fu">group_by</span>(sex,species) <span class="sc">|&gt;</span> </span>
<span id="cb422-20"><a href="#cb422-20" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb422-21"><a href="#cb422-21" tabindex="-1"></a>     <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb422-22"><a href="#cb422-22" tabindex="-1"></a>     <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>species, <span class="at">y=</span>n)) <span class="sc">+</span> </span>
<span id="cb422-23"><a href="#cb422-23" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill=</span>sex), </span>
<span id="cb422-24"><a href="#cb422-24" tabindex="-1"></a>               <span class="at">width=</span><span class="fl">0.8</span>,</span>
<span id="cb422-25"><a href="#cb422-25" tabindex="-1"></a>               <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.9</span>), </span>
<span id="cb422-26"><a href="#cb422-26" tabindex="-1"></a>               <span class="at">alpha=</span><span class="fl">0.6</span>)<span class="sc">+</span></span>
<span id="cb422-27"><a href="#cb422-27" tabindex="-1"></a>     <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;darkorange1&quot;</span>, <span class="st">&quot;azure4&quot;</span>))<span class="sc">+</span></span>
<span id="cb422-28"><a href="#cb422-28" tabindex="-1"></a>     <span class="fu">theme_classic</span>()</span>
<span id="cb422-29"><a href="#cb422-29" tabindex="-1"></a></span>
<span id="cb422-30"><a href="#cb422-30" tabindex="-1"></a> (p1<span class="sc">+</span>p2)<span class="sc">/</span>p3<span class="sc">+</span></span>
<span id="cb422-31"><a href="#cb422-31" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">guides =</span> <span class="st">&quot;collect&quot;</span>) </span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-51-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="activity-replicate-this-figure" class="section level2" number="23.10">
<h2><span class="header-section-number">23.10</span> Activity: Replicate this figure</h2>
<div class="try">
<p>
How close can you get to replicating the figure below?
</p>
<p>
Make a NEW script for this assignment - replicate_figure.R
</p>
<p>
Make sure to use the tips and links at the end of this chapter, when
you are done save the file
</p>
</div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-53-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="#cb423-1" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb423-2"><a href="#cb423-2" tabindex="-1"></a>  <span class="st">&quot;Adelie&quot;</span> <span class="ot">=</span> <span class="st">&quot;#FF8C00&quot;</span>, </span>
<span id="cb423-3"><a href="#cb423-3" tabindex="-1"></a>  <span class="st">&quot;Chinstrap&quot;</span> <span class="ot">=</span> <span class="st">&quot;#A034F0&quot;</span>, </span>
<span id="cb423-4"><a href="#cb423-4" tabindex="-1"></a>  <span class="st">&quot;Gentoo&quot;</span> <span class="ot">=</span> <span class="st">&quot;#159090&quot;</span>)</span>
<span id="cb423-5"><a href="#cb423-5" tabindex="-1"></a></span>
<span id="cb423-6"><a href="#cb423-6" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb423-7"><a href="#cb423-7" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species,</span>
<span id="cb423-8"><a href="#cb423-8" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g,</span>
<span id="cb423-9"><a href="#cb423-9" tabindex="-1"></a>             <span class="at">fill =</span> species,</span>
<span id="cb423-10"><a href="#cb423-10" tabindex="-1"></a>             <span class="at">colour =</span> species))<span class="sc">+</span></span>
<span id="cb423-11"><a href="#cb423-11" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>)<span class="sc">+</span></span>
<span id="cb423-12"><a href="#cb423-12" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.2</span>,</span>
<span id="cb423-13"><a href="#cb423-13" tabindex="-1"></a>               <span class="at">alpha =</span> <span class="fl">0.6</span>)<span class="sc">+</span></span>
<span id="cb423-14"><a href="#cb423-14" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> pal)<span class="sc">+</span></span>
<span id="cb423-15"><a href="#cb423-15" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> pal)<span class="sc">+</span></span>
<span id="cb423-16"><a href="#cb423-16" tabindex="-1"></a>  <span class="fu">theme_classic</span>()<span class="sc">+</span></span>
<span id="cb423-17"><a href="#cb423-17" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)<span class="sc">+</span></span>
<span id="cb423-18"><a href="#cb423-18" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb423-19"><a href="#cb423-19" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb423-20"><a href="#cb423-20" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Body mass (g)&quot;</span>,</span>
<span id="cb423-21"><a href="#cb423-21" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Body mass of brush-tailed penguins&quot;</span>,</span>
<span id="cb423-22"><a href="#cb423-22" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Box and violin plot of body mass by species&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="saving" class="section level2" number="23.11">
<h2><span class="header-section-number">23.11</span> Saving</h2>
<p>One of the easiest ways to save a figure you have made is with the <code>ggsave()</code> function. By default it will save the last plot you made on the screen.</p>
<p>You should specify the output path to your <strong>figures</strong> folder, then provide a file name. Here I have decided to call my plot <em>plot</em> (imaginative!) and I want to save it as a .PNG image file. I can also specify the resolution (dpi 300 is good enough for most computer screens).</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb424-1"><a href="#cb424-1" tabindex="-1"></a><span class="co"># OUTPUT FIGURE TO FILE</span></span>
<span id="cb424-2"><a href="#cb424-2" tabindex="-1"></a></span>
<span id="cb424-3"><a href="#cb424-3" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;outputs/YYYYMMDD_ggplot_workshop_final_plot.png&quot;</span>, <span class="at">dpi=</span><span class="dv">300</span>)</span></code></pre></div>
<div class="try">
<p>
If you got this far and still have time why not try one of the
following:
</p>
<ol style="list-style-type: decimal">
<li>
<p>
Making another type of figure using the penguins dataset, use the
further reading below to use for inspiration.
</p>
</li>
<li>
<p>
Use any of your own data
</p>
</li>
</ol>
</div>
<div id="quitting-1" class="section level4" number="23.11.0.1">
<h4><span class="header-section-number">23.11.0.1</span> Quitting</h4>
<div class="warning">
<p>
Make sure you have saved your script! Remember to Download your image
file from RStudio Cloud onto YOUR computer.
</p>
</div>
<div class="info">
<p>
run <code>SessionInfo()</code> at the end of your script to gather
the packages and versions you have been using. This is very useful for
when you <a href="#how-to-cite-r-and-rstudio">cite R versions and
packages</a> when writing reports later.
</p>
</div>
</div>
</div>
<div id="finished-2" class="section level2" number="23.12">
<h2><span class="header-section-number">23.12</span> Finished</h2>
<ul>
<li>Make sure you have <strong>saved your scripts 💾</strong> in the <a href="#activity-1-organising-our-workspace">"scripts" folder</a>.</li>
</ul>
<div id="what-we-learned" class="section level4" number="23.12.0.1">
<h4><span class="header-section-number">23.12.0.1</span> What we learned</h4>
<p>You have learned</p>
<ul>
<li><p>The anatomy of ggplots</p></li>
<li><p>How to add geoms on different layers</p></li>
<li><p>How to use colour, colour palettes, facets, labels and themes</p></li>
<li><p>Putting together multiple figures</p></li>
<li><p>How to save and export images</p></li>
</ul>
</div>
</div>
<div id="further-reading-guides-and-tips-on-data-visualisation" class="section level2" number="23.13">
<h2><span class="header-section-number">23.13</span> Further Reading, Guides and tips on data visualisation</h2>
<ul>
<li><p><a href="https://www.rstudio.com/resources/cheatsheets/">R Cheat Sheets</a></p></li>
<li><p><a href="https://clauswilke.com/dataviz/">Fundamentals of Data Visualization</a>: this book tells you everything you need to know about presenting your figures for accessbility and clarity</p></li>
<li><p><a href="https://www.cedricscherer.com/2019/08/05/a-ggplot2-tutorial-for-beautiful-plotting-in-r/">Beautiful Plotting in R</a>: an incredibly handy ggplot guide for how to build and improve your figures</p></li>
<li><p><a href="https://ggplot2-book.org/">The ggplot2 book</a>: the original Hadley Wickham book on ggplot2</p></li>
</ul>
</div>
</div>
<div id="extensions-for-ggplot2" class="section level1" number="24">
<h1><span class="header-section-number">24</span> Extensions for ggplot2</h1>
<p><a href="https://exts.ggplot2.tidyverse.org/" class="uri">https://exts.ggplot2.tidyverse.org/</a></p>
<ul>
<li>gghighlight</li>
<li>ggforce</li>
</ul>
<div id="ggdist" class="section level2" number="24.1">
<h2><span class="header-section-number">24.1</span> ggdist</h2>
<div id="rainclouds" class="section level3" number="24.1.1">
<h3><span class="header-section-number">24.1.1</span> Rainclouds</h3>
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb425-1"><a href="#cb425-1" tabindex="-1"></a><span class="fu">library</span>(ggdist)</span>
<span id="cb425-2"><a href="#cb425-2" tabindex="-1"></a></span>
<span id="cb425-3"><a href="#cb425-3" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb425-4"><a href="#cb425-4" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species,</span>
<span id="cb425-5"><a href="#cb425-5" tabindex="-1"></a>               <span class="at">y =</span> culmen_length_mm,</span>
<span id="cb425-6"><a href="#cb425-6" tabindex="-1"></a>              <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb425-7"><a href="#cb425-7" tabindex="-1"></a>  ggdist<span class="sc">::</span><span class="fu">stat_halfeye</span>(</span>
<span id="cb425-8"><a href="#cb425-8" tabindex="-1"></a>    <span class="at">point_colour =</span> <span class="cn">NA</span>,</span>
<span id="cb425-9"><a href="#cb425-9" tabindex="-1"></a>    <span class="at">.width =</span> <span class="dv">0</span>,</span>
<span id="cb425-10"><a href="#cb425-10" tabindex="-1"></a>    <span class="co"># shift raincloud up</span></span>
<span id="cb425-11"><a href="#cb425-11" tabindex="-1"></a>    <span class="at">justification =</span> <span class="sc">-</span>.<span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb425-12"><a href="#cb425-12" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="co"># remove outlier dots</span></span>
<span id="cb425-13"><a href="#cb425-13" tabindex="-1"></a>    <span class="at">outlier.shape =</span> <span class="cn">NA</span>,</span>
<span id="cb425-14"><a href="#cb425-14" tabindex="-1"></a>    <span class="co"># shrink width of box</span></span>
<span id="cb425-15"><a href="#cb425-15" tabindex="-1"></a>    <span class="at">alpha =</span> .<span class="dv">4</span>,</span>
<span id="cb425-16"><a href="#cb425-16" tabindex="-1"></a>    <span class="co"># fade box</span></span>
<span id="cb425-17"><a href="#cb425-17" tabindex="-1"></a>               <span class="at">width =</span> .<span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb425-18"><a href="#cb425-18" tabindex="-1"></a>  ggdist<span class="sc">::</span><span class="fu">stat_dots</span>(<span class="fu">aes</span>(<span class="at">colour =</span> species),</span>
<span id="cb425-19"><a href="#cb425-19" tabindex="-1"></a>                  <span class="co"># put dots underneath</span></span>
<span id="cb425-20"><a href="#cb425-20" tabindex="-1"></a>                    <span class="at">side =</span> <span class="st">&quot;left&quot;</span>,</span>
<span id="cb425-21"><a href="#cb425-21" tabindex="-1"></a>                  <span class="co"># move position down</span></span>
<span id="cb425-22"><a href="#cb425-22" tabindex="-1"></a>                    <span class="at">justification =</span> <span class="fl">1.1</span>,</span>
<span id="cb425-23"><a href="#cb425-23" tabindex="-1"></a>                  <span class="co"># size of dots </span></span>
<span id="cb425-24"><a href="#cb425-24" tabindex="-1"></a>                    <span class="at">dotsize =</span> .<span class="dv">2</span>,</span>
<span id="cb425-25"><a href="#cb425-25" tabindex="-1"></a>                    </span>
<span id="cb425-26"><a href="#cb425-26" tabindex="-1"></a>                  <span class="co"># adjust bins (grouping) of dots</span></span>
<span id="cb425-27"><a href="#cb425-27" tabindex="-1"></a>                    <span class="at">binwidth =</span> .<span class="dv">4</span>)<span class="sc">+</span></span>
<span id="cb425-28"><a href="#cb425-28" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> pal) <span class="sc">+</span></span>
<span id="cb425-29"><a href="#cb425-29" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> pal)<span class="sc">+</span></span>
<span id="cb425-30"><a href="#cb425-30" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">&quot;none&quot;</span>)<span class="sc">+</span></span>
<span id="cb425-31"><a href="#cb425-31" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="co"># rotate figure</span></span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-59-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="interval-stats" class="section level3" number="24.1.2">
<h3><span class="header-section-number">24.1.2</span> Interval stats</h3>
<div class="sourceCode" id="cb426"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb426-1"><a href="#cb426-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb426-2"><a href="#cb426-2" tabindex="-1"></a>  <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb426-3"><a href="#cb426-3" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species,</span>
<span id="cb426-4"><a href="#cb426-4" tabindex="-1"></a>               <span class="at">y =</span> culmen_length_mm))<span class="sc">+</span></span>
<span id="cb426-5"><a href="#cb426-5" tabindex="-1"></a>  ggdist<span class="sc">::</span><span class="fu">stat_interval</span>(<span class="at">.width =</span> <span class="fu">c</span>(.<span class="dv">5</span>, .<span class="dv">66</span>, .<span class="dv">95</span>))<span class="sc">+</span></span>
<span id="cb426-6"><a href="#cb426-6" tabindex="-1"></a>  ggdist<span class="sc">::</span><span class="fu">stat_halfeye</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex),</span>
<span id="cb426-7"><a href="#cb426-7" tabindex="-1"></a>                       <span class="at">.width =</span> <span class="dv">0</span>,</span>
<span id="cb426-8"><a href="#cb426-8" tabindex="-1"></a>                       <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb426-9"><a href="#cb426-9" tabindex="-1"></a>                       <span class="at">colour =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb426-10"><a href="#cb426-10" tabindex="-1"></a>                       <span class="at">slab_alpha =</span> .<span class="dv">4</span>,</span>
<span id="cb426-11"><a href="#cb426-11" tabindex="-1"></a>                       <span class="at">size =</span> .<span class="dv">5</span>,</span>
<span id="cb426-12"><a href="#cb426-12" tabindex="-1"></a>                       <span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">x =</span> .<span class="dv">05</span>))<span class="sc">+</span></span>
<span id="cb426-13"><a href="#cb426-13" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;mako&quot;</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">end =</span> .<span class="dv">9</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-60-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="density" class="section level2" number="24.2">
<h2><span class="header-section-number">24.2</span> Density</h2>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb427-1"><a href="#cb427-1" tabindex="-1"></a><span class="fu">library</span>(ggdensity)</span>
<span id="cb427-2"><a href="#cb427-2" tabindex="-1"></a></span>
<span id="cb427-3"><a href="#cb427-3" tabindex="-1"></a>penguins <span class="sc">|&gt;</span>  </span>
<span id="cb427-4"><a href="#cb427-4" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> culmen_length_mm, </span>
<span id="cb427-5"><a href="#cb427-5" tabindex="-1"></a>               <span class="at">y =</span> culmen_depth_mm,</span>
<span id="cb427-6"><a href="#cb427-6" tabindex="-1"></a>               <span class="at">colour =</span> species)) <span class="sc">+</span></span>
<span id="cb427-7"><a href="#cb427-7" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb427-8"><a href="#cb427-8" tabindex="-1"></a>  ggdensity<span class="sc">::</span><span class="fu">geom_hdr_lines</span>()<span class="sc">+</span></span>
<span id="cb427-9"><a href="#cb427-9" tabindex="-1"></a>   <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> pal)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-61-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="ggridges" class="section level2" number="24.3">
<h2><span class="header-section-number">24.3</span> ggridges</h2>
<div class="sourceCode" id="cb428"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb428-1"><a href="#cb428-1" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb428-2"><a href="#cb428-2" tabindex="-1"></a></span>
<span id="cb428-3"><a href="#cb428-3" tabindex="-1"></a>penguins <span class="sc">|&gt;</span>  </span>
<span id="cb428-4"><a href="#cb428-4" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> culmen_length_mm, </span>
<span id="cb428-5"><a href="#cb428-5" tabindex="-1"></a>               <span class="at">y =</span> species,</span>
<span id="cb428-6"><a href="#cb428-6" tabindex="-1"></a>               <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb428-7"><a href="#cb428-7" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>() <span class="sc">+</span> <span class="co"># use hjust and vjust to position text</span></span>
<span id="cb428-8"><a href="#cb428-8" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> pal) <span class="sc">+</span></span>
<span id="cb428-9"><a href="#cb428-9" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> pal)<span class="sc">+</span></span>
<span id="cb428-10"><a href="#cb428-10" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-62-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="bump-charts" class="section level2" number="24.4">
<h2><span class="header-section-number">24.4</span> Bump charts</h2>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb429-1"><a href="#cb429-1" tabindex="-1"></a><span class="fu">library</span>(ggbump)</span>
<span id="cb429-2"><a href="#cb429-2" tabindex="-1"></a></span>
<span id="cb429-3"><a href="#cb429-3" tabindex="-1"></a>penguin_summary <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb429-4"><a href="#cb429-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date_egg =</span> <span class="fu">dmy</span>(date_egg)) <span class="sc">|&gt;</span> </span>
<span id="cb429-5"><a href="#cb429-5" tabindex="-1"></a>  <span class="fu">filter</span>(clutch_completion <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb429-6"><a href="#cb429-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">year</span>(date_egg)) <span class="sc">|&gt;</span> </span>
<span id="cb429-7"><a href="#cb429-7" tabindex="-1"></a>  <span class="fu">group_by</span>(species, year) <span class="sc">|&gt;</span> </span>
<span id="cb429-8"><a href="#cb429-8" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>())</span>
<span id="cb429-9"><a href="#cb429-9" tabindex="-1"></a></span>
<span id="cb429-10"><a href="#cb429-10" tabindex="-1"></a>penguin_summary <span class="sc">|&gt;</span></span>
<span id="cb429-11"><a href="#cb429-11" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, </span>
<span id="cb429-12"><a href="#cb429-12" tabindex="-1"></a>             <span class="at">y =</span> n,</span>
<span id="cb429-13"><a href="#cb429-13" tabindex="-1"></a>             <span class="at">colour =</span> species))<span class="sc">+</span></span>
<span id="cb429-14"><a href="#cb429-14" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">7</span>)<span class="sc">+</span></span>
<span id="cb429-15"><a href="#cb429-15" tabindex="-1"></a>  <span class="fu">geom_bump</span>()<span class="sc">+</span></span>
<span id="cb429-16"><a href="#cb429-16" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> penguin_summary <span class="sc">|&gt;</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="fu">max</span>(year)),</span>
<span id="cb429-17"><a href="#cb429-17" tabindex="-1"></a>                                             <span class="fu">aes</span>(<span class="at">x =</span> year <span class="sc">+</span> <span class="fl">0.1</span>,</span>
<span id="cb429-18"><a href="#cb429-18" tabindex="-1"></a>                                                 <span class="at">label =</span> species,</span>
<span id="cb429-19"><a href="#cb429-19" tabindex="-1"></a>                                                  <span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb429-20"><a href="#cb429-20" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb429-21"><a href="#cb429-21" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">2007</span>, <span class="fl">2009.5</span>),</span>
<span id="cb429-22"><a href="#cb429-22" tabindex="-1"></a>                     <span class="at">breaks =</span> (<span class="dv">2007</span><span class="sc">:</span><span class="dv">2009</span>))<span class="sc">+</span></span>
<span id="cb429-23"><a href="#cb429-23" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Total number of complete clutches&quot;</span>)<span class="sc">+</span></span>
<span id="cb429-24"><a href="#cb429-24" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> pal) <span class="sc">+</span></span>
<span id="cb429-25"><a href="#cb429-25" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> pal)<span class="sc">+</span></span>
<span id="cb429-26"><a href="#cb429-26" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-63-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="dumbell-charts" class="section level2" number="24.5">
<h2><span class="header-section-number">24.5</span> Dumbell charts</h2>
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb430-1"><a href="#cb430-1" tabindex="-1"></a><span class="fu">library</span>(ggalt)</span>
<span id="cb430-2"><a href="#cb430-2" tabindex="-1"></a></span>
<span id="cb430-3"><a href="#cb430-3" tabindex="-1"></a>summary_counts <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb430-4"><a href="#cb430-4" tabindex="-1"></a>  <span class="fu">group_by</span>(sex, species) <span class="sc">|&gt;</span> </span>
<span id="cb430-5"><a href="#cb430-5" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> T)) <span class="sc">|&gt;</span> </span>
<span id="cb430-6"><a href="#cb430-6" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> sex, <span class="at">values_from =</span> mean)</span>
<span id="cb430-7"><a href="#cb430-7" tabindex="-1"></a></span>
<span id="cb430-8"><a href="#cb430-8" tabindex="-1"></a><span class="fu">ggplot</span>(summary_counts, </span>
<span id="cb430-9"><a href="#cb430-9" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y=</span>species, <span class="at">x=</span>FEMALE, <span class="at">xend=</span>MALE)) <span class="sc">+</span></span>
<span id="cb430-10"><a href="#cb430-10" tabindex="-1"></a>  <span class="fu">geom_dumbbell</span>(<span class="at">size=</span><span class="dv">3</span>, <span class="at">color=</span><span class="st">&quot;#e3e2e1&quot;</span>,</span>
<span id="cb430-11"><a href="#cb430-11" tabindex="-1"></a>                <span class="at">colour_x =</span> <span class="st">&quot;#5b8124&quot;</span>, <span class="at">colour_xend =</span> <span class="st">&quot;#bad744&quot;</span>) <span class="sc">+</span></span>
<span id="cb430-12"><a href="#cb430-12" tabindex="-1"></a>  <span class="fu">geom_text</span>( <span class="at">x=</span>summary_counts[[<span class="dv">3</span>,<span class="dv">2</span>]], <span class="at">y=</span><span class="dv">3</span>, <span class="fu">aes</span>(<span class="at">label=</span><span class="st">&quot;Female&quot;</span>),</span>
<span id="cb430-13"><a href="#cb430-13" tabindex="-1"></a>             <span class="at">color=</span><span class="st">&quot;#9fb059&quot;</span>, <span class="at">size=</span><span class="dv">3</span>, <span class="at">vjust=</span><span class="sc">-</span><span class="dv">2</span>, <span class="at">fontface=</span><span class="st">&quot;bold&quot;</span>)<span class="sc">+</span></span>
<span id="cb430-14"><a href="#cb430-14" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">x=</span>summary_counts[[<span class="dv">3</span>,<span class="dv">3</span>]], <span class="at">y=</span><span class="dv">3</span>, <span class="fu">aes</span>(<span class="at">label=</span><span class="st">&quot;Male&quot;</span>),</span>
<span id="cb430-15"><a href="#cb430-15" tabindex="-1"></a>             <span class="at">color=</span><span class="st">&quot;#bad744&quot;</span>, <span class="at">size=</span><span class="dv">3</span>, <span class="at">vjust=</span><span class="sc">-</span><span class="dv">2</span>, <span class="at">fontface=</span><span class="st">&quot;bold&quot;</span>)<span class="sc">+</span></span>
<span id="cb430-16"><a href="#cb430-16" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Body mass (g)&quot;</span>,</span>
<span id="cb430-17"><a href="#cb430-17" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-64-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="facets-1" class="section level2" number="24.6">
<h2><span class="header-section-number">24.6</span> Facets</h2>
<p>The <code>ggh4x</code> package adds some awesome features for easy facet work including <code>facet_nested()</code>:</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb431-1"><a href="#cb431-1" tabindex="-1"></a><span class="fu">library</span>(ggh4x)</span>
<span id="cb431-2"><a href="#cb431-2" tabindex="-1"></a></span>
<span id="cb431-3"><a href="#cb431-3" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb431-4"><a href="#cb431-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Nester =</span> <span class="fu">ifelse</span>(species<span class="sc">==</span><span class="st">&quot;Gentoo&quot;</span>, <span class="st">&quot;Crustaceans&quot;</span>, <span class="st">&quot;Fish &amp; Krill&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb431-5"><a href="#cb431-5" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> culmen_length_mm,</span>
<span id="cb431-6"><a href="#cb431-6" tabindex="-1"></a>             <span class="at">y =</span> culmen_depth_mm,</span>
<span id="cb431-7"><a href="#cb431-7" tabindex="-1"></a>             <span class="at">colour =</span> species))<span class="sc">+</span></span>
<span id="cb431-8"><a href="#cb431-8" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb431-9"><a href="#cb431-9" tabindex="-1"></a>  <span class="fu">facet_nested</span>(<span class="sc">~</span> Nester <span class="sc">+</span> species)<span class="sc">+</span></span>
<span id="cb431-10"><a href="#cb431-10" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> pal)<span class="sc">+</span></span>
<span id="cb431-11"><a href="#cb431-11" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-65-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="highlighting" class="section level2" number="24.7">
<h2><span class="header-section-number">24.7</span> Highlighting</h2>
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb432-1"><a href="#cb432-1" tabindex="-1"></a><span class="fu">library</span>(gghighlight)</span>
<span id="cb432-2"><a href="#cb432-2" tabindex="-1"></a></span>
<span id="cb432-3"><a href="#cb432-3" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb432-4"><a href="#cb432-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(body_mass_g,</span>
<span id="cb432-5"><a href="#cb432-5" tabindex="-1"></a>             <span class="at">fill =</span> species),</span>
<span id="cb432-6"><a href="#cb432-6" tabindex="-1"></a>         <span class="at">position =</span> <span class="st">&quot;identity&quot;</span>)<span class="sc">+</span></span>
<span id="cb432-7"><a href="#cb432-7" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()<span class="sc">+</span></span>
<span id="cb432-8"><a href="#cb432-8" tabindex="-1"></a>  <span class="fu">gghighlight</span>()<span class="sc">+</span></span>
<span id="cb432-9"><a href="#cb432-9" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> pal)<span class="sc">+</span></span>
<span id="cb432-10"><a href="#cb432-10" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> species)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-66-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb433-1"><a href="#cb433-1" tabindex="-1"></a><span class="fu">library</span>(ggbeeswarm)</span>
<span id="cb433-2"><a href="#cb433-2" tabindex="-1"></a><span class="fu">library</span>(gghighlight)</span>
<span id="cb433-3"><a href="#cb433-3" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb433-4"><a href="#cb433-4" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species,</span>
<span id="cb433-5"><a href="#cb433-5" tabindex="-1"></a>               <span class="at">y =</span> body_mass_g,</span>
<span id="cb433-6"><a href="#cb433-6" tabindex="-1"></a>               <span class="at">fill =</span> species))<span class="sc">+</span></span>
<span id="cb433-7"><a href="#cb433-7" tabindex="-1"></a>    <span class="fu">geom_beeswarm</span>(<span class="at">shape =</span> <span class="dv">21</span>, </span>
<span id="cb433-8"><a href="#cb433-8" tabindex="-1"></a>                  <span class="at">colour =</span> <span class="st">&quot;white&quot;</span>)<span class="sc">+</span></span>
<span id="cb433-9"><a href="#cb433-9" tabindex="-1"></a>    <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> pal)<span class="sc">+</span></span>
<span id="cb433-10"><a href="#cb433-10" tabindex="-1"></a>    <span class="fu">gghighlight</span>(body_mass_g <span class="sc">&gt;</span> <span class="dv">4000</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-67-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="text" class="section level2" number="24.8">
<h2><span class="header-section-number">24.8</span> Text</h2>
<div id="ggforce" class="section level3" number="24.8.1">
<h3><span class="header-section-number">24.8.1</span> ggforce</h3>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb434-1"><a href="#cb434-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb434-2"><a href="#cb434-2" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb434-3"><a href="#cb434-3" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">x =</span> culmen_length_mm,</span>
<span id="cb434-4"><a href="#cb434-4" tabindex="-1"></a>            <span class="at">y=</span> body_mass_g,</span>
<span id="cb434-5"><a href="#cb434-5" tabindex="-1"></a>            <span class="at">colour =</span> species)) <span class="sc">+</span></span>
<span id="cb434-6"><a href="#cb434-6" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> species), <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">colour =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb434-7"><a href="#cb434-7" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>,<span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">alpha =</span> .<span class="dv">4</span>)<span class="sc">+</span></span>
<span id="cb434-8"><a href="#cb434-8" tabindex="-1"></a>ggforce<span class="sc">::</span><span class="fu">geom_mark_ellipse</span>(<span class="fu">aes</span>(</span>
<span id="cb434-9"><a href="#cb434-9" tabindex="-1"></a>    <span class="at">label =</span> species,</span>
<span id="cb434-10"><a href="#cb434-10" tabindex="-1"></a>    <span class="at">filter =</span> species <span class="sc">==</span> <span class="st">&#39;Adelie&#39;</span>),</span>
<span id="cb434-11"><a href="#cb434-11" tabindex="-1"></a>    <span class="at">con.colour  =</span> <span class="st">&quot;#526A83&quot;</span>,</span>
<span id="cb434-12"><a href="#cb434-12" tabindex="-1"></a>    <span class="at">con.cap =</span> <span class="dv">0</span>,</span>
<span id="cb434-13"><a href="#cb434-13" tabindex="-1"></a>    <span class="at">con.arrow =</span> <span class="fu">arrow</span>(<span class="at">ends =</span> <span class="st">&quot;last&quot;</span>,</span>
<span id="cb434-14"><a href="#cb434-14" tabindex="-1"></a>                      <span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb434-15"><a href="#cb434-15" tabindex="-1"></a>    <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb434-16"><a href="#cb434-16" tabindex="-1"></a>    <span class="fu">gghighlight</span>(species <span class="sc">==</span> <span class="st">&quot;Adelie&quot;</span>)<span class="sc">+</span></span>
<span id="cb434-17"><a href="#cb434-17" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> pal)<span class="sc">+</span></span>
<span id="cb434-18"><a href="#cb434-18" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> pal)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-68-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="textpaths" class="section level3" number="24.8.2">
<h3><span class="header-section-number">24.8.2</span> textpaths</h3>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb435-1"><a href="#cb435-1" tabindex="-1"></a><span class="fu">library</span>(geomtextpath)</span>
<span id="cb435-2"><a href="#cb435-2" tabindex="-1"></a></span>
<span id="cb435-3"><a href="#cb435-3" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb435-4"><a href="#cb435-4" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> culmen_length_mm, </span>
<span id="cb435-5"><a href="#cb435-5" tabindex="-1"></a>               <span class="at">colour =</span> species,</span>
<span id="cb435-6"><a href="#cb435-6" tabindex="-1"></a>               <span class="at">label =</span> species))<span class="sc">+</span></span>
<span id="cb435-7"><a href="#cb435-7" tabindex="-1"></a>  <span class="fu">geom_textdensity</span>( <span class="at">hjust =</span> <span class="fl">0.35</span>, <span class="at">vjust =</span> .<span class="dv">1</span>)<span class="sc">+</span> <span class="co"># use hjust and vjust to position text</span></span>
<span id="cb435-8"><a href="#cb435-8" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-69-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="ggtext" class="section level3" number="24.8.3">
<h3><span class="header-section-number">24.8.3</span> ggtext</h3>
<p><a href="https://rfortherestofus.com/2020/05/color-titles-ggtext#" class="uri">https://rfortherestofus.com/2020/05/color-titles-ggtext#</a>:~:text=Adding%20color%20to%20titles%20using,HTML%2C%20not%20as%20raw%20text.</p>
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb436-1"><a href="#cb436-1" tabindex="-1"></a><span class="fu">library</span>(ggtext)</span>
<span id="cb436-2"><a href="#cb436-2" tabindex="-1"></a></span>
<span id="cb436-3"><a href="#cb436-3" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb436-4"><a href="#cb436-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">fct_relevel</span>(species, <span class="st">&quot;Chinstrap&quot;</span>, <span class="st">&quot;Gentoo&quot;</span>, <span class="st">&quot;Adelie&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb436-5"><a href="#cb436-5" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb436-6"><a href="#cb436-6" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb436-7"><a href="#cb436-7" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species,</span>
<span id="cb436-8"><a href="#cb436-8" tabindex="-1"></a>           <span class="at">y =</span> n,</span>
<span id="cb436-9"><a href="#cb436-9" tabindex="-1"></a>           <span class="at">fill =</span> species))<span class="sc">+</span></span>
<span id="cb436-10"><a href="#cb436-10" tabindex="-1"></a>        <span class="fu">geom_col</span>()<span class="sc">+</span></span>
<span id="cb436-11"><a href="#cb436-11" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> n),</span>
<span id="cb436-12"><a href="#cb436-12" tabindex="-1"></a>            <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb436-13"><a href="#cb436-13" tabindex="-1"></a>            <span class="at">nudge_y =</span> <span class="dv">1</span>,</span>
<span id="cb436-14"><a href="#cb436-14" tabindex="-1"></a>            <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb436-15"><a href="#cb436-15" tabindex="-1"></a>            <span class="at">fontface =</span> <span class="st">&quot;bold&quot;</span>)<span class="sc">+</span></span>
<span id="cb436-16"><a href="#cb436-16" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb436-17"><a href="#cb436-17" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Count&quot;</span>,</span>
<span id="cb436-18"><a href="#cb436-18" tabindex="-1"></a>       <span class="at">title =</span> <span class="fu">paste</span>(</span>
<span id="cb436-19"><a href="#cb436-19" tabindex="-1"></a>         <span class="st">&#39;There are almost half the observations on &lt;br&gt; &lt;span style = &quot;color:#A034F0&quot;&gt;Chinstrap&lt;/span&gt; penguins,  as there are &lt;br&gt; on &lt;span style = &quot;color:#FF8C00&quot;&gt;Adelie&lt;/span&gt; and &lt;span style =&quot;color:#159090&quot;&gt;Gentoo&lt;/span&gt;penguins&#39;</span></span>
<span id="cb436-20"><a href="#cb436-20" tabindex="-1"></a>       ))<span class="sc">+</span></span>
<span id="cb436-21"><a href="#cb436-21" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb436-22"><a href="#cb436-22" tabindex="-1"></a>    <span class="co"># when reordering levels - be careful about keeping colours consistent</span></span>
<span id="cb436-23"><a href="#cb436-23" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#FF8C00&quot;</span>, <span class="st">&quot;#159090&quot;</span>, <span class="st">&quot;#A034F0&quot;</span>))<span class="sc">+</span></span>
<span id="cb436-24"><a href="#cb436-24" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb436-25"><a href="#cb436-25" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200</span>))<span class="sc">+</span></span>
<span id="cb436-26"><a href="#cb436-26" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb436-27"><a href="#cb436-27" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(</span>
<span id="cb436-28"><a href="#cb436-28" tabindex="-1"></a>      <span class="at">color =</span> <span class="fu">c</span>(<span class="st">&quot;#FF8C00&quot;</span>, <span class="st">&quot;#159090&quot;</span>, <span class="st">&quot;#A034F0&quot;</span>)),</span>
<span id="cb436-29"><a href="#cb436-29" tabindex="-1"></a>      <span class="at">plot.title =</span> <span class="fu">element_markdown</span>())</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-70-1.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="layouts-and-compositions" class="section level2" number="24.9">
<h2><span class="header-section-number">24.9</span> Layouts and compositions</h2>
<p>Patchwork, text and images!!!!</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb437-1"><a href="#cb437-1" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb437-2"><a href="#cb437-2" tabindex="-1"></a><span class="fu">library</span>(png)</span>
<span id="cb437-3"><a href="#cb437-3" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb437-4"><a href="#cb437-4" tabindex="-1"></a></span>
<span id="cb437-5"><a href="#cb437-5" tabindex="-1"></a>penguin_pic <span class="ot">&lt;-</span> png<span class="sc">::</span><span class="fu">readPNG</span>(<span class="st">&quot;images/lter_penguins.png&quot;</span>)</span>
<span id="cb437-6"><a href="#cb437-6" tabindex="-1"></a></span>
<span id="cb437-7"><a href="#cb437-7" tabindex="-1"></a>penguin_fig <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb437-8"><a href="#cb437-8" tabindex="-1"></a>  <span class="fu">background_image</span>(penguin_pic)</span></code></pre></div>
<div class="sourceCode" id="cb438"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb438-1"><a href="#cb438-1" tabindex="-1"></a>text <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb438-2"><a href="#cb438-2" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">0</span>, <span class="at">y =</span> <span class="dv">0</span>, <span class="at">label =</span> <span class="st">&#39;Simpsons Paradox is a statistical phenomenon where an association between two variables in a population emerges, disappears or reverses when the population is divided into subpopulations such as &lt;span style = &quot;color:#FF8C00&quot;&gt;Adelie&lt;/span&gt;, &lt;span style =&quot;color:#159090&quot;&gt;Gentoo&lt;/span&gt;, and &lt;span style = &quot;color:#A034F0&quot;&gt;Chinstrap&lt;/span&gt; penguin species&#39;</span></span>
<span id="cb438-3"><a href="#cb438-3" tabindex="-1"></a>)</span>
<span id="cb438-4"><a href="#cb438-4" tabindex="-1"></a></span>
<span id="cb438-5"><a href="#cb438-5" tabindex="-1"></a></span>
<span id="cb438-6"><a href="#cb438-6" tabindex="-1"></a></span>
<span id="cb438-7"><a href="#cb438-7" tabindex="-1"></a>pt <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(text, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb438-8"><a href="#cb438-8" tabindex="-1"></a>  ggtext<span class="sc">::</span><span class="fu">geom_textbox</span>(</span>
<span id="cb438-9"><a href="#cb438-9" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> label),    <span class="co"># Map the &#39;label&#39; column from the &#39;text&#39; data to the text labels</span></span>
<span id="cb438-10"><a href="#cb438-10" tabindex="-1"></a>    <span class="at">box.color =</span> <span class="cn">NA</span>,         <span class="co"># Make the text box border color transparent</span></span>
<span id="cb438-11"><a href="#cb438-11" tabindex="-1"></a>    <span class="at">width =</span> <span class="fu">unit</span>(<span class="dv">10</span>, <span class="st">&quot;lines&quot;</span>),  <span class="co"># Set the width of the text boxes to 15 lines</span></span>
<span id="cb438-12"><a href="#cb438-12" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;grey40&quot;</span>,       <span class="co"># Set the text color to a light gray</span></span>
<span id="cb438-13"><a href="#cb438-13" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">3</span>,             <span class="co"># Set the text size to 4 (adjust as needed)</span></span>
<span id="cb438-14"><a href="#cb438-14" tabindex="-1"></a>    <span class="at">lineheight =</span> <span class="fl">1.4</span>        <span class="co"># Set the line height for text within the boxes</span></span>
<span id="cb438-15"><a href="#cb438-15" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb438-16"><a href="#cb438-16" tabindex="-1"></a>  <span class="co"># Customize the plot coordinate system</span></span>
<span id="cb438-17"><a href="#cb438-17" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">expand =</span> <span class="cn">FALSE</span>, <span class="at">clip =</span> <span class="st">&quot;off&quot;</span>) <span class="sc">+</span></span>
<span id="cb438-18"><a href="#cb438-18" tabindex="-1"></a></span>
<span id="cb438-19"><a href="#cb438-19" tabindex="-1"></a>  <span class="co"># Apply a theme with a blank (void) background</span></span>
<span id="cb438-20"><a href="#cb438-20" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb438-21"><a href="#cb438-21" tabindex="-1"></a></span>
<span id="cb438-22"><a href="#cb438-22" tabindex="-1"></a>pt</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-73-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb439-1"><a href="#cb439-1" tabindex="-1"></a>layout <span class="ot">&lt;-</span> <span class="st">&quot;</span></span>
<span id="cb439-2"><a href="#cb439-2" tabindex="-1"></a><span class="st">AACCC</span></span>
<span id="cb439-3"><a href="#cb439-3" tabindex="-1"></a><span class="st">AACCC</span></span>
<span id="cb439-4"><a href="#cb439-4" tabindex="-1"></a><span class="st">BBDDD</span></span>
<span id="cb439-5"><a href="#cb439-5" tabindex="-1"></a><span class="st">BBDDD</span></span>
<span id="cb439-6"><a href="#cb439-6" tabindex="-1"></a><span class="st">&quot;</span></span>
<span id="cb439-7"><a href="#cb439-7" tabindex="-1"></a></span>
<span id="cb439-8"><a href="#cb439-8" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x=</span> culmen_length_mm, </span>
<span id="cb439-9"><a href="#cb439-9" tabindex="-1"></a>                     <span class="at">y=</span> culmen_depth_mm)) <span class="sc">+</span></span>
<span id="cb439-10"><a href="#cb439-10" tabindex="-1"></a>    <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb439-11"><a href="#cb439-11" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,</span>
<span id="cb439-12"><a href="#cb439-12" tabindex="-1"></a>              <span class="at">se=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb439-13"><a href="#cb439-13" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>)<span class="sc">+</span></span>
<span id="cb439-14"><a href="#cb439-14" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Bill length (mm)&quot;</span>,</span>
<span id="cb439-15"><a href="#cb439-15" tabindex="-1"></a>         <span class="at">y=</span><span class="st">&quot;Bill depth (mm)&quot;</span>)</span>
<span id="cb439-16"><a href="#cb439-16" tabindex="-1"></a></span>
<span id="cb439-17"><a href="#cb439-17" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x=</span> culmen_length_mm, </span>
<span id="cb439-18"><a href="#cb439-18" tabindex="-1"></a>                     <span class="at">y=</span> culmen_depth_mm,</span>
<span id="cb439-19"><a href="#cb439-19" tabindex="-1"></a>                     <span class="at">colour=</span>species)) <span class="sc">+</span></span>
<span id="cb439-20"><a href="#cb439-20" tabindex="-1"></a>    <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb439-21"><a href="#cb439-21" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,</span>
<span id="cb439-22"><a href="#cb439-22" tabindex="-1"></a>              <span class="at">se=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb439-23"><a href="#cb439-23" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values=</span>pal)<span class="sc">+</span></span>
<span id="cb439-24"><a href="#cb439-24" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>)<span class="sc">+</span></span>
<span id="cb439-25"><a href="#cb439-25" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Bill length (mm)&quot;</span>,</span>
<span id="cb439-26"><a href="#cb439-26" tabindex="-1"></a>         <span class="at">y=</span><span class="st">&quot;Bill depth (mm)&quot;</span>)</span>
<span id="cb439-27"><a href="#cb439-27" tabindex="-1"></a></span>
<span id="cb439-28"><a href="#cb439-28" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span> </span>
<span id="cb439-29"><a href="#cb439-29" tabindex="-1"></a>  pt <span class="sc">+</span>  penguin_fig <span class="sc">+</span> </span>
<span id="cb439-30"><a href="#cb439-30" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">design =</span> layout)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-74-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="scales" class="section level2" number="24.10">
<h2><span class="header-section-number">24.10</span> Scales</h2>
</div>
<div id="activity-create-a-publication-style-multi-panel-figure" class="section level2" number="24.11">
<h2><span class="header-section-number">24.11</span> Activity: Create a Publication-Style Multi-Panel Figure</h2>
<p>Objective: Design and create a multi-panel data visualization figure in the style of a research publication. This exercise will challenge your skills in data visualization, data manipulation, and creating complex figures.</p>
<p>Steps:</p>
<ul>
<li><p>Choose a Dataset: Select a dataset that is suitable for creating a multi-panel figure. It could be related to a scientific research topic, public data (e.g., from government sources or data repositories), or any other dataset that interests you.</p></li>
<li><p>Data Preprocessing: Use dplyr and tidyr to preprocess the data. You may need to aggregate, filter, or reshape the data to fit the structure you want for your figure.</p></li>
<li><p>Design the Figure: Decide on the structure of your multi-panel figure. You could create subplots or facets to represent different aspects of the data. For example, you might have multiple box plots, scatter plots, or other visualizations arranged in a grid.</p></li>
<li><p>Create the Plot: Use ggplot2 to create the individual panels or subplots. Customize the appearance of each panel, including labels, colors, and titles.</p></li>
<li><p>Combine the Panels: Use the patchwork package or another method to arrange the individual panels into a single figure. This may involve adjusting the layout, labeling, and legends to make the figure coherent.</p></li>
<li><p>Add Annotations: Add relevant annotations to the figure, such as titles, subtitles, captions, and any necessary notes to explain the data or results.</p></li>
<li><p>Customize the Theme: Apply a custom theme to the entire figure. You can modify fonts, colors, grid lines, and other elements to match the style of a publication.</p></li>
</ul>
<p>Tips:</p>
<p>Plan your figure carefully, considering what story or message you want to convey.
Experiment with different geoms, scales, and themes to achieve the desired visual effect.
Use effective data visualization principles, such as avoiding misleading scales, providing clear labels and legends, and ensuring that the figure is accessible to a wide audience.</p>
</div>
</div>
<div id="custom-ggplot-themes" class="section level1" number="25">
<h1><span class="header-section-number">25</span> Custom ggplot themes</h1>
<p>Custom ggplot themes</p>
<p>It is often the case that we start to default to a particular 'style' for our figures, or you may be making several similar figures within a research paper. Creating custom functions can extend to making our own custom ggplot themes. You have probably already used theme variants such as <code>theme_bw()</code>, <code>theme_void()</code>, <code>theme_minimal()</code> - these are incredibly useful, but you might find you still wish to make consistent changes.</p>
<p>Here is a plot we can make with the <code>dros_weight</code> tibble:</p>
<div class="sourceCode" id="cb440"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb440-1"><a href="#cb440-1" tabindex="-1"></a>plot <span class="ot">&lt;-</span> dros_weight <span class="sc">%&gt;%</span> </span>
<span id="cb440-2"><a href="#cb440-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>sex,</span>
<span id="cb440-3"><a href="#cb440-3" tabindex="-1"></a>         <span class="at">y=</span>weight_mg))<span class="sc">+</span></span>
<span id="cb440-4"><a href="#cb440-4" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>)</span>
<span id="cb440-5"><a href="#cb440-5" tabindex="-1"></a></span>
<span id="cb440-6"><a href="#cb440-6" tabindex="-1"></a>plot</span></code></pre></div>
<p>With the addition of a title and <code>theme_classic()</code> we can improve the style quickly</p>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb441-1"><a href="#cb441-1" tabindex="-1"></a>plot<span class="sc">+</span></span>
<span id="cb441-2"><a href="#cb441-2" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Comparison of weights (mg) between </span><span class="sc">\n</span><span class="st">male and female Drosophila&quot;</span>)<span class="sc">+</span></span>
<span id="cb441-3"><a href="#cb441-3" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code></pre></div>
<p>But I <strong>still</strong> want to make some more changes, rather than do this work for one figure, and potentially have to repeat this several times for subsequent figures, I can decide to make a new function instead. See <a href="https://ggplot2.tidyverse.org/reference/theme.html">here</a> for a full breakdown of the arguments for the <code>theme()</code> function.</p>
<div class="info">
<p>
Note when using a pre-set theme, and then modifying it further, it is
important to get the order of syntax correct e.g
</p>
<p>
theme_classic + theme() # is correct
</p>
<p>
theme() + theme_classic() # will not work as intended
</p>
</div>
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb442-1"><a href="#cb442-1" tabindex="-1"></a><span class="co"># custom theme sets defaults for font and size, but these can be changed without changing the function</span></span>
<span id="cb442-2"><a href="#cb442-2" tabindex="-1"></a>theme_custom <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">base_size=</span><span class="dv">12</span>, <span class="at">base_family=</span><span class="st">&quot;serif&quot;</span>){</span>
<span id="cb442-3"><a href="#cb442-3" tabindex="-1"></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> base_size, </span>
<span id="cb442-4"><a href="#cb442-4" tabindex="-1"></a>                <span class="at">base_family =</span> base_family,</span>
<span id="cb442-5"><a href="#cb442-5" tabindex="-1"></a>                )  <span class="sc">%+replace%</span></span>
<span id="cb442-6"><a href="#cb442-6" tabindex="-1"></a><span class="co"># update theme minimal </span></span>
<span id="cb442-7"><a href="#cb442-7" tabindex="-1"></a><span class="fu">theme</span>(</span>
<span id="cb442-8"><a href="#cb442-8" tabindex="-1"></a>  <span class="co"># specify default settings for plot titles - use rel to set titles relative to base size</span></span>
<span id="cb442-9"><a href="#cb442-9" tabindex="-1"></a>  <span class="at">plot.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="fu">rel</span>(<span class="fl">1.5</span>),</span>
<span id="cb442-10"><a href="#cb442-10" tabindex="-1"></a>      <span class="at">face=</span><span class="st">&quot;bold&quot;</span>,</span>
<span id="cb442-11"><a href="#cb442-11" tabindex="-1"></a>      <span class="at">family=</span>base_family),</span>
<span id="cb442-12"><a href="#cb442-12" tabindex="-1"></a>  <span class="co">#specify defaults for axis titles</span></span>
<span id="cb442-13"><a href="#cb442-13" tabindex="-1"></a>  <span class="at">axis.title=</span><span class="fu">element_text</span>(</span>
<span id="cb442-14"><a href="#cb442-14" tabindex="-1"></a>    <span class="at">size=</span><span class="fu">rel</span>(<span class="dv">1</span>),</span>
<span id="cb442-15"><a href="#cb442-15" tabindex="-1"></a>    <span class="at">family=</span>base_family),</span>
<span id="cb442-16"><a href="#cb442-16" tabindex="-1"></a>  <span class="co"># specify position for y axis title</span></span>
<span id="cb442-17"><a href="#cb442-17" tabindex="-1"></a>  <span class="at">axis.title.y=</span><span class="fu">element_text</span>(<span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="dv">10</span>, <span class="at">l=</span> <span class="dv">10</span>)),</span>
<span id="cb442-18"><a href="#cb442-18" tabindex="-1"></a>  <span class="co"># specify position for x axis title</span></span>
<span id="cb442-19"><a href="#cb442-19" tabindex="-1"></a>  <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">margin =</span> <span class="fu">margin</span>( <span class="at">t =</span> <span class="dv">10</span>, <span class="at">b =</span> <span class="dv">10</span>)),</span>
<span id="cb442-20"><a href="#cb442-20" tabindex="-1"></a>  <span class="co"># set major y grid lines</span></span>
<span id="cb442-21"><a href="#cb442-21" tabindex="-1"></a>  <span class="at">panel.grid.major.y =</span> <span class="fu">element_line</span>(<span class="at">colour=</span><span class="st">&quot;gray&quot;</span>, <span class="at">size=</span><span class="fl">0.5</span>),</span>
<span id="cb442-22"><a href="#cb442-22" tabindex="-1"></a>  <span class="co"># add axis lines</span></span>
<span id="cb442-23"><a href="#cb442-23" tabindex="-1"></a>  <span class="at">axis.line=</span><span class="fu">element_line</span>(),</span>
<span id="cb442-24"><a href="#cb442-24" tabindex="-1"></a>   <span class="co"># Adding a 0.5cm margin around the plot</span></span>
<span id="cb442-25"><a href="#cb442-25" tabindex="-1"></a>  <span class="at">plot.margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>), <span class="at">units =</span> , <span class="st">&quot;cm&quot;</span>),    </span>
<span id="cb442-26"><a href="#cb442-26" tabindex="-1"></a>   <span class="co"># Setting the font for the legend text</span></span>
<span id="cb442-27"><a href="#cb442-27" tabindex="-1"></a>  <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>),   </span>
<span id="cb442-28"><a href="#cb442-28" tabindex="-1"></a>    <span class="co"># Removing the legend title</span></span>
<span id="cb442-29"><a href="#cb442-29" tabindex="-1"></a>          <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),    </span>
<span id="cb442-30"><a href="#cb442-30" tabindex="-1"></a>   <span class="co"># Setting the position for the legend - 0 is left/bottom, 1 is top/right</span></span>
<span id="cb442-31"><a href="#cb442-31" tabindex="-1"></a>          <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="fl">0.8</span>)             </span>
<span id="cb442-32"><a href="#cb442-32" tabindex="-1"></a>)</span>
<span id="cb442-33"><a href="#cb442-33" tabindex="-1"></a>  </span>
<span id="cb442-34"><a href="#cb442-34" tabindex="-1"></a>}</span></code></pre></div>
<p>With this function set, I can now use it for as many figures as I wish. To use it in the future I should probably save it in a unique script, with a clear title and comments for future use.</p>
<p>I could then easily use <code>source("custom_theme_function.R")</code> to make this available to any scripts I was using.</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb443-1"><a href="#cb443-1" tabindex="-1"></a>plot<span class="sc">+</span></span>
<span id="cb443-2"><a href="#cb443-2" tabindex="-1"></a><span class="fu">theme_custom</span>()</span></code></pre></div>
</div>
<div id="making-tables-with-gt" class="section level1" number="26">
<h1><span class="header-section-number">26</span> Making tables with gt</h1>
<p>In this chapter, we will accomplish two main objectives:</p>
<ol style="list-style-type: decimal">
<li><p>Acquire fundamental principles for creating improved tables.</p></li>
<li><p>Apply these principles using the <code>gt</code> package.
Naturally, to put these ideas into practice, we'll utilize the fantastic penguins dataset from <code>palmerpenguins</code> since I have a preference for penguins.</p></li>
</ol>
<p>For these tutorials we will use the <code>gt</code> package and helpers provided by <code>gtExtras</code>.</p>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb444-1"><a href="#cb444-1" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb444-2"><a href="#cb444-2" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb444-3"><a href="#cb444-3" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb444-4"><a href="#cb444-4" tabindex="-1"></a><span class="fu">library</span>(gtExtras)</span></code></pre></div>
<p>Let's use this dataset to tally the penguins. These counts will provide us with a straightforward dataset to use for practicing table construction.</p>
<div class="sourceCode" id="cb445"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb445-1"><a href="#cb445-1" tabindex="-1"></a>penguin_counts <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb445-2"><a href="#cb445-2" tabindex="-1"></a>  <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb445-3"><a href="#cb445-3" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb445-4"><a href="#cb445-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.character</span>(year)) <span class="sc">|&gt;</span> </span>
<span id="cb445-5"><a href="#cb445-5" tabindex="-1"></a>  <span class="fu">group_by</span>(species, island, sex, year) <span class="sc">|&gt;</span> </span>
<span id="cb445-6"><a href="#cb445-6" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>)</span>
<span id="cb445-7"><a href="#cb445-7" tabindex="-1"></a></span>
<span id="cb445-8"><a href="#cb445-8" tabindex="-1"></a>penguin_counts</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">species</th>
<th align="left">island</th>
<th align="left">sex</th>
<th align="left">year</th>
<th align="right">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Adelie</td>
<td align="left">Biscoe</td>
<td align="left">female</td>
<td align="left">2007</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">Adelie</td>
<td align="left">Biscoe</td>
<td align="left">female</td>
<td align="left">2008</td>
<td align="right">9</td>
</tr>
<tr class="odd">
<td align="left">Adelie</td>
<td align="left">Biscoe</td>
<td align="left">female</td>
<td align="left">2009</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">Adelie</td>
<td align="left">Biscoe</td>
<td align="left">male</td>
<td align="left">2007</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="left">Adelie</td>
<td align="left">Biscoe</td>
<td align="left">male</td>
<td align="left">2008</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">Adelie</td>
<td align="left">Biscoe</td>
<td align="left">male</td>
<td align="left">2009</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">Adelie</td>
<td align="left">Dream</td>
<td align="left">female</td>
<td align="left">2007</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">Adelie</td>
<td align="left">Dream</td>
<td align="left">female</td>
<td align="left">2008</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">Adelie</td>
<td align="left">Dream</td>
<td align="left">female</td>
<td align="left">2009</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="left">Adelie</td>
<td align="left">Dream</td>
<td align="left">male</td>
<td align="left">2007</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">Adelie</td>
<td align="left">Dream</td>
<td align="left">male</td>
<td align="left">2008</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">Adelie</td>
<td align="left">Dream</td>
<td align="left">male</td>
<td align="left">2009</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">Adelie</td>
<td align="left">Torgersen</td>
<td align="left">female</td>
<td align="left">2007</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">Adelie</td>
<td align="left">Torgersen</td>
<td align="left">female</td>
<td align="left">2008</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">Adelie</td>
<td align="left">Torgersen</td>
<td align="left">female</td>
<td align="left">2009</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">Adelie</td>
<td align="left">Torgersen</td>
<td align="left">male</td>
<td align="left">2007</td>
<td align="right">7</td>
</tr>
<tr class="odd">
<td align="left">Adelie</td>
<td align="left">Torgersen</td>
<td align="left">male</td>
<td align="left">2008</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">Adelie</td>
<td align="left">Torgersen</td>
<td align="left">male</td>
<td align="left">2009</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">Chinstrap</td>
<td align="left">Dream</td>
<td align="left">female</td>
<td align="left">2007</td>
<td align="right">13</td>
</tr>
<tr class="even">
<td align="left">Chinstrap</td>
<td align="left">Dream</td>
<td align="left">female</td>
<td align="left">2008</td>
<td align="right">9</td>
</tr>
<tr class="odd">
<td align="left">Chinstrap</td>
<td align="left">Dream</td>
<td align="left">female</td>
<td align="left">2009</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">Chinstrap</td>
<td align="left">Dream</td>
<td align="left">male</td>
<td align="left">2007</td>
<td align="right">13</td>
</tr>
<tr class="odd">
<td align="left">Chinstrap</td>
<td align="left">Dream</td>
<td align="left">male</td>
<td align="left">2008</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">Chinstrap</td>
<td align="left">Dream</td>
<td align="left">male</td>
<td align="left">2009</td>
<td align="right">12</td>
</tr>
<tr class="odd">
<td align="left">Gentoo</td>
<td align="left">Biscoe</td>
<td align="left">female</td>
<td align="left">2007</td>
<td align="right">16</td>
</tr>
<tr class="even">
<td align="left">Gentoo</td>
<td align="left">Biscoe</td>
<td align="left">female</td>
<td align="left">2008</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="left">Gentoo</td>
<td align="left">Biscoe</td>
<td align="left">female</td>
<td align="left">2009</td>
<td align="right">20</td>
</tr>
<tr class="even">
<td align="left">Gentoo</td>
<td align="left">Biscoe</td>
<td align="left">male</td>
<td align="left">2007</td>
<td align="right">17</td>
</tr>
<tr class="odd">
<td align="left">Gentoo</td>
<td align="left">Biscoe</td>
<td align="left">male</td>
<td align="left">2008</td>
<td align="right">23</td>
</tr>
<tr class="even">
<td align="left">Gentoo</td>
<td align="left">Biscoe</td>
<td align="left">male</td>
<td align="left">2009</td>
<td align="right">21</td>
</tr>
</tbody>
</table>
</div>
<p>In a real table, the data might be restructured for better readability. While there's nothing inherently wrong with the long (i.e., containing many rows) data format, this format is excellent for data analysis. However, in a table intended for human readers, rather than machines, you'd likely opt for a wider format.</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb446-1"><a href="#cb446-1" tabindex="-1"></a>penguin_counts_wider <span class="ot">&lt;-</span> penguin_counts <span class="sc">|&gt;</span> </span>
<span id="cb446-2"><a href="#cb446-2" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb446-3"><a href="#cb446-3" tabindex="-1"></a>    <span class="at">names_from =</span> <span class="fu">c</span>(species, sex),</span>
<span id="cb446-4"><a href="#cb446-4" tabindex="-1"></a>    <span class="at">values_from =</span> n</span>
<span id="cb446-5"><a href="#cb446-5" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb446-6"><a href="#cb446-6" tabindex="-1"></a>  <span class="co"># Make missing numbers (NAs) into zero</span></span>
<span id="cb446-7"><a href="#cb446-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="at">.cols =</span> <span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>), <span class="sc">~</span><span class="fu">replace_na</span>(., <span class="at">replace =</span> <span class="dv">0</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb446-8"><a href="#cb446-8" tabindex="-1"></a>  <span class="fu">arrange</span>(island, year) </span>
<span id="cb446-9"><a href="#cb446-9" tabindex="-1"></a></span>
<span id="cb446-10"><a href="#cb446-10" tabindex="-1"></a>penguin_counts_wider</span></code></pre></div>
<div class="kable-table">
<table>
<colgroup>
<col width="10%" />
<col width="5%" />
<col width="14%" />
<col width="12%" />
<col width="17%" />
<col width="15%" />
<col width="14%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">island</th>
<th align="left">year</th>
<th align="right">Adelie_female</th>
<th align="right">Adelie_male</th>
<th align="right">Chinstrap_female</th>
<th align="right">Chinstrap_male</th>
<th align="right">Gentoo_female</th>
<th align="right">Gentoo_male</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Biscoe</td>
<td align="left">2007</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">16</td>
<td align="right">17</td>
</tr>
<tr class="even">
<td align="left">Biscoe</td>
<td align="left">2008</td>
<td align="right">9</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">22</td>
<td align="right">23</td>
</tr>
<tr class="odd">
<td align="left">Biscoe</td>
<td align="left">2009</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">20</td>
<td align="right">21</td>
</tr>
<tr class="even">
<td align="left">Dream</td>
<td align="left">2007</td>
<td align="right">9</td>
<td align="right">10</td>
<td align="right">13</td>
<td align="right">13</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Dream</td>
<td align="left">2008</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">9</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Dream</td>
<td align="left">2009</td>
<td align="right">10</td>
<td align="right">10</td>
<td align="right">12</td>
<td align="right">12</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Torgersen</td>
<td align="left">2007</td>
<td align="right">8</td>
<td align="right">7</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Torgersen</td>
<td align="left">2008</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Torgersen</td>
<td align="left">2009</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
<p>Here are six guidelines that will guide us as we make tables:</p>
<ol style="list-style-type: decimal">
<li><p>Avoid gridlines</p></li>
<li><p>Use better column names</p></li>
<li><p>Align columns</p></li>
<li><p>Use groups instead of repetitive columns</p></li>
<li><p>Remove missing numbers</p></li>
<li><p>Add summaries</p></li>
</ol>
<div id="avoid-vertical-lines" class="section level3" number="26.0.1">
<h3><span class="header-section-number">26.0.1</span> Avoid vertical lines</h3>
<p>Vertical lines can make our data look cramped. Fortunately, it appears that <code>gt</code> adheres to this principle by default. Hence, all we need to do is supply our dataset, <code>penguin_counts_wider</code>, to the <code>gt()</code> function.</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb447-1"><a href="#cb447-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb447-2"><a href="#cb447-2" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code></pre></div>
<div id="nhahxtkbop" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#nhahxtkbop table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#nhahxtkbop thead, #nhahxtkbop tbody, #nhahxtkbop tfoot, #nhahxtkbop tr, #nhahxtkbop td, #nhahxtkbop th {
  border-style: none;
}

#nhahxtkbop p {
  margin: 0;
  padding: 0;
}

#nhahxtkbop .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nhahxtkbop .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#nhahxtkbop .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nhahxtkbop .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nhahxtkbop .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nhahxtkbop .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nhahxtkbop .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nhahxtkbop .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nhahxtkbop .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nhahxtkbop .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nhahxtkbop .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nhahxtkbop .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nhahxtkbop .gt_spanner_row {
  border-bottom-style: hidden;
}

#nhahxtkbop .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#nhahxtkbop .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nhahxtkbop .gt_from_md > :first-child {
  margin-top: 0;
}

#nhahxtkbop .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nhahxtkbop .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nhahxtkbop .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#nhahxtkbop .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#nhahxtkbop .gt_row_group_first td {
  border-top-width: 2px;
}

#nhahxtkbop .gt_row_group_first th {
  border-top-width: 2px;
}

#nhahxtkbop .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nhahxtkbop .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#nhahxtkbop .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#nhahxtkbop .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nhahxtkbop .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nhahxtkbop .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nhahxtkbop .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#nhahxtkbop .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#nhahxtkbop .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nhahxtkbop .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nhahxtkbop .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nhahxtkbop .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nhahxtkbop .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nhahxtkbop .gt_left {
  text-align: left;
}

#nhahxtkbop .gt_center {
  text-align: center;
}

#nhahxtkbop .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nhahxtkbop .gt_font_normal {
  font-weight: normal;
}

#nhahxtkbop .gt_font_bold {
  font-weight: bold;
}

#nhahxtkbop .gt_font_italic {
  font-style: italic;
}

#nhahxtkbop .gt_super {
  font-size: 65%;
}

#nhahxtkbop .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#nhahxtkbop .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#nhahxtkbop .gt_indent_1 {
  text-indent: 5px;
}

#nhahxtkbop .gt_indent_2 {
  text-indent: 10px;
}

#nhahxtkbop .gt_indent_3 {
  text-indent: 15px;
}

#nhahxtkbop .gt_indent_4 {
  text-indent: 20px;
}

#nhahxtkbop .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="island">island</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="year">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Adelie_female">Adelie_female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Adelie_male">Adelie_male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Chinstrap_female">Chinstrap_female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Chinstrap_male">Chinstrap_male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Gentoo_female">Gentoo_female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Gentoo_male">Gentoo_male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">5</td>
<td headers="Adelie_male" class="gt_row gt_right">5</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">9</td>
<td headers="Adelie_male" class="gt_row gt_right">9</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">22</td>
<td headers="Gentoo_male" class="gt_row gt_right">23</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">9</td>
<td headers="Adelie_male" class="gt_row gt_right">10</td>
<td headers="Chinstrap_female" class="gt_row gt_right">13</td>
<td headers="Chinstrap_male" class="gt_row gt_right">13</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">10</td>
<td headers="Adelie_male" class="gt_row gt_right">10</td>
<td headers="Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">7</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<div id="use-better-column-names-and-make-them-stand-out" class="section level3" number="26.0.2">
<h3><span class="header-section-number">26.0.2</span> Use better column names and make them stand out</h3>
<p>To modify the column names, you can employ the "layer" named cols_layer(). Similar to how {ggplot2} operates with layers, {gt} follows a similar approach. To make any adjustments to the table, you simply transfer it from one layer to the next, which can be done conveniently through piping. With this understanding, we can label the columns just as we did previously.</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb448-1"><a href="#cb448-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb448-2"><a href="#cb448-2" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb448-3"><a href="#cb448-3" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb448-4"><a href="#cb448-4" tabindex="-1"></a>    <span class="at">island =</span> <span class="st">&#39;Island&#39;</span>,</span>
<span id="cb448-5"><a href="#cb448-5" tabindex="-1"></a>    <span class="at">year =</span> <span class="st">&#39;Year&#39;</span>,</span>
<span id="cb448-6"><a href="#cb448-6" tabindex="-1"></a>    <span class="at">Adelie_female =</span> <span class="st">&#39;Adelie (female)&#39;</span>,</span>
<span id="cb448-7"><a href="#cb448-7" tabindex="-1"></a>    <span class="at">Adelie_male =</span> <span class="st">&#39;Adelie (male)&#39;</span>,</span>
<span id="cb448-8"><a href="#cb448-8" tabindex="-1"></a>    <span class="at">Chinstrap_female =</span> <span class="st">&#39;Chinstrap (female)&#39;</span>,</span>
<span id="cb448-9"><a href="#cb448-9" tabindex="-1"></a>    <span class="at">Chinstrap_male =</span> <span class="st">&#39;Chinstrap (male)&#39;</span>,</span>
<span id="cb448-10"><a href="#cb448-10" tabindex="-1"></a>    <span class="at">Gentoo_female =</span> <span class="st">&#39;Gentoo (female)&#39;</span>,</span>
<span id="cb448-11"><a href="#cb448-11" tabindex="-1"></a>    <span class="at">Gentoo_male =</span> <span class="st">&#39;Gentoo (male)&#39;</span>,</span>
<span id="cb448-12"><a href="#cb448-12" tabindex="-1"></a>  )</span></code></pre></div>
<div id="wqblaspqgz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#wqblaspqgz table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#wqblaspqgz thead, #wqblaspqgz tbody, #wqblaspqgz tfoot, #wqblaspqgz tr, #wqblaspqgz td, #wqblaspqgz th {
  border-style: none;
}

#wqblaspqgz p {
  margin: 0;
  padding: 0;
}

#wqblaspqgz .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#wqblaspqgz .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#wqblaspqgz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#wqblaspqgz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#wqblaspqgz .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wqblaspqgz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wqblaspqgz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wqblaspqgz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#wqblaspqgz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#wqblaspqgz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#wqblaspqgz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#wqblaspqgz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#wqblaspqgz .gt_spanner_row {
  border-bottom-style: hidden;
}

#wqblaspqgz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#wqblaspqgz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#wqblaspqgz .gt_from_md > :first-child {
  margin-top: 0;
}

#wqblaspqgz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#wqblaspqgz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#wqblaspqgz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#wqblaspqgz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#wqblaspqgz .gt_row_group_first td {
  border-top-width: 2px;
}

#wqblaspqgz .gt_row_group_first th {
  border-top-width: 2px;
}

#wqblaspqgz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wqblaspqgz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#wqblaspqgz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#wqblaspqgz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wqblaspqgz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wqblaspqgz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#wqblaspqgz .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#wqblaspqgz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#wqblaspqgz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wqblaspqgz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wqblaspqgz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wqblaspqgz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wqblaspqgz .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wqblaspqgz .gt_left {
  text-align: left;
}

#wqblaspqgz .gt_center {
  text-align: center;
}

#wqblaspqgz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#wqblaspqgz .gt_font_normal {
  font-weight: normal;
}

#wqblaspqgz .gt_font_bold {
  font-weight: bold;
}

#wqblaspqgz .gt_font_italic {
  font-style: italic;
}

#wqblaspqgz .gt_super {
  font-size: 65%;
}

#wqblaspqgz .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#wqblaspqgz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#wqblaspqgz .gt_indent_1 {
  text-indent: 5px;
}

#wqblaspqgz .gt_indent_2 {
  text-indent: 10px;
}

#wqblaspqgz .gt_indent_3 {
  text-indent: 15px;
}

#wqblaspqgz .gt_indent_4 {
  text-indent: 20px;
}

#wqblaspqgz .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Island">Island</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Year">Year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Adelie (female)">Adelie (female)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Adelie (male)">Adelie (male)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Chinstrap (female)">Chinstrap (female)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Chinstrap (male)">Chinstrap (male)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Gentoo (female)">Gentoo (female)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Gentoo (male)">Gentoo (male)</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">5</td>
<td headers="Adelie_male" class="gt_row gt_right">5</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">9</td>
<td headers="Adelie_male" class="gt_row gt_right">9</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">22</td>
<td headers="Gentoo_male" class="gt_row gt_right">23</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">9</td>
<td headers="Adelie_male" class="gt_row gt_right">10</td>
<td headers="Chinstrap_female" class="gt_row gt_right">13</td>
<td headers="Chinstrap_male" class="gt_row gt_right">13</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">10</td>
<td headers="Adelie_male" class="gt_row gt_right">10</td>
<td headers="Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">7</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
  </tbody>
  
  
</table>
</div>
<p>However, labeling the columns in this manner may not be the most effective approach. Let's explore an alternative method. First, we can create what are known as "spanners," which are merged columns. These can be generated using <code>tab_spanner()</code> layers, with one layer dedicated to each spanner.</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb449-1"><a href="#cb449-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb449-2"><a href="#cb449-2" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb449-3"><a href="#cb449-3" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb449-4"><a href="#cb449-4" tabindex="-1"></a>    <span class="at">island =</span> <span class="st">&#39;Island&#39;</span>,</span>
<span id="cb449-5"><a href="#cb449-5" tabindex="-1"></a>    <span class="at">year =</span> <span class="st">&#39;Year&#39;</span>,</span>
<span id="cb449-6"><a href="#cb449-6" tabindex="-1"></a>    <span class="at">Adelie_female =</span> <span class="st">&#39;Adelie (female)&#39;</span>,</span>
<span id="cb449-7"><a href="#cb449-7" tabindex="-1"></a>    <span class="at">Adelie_male =</span> <span class="st">&#39;Adelie (male)&#39;</span>,</span>
<span id="cb449-8"><a href="#cb449-8" tabindex="-1"></a>    <span class="at">Chinstrap_female =</span> <span class="st">&#39;Chinstrap (female)&#39;</span>,</span>
<span id="cb449-9"><a href="#cb449-9" tabindex="-1"></a>    <span class="at">Chinstrap_male =</span> <span class="st">&#39;Chinstrap (male)&#39;</span>,</span>
<span id="cb449-10"><a href="#cb449-10" tabindex="-1"></a>    <span class="at">Gentoo_female =</span> <span class="st">&#39;Gentoo (female)&#39;</span>,</span>
<span id="cb449-11"><a href="#cb449-11" tabindex="-1"></a>    <span class="at">Gentoo_male =</span> <span class="st">&#39;Gentoo (male)&#39;</span>,</span>
<span id="cb449-12"><a href="#cb449-12" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb449-13"><a href="#cb449-13" tabindex="-1"></a>  <span class="co"># md() function applies markdown styling - we can make text bold</span></span>
<span id="cb449-14"><a href="#cb449-14" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb449-15"><a href="#cb449-15" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">md</span>(<span class="st">&#39;**Adelie**&#39;</span>),</span>
<span id="cb449-16"><a href="#cb449-16" tabindex="-1"></a>    <span class="at">columns =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb449-17"><a href="#cb449-17" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb449-18"><a href="#cb449-18" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb449-19"><a href="#cb449-19" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">md</span>(<span class="st">&#39;**Chinstrap**&#39;</span>),</span>
<span id="cb449-20"><a href="#cb449-20" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(<span class="st">&#39;Chinstrap_female&#39;</span>, <span class="st">&#39;Chinstrap_male&#39;</span>)</span>
<span id="cb449-21"><a href="#cb449-21" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb449-22"><a href="#cb449-22" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb449-23"><a href="#cb449-23" tabindex="-1"></a>    <span class="at">label =</span>  <span class="fu">md</span>(<span class="st">&#39;**Gentoo**&#39;</span>),</span>
<span id="cb449-24"><a href="#cb449-24" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">contains</span>(<span class="st">&#39;Gentoo&#39;</span>)</span>
<span id="cb449-25"><a href="#cb449-25" tabindex="-1"></a>  )</span></code></pre></div>
<div id="hiogfdhkwv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#hiogfdhkwv table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#hiogfdhkwv thead, #hiogfdhkwv tbody, #hiogfdhkwv tfoot, #hiogfdhkwv tr, #hiogfdhkwv td, #hiogfdhkwv th {
  border-style: none;
}

#hiogfdhkwv p {
  margin: 0;
  padding: 0;
}

#hiogfdhkwv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hiogfdhkwv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#hiogfdhkwv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hiogfdhkwv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hiogfdhkwv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hiogfdhkwv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hiogfdhkwv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hiogfdhkwv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hiogfdhkwv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hiogfdhkwv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hiogfdhkwv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hiogfdhkwv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hiogfdhkwv .gt_spanner_row {
  border-bottom-style: hidden;
}

#hiogfdhkwv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#hiogfdhkwv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hiogfdhkwv .gt_from_md > :first-child {
  margin-top: 0;
}

#hiogfdhkwv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hiogfdhkwv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hiogfdhkwv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hiogfdhkwv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hiogfdhkwv .gt_row_group_first td {
  border-top-width: 2px;
}

#hiogfdhkwv .gt_row_group_first th {
  border-top-width: 2px;
}

#hiogfdhkwv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hiogfdhkwv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hiogfdhkwv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hiogfdhkwv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hiogfdhkwv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hiogfdhkwv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hiogfdhkwv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#hiogfdhkwv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hiogfdhkwv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hiogfdhkwv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hiogfdhkwv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hiogfdhkwv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hiogfdhkwv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hiogfdhkwv .gt_left {
  text-align: left;
}

#hiogfdhkwv .gt_center {
  text-align: center;
}

#hiogfdhkwv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hiogfdhkwv .gt_font_normal {
  font-weight: normal;
}

#hiogfdhkwv .gt_font_bold {
  font-weight: bold;
}

#hiogfdhkwv .gt_font_italic {
  font-style: italic;
}

#hiogfdhkwv .gt_super {
  font-size: 65%;
}

#hiogfdhkwv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#hiogfdhkwv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hiogfdhkwv .gt_indent_1 {
  text-indent: 5px;
}

#hiogfdhkwv .gt_indent_2 {
  text-indent: 10px;
}

#hiogfdhkwv .gt_indent_3 {
  text-indent: 15px;
}

#hiogfdhkwv .gt_indent_4 {
  text-indent: 20px;
}

#hiogfdhkwv .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="Island">Island</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="2" colspan="1" scope="col" id="Year">Year</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Adelie (female)">Adelie (female)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Adelie (male)">Adelie (male)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Chinstrap (female)">Chinstrap (female)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Chinstrap (male)">Chinstrap (male)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Gentoo (female)">Gentoo (female)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Gentoo (male)">Gentoo (male)</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">5</td>
<td headers="Adelie_male" class="gt_row gt_right">5</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">9</td>
<td headers="Adelie_male" class="gt_row gt_right">9</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">22</td>
<td headers="Gentoo_male" class="gt_row gt_right">23</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">9</td>
<td headers="Adelie_male" class="gt_row gt_right">10</td>
<td headers="Chinstrap_female" class="gt_row gt_right">13</td>
<td headers="Chinstrap_male" class="gt_row gt_right">13</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">10</td>
<td headers="Adelie_male" class="gt_row gt_right">10</td>
<td headers="Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">7</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
  </tbody>
  
  
</table>
</div>
<p>As you can see, tab_spanner() always requires two arguments label and columns. For the columns argument I have shown you three ways to get the job done:</p>
<ol style="list-style-type: decimal">
<li><p>Vector of column numbers</p></li>
<li><p>Vector of column names</p></li>
<li><p>tidyselect helpers</p></li>
</ol>
<p>First, we no longer need the species labels in the actual column names, as the spanners already provide that information. To update the column names, we can employ a handy trick that will save us from tedious typing.</p>
<p>Begin by creating a named vector that establishes a connection between the original column names, which include species labels, and the desired column names that exclude those labels. For example:</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb450-1"><a href="#cb450-1" tabindex="-1"></a>desired_colnames <span class="ot">&lt;-</span> <span class="fu">colnames</span>(penguin_counts_wider) <span class="sc">|&gt;</span> </span>
<span id="cb450-2"><a href="#cb450-2" tabindex="-1"></a>  <span class="fu">str_remove</span>(<span class="st">&quot;(Adelie|Gentoo|Chinstrap)_&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb450-3"><a href="#cb450-3" tabindex="-1"></a>  <span class="fu">str_to_title</span>()</span>
<span id="cb450-4"><a href="#cb450-4" tabindex="-1"></a></span>
<span id="cb450-5"><a href="#cb450-5" tabindex="-1"></a><span class="fu">names</span>(desired_colnames) <span class="ot">&lt;-</span> <span class="fu">names</span>(penguin_counts_wider)</span></code></pre></div>
<p>With this named vector in place, proceed to rename the columns using it in the .list argument in <code>cols_label()</code></p>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb451-1"><a href="#cb451-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb451-2"><a href="#cb451-2" tabindex="-1"></a>    <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb451-3"><a href="#cb451-3" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">.list =</span> desired_colnames) <span class="sc">|&gt;</span> </span>
<span id="cb451-4"><a href="#cb451-4" tabindex="-1"></a>  <span class="co"># md() function applies markdown styling - we can make text bold</span></span>
<span id="cb451-5"><a href="#cb451-5" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb451-6"><a href="#cb451-6" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">md</span>(<span class="st">&#39;**Adelie**&#39;</span>),</span>
<span id="cb451-7"><a href="#cb451-7" tabindex="-1"></a>    <span class="at">columns =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb451-8"><a href="#cb451-8" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb451-9"><a href="#cb451-9" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb451-10"><a href="#cb451-10" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">md</span>(<span class="st">&#39;**Chinstrap**&#39;</span>),</span>
<span id="cb451-11"><a href="#cb451-11" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(<span class="st">&#39;Chinstrap_female&#39;</span>, <span class="st">&#39;Chinstrap_male&#39;</span>)</span>
<span id="cb451-12"><a href="#cb451-12" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb451-13"><a href="#cb451-13" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb451-14"><a href="#cb451-14" tabindex="-1"></a>    <span class="at">label =</span>  <span class="fu">md</span>(<span class="st">&#39;**Gentoo**&#39;</span>),</span>
<span id="cb451-15"><a href="#cb451-15" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">contains</span>(<span class="st">&#39;Gentoo&#39;</span>)</span>
<span id="cb451-16"><a href="#cb451-16" tabindex="-1"></a>  )</span></code></pre></div>
<div id="orttzafpxv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#orttzafpxv table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#orttzafpxv thead, #orttzafpxv tbody, #orttzafpxv tfoot, #orttzafpxv tr, #orttzafpxv td, #orttzafpxv th {
  border-style: none;
}

#orttzafpxv p {
  margin: 0;
  padding: 0;
}

#orttzafpxv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#orttzafpxv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#orttzafpxv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#orttzafpxv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#orttzafpxv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#orttzafpxv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#orttzafpxv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#orttzafpxv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#orttzafpxv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#orttzafpxv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#orttzafpxv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#orttzafpxv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#orttzafpxv .gt_spanner_row {
  border-bottom-style: hidden;
}

#orttzafpxv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#orttzafpxv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#orttzafpxv .gt_from_md > :first-child {
  margin-top: 0;
}

#orttzafpxv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#orttzafpxv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#orttzafpxv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#orttzafpxv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#orttzafpxv .gt_row_group_first td {
  border-top-width: 2px;
}

#orttzafpxv .gt_row_group_first th {
  border-top-width: 2px;
}

#orttzafpxv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#orttzafpxv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#orttzafpxv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#orttzafpxv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#orttzafpxv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#orttzafpxv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#orttzafpxv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#orttzafpxv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#orttzafpxv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#orttzafpxv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#orttzafpxv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#orttzafpxv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#orttzafpxv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#orttzafpxv .gt_left {
  text-align: left;
}

#orttzafpxv .gt_center {
  text-align: center;
}

#orttzafpxv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#orttzafpxv .gt_font_normal {
  font-weight: normal;
}

#orttzafpxv .gt_font_bold {
  font-weight: bold;
}

#orttzafpxv .gt_font_italic {
  font-style: italic;
}

#orttzafpxv .gt_super {
  font-size: 65%;
}

#orttzafpxv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#orttzafpxv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#orttzafpxv .gt_indent_1 {
  text-indent: 5px;
}

#orttzafpxv .gt_indent_2 {
  text-indent: 10px;
}

#orttzafpxv .gt_indent_3 {
  text-indent: 15px;
}

#orttzafpxv .gt_indent_4 {
  text-indent: 20px;
}

#orttzafpxv .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="Island">Island</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="2" colspan="1" scope="col" id="Year">Year</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">5</td>
<td headers="Adelie_male" class="gt_row gt_right">5</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">9</td>
<td headers="Adelie_male" class="gt_row gt_right">9</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">22</td>
<td headers="Gentoo_male" class="gt_row gt_right">23</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">9</td>
<td headers="Adelie_male" class="gt_row gt_right">10</td>
<td headers="Chinstrap_female" class="gt_row gt_right">13</td>
<td headers="Chinstrap_male" class="gt_row gt_right">13</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">10</td>
<td headers="Adelie_male" class="gt_row gt_right">10</td>
<td headers="Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">7</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
  </tbody>
  
  
</table>
</div>
<p>Finally we should add a title to our table. We can do this with <code>tab_header()</code></p>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb452-1"><a href="#cb452-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb452-2"><a href="#cb452-2" tabindex="-1"></a>    <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb452-3"><a href="#cb452-3" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">.list =</span> desired_colnames) <span class="sc">|&gt;</span> </span>
<span id="cb452-4"><a href="#cb452-4" tabindex="-1"></a>  <span class="co"># md() function applies markdown styling - we can make text bold</span></span>
<span id="cb452-5"><a href="#cb452-5" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb452-6"><a href="#cb452-6" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">md</span>(<span class="st">&#39;**Adelie**&#39;</span>),</span>
<span id="cb452-7"><a href="#cb452-7" tabindex="-1"></a>    <span class="at">columns =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb452-8"><a href="#cb452-8" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb452-9"><a href="#cb452-9" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb452-10"><a href="#cb452-10" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">md</span>(<span class="st">&#39;**Chinstrap**&#39;</span>),</span>
<span id="cb452-11"><a href="#cb452-11" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(<span class="st">&#39;Chinstrap_female&#39;</span>, <span class="st">&#39;Chinstrap_male&#39;</span>)</span>
<span id="cb452-12"><a href="#cb452-12" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb452-13"><a href="#cb452-13" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb452-14"><a href="#cb452-14" tabindex="-1"></a>    <span class="at">label =</span>  <span class="fu">md</span>(<span class="st">&#39;**Gentoo**&#39;</span>),</span>
<span id="cb452-15"><a href="#cb452-15" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">contains</span>(<span class="st">&#39;Gentoo&#39;</span>)</span>
<span id="cb452-16"><a href="#cb452-16" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb452-17"><a href="#cb452-17" tabindex="-1"></a>   <span class="fu">tab_header</span>(</span>
<span id="cb452-18"><a href="#cb452-18" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&#39;Penguins of the Palmer Archipelago&#39;</span>,</span>
<span id="cb452-19"><a href="#cb452-19" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&#39;Data is courtesy of the `palmerpenguins` R package by Allison Horst&#39;</span></span>
<span id="cb452-20"><a href="#cb452-20" tabindex="-1"></a>  ) </span></code></pre></div>
<div id="uluhbkpxqf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#uluhbkpxqf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#uluhbkpxqf thead, #uluhbkpxqf tbody, #uluhbkpxqf tfoot, #uluhbkpxqf tr, #uluhbkpxqf td, #uluhbkpxqf th {
  border-style: none;
}

#uluhbkpxqf p {
  margin: 0;
  padding: 0;
}

#uluhbkpxqf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#uluhbkpxqf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#uluhbkpxqf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#uluhbkpxqf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#uluhbkpxqf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#uluhbkpxqf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uluhbkpxqf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#uluhbkpxqf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#uluhbkpxqf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#uluhbkpxqf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#uluhbkpxqf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#uluhbkpxqf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#uluhbkpxqf .gt_spanner_row {
  border-bottom-style: hidden;
}

#uluhbkpxqf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#uluhbkpxqf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#uluhbkpxqf .gt_from_md > :first-child {
  margin-top: 0;
}

#uluhbkpxqf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#uluhbkpxqf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#uluhbkpxqf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#uluhbkpxqf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#uluhbkpxqf .gt_row_group_first td {
  border-top-width: 2px;
}

#uluhbkpxqf .gt_row_group_first th {
  border-top-width: 2px;
}

#uluhbkpxqf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#uluhbkpxqf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#uluhbkpxqf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#uluhbkpxqf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uluhbkpxqf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#uluhbkpxqf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#uluhbkpxqf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#uluhbkpxqf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#uluhbkpxqf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uluhbkpxqf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#uluhbkpxqf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#uluhbkpxqf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#uluhbkpxqf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#uluhbkpxqf .gt_left {
  text-align: left;
}

#uluhbkpxqf .gt_center {
  text-align: center;
}

#uluhbkpxqf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#uluhbkpxqf .gt_font_normal {
  font-weight: normal;
}

#uluhbkpxqf .gt_font_bold {
  font-weight: bold;
}

#uluhbkpxqf .gt_font_italic {
  font-style: italic;
}

#uluhbkpxqf .gt_super {
  font-size: 65%;
}

#uluhbkpxqf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#uluhbkpxqf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#uluhbkpxqf .gt_indent_1 {
  text-indent: 5px;
}

#uluhbkpxqf .gt_indent_2 {
  text-indent: 10px;
}

#uluhbkpxqf .gt_indent_3 {
  text-indent: 15px;
}

#uluhbkpxqf .gt_indent_4 {
  text-indent: 20px;
}

#uluhbkpxqf .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="8" class="gt_heading gt_title gt_font_normal" style>Penguins of the Palmer Archipelago</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="8" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Data is courtesy of the `palmerpenguins` R package by Allison Horst</td>
    </tr>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="Island">Island</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="2" colspan="1" scope="col" id="Year">Year</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">5</td>
<td headers="Adelie_male" class="gt_row gt_right">5</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">9</td>
<td headers="Adelie_male" class="gt_row gt_right">9</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">22</td>
<td headers="Gentoo_male" class="gt_row gt_right">23</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">9</td>
<td headers="Adelie_male" class="gt_row gt_right">10</td>
<td headers="Chinstrap_female" class="gt_row gt_right">13</td>
<td headers="Chinstrap_male" class="gt_row gt_right">13</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">10</td>
<td headers="Adelie_male" class="gt_row gt_right">10</td>
<td headers="Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">7</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
  </tbody>
  
  
</table>
</div>
<p>We could if we wanted wrap this into a simple function - as the headers and titles will not change across this tutorial:</p>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb453-1"><a href="#cb453-1" tabindex="-1"></a>labels_and_title <span class="ot">&lt;-</span> <span class="cf">function</span>(gt_tbl){</span>
<span id="cb453-2"><a href="#cb453-2" tabindex="-1"></a> gt_tbl <span class="sc">|&gt;</span> </span>
<span id="cb453-3"><a href="#cb453-3" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb453-4"><a href="#cb453-4" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">md</span>(<span class="st">&#39;**Adelie**&#39;</span>),</span>
<span id="cb453-5"><a href="#cb453-5" tabindex="-1"></a>    <span class="at">columns =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb453-6"><a href="#cb453-6" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb453-7"><a href="#cb453-7" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb453-8"><a href="#cb453-8" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">md</span>(<span class="st">&#39;**Chinstrap**&#39;</span>),</span>
<span id="cb453-9"><a href="#cb453-9" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(<span class="st">&#39;Chinstrap_female&#39;</span>, <span class="st">&#39;Chinstrap_male&#39;</span>)</span>
<span id="cb453-10"><a href="#cb453-10" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb453-11"><a href="#cb453-11" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb453-12"><a href="#cb453-12" tabindex="-1"></a>    <span class="at">label =</span>  <span class="fu">md</span>(<span class="st">&#39;**Gentoo**&#39;</span>),</span>
<span id="cb453-13"><a href="#cb453-13" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">contains</span>(<span class="st">&#39;Gentoo&#39;</span>)</span>
<span id="cb453-14"><a href="#cb453-14" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb453-15"><a href="#cb453-15" tabindex="-1"></a>   <span class="fu">tab_header</span>(</span>
<span id="cb453-16"><a href="#cb453-16" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&#39;Penguins of the Palmer Archipelago&#39;</span>,</span>
<span id="cb453-17"><a href="#cb453-17" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&#39;Data is courtesy of the `palmerpenguins` R package by Allison Horst&#39;</span></span>
<span id="cb453-18"><a href="#cb453-18" tabindex="-1"></a>  )</span>
<span id="cb453-19"><a href="#cb453-19" tabindex="-1"></a>}</span>
<span id="cb453-20"><a href="#cb453-20" tabindex="-1"></a></span>
<span id="cb453-21"><a href="#cb453-21" tabindex="-1"></a><span class="co"># This produces the same output</span></span>
<span id="cb453-22"><a href="#cb453-22" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb453-23"><a href="#cb453-23" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb453-24"><a href="#cb453-24" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">.list =</span> desired_colnames)  <span class="sc">|&gt;</span> </span>
<span id="cb453-25"><a href="#cb453-25" tabindex="-1"></a>  <span class="fu">labels_and_title</span>() </span></code></pre></div>
<div id="ntmkfidydp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ntmkfidydp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ntmkfidydp thead, #ntmkfidydp tbody, #ntmkfidydp tfoot, #ntmkfidydp tr, #ntmkfidydp td, #ntmkfidydp th {
  border-style: none;
}

#ntmkfidydp p {
  margin: 0;
  padding: 0;
}

#ntmkfidydp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ntmkfidydp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ntmkfidydp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ntmkfidydp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ntmkfidydp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ntmkfidydp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ntmkfidydp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ntmkfidydp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ntmkfidydp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ntmkfidydp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ntmkfidydp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ntmkfidydp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ntmkfidydp .gt_spanner_row {
  border-bottom-style: hidden;
}

#ntmkfidydp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ntmkfidydp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ntmkfidydp .gt_from_md > :first-child {
  margin-top: 0;
}

#ntmkfidydp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ntmkfidydp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ntmkfidydp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ntmkfidydp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ntmkfidydp .gt_row_group_first td {
  border-top-width: 2px;
}

#ntmkfidydp .gt_row_group_first th {
  border-top-width: 2px;
}

#ntmkfidydp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ntmkfidydp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ntmkfidydp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ntmkfidydp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ntmkfidydp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ntmkfidydp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ntmkfidydp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ntmkfidydp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ntmkfidydp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ntmkfidydp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ntmkfidydp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ntmkfidydp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ntmkfidydp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ntmkfidydp .gt_left {
  text-align: left;
}

#ntmkfidydp .gt_center {
  text-align: center;
}

#ntmkfidydp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ntmkfidydp .gt_font_normal {
  font-weight: normal;
}

#ntmkfidydp .gt_font_bold {
  font-weight: bold;
}

#ntmkfidydp .gt_font_italic {
  font-style: italic;
}

#ntmkfidydp .gt_super {
  font-size: 65%;
}

#ntmkfidydp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ntmkfidydp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ntmkfidydp .gt_indent_1 {
  text-indent: 5px;
}

#ntmkfidydp .gt_indent_2 {
  text-indent: 10px;
}

#ntmkfidydp .gt_indent_3 {
  text-indent: 15px;
}

#ntmkfidydp .gt_indent_4 {
  text-indent: 20px;
}

#ntmkfidydp .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="8" class="gt_heading gt_title gt_font_normal" style>Penguins of the Palmer Archipelago</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="8" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Data is courtesy of the `palmerpenguins` R package by Allison Horst</td>
    </tr>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="Island">Island</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="2" colspan="1" scope="col" id="Year">Year</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">5</td>
<td headers="Adelie_male" class="gt_row gt_right">5</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">9</td>
<td headers="Adelie_male" class="gt_row gt_right">9</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">22</td>
<td headers="Gentoo_male" class="gt_row gt_right">23</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Biscoe</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">9</td>
<td headers="Adelie_male" class="gt_row gt_right">10</td>
<td headers="Chinstrap_female" class="gt_row gt_right">13</td>
<td headers="Chinstrap_male" class="gt_row gt_right">13</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Dream</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">10</td>
<td headers="Adelie_male" class="gt_row gt_right">10</td>
<td headers="Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">7</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_center">Torgersen</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<div id="alignment" class="section level3" number="26.0.3">
<h3><span class="header-section-number">26.0.3</span> Alignment</h3>
<p>the gt() function aligns the columns differently based on the data types present in the corresponding data frame or tibble. This is because different data types are typically formatted and aligned differently to improve the visual representation of the table. Here's why these default alignments make sense:</p>
<ul>
<li><p>Numbers to the Right: Numeric values, such as counts, are usually aligned to the right because this aligns the decimal points and makes it easier to compare and perform calculations with numbers. It also allows for neat alignment of digits, which is particularly important when working with large datasets.</p></li>
<li><p>Text to the Left: Text data, like character vectors, is aligned to the left by default. This is because text doesn't have decimal points or numeric values to compare, and left-aligning text provides a clean and uniform appearance. It makes the start of the text easily scannable and helps maintain readability, even for lengthy text entries.</p></li>
<li><p>Center Alignment for Factors: Factors (categorical data) are aligned to the center by default. This is a compromise between left and right alignment. While the factor's entries are characters, they represent categories and are often used for grouping or sorting. Center alignment ensures that the category labels are visually centered in the available space, making it easier to identify the category while maintaining a visually appealing table.</p></li>
</ul>
<p>These default alignments are well-established conventions in table formatting and help readers quickly interpret and work with tabular data. They follow a balance between readability, aesthetics, and the nature of the data being presented.</p>
<p>Island is currently coded as a factor, we could recoded this in our data, or we can use the <code>cols_align()</code> layer:</p>
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb454-1"><a href="#cb454-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb454-2"><a href="#cb454-2" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb454-3"><a href="#cb454-3" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">.list =</span> desired_colnames) <span class="sc">|&gt;</span> </span>
<span id="cb454-4"><a href="#cb454-4" tabindex="-1"></a>  <span class="fu">labels_and_title</span>()  <span class="sc">|&gt;</span> </span>
<span id="cb454-5"><a href="#cb454-5" tabindex="-1"></a>  <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">&#39;right&#39;</span>, <span class="at">columns =</span> <span class="st">&#39;year&#39;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb454-6"><a href="#cb454-6" tabindex="-1"></a>  <span class="fu">cols_align</span>(</span>
<span id="cb454-7"><a href="#cb454-7" tabindex="-1"></a>    <span class="at">align =</span> <span class="st">&#39;left&#39;</span>, </span>
<span id="cb454-8"><a href="#cb454-8" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">where</span>(is.factor)</span>
<span id="cb454-9"><a href="#cb454-9" tabindex="-1"></a>  )</span></code></pre></div>
<div id="exbfgwdkfz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#exbfgwdkfz table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#exbfgwdkfz thead, #exbfgwdkfz tbody, #exbfgwdkfz tfoot, #exbfgwdkfz tr, #exbfgwdkfz td, #exbfgwdkfz th {
  border-style: none;
}

#exbfgwdkfz p {
  margin: 0;
  padding: 0;
}

#exbfgwdkfz .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#exbfgwdkfz .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#exbfgwdkfz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#exbfgwdkfz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#exbfgwdkfz .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#exbfgwdkfz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#exbfgwdkfz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#exbfgwdkfz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#exbfgwdkfz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#exbfgwdkfz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#exbfgwdkfz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#exbfgwdkfz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#exbfgwdkfz .gt_spanner_row {
  border-bottom-style: hidden;
}

#exbfgwdkfz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#exbfgwdkfz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#exbfgwdkfz .gt_from_md > :first-child {
  margin-top: 0;
}

#exbfgwdkfz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#exbfgwdkfz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#exbfgwdkfz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#exbfgwdkfz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#exbfgwdkfz .gt_row_group_first td {
  border-top-width: 2px;
}

#exbfgwdkfz .gt_row_group_first th {
  border-top-width: 2px;
}

#exbfgwdkfz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#exbfgwdkfz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#exbfgwdkfz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#exbfgwdkfz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#exbfgwdkfz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#exbfgwdkfz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#exbfgwdkfz .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#exbfgwdkfz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#exbfgwdkfz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#exbfgwdkfz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#exbfgwdkfz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#exbfgwdkfz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#exbfgwdkfz .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#exbfgwdkfz .gt_left {
  text-align: left;
}

#exbfgwdkfz .gt_center {
  text-align: center;
}

#exbfgwdkfz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#exbfgwdkfz .gt_font_normal {
  font-weight: normal;
}

#exbfgwdkfz .gt_font_bold {
  font-weight: bold;
}

#exbfgwdkfz .gt_font_italic {
  font-style: italic;
}

#exbfgwdkfz .gt_super {
  font-size: 65%;
}

#exbfgwdkfz .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#exbfgwdkfz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#exbfgwdkfz .gt_indent_1 {
  text-indent: 5px;
}

#exbfgwdkfz .gt_indent_2 {
  text-indent: 10px;
}

#exbfgwdkfz .gt_indent_3 {
  text-indent: 15px;
}

#exbfgwdkfz .gt_indent_4 {
  text-indent: 20px;
}

#exbfgwdkfz .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="8" class="gt_heading gt_title gt_font_normal" style>Penguins of the Palmer Archipelago</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="8" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Data is courtesy of the `palmerpenguins` R package by Allison Horst</td>
    </tr>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id="Island">Island</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="2" colspan="1" scope="col" id="Year">Year</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="island" class="gt_row gt_left">Biscoe</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">5</td>
<td headers="Adelie_male" class="gt_row gt_right">5</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><td headers="island" class="gt_row gt_left">Biscoe</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">9</td>
<td headers="Adelie_male" class="gt_row gt_right">9</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">22</td>
<td headers="Gentoo_male" class="gt_row gt_right">23</td></tr>
    <tr><td headers="island" class="gt_row gt_left">Biscoe</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr><td headers="island" class="gt_row gt_left">Dream</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">9</td>
<td headers="Adelie_male" class="gt_row gt_right">10</td>
<td headers="Chinstrap_female" class="gt_row gt_right">13</td>
<td headers="Chinstrap_male" class="gt_row gt_right">13</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_left">Dream</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_left">Dream</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">10</td>
<td headers="Adelie_male" class="gt_row gt_right">10</td>
<td headers="Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_left">Torgersen</td>
<td headers="year" class="gt_row gt_right">2007</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">7</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_left">Torgersen</td>
<td headers="year" class="gt_row gt_right">2008</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><td headers="island" class="gt_row gt_left">Torgersen</td>
<td headers="year" class="gt_row gt_right">2009</td>
<td headers="Adelie_female" class="gt_row gt_right">8</td>
<td headers="Adelie_male" class="gt_row gt_right">8</td>
<td headers="Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Gentoo_male" class="gt_row gt_right">0</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<div id="avoid-repetitive-information" class="section level3" number="26.0.4">
<h3><span class="header-section-number">26.0.4</span> Avoid repetitive information</h3>
<p>Removing repetitive columns and using additional rows to group data can indeed enhance the readability of a table. In the context of the <code>gt</code> package, achieving this is straightforward. Here's how you can do it:</p>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb455-1"><a href="#cb455-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb455-2"><a href="#cb455-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb455-3"><a href="#cb455-3" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">as.character</span>(island), </span>
<span id="cb455-4"><a href="#cb455-4" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">as.numeric</span>(year)</span>
<span id="cb455-5"><a href="#cb455-5" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb455-6"><a href="#cb455-6" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">groupname_col =</span> <span class="st">&#39;island&#39;</span>, <span class="at">rowname_col =</span> <span class="st">&#39;year&#39;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb455-7"><a href="#cb455-7" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">.list =</span> desired_colnames) <span class="sc">|&gt;</span> </span>
<span id="cb455-8"><a href="#cb455-8" tabindex="-1"></a>  <span class="fu">labels_and_title</span>()  </span></code></pre></div>
<div id="fpludfhnsg" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#fpludfhnsg table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#fpludfhnsg thead, #fpludfhnsg tbody, #fpludfhnsg tfoot, #fpludfhnsg tr, #fpludfhnsg td, #fpludfhnsg th {
  border-style: none;
}

#fpludfhnsg p {
  margin: 0;
  padding: 0;
}

#fpludfhnsg .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fpludfhnsg .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#fpludfhnsg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fpludfhnsg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fpludfhnsg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fpludfhnsg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fpludfhnsg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fpludfhnsg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fpludfhnsg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fpludfhnsg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fpludfhnsg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fpludfhnsg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fpludfhnsg .gt_spanner_row {
  border-bottom-style: hidden;
}

#fpludfhnsg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#fpludfhnsg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fpludfhnsg .gt_from_md > :first-child {
  margin-top: 0;
}

#fpludfhnsg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fpludfhnsg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fpludfhnsg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#fpludfhnsg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#fpludfhnsg .gt_row_group_first td {
  border-top-width: 2px;
}

#fpludfhnsg .gt_row_group_first th {
  border-top-width: 2px;
}

#fpludfhnsg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fpludfhnsg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#fpludfhnsg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#fpludfhnsg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fpludfhnsg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fpludfhnsg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fpludfhnsg .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#fpludfhnsg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fpludfhnsg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fpludfhnsg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fpludfhnsg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fpludfhnsg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fpludfhnsg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fpludfhnsg .gt_left {
  text-align: left;
}

#fpludfhnsg .gt_center {
  text-align: center;
}

#fpludfhnsg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fpludfhnsg .gt_font_normal {
  font-weight: normal;
}

#fpludfhnsg .gt_font_bold {
  font-weight: bold;
}

#fpludfhnsg .gt_font_italic {
  font-style: italic;
}

#fpludfhnsg .gt_super {
  font-size: 65%;
}

#fpludfhnsg .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#fpludfhnsg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#fpludfhnsg .gt_indent_1 {
  text-indent: 5px;
}

#fpludfhnsg .gt_indent_2 {
  text-indent: 10px;
}

#fpludfhnsg .gt_indent_3 {
  text-indent: 15px;
}

#fpludfhnsg .gt_indent_4 {
  text-indent: 20px;
}

#fpludfhnsg .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style>Penguins of the Palmer Archipelago</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Data is courtesy of the `palmerpenguins` R package by Allison Horst</td>
    </tr>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id=""></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Biscoe">Biscoe</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_1" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Biscoe stub_1_1 Adelie_female" class="gt_row gt_right">5</td>
<td headers="Biscoe stub_1_1 Adelie_male" class="gt_row gt_right">5</td>
<td headers="Biscoe stub_1_1 Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Biscoe stub_1_1 Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Biscoe stub_1_1 Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Biscoe stub_1_1 Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Biscoe stub_1_2 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Biscoe stub_1_2 Adelie_male" class="gt_row gt_right">9</td>
<td headers="Biscoe stub_1_2 Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Biscoe stub_1_2 Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Biscoe stub_1_2 Gentoo_female" class="gt_row gt_right">22</td>
<td headers="Biscoe stub_1_2 Gentoo_male" class="gt_row gt_right">23</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Biscoe stub_1_3 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Biscoe stub_1_3 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Biscoe stub_1_3 Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Biscoe stub_1_3 Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Biscoe stub_1_3 Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Biscoe stub_1_3 Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Dream">Dream</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_4" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Dream stub_1_4 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Dream stub_1_4 Adelie_male" class="gt_row gt_right">10</td>
<td headers="Dream stub_1_4 Chinstrap_female" class="gt_row gt_right">13</td>
<td headers="Dream stub_1_4 Chinstrap_male" class="gt_row gt_right">13</td>
<td headers="Dream stub_1_4 Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Dream stub_1_4 Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Dream stub_1_5 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Dream stub_1_5 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Dream stub_1_5 Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Dream stub_1_5 Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Dream stub_1_5 Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Dream stub_1_5 Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Dream stub_1_6 Adelie_female" class="gt_row gt_right">10</td>
<td headers="Dream stub_1_6 Adelie_male" class="gt_row gt_right">10</td>
<td headers="Dream stub_1_6 Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Dream stub_1_6 Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Dream stub_1_6 Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Dream stub_1_6 Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Torgersen">Torgersen</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_7" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Torgersen stub_1_7 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Torgersen stub_1_7 Adelie_male" class="gt_row gt_right">7</td>
<td headers="Torgersen stub_1_7 Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Torgersen stub_1_7 Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Torgersen stub_1_7 Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Torgersen stub_1_7 Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Torgersen stub_1_8 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Torgersen stub_1_8 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Torgersen stub_1_8 Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Torgersen stub_1_8 Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Torgersen stub_1_8 Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Torgersen stub_1_8 Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Torgersen stub_1_9 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Torgersen stub_1_9 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Torgersen stub_1_9 Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Torgersen stub_1_9 Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Torgersen stub_1_9 Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Torgersen stub_1_9 Gentoo_male" class="gt_row gt_right">0</td></tr>
  </tbody>
  
  
</table>
</div>
<p>But an island label could be nice. The easiest way to add that to the group names is via string manipulation before gt() is called.</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb456-1"><a href="#cb456-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb456-2"><a href="#cb456-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb456-3"><a href="#cb456-3" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">as.character</span>(island), </span>
<span id="cb456-4"><a href="#cb456-4" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">as.numeric</span>(year),</span>
<span id="cb456-5"><a href="#cb456-5" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">paste0</span>(<span class="st">&#39;Island: &#39;</span>, island)</span>
<span id="cb456-6"><a href="#cb456-6" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb456-7"><a href="#cb456-7" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">groupname_col =</span> <span class="st">&#39;island&#39;</span>, <span class="at">rowname_col =</span> <span class="st">&#39;year&#39;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb456-8"><a href="#cb456-8" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">.list =</span> desired_colnames) <span class="sc">|&gt;</span> </span>
<span id="cb456-9"><a href="#cb456-9" tabindex="-1"></a>  <span class="fu">labels_and_title</span>() </span></code></pre></div>
<div id="zyinyrziwx" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zyinyrziwx table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zyinyrziwx thead, #zyinyrziwx tbody, #zyinyrziwx tfoot, #zyinyrziwx tr, #zyinyrziwx td, #zyinyrziwx th {
  border-style: none;
}

#zyinyrziwx p {
  margin: 0;
  padding: 0;
}

#zyinyrziwx .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zyinyrziwx .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zyinyrziwx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zyinyrziwx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zyinyrziwx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zyinyrziwx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zyinyrziwx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zyinyrziwx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zyinyrziwx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zyinyrziwx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zyinyrziwx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zyinyrziwx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zyinyrziwx .gt_spanner_row {
  border-bottom-style: hidden;
}

#zyinyrziwx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zyinyrziwx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zyinyrziwx .gt_from_md > :first-child {
  margin-top: 0;
}

#zyinyrziwx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zyinyrziwx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zyinyrziwx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zyinyrziwx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zyinyrziwx .gt_row_group_first td {
  border-top-width: 2px;
}

#zyinyrziwx .gt_row_group_first th {
  border-top-width: 2px;
}

#zyinyrziwx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zyinyrziwx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zyinyrziwx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zyinyrziwx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zyinyrziwx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zyinyrziwx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zyinyrziwx .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zyinyrziwx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zyinyrziwx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zyinyrziwx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zyinyrziwx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zyinyrziwx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zyinyrziwx .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zyinyrziwx .gt_left {
  text-align: left;
}

#zyinyrziwx .gt_center {
  text-align: center;
}

#zyinyrziwx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zyinyrziwx .gt_font_normal {
  font-weight: normal;
}

#zyinyrziwx .gt_font_bold {
  font-weight: bold;
}

#zyinyrziwx .gt_font_italic {
  font-style: italic;
}

#zyinyrziwx .gt_super {
  font-size: 65%;
}

#zyinyrziwx .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zyinyrziwx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zyinyrziwx .gt_indent_1 {
  text-indent: 5px;
}

#zyinyrziwx .gt_indent_2 {
  text-indent: 10px;
}

#zyinyrziwx .gt_indent_3 {
  text-indent: 15px;
}

#zyinyrziwx .gt_indent_4 {
  text-indent: 20px;
}

#zyinyrziwx .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style>Penguins of the Palmer Archipelago</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Data is courtesy of the `palmerpenguins` R package by Allison Horst</td>
    </tr>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id=""></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Biscoe">Island: Biscoe</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_1" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Biscoe stub_1_1 Adelie_female" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Adelie_male" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Biscoe stub_1_2 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Island: Biscoe stub_1_2 Adelie_male" class="gt_row gt_right">9</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_female" class="gt_row gt_right">22</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_male" class="gt_row gt_right">23</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Biscoe stub_1_3 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Dream">Island: Dream</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_4" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Dream stub_1_4 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_4 Adelie_male" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_4 Chinstrap_female" class="gt_row gt_right">13</td>
<td headers="Island: Dream stub_1_4 Chinstrap_male" class="gt_row gt_right">13</td>
<td headers="Island: Dream stub_1_4 Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Island: Dream stub_1_4 Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Dream stub_1_5 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Island: Dream stub_1_5 Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Dream stub_1_6 Adelie_female" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_6 Adelie_male" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_6 Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Island: Dream stub_1_6 Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Island: Dream stub_1_6 Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Island: Dream stub_1_6 Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Torgersen">Island: Torgersen</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_7" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Torgersen stub_1_7 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_7 Adelie_male" class="gt_row gt_right">7</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Torgersen stub_1_8 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_8 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_male" class="gt_row gt_right">0</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Torgersen stub_1_9 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_female" class="gt_row gt_right">0</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_male" class="gt_row gt_right">0</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_female" class="gt_row gt_right">0</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_male" class="gt_row gt_right">0</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<div id="remove-missing-numbers" class="section level3" number="26.0.5">
<h3><span class="header-section-number">26.0.5</span> Remove missing numbers</h3>
<p>If we want to remove zeroes from our table, we could use <code>dplyr</code> functions</p>
<div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb457-1"><a href="#cb457-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb457-2"><a href="#cb457-2" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb457-3"><a href="#cb457-3" tabindex="-1"></a>        <span class="at">island =</span> <span class="fu">as.character</span>(island), </span>
<span id="cb457-4"><a href="#cb457-4" tabindex="-1"></a>        <span class="at">year =</span> <span class="fu">as.numeric</span>(year),</span>
<span id="cb457-5"><a href="#cb457-5" tabindex="-1"></a>        <span class="at">island =</span> <span class="fu">paste0</span>(<span class="st">&#39;Island: &#39;</span>, island)</span>
<span id="cb457-6"><a href="#cb457-6" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb457-7"><a href="#cb457-7" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="at">.cols =</span> <span class="fu">where</span>(is.integer), <span class="at">.fns =</span> <span class="sc">~</span><span class="fu">ifelse</span>(.x <span class="sc">&lt;=</span> <span class="dv">0</span>, <span class="st">&quot;-&quot;</span>, <span class="fu">as.character</span>(.) ))) <span class="sc">|&gt;</span> </span>
<span id="cb457-8"><a href="#cb457-8" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">groupname_col =</span> <span class="st">&#39;island&#39;</span>, <span class="at">rowname_col =</span> <span class="st">&#39;year&#39;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb457-9"><a href="#cb457-9" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">.list =</span> desired_colnames) <span class="sc">|&gt;</span> </span>
<span id="cb457-10"><a href="#cb457-10" tabindex="-1"></a>  <span class="fu">labels_and_title</span>() </span></code></pre></div>
<div id="zegybwtcvr" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zegybwtcvr table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zegybwtcvr thead, #zegybwtcvr tbody, #zegybwtcvr tfoot, #zegybwtcvr tr, #zegybwtcvr td, #zegybwtcvr th {
  border-style: none;
}

#zegybwtcvr p {
  margin: 0;
  padding: 0;
}

#zegybwtcvr .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zegybwtcvr .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zegybwtcvr .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zegybwtcvr .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zegybwtcvr .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zegybwtcvr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zegybwtcvr .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zegybwtcvr .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zegybwtcvr .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zegybwtcvr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zegybwtcvr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zegybwtcvr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zegybwtcvr .gt_spanner_row {
  border-bottom-style: hidden;
}

#zegybwtcvr .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zegybwtcvr .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zegybwtcvr .gt_from_md > :first-child {
  margin-top: 0;
}

#zegybwtcvr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zegybwtcvr .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zegybwtcvr .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zegybwtcvr .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zegybwtcvr .gt_row_group_first td {
  border-top-width: 2px;
}

#zegybwtcvr .gt_row_group_first th {
  border-top-width: 2px;
}

#zegybwtcvr .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zegybwtcvr .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zegybwtcvr .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zegybwtcvr .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zegybwtcvr .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zegybwtcvr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zegybwtcvr .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zegybwtcvr .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zegybwtcvr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zegybwtcvr .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zegybwtcvr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zegybwtcvr .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zegybwtcvr .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zegybwtcvr .gt_left {
  text-align: left;
}

#zegybwtcvr .gt_center {
  text-align: center;
}

#zegybwtcvr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zegybwtcvr .gt_font_normal {
  font-weight: normal;
}

#zegybwtcvr .gt_font_bold {
  font-weight: bold;
}

#zegybwtcvr .gt_font_italic {
  font-style: italic;
}

#zegybwtcvr .gt_super {
  font-size: 65%;
}

#zegybwtcvr .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zegybwtcvr .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zegybwtcvr .gt_indent_1 {
  text-indent: 5px;
}

#zegybwtcvr .gt_indent_2 {
  text-indent: 10px;
}

#zegybwtcvr .gt_indent_3 {
  text-indent: 15px;
}

#zegybwtcvr .gt_indent_4 {
  text-indent: 20px;
}

#zegybwtcvr .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style>Penguins of the Palmer Archipelago</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Data is courtesy of the `palmerpenguins` R package by Allison Horst</td>
    </tr>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id=""></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Biscoe">Island: Biscoe</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_1" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Biscoe stub_1_1 Adelie_female" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Adelie_male" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Biscoe stub_1_2 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Island: Biscoe stub_1_2 Adelie_male" class="gt_row gt_right">9</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_female" class="gt_row gt_right">22</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_male" class="gt_row gt_right">23</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Biscoe stub_1_3 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Dream">Island: Dream</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_4" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Dream stub_1_4 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_4 Adelie_male" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_4 Chinstrap_female" class="gt_row gt_right">13</td>
<td headers="Island: Dream stub_1_4 Chinstrap_male" class="gt_row gt_right">13</td>
<td headers="Island: Dream stub_1_4 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_4 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Dream stub_1_5 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_5 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Dream stub_1_6 Adelie_female" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_6 Adelie_male" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_6 Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Island: Dream stub_1_6 Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Island: Dream stub_1_6 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_6 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Torgersen">Island: Torgersen</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_7" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Torgersen stub_1_7 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_7 Adelie_male" class="gt_row gt_right">7</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Torgersen stub_1_8 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_8 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Torgersen stub_1_9 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_male" class="gt_row gt_right">-</td></tr>
  </tbody>
  
  
</table>
</div>
<p>Or we can accomplish the same thing by adding a <code>sub_zero()</code> layer</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb458-1"><a href="#cb458-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb458-2"><a href="#cb458-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb458-3"><a href="#cb458-3" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">as.character</span>(island), </span>
<span id="cb458-4"><a href="#cb458-4" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">as.numeric</span>(year),</span>
<span id="cb458-5"><a href="#cb458-5" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">paste0</span>(<span class="st">&#39;Island: &#39;</span>, island)</span>
<span id="cb458-6"><a href="#cb458-6" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb458-7"><a href="#cb458-7" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">groupname_col =</span> <span class="st">&#39;island&#39;</span>, <span class="at">rowname_col =</span> <span class="st">&#39;year&#39;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb458-8"><a href="#cb458-8" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">.list =</span> desired_colnames) <span class="sc">|&gt;</span> </span>
<span id="cb458-9"><a href="#cb458-9" tabindex="-1"></a>  <span class="fu">labels_and_title</span>()  <span class="sc">|&gt;</span> </span>
<span id="cb458-10"><a href="#cb458-10" tabindex="-1"></a>  <span class="fu">sub_zero</span>(<span class="at">zero_text =</span> <span class="st">&#39;-&#39;</span>)</span></code></pre></div>
<div id="hvjhiihicw" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#hvjhiihicw table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#hvjhiihicw thead, #hvjhiihicw tbody, #hvjhiihicw tfoot, #hvjhiihicw tr, #hvjhiihicw td, #hvjhiihicw th {
  border-style: none;
}

#hvjhiihicw p {
  margin: 0;
  padding: 0;
}

#hvjhiihicw .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hvjhiihicw .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#hvjhiihicw .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hvjhiihicw .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hvjhiihicw .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hvjhiihicw .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hvjhiihicw .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hvjhiihicw .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hvjhiihicw .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hvjhiihicw .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hvjhiihicw .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hvjhiihicw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hvjhiihicw .gt_spanner_row {
  border-bottom-style: hidden;
}

#hvjhiihicw .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#hvjhiihicw .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hvjhiihicw .gt_from_md > :first-child {
  margin-top: 0;
}

#hvjhiihicw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hvjhiihicw .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hvjhiihicw .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hvjhiihicw .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hvjhiihicw .gt_row_group_first td {
  border-top-width: 2px;
}

#hvjhiihicw .gt_row_group_first th {
  border-top-width: 2px;
}

#hvjhiihicw .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hvjhiihicw .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hvjhiihicw .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hvjhiihicw .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hvjhiihicw .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hvjhiihicw .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hvjhiihicw .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#hvjhiihicw .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hvjhiihicw .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hvjhiihicw .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hvjhiihicw .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hvjhiihicw .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hvjhiihicw .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hvjhiihicw .gt_left {
  text-align: left;
}

#hvjhiihicw .gt_center {
  text-align: center;
}

#hvjhiihicw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hvjhiihicw .gt_font_normal {
  font-weight: normal;
}

#hvjhiihicw .gt_font_bold {
  font-weight: bold;
}

#hvjhiihicw .gt_font_italic {
  font-style: italic;
}

#hvjhiihicw .gt_super {
  font-size: 65%;
}

#hvjhiihicw .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#hvjhiihicw .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hvjhiihicw .gt_indent_1 {
  text-indent: 5px;
}

#hvjhiihicw .gt_indent_2 {
  text-indent: 10px;
}

#hvjhiihicw .gt_indent_3 {
  text-indent: 15px;
}

#hvjhiihicw .gt_indent_4 {
  text-indent: 20px;
}

#hvjhiihicw .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style>Penguins of the Palmer Archipelago</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Data is courtesy of the `palmerpenguins` R package by Allison Horst</td>
    </tr>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id=""></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Biscoe">Island: Biscoe</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_1" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Biscoe stub_1_1 Adelie_female" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Adelie_male" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Biscoe stub_1_2 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Island: Biscoe stub_1_2 Adelie_male" class="gt_row gt_right">9</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_female" class="gt_row gt_right">22</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_male" class="gt_row gt_right">23</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Biscoe stub_1_3 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Dream">Island: Dream</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_4" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Dream stub_1_4 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_4 Adelie_male" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_4 Chinstrap_female" class="gt_row gt_right">13</td>
<td headers="Island: Dream stub_1_4 Chinstrap_male" class="gt_row gt_right">13</td>
<td headers="Island: Dream stub_1_4 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_4 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Dream stub_1_5 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_5 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Dream stub_1_6 Adelie_female" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_6 Adelie_male" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_6 Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Island: Dream stub_1_6 Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Island: Dream stub_1_6 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_6 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Torgersen">Island: Torgersen</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_7" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Torgersen stub_1_7 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_7 Adelie_male" class="gt_row gt_right">7</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Torgersen stub_1_8 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_8 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Torgersen stub_1_9 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_male" class="gt_row gt_right">-</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<div id="add-summaries" class="section level3" number="26.0.6">
<h3><span class="header-section-number">26.0.6</span> Add summaries</h3>
<p>If we think it is necessary we could even add some summaries to the tables with <code>summary_rows()</code></p>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb459-1"><a href="#cb459-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb459-2"><a href="#cb459-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb459-3"><a href="#cb459-3" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">as.character</span>(island), </span>
<span id="cb459-4"><a href="#cb459-4" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">as.numeric</span>(year),</span>
<span id="cb459-5"><a href="#cb459-5" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">paste0</span>(<span class="st">&#39;Island: &#39;</span>, island)</span>
<span id="cb459-6"><a href="#cb459-6" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb459-7"><a href="#cb459-7" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">groupname_col =</span> <span class="st">&#39;island&#39;</span>, <span class="at">rowname_col =</span> <span class="st">&#39;year&#39;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb459-8"><a href="#cb459-8" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">.list =</span> desired_colnames) <span class="sc">|&gt;</span> </span>
<span id="cb459-9"><a href="#cb459-9" tabindex="-1"></a>  <span class="fu">labels_and_title</span>()  <span class="sc">|&gt;</span> </span>
<span id="cb459-10"><a href="#cb459-10" tabindex="-1"></a>  <span class="fu">sub_zero</span>(<span class="at">zero_text =</span> <span class="st">&#39;-&#39;</span>)<span class="sc">|&gt;</span></span>
<span id="cb459-11"><a href="#cb459-11" tabindex="-1"></a>   <span class="fu">summary_rows</span>(</span>
<span id="cb459-12"><a href="#cb459-12" tabindex="-1"></a>    <span class="at">groups =</span> <span class="fu">everything</span>(),</span>
<span id="cb459-13"><a href="#cb459-13" tabindex="-1"></a>    <span class="at">fns =</span> <span class="fu">list</span>(</span>
<span id="cb459-14"><a href="#cb459-14" tabindex="-1"></a>      <span class="st">&quot;Mean&quot;</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">mean</span>(., <span class="at">na.rm =</span> T),</span>
<span id="cb459-15"><a href="#cb459-15" tabindex="-1"></a>      <span class="st">&quot;Total&quot;</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">sum</span>(., <span class="at">na.rm =</span> T)</span>
<span id="cb459-16"><a href="#cb459-16" tabindex="-1"></a>    ),</span>
<span id="cb459-17"><a href="#cb459-17" tabindex="-1"></a>    <span class="at">formatter =</span> fmt_number,</span>
<span id="cb459-18"><a href="#cb459-18" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">0</span></span>
<span id="cb459-19"><a href="#cb459-19" tabindex="-1"></a>  )</span></code></pre></div>
<div id="xpclqzzkes" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#xpclqzzkes table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#xpclqzzkes thead, #xpclqzzkes tbody, #xpclqzzkes tfoot, #xpclqzzkes tr, #xpclqzzkes td, #xpclqzzkes th {
  border-style: none;
}

#xpclqzzkes p {
  margin: 0;
  padding: 0;
}

#xpclqzzkes .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xpclqzzkes .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#xpclqzzkes .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xpclqzzkes .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xpclqzzkes .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xpclqzzkes .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xpclqzzkes .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xpclqzzkes .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xpclqzzkes .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xpclqzzkes .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xpclqzzkes .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xpclqzzkes .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xpclqzzkes .gt_spanner_row {
  border-bottom-style: hidden;
}

#xpclqzzkes .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#xpclqzzkes .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xpclqzzkes .gt_from_md > :first-child {
  margin-top: 0;
}

#xpclqzzkes .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xpclqzzkes .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xpclqzzkes .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#xpclqzzkes .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#xpclqzzkes .gt_row_group_first td {
  border-top-width: 2px;
}

#xpclqzzkes .gt_row_group_first th {
  border-top-width: 2px;
}

#xpclqzzkes .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xpclqzzkes .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#xpclqzzkes .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#xpclqzzkes .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xpclqzzkes .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xpclqzzkes .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xpclqzzkes .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#xpclqzzkes .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xpclqzzkes .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xpclqzzkes .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xpclqzzkes .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xpclqzzkes .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xpclqzzkes .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xpclqzzkes .gt_left {
  text-align: left;
}

#xpclqzzkes .gt_center {
  text-align: center;
}

#xpclqzzkes .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xpclqzzkes .gt_font_normal {
  font-weight: normal;
}

#xpclqzzkes .gt_font_bold {
  font-weight: bold;
}

#xpclqzzkes .gt_font_italic {
  font-style: italic;
}

#xpclqzzkes .gt_super {
  font-size: 65%;
}

#xpclqzzkes .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#xpclqzzkes .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#xpclqzzkes .gt_indent_1 {
  text-indent: 5px;
}

#xpclqzzkes .gt_indent_2 {
  text-indent: 10px;
}

#xpclqzzkes .gt_indent_3 {
  text-indent: 15px;
}

#xpclqzzkes .gt_indent_4 {
  text-indent: 20px;
}

#xpclqzzkes .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style>Penguins of the Palmer Archipelago</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Data is courtesy of the `palmerpenguins` R package by Allison Horst</td>
    </tr>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id=""></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Biscoe">Island: Biscoe</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_1" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Biscoe stub_1_1 Adelie_female" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Adelie_male" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Biscoe stub_1_2 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Island: Biscoe stub_1_2 Adelie_male" class="gt_row gt_right">9</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_female" class="gt_row gt_right">22</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_male" class="gt_row gt_right">23</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Biscoe stub_1_3 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr><th id="summary_stub_Island: Biscoe_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">7</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">7</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">19</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">20</td></tr>
    <tr><th id="summary_stub_Island: Biscoe_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">22</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">22</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">58</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">61</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Dream">Island: Dream</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_4" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Dream stub_1_4 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_4 Adelie_male" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_4 Chinstrap_female" class="gt_row gt_right">13</td>
<td headers="Island: Dream stub_1_4 Chinstrap_male" class="gt_row gt_right">13</td>
<td headers="Island: Dream stub_1_4 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_4 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Dream stub_1_5 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_5 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Dream stub_1_6 Adelie_female" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_6 Adelie_male" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_6 Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Island: Dream stub_1_6 Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Island: Dream stub_1_6 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_6 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="summary_stub_Island: Dream_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Dream summary_stub_Island: Dream_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">9</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">9</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">11</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">11</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td></tr>
    <tr><th id="summary_stub_Island: Dream_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Dream summary_stub_Island: Dream_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">27</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">28</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">34</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">34</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Torgersen">Island: Torgersen</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_7" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Torgersen stub_1_7 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_7 Adelie_male" class="gt_row gt_right">7</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Torgersen stub_1_8 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_8 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Torgersen stub_1_9 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="summary_stub_Island: Torgersen_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">8</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">8</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td></tr>
    <tr><th id="summary_stub_Island: Torgersen_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">24</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">23</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<div id="stylise" class="section level3" number="26.0.7">
<h3><span class="header-section-number">26.0.7</span> Stylise</h3>
<p>With the additional information incorporated into the table, it has grown in length, which may not be ideal. To address this, we can make the table more concise by decreasing the row heights.</p>
<p>To achieve this, we can adjust the so-called <code>data_row.padding</code> to 2 pixels. You can accomplish this using the <code>tab_options()</code> function, which is a central layer for styling the table. Similarly, there are padding options available for summary_row and row_group. While we're at it, it's a good idea to enhance the table's appearance by applying a predefined theme using <code>opt_stylize()</code>.</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb460-1"><a href="#cb460-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb460-2"><a href="#cb460-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb460-3"><a href="#cb460-3" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">as.character</span>(island), </span>
<span id="cb460-4"><a href="#cb460-4" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">as.numeric</span>(year),</span>
<span id="cb460-5"><a href="#cb460-5" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">paste0</span>(<span class="st">&#39;Island: &#39;</span>, island)</span>
<span id="cb460-6"><a href="#cb460-6" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb460-7"><a href="#cb460-7" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">groupname_col =</span> <span class="st">&#39;island&#39;</span>, <span class="at">rowname_col =</span> <span class="st">&#39;year&#39;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb460-8"><a href="#cb460-8" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">.list =</span> desired_colnames) <span class="sc">|&gt;</span> </span>
<span id="cb460-9"><a href="#cb460-9" tabindex="-1"></a>  <span class="fu">labels_and_title</span>()  <span class="sc">|&gt;</span> </span>
<span id="cb460-10"><a href="#cb460-10" tabindex="-1"></a>  <span class="fu">sub_zero</span>(<span class="at">zero_text =</span> <span class="st">&#39;-&#39;</span>)<span class="sc">|&gt;</span></span>
<span id="cb460-11"><a href="#cb460-11" tabindex="-1"></a>   <span class="fu">summary_rows</span>(</span>
<span id="cb460-12"><a href="#cb460-12" tabindex="-1"></a>    <span class="at">groups =</span> <span class="fu">everything</span>(),</span>
<span id="cb460-13"><a href="#cb460-13" tabindex="-1"></a>    <span class="at">fns =</span> <span class="fu">list</span>(</span>
<span id="cb460-14"><a href="#cb460-14" tabindex="-1"></a>      <span class="st">&quot;Mean&quot;</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">mean</span>(., <span class="at">na.rm =</span> T),</span>
<span id="cb460-15"><a href="#cb460-15" tabindex="-1"></a>      <span class="st">&quot;Total&quot;</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">sum</span>(., <span class="at">na.rm =</span> T)</span>
<span id="cb460-16"><a href="#cb460-16" tabindex="-1"></a>    ),</span>
<span id="cb460-17"><a href="#cb460-17" tabindex="-1"></a>    <span class="at">formatter =</span> fmt_number,</span>
<span id="cb460-18"><a href="#cb460-18" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">0</span></span>
<span id="cb460-19"><a href="#cb460-19" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb460-20"><a href="#cb460-20" tabindex="-1"></a>    <span class="fu">tab_options</span>(</span>
<span id="cb460-21"><a href="#cb460-21" tabindex="-1"></a>    <span class="at">data_row.padding =</span> <span class="fu">px</span>(<span class="dv">2</span>),</span>
<span id="cb460-22"><a href="#cb460-22" tabindex="-1"></a>    <span class="at">summary_row.padding =</span> <span class="fu">px</span>(<span class="dv">3</span>), <span class="co"># A bit more padding for summaries</span></span>
<span id="cb460-23"><a href="#cb460-23" tabindex="-1"></a>    <span class="at">row_group.padding =</span> <span class="fu">px</span>(<span class="dv">4</span>)    <span class="co"># And even more for our groups</span></span>
<span id="cb460-24"><a href="#cb460-24" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb460-25"><a href="#cb460-25" tabindex="-1"></a>  <span class="fu">opt_stylize</span>(<span class="at">style =</span> <span class="dv">6</span>, <span class="at">color =</span> <span class="st">&#39;gray&#39;</span>)</span></code></pre></div>
<div id="foekzlywks" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#foekzlywks table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#foekzlywks thead, #foekzlywks tbody, #foekzlywks tfoot, #foekzlywks tr, #foekzlywks td, #foekzlywks th {
  border-style: none;
}

#foekzlywks p {
  margin: 0;
  padding: 0;
}

#foekzlywks .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #5F5F5F;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#foekzlywks .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#foekzlywks .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#foekzlywks .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#foekzlywks .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#foekzlywks .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
}

#foekzlywks .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #5F5F5F;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#foekzlywks .gt_col_heading {
  color: #FFFFFF;
  background-color: #5F5F5F;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#foekzlywks .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #5F5F5F;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#foekzlywks .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#foekzlywks .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#foekzlywks .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#foekzlywks .gt_spanner_row {
  border-bottom-style: hidden;
}

#foekzlywks .gt_group_heading {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #5F5F5F;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#foekzlywks .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #5F5F5F;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
  vertical-align: middle;
}

#foekzlywks .gt_from_md > :first-child {
  margin-top: 0;
}

#foekzlywks .gt_from_md > :last-child {
  margin-bottom: 0;
}

#foekzlywks .gt_row {
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: none;
  border-top-width: 1px;
  border-top-color: #D5D5D5;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D5D5D5;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D5D5D5;
  vertical-align: middle;
  overflow-x: hidden;
}

#foekzlywks .gt_stub {
  color: #333333;
  background-color: #D5D5D5;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D5D5D5;
  padding-left: 5px;
  padding-right: 5px;
}

#foekzlywks .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#foekzlywks .gt_row_group_first td {
  border-top-width: 2px;
}

#foekzlywks .gt_row_group_first th {
  border-top-width: 2px;
}

#foekzlywks .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
}

#foekzlywks .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #5F5F5F;
}

#foekzlywks .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#foekzlywks .gt_last_summary_row {
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
}

#foekzlywks .gt_grand_summary_row {
  color: #333333;
  background-color: #D5D5D5;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#foekzlywks .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #5F5F5F;
}

#foekzlywks .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #5F5F5F;
}

#foekzlywks .gt_striped {
  background-color: #F4F4F4;
}

#foekzlywks .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #5F5F5F;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
}

#foekzlywks .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#foekzlywks .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#foekzlywks .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#foekzlywks .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#foekzlywks .gt_left {
  text-align: left;
}

#foekzlywks .gt_center {
  text-align: center;
}

#foekzlywks .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#foekzlywks .gt_font_normal {
  font-weight: normal;
}

#foekzlywks .gt_font_bold {
  font-weight: bold;
}

#foekzlywks .gt_font_italic {
  font-style: italic;
}

#foekzlywks .gt_super {
  font-size: 65%;
}

#foekzlywks .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#foekzlywks .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#foekzlywks .gt_indent_1 {
  text-indent: 5px;
}

#foekzlywks .gt_indent_2 {
  text-indent: 10px;
}

#foekzlywks .gt_indent_3 {
  text-indent: 15px;
}

#foekzlywks .gt_indent_4 {
  text-indent: 20px;
}

#foekzlywks .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style>Penguins of the Palmer Archipelago</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Data is courtesy of the `palmerpenguins` R package by Allison Horst</td>
    </tr>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id=""></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Biscoe">Island: Biscoe</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_1" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Biscoe stub_1_1 Adelie_female" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Adelie_male" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Biscoe stub_1_2 Adelie_female" class="gt_row gt_right gt_striped">9</td>
<td headers="Island: Biscoe stub_1_2 Adelie_male" class="gt_row gt_right gt_striped">9</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_female" class="gt_row gt_right gt_striped">-</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_male" class="gt_row gt_right gt_striped">-</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_female" class="gt_row gt_right gt_striped">22</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_male" class="gt_row gt_right gt_striped">23</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Biscoe stub_1_3 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr><th id="summary_stub_Island: Biscoe_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">7</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">7</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">19</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">20</td></tr>
    <tr><th id="summary_stub_Island: Biscoe_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">22</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">22</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">58</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">61</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Dream">Island: Dream</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_4" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Dream stub_1_4 Adelie_female" class="gt_row gt_right gt_striped">9</td>
<td headers="Island: Dream stub_1_4 Adelie_male" class="gt_row gt_right gt_striped">10</td>
<td headers="Island: Dream stub_1_4 Chinstrap_female" class="gt_row gt_right gt_striped">13</td>
<td headers="Island: Dream stub_1_4 Chinstrap_male" class="gt_row gt_right gt_striped">13</td>
<td headers="Island: Dream stub_1_4 Gentoo_female" class="gt_row gt_right gt_striped">-</td>
<td headers="Island: Dream stub_1_4 Gentoo_male" class="gt_row gt_right gt_striped">-</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Dream stub_1_5 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_5 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Dream stub_1_6 Adelie_female" class="gt_row gt_right gt_striped">10</td>
<td headers="Island: Dream stub_1_6 Adelie_male" class="gt_row gt_right gt_striped">10</td>
<td headers="Island: Dream stub_1_6 Chinstrap_female" class="gt_row gt_right gt_striped">12</td>
<td headers="Island: Dream stub_1_6 Chinstrap_male" class="gt_row gt_right gt_striped">12</td>
<td headers="Island: Dream stub_1_6 Gentoo_female" class="gt_row gt_right gt_striped">-</td>
<td headers="Island: Dream stub_1_6 Gentoo_male" class="gt_row gt_right gt_striped">-</td></tr>
    <tr><th id="summary_stub_Island: Dream_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Dream summary_stub_Island: Dream_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">9</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">9</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">11</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">11</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td></tr>
    <tr><th id="summary_stub_Island: Dream_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Dream summary_stub_Island: Dream_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">27</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">28</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">34</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">34</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Torgersen">Island: Torgersen</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_7" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Torgersen stub_1_7 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_7 Adelie_male" class="gt_row gt_right">7</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Torgersen stub_1_8 Adelie_female" class="gt_row gt_right gt_striped">8</td>
<td headers="Island: Torgersen stub_1_8 Adelie_male" class="gt_row gt_right gt_striped">8</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_female" class="gt_row gt_right gt_striped">-</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_male" class="gt_row gt_right gt_striped">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_female" class="gt_row gt_right gt_striped">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_male" class="gt_row gt_right gt_striped">-</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Torgersen stub_1_9 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="summary_stub_Island: Torgersen_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">8</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">8</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">0</td></tr>
    <tr><th id="summary_stub_Island: Torgersen_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">24</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">23</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">0</td></tr>
  </tbody>
  
  
</table>
</div>
<p>To address the inconsistency in how zeroes are displayed in summary rows, we'll handle missing values more effectively. Instead of replacing all NAs with zeros, we'll let them remain as NAs and use <code>sub_missing()</code> to replace them with a hyphen '-'. In the <code>summary_rows()</code> function, we can then specify missing_text = "-"</p>
<p>Try and implement this, then check below the code fold for the answer</p>
<div id="qkazvpnpww" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#qkazvpnpww table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#qkazvpnpww thead, #qkazvpnpww tbody, #qkazvpnpww tfoot, #qkazvpnpww tr, #qkazvpnpww td, #qkazvpnpww th {
  border-style: none;
}

#qkazvpnpww p {
  margin: 0;
  padding: 0;
}

#qkazvpnpww .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #5F5F5F;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qkazvpnpww .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#qkazvpnpww .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qkazvpnpww .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qkazvpnpww .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qkazvpnpww .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
}

#qkazvpnpww .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #5F5F5F;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qkazvpnpww .gt_col_heading {
  color: #FFFFFF;
  background-color: #5F5F5F;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qkazvpnpww .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #5F5F5F;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qkazvpnpww .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qkazvpnpww .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qkazvpnpww .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qkazvpnpww .gt_spanner_row {
  border-bottom-style: hidden;
}

#qkazvpnpww .gt_group_heading {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #5F5F5F;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#qkazvpnpww .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #5F5F5F;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
  vertical-align: middle;
}

#qkazvpnpww .gt_from_md > :first-child {
  margin-top: 0;
}

#qkazvpnpww .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qkazvpnpww .gt_row {
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: none;
  border-top-width: 1px;
  border-top-color: #D5D5D5;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D5D5D5;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D5D5D5;
  vertical-align: middle;
  overflow-x: hidden;
}

#qkazvpnpww .gt_stub {
  color: #333333;
  background-color: #D5D5D5;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D5D5D5;
  padding-left: 5px;
  padding-right: 5px;
}

#qkazvpnpww .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#qkazvpnpww .gt_row_group_first td {
  border-top-width: 2px;
}

#qkazvpnpww .gt_row_group_first th {
  border-top-width: 2px;
}

#qkazvpnpww .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
}

#qkazvpnpww .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #5F5F5F;
}

#qkazvpnpww .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#qkazvpnpww .gt_last_summary_row {
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
}

#qkazvpnpww .gt_grand_summary_row {
  color: #333333;
  background-color: #D5D5D5;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qkazvpnpww .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #5F5F5F;
}

#qkazvpnpww .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #5F5F5F;
}

#qkazvpnpww .gt_striped {
  background-color: #F4F4F4;
}

#qkazvpnpww .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #5F5F5F;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #5F5F5F;
}

#qkazvpnpww .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qkazvpnpww .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qkazvpnpww .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qkazvpnpww .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qkazvpnpww .gt_left {
  text-align: left;
}

#qkazvpnpww .gt_center {
  text-align: center;
}

#qkazvpnpww .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qkazvpnpww .gt_font_normal {
  font-weight: normal;
}

#qkazvpnpww .gt_font_bold {
  font-weight: bold;
}

#qkazvpnpww .gt_font_italic {
  font-style: italic;
}

#qkazvpnpww .gt_super {
  font-size: 65%;
}

#qkazvpnpww .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#qkazvpnpww .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#qkazvpnpww .gt_indent_1 {
  text-indent: 5px;
}

#qkazvpnpww .gt_indent_2 {
  text-indent: 10px;
}

#qkazvpnpww .gt_indent_3 {
  text-indent: 15px;
}

#qkazvpnpww .gt_indent_4 {
  text-indent: 20px;
}

#qkazvpnpww .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style>Penguins of the Palmer Archipelago</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Data is courtesy of the `palmerpenguins` R package by Allison Horst</td>
    </tr>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id=""></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Biscoe">Island: Biscoe</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_1" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Biscoe stub_1_1 Adelie_female" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Adelie_male" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Biscoe stub_1_2 Adelie_female" class="gt_row gt_right gt_striped">9</td>
<td headers="Island: Biscoe stub_1_2 Adelie_male" class="gt_row gt_right gt_striped">9</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_female" class="gt_row gt_right gt_striped">-</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_male" class="gt_row gt_right gt_striped">-</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_female" class="gt_row gt_right gt_striped">22</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_male" class="gt_row gt_right gt_striped">23</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Biscoe stub_1_3 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr><th id="summary_stub_Island: Biscoe_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">7</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">7</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">19</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">20</td></tr>
    <tr><th id="summary_stub_Island: Biscoe_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">22</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">22</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">58</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">61</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Dream">Island: Dream</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_4" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Dream stub_1_4 Adelie_female" class="gt_row gt_right gt_striped">9</td>
<td headers="Island: Dream stub_1_4 Adelie_male" class="gt_row gt_right gt_striped">10</td>
<td headers="Island: Dream stub_1_4 Chinstrap_female" class="gt_row gt_right gt_striped">13</td>
<td headers="Island: Dream stub_1_4 Chinstrap_male" class="gt_row gt_right gt_striped">13</td>
<td headers="Island: Dream stub_1_4 Gentoo_female" class="gt_row gt_right gt_striped">-</td>
<td headers="Island: Dream stub_1_4 Gentoo_male" class="gt_row gt_right gt_striped">-</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Dream stub_1_5 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_5 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Dream stub_1_6 Adelie_female" class="gt_row gt_right gt_striped">10</td>
<td headers="Island: Dream stub_1_6 Adelie_male" class="gt_row gt_right gt_striped">10</td>
<td headers="Island: Dream stub_1_6 Chinstrap_female" class="gt_row gt_right gt_striped">12</td>
<td headers="Island: Dream stub_1_6 Chinstrap_male" class="gt_row gt_right gt_striped">12</td>
<td headers="Island: Dream stub_1_6 Gentoo_female" class="gt_row gt_right gt_striped">-</td>
<td headers="Island: Dream stub_1_6 Gentoo_male" class="gt_row gt_right gt_striped">-</td></tr>
    <tr><th id="summary_stub_Island: Dream_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Dream summary_stub_Island: Dream_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">9</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">9</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">11</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">11</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td></tr>
    <tr><th id="summary_stub_Island: Dream_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Dream summary_stub_Island: Dream_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">27</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">28</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">34</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">34</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Torgersen">Island: Torgersen</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_7" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Torgersen stub_1_7 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_7 Adelie_male" class="gt_row gt_right">7</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Torgersen stub_1_8 Adelie_female" class="gt_row gt_right gt_striped">8</td>
<td headers="Island: Torgersen stub_1_8 Adelie_male" class="gt_row gt_right gt_striped">8</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_female" class="gt_row gt_right gt_striped">-</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_male" class="gt_row gt_right gt_striped">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_female" class="gt_row gt_right gt_striped">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_male" class="gt_row gt_right gt_striped">-</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Torgersen stub_1_9 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="summary_stub_Island: Torgersen_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">8</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">8</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td></tr>
    <tr><th id="summary_stub_Island: Torgersen_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">24</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">23</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td></tr>
  </tbody>
  
  
</table>
</div>
<button id="displayTextunnamed-chunk-98" onclick="javascript:toggle(&#39;unnamed-chunk-98&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-98" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb461-1"><a href="#cb461-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb461-2"><a href="#cb461-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb461-3"><a href="#cb461-3" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">as.character</span>(island), </span>
<span id="cb461-4"><a href="#cb461-4" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">as.numeric</span>(year),</span>
<span id="cb461-5"><a href="#cb461-5" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">paste0</span>(<span class="st">&#39;Island: &#39;</span>, island)</span>
<span id="cb461-6"><a href="#cb461-6" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb461-7"><a href="#cb461-7" tabindex="-1"></a>  <span class="co"># mutate integers</span></span>
<span id="cb461-8"><a href="#cb461-8" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="at">.cols =</span> <span class="fu">where</span>(is.integer), <span class="at">.fns =</span> <span class="sc">~</span><span class="fu">ifelse</span>(.x <span class="sc">&lt;=</span> <span class="dv">0</span>, <span class="cn">NA</span>, . ))) <span class="sc">|&gt;</span> </span>
<span id="cb461-9"><a href="#cb461-9" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">groupname_col =</span> <span class="st">&#39;island&#39;</span>, <span class="at">rowname_col =</span> <span class="st">&#39;year&#39;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb461-10"><a href="#cb461-10" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">.list =</span> desired_colnames) <span class="sc">|&gt;</span> </span>
<span id="cb461-11"><a href="#cb461-11" tabindex="-1"></a>  <span class="fu">labels_and_title</span>()  <span class="sc">|&gt;</span> </span>
<span id="cb461-12"><a href="#cb461-12" tabindex="-1"></a>  <span class="co">#change function</span></span>
<span id="cb461-13"><a href="#cb461-13" tabindex="-1"></a>  <span class="fu">sub_missing</span>(<span class="at">missing_text =</span> <span class="st">&#39;-&#39;</span>)<span class="sc">|&gt;</span></span>
<span id="cb461-14"><a href="#cb461-14" tabindex="-1"></a>   <span class="fu">summary_rows</span>(</span>
<span id="cb461-15"><a href="#cb461-15" tabindex="-1"></a>    <span class="at">groups =</span> <span class="fu">everything</span>(),</span>
<span id="cb461-16"><a href="#cb461-16" tabindex="-1"></a>    <span class="at">fns =</span> <span class="fu">list</span>(</span>
<span id="cb461-17"><a href="#cb461-17" tabindex="-1"></a>      <span class="st">&quot;Mean&quot;</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">mean</span>(., <span class="at">na.rm =</span> T),</span>
<span id="cb461-18"><a href="#cb461-18" tabindex="-1"></a>      <span class="st">&quot;Total&quot;</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">sum</span>(.)</span>
<span id="cb461-19"><a href="#cb461-19" tabindex="-1"></a>    ),</span>
<span id="cb461-20"><a href="#cb461-20" tabindex="-1"></a>    <span class="at">formatter =</span> fmt_number,</span>
<span id="cb461-21"><a href="#cb461-21" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">0</span>,</span>
<span id="cb461-22"><a href="#cb461-22" tabindex="-1"></a>    <span class="co"># new option here</span></span>
<span id="cb461-23"><a href="#cb461-23" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">&quot;-&quot;</span></span>
<span id="cb461-24"><a href="#cb461-24" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb461-25"><a href="#cb461-25" tabindex="-1"></a>    <span class="fu">tab_options</span>(</span>
<span id="cb461-26"><a href="#cb461-26" tabindex="-1"></a>    <span class="at">data_row.padding =</span> <span class="fu">px</span>(<span class="dv">2</span>),</span>
<span id="cb461-27"><a href="#cb461-27" tabindex="-1"></a>    <span class="at">summary_row.padding =</span> <span class="fu">px</span>(<span class="dv">3</span>), </span>
<span id="cb461-28"><a href="#cb461-28" tabindex="-1"></a>    <span class="at">row_group.padding =</span> <span class="fu">px</span>(<span class="dv">4</span>)    </span>
<span id="cb461-29"><a href="#cb461-29" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb461-30"><a href="#cb461-30" tabindex="-1"></a>  <span class="fu">opt_stylize</span>(<span class="at">style =</span> <span class="dv">6</span>, <span class="at">color =</span> <span class="st">&#39;gray&#39;</span>)</span></code></pre></div>
</div>
</div>
</div>
</div>
<div id="use-appropriate-colour" class="section level3" number="26.0.8">
<h3><span class="header-section-number">26.0.8</span> Use appropriate colour</h3>
<p>So far, our table hasn’t used any color. We’ll add some now to highlight outlier values.</p>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb462-1"><a href="#cb462-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb462-2"><a href="#cb462-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb462-3"><a href="#cb462-3" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">as.character</span>(island), </span>
<span id="cb462-4"><a href="#cb462-4" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">as.numeric</span>(year),</span>
<span id="cb462-5"><a href="#cb462-5" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">paste0</span>(<span class="st">&#39;Island: &#39;</span>, island)</span>
<span id="cb462-6"><a href="#cb462-6" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb462-7"><a href="#cb462-7" tabindex="-1"></a>  <span class="co"># mutate integers</span></span>
<span id="cb462-8"><a href="#cb462-8" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="at">.cols =</span> <span class="fu">where</span>(is.integer), <span class="at">.fns =</span> <span class="sc">~</span><span class="fu">ifelse</span>(.x <span class="sc">&lt;=</span> <span class="dv">0</span>, <span class="cn">NA</span>, . ))) <span class="sc">|&gt;</span> </span>
<span id="cb462-9"><a href="#cb462-9" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">groupname_col =</span> <span class="st">&#39;island&#39;</span>, <span class="at">rowname_col =</span> <span class="st">&#39;year&#39;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb462-10"><a href="#cb462-10" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">.list =</span> desired_colnames) <span class="sc">|&gt;</span> </span>
<span id="cb462-11"><a href="#cb462-11" tabindex="-1"></a>  <span class="fu">labels_and_title</span>()  <span class="sc">|&gt;</span> </span>
<span id="cb462-12"><a href="#cb462-12" tabindex="-1"></a>  <span class="co">#change function</span></span>
<span id="cb462-13"><a href="#cb462-13" tabindex="-1"></a>  <span class="fu">sub_missing</span>(<span class="at">missing_text =</span> <span class="st">&#39;-&#39;</span>)<span class="sc">|&gt;</span></span>
<span id="cb462-14"><a href="#cb462-14" tabindex="-1"></a>   <span class="fu">summary_rows</span>(</span>
<span id="cb462-15"><a href="#cb462-15" tabindex="-1"></a>    <span class="at">groups =</span> <span class="fu">everything</span>(),</span>
<span id="cb462-16"><a href="#cb462-16" tabindex="-1"></a>    <span class="at">fns =</span> <span class="fu">list</span>(</span>
<span id="cb462-17"><a href="#cb462-17" tabindex="-1"></a>      <span class="st">&quot;Mean&quot;</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">mean</span>(., <span class="at">na.rm =</span> T),</span>
<span id="cb462-18"><a href="#cb462-18" tabindex="-1"></a>      <span class="st">&quot;Total&quot;</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">sum</span>(.)</span>
<span id="cb462-19"><a href="#cb462-19" tabindex="-1"></a>    ),</span>
<span id="cb462-20"><a href="#cb462-20" tabindex="-1"></a>    <span class="at">formatter =</span> fmt_number,</span>
<span id="cb462-21"><a href="#cb462-21" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">0</span>,</span>
<span id="cb462-22"><a href="#cb462-22" tabindex="-1"></a>    <span class="co"># new option here</span></span>
<span id="cb462-23"><a href="#cb462-23" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">&quot;-&quot;</span></span>
<span id="cb462-24"><a href="#cb462-24" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb462-25"><a href="#cb462-25" tabindex="-1"></a>    <span class="fu">tab_options</span>(</span>
<span id="cb462-26"><a href="#cb462-26" tabindex="-1"></a>    <span class="at">data_row.padding =</span> <span class="fu">px</span>(<span class="dv">2</span>),</span>
<span id="cb462-27"><a href="#cb462-27" tabindex="-1"></a>    <span class="at">summary_row.padding =</span> <span class="fu">px</span>(<span class="dv">3</span>), </span>
<span id="cb462-28"><a href="#cb462-28" tabindex="-1"></a>    <span class="at">row_group.padding =</span> <span class="fu">px</span>(<span class="dv">4</span>)    </span>
<span id="cb462-29"><a href="#cb462-29" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb462-30"><a href="#cb462-30" tabindex="-1"></a>    <span class="fu">tab_style</span>(<span class="at">style =</span> <span class="fu">cell_text</span>(<span class="at">color =</span> <span class="st">&quot;orange&quot;</span>,</span>
<span id="cb462-31"><a href="#cb462-31" tabindex="-1"></a>                              <span class="at">weight =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb462-32"><a href="#cb462-32" tabindex="-1"></a>            <span class="at">locations =</span> <span class="fu">cells_body</span>(</span>
<span id="cb462-33"><a href="#cb462-33" tabindex="-1"></a>              <span class="at">columns =</span> <span class="dv">3</span>,</span>
<span id="cb462-34"><a href="#cb462-34" tabindex="-1"></a>             <span class="at">rows =</span> <span class="fu">which</span>(penguin_counts_wider[,<span class="dv">3</span>] <span class="sc">==</span> <span class="fu">max</span>(penguin_counts_wider[,<span class="dv">3</span>])))</span>
<span id="cb462-35"><a href="#cb462-35" tabindex="-1"></a>            ) </span></code></pre></div>
<div id="ydllvisbjd" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ydllvisbjd table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ydllvisbjd thead, #ydllvisbjd tbody, #ydllvisbjd tfoot, #ydllvisbjd tr, #ydllvisbjd td, #ydllvisbjd th {
  border-style: none;
}

#ydllvisbjd p {
  margin: 0;
  padding: 0;
}

#ydllvisbjd .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ydllvisbjd .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ydllvisbjd .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ydllvisbjd .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ydllvisbjd .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ydllvisbjd .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ydllvisbjd .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ydllvisbjd .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ydllvisbjd .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ydllvisbjd .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ydllvisbjd .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ydllvisbjd .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ydllvisbjd .gt_spanner_row {
  border-bottom-style: hidden;
}

#ydllvisbjd .gt_group_heading {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ydllvisbjd .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ydllvisbjd .gt_from_md > :first-child {
  margin-top: 0;
}

#ydllvisbjd .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ydllvisbjd .gt_row {
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ydllvisbjd .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ydllvisbjd .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ydllvisbjd .gt_row_group_first td {
  border-top-width: 2px;
}

#ydllvisbjd .gt_row_group_first th {
  border-top-width: 2px;
}

#ydllvisbjd .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
}

#ydllvisbjd .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ydllvisbjd .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ydllvisbjd .gt_last_summary_row {
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ydllvisbjd .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ydllvisbjd .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ydllvisbjd .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ydllvisbjd .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ydllvisbjd .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ydllvisbjd .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ydllvisbjd .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ydllvisbjd .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ydllvisbjd .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ydllvisbjd .gt_left {
  text-align: left;
}

#ydllvisbjd .gt_center {
  text-align: center;
}

#ydllvisbjd .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ydllvisbjd .gt_font_normal {
  font-weight: normal;
}

#ydllvisbjd .gt_font_bold {
  font-weight: bold;
}

#ydllvisbjd .gt_font_italic {
  font-style: italic;
}

#ydllvisbjd .gt_super {
  font-size: 65%;
}

#ydllvisbjd .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ydllvisbjd .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ydllvisbjd .gt_indent_1 {
  text-indent: 5px;
}

#ydllvisbjd .gt_indent_2 {
  text-indent: 10px;
}

#ydllvisbjd .gt_indent_3 {
  text-indent: 15px;
}

#ydllvisbjd .gt_indent_4 {
  text-indent: 20px;
}

#ydllvisbjd .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style>Penguins of the Palmer Archipelago</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Data is courtesy of the `palmerpenguins` R package by Allison Horst</td>
    </tr>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id=""></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Biscoe">Island: Biscoe</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_1" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Biscoe stub_1_1 Adelie_female" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Adelie_male" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Biscoe stub_1_2 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Island: Biscoe stub_1_2 Adelie_male" class="gt_row gt_right">9</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_female" class="gt_row gt_right">22</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_male" class="gt_row gt_right">23</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Biscoe stub_1_3 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr><th id="summary_stub_Island: Biscoe_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">7</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">7</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">19</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">20</td></tr>
    <tr><th id="summary_stub_Island: Biscoe_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">22</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">22</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">58</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">61</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Dream">Island: Dream</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_4" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Dream stub_1_4 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_4 Adelie_male" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_4 Chinstrap_female" class="gt_row gt_right">13</td>
<td headers="Island: Dream stub_1_4 Chinstrap_male" class="gt_row gt_right">13</td>
<td headers="Island: Dream stub_1_4 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_4 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Dream stub_1_5 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_5 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Dream stub_1_6 Adelie_female" class="gt_row gt_right" style="color: #FFA500; font-weight: bold;">10</td>
<td headers="Island: Dream stub_1_6 Adelie_male" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_6 Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Island: Dream stub_1_6 Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Island: Dream stub_1_6 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_6 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="summary_stub_Island: Dream_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Dream summary_stub_Island: Dream_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">9</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">9</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">11</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">11</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td></tr>
    <tr><th id="summary_stub_Island: Dream_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Dream summary_stub_Island: Dream_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">27</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">28</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">34</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">34</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Torgersen">Island: Torgersen</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_7" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Torgersen stub_1_7 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_7 Adelie_male" class="gt_row gt_right">7</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Torgersen stub_1_8 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_8 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Torgersen stub_1_9 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="summary_stub_Island: Torgersen_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">8</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">8</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td></tr>
    <tr><th id="summary_stub_Island: Torgersen_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">24</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">23</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td></tr>
  </tbody>
  
  
</table>
</div>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb463-1"><a href="#cb463-1" tabindex="-1"></a>penguin_counts_wider <span class="sc">|&gt;</span> </span>
<span id="cb463-2"><a href="#cb463-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb463-3"><a href="#cb463-3" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">as.character</span>(island), </span>
<span id="cb463-4"><a href="#cb463-4" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">as.numeric</span>(year),</span>
<span id="cb463-5"><a href="#cb463-5" tabindex="-1"></a>    <span class="at">island =</span> <span class="fu">paste0</span>(<span class="st">&#39;Island: &#39;</span>, island)</span>
<span id="cb463-6"><a href="#cb463-6" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb463-7"><a href="#cb463-7" tabindex="-1"></a>  <span class="co"># mutate integers</span></span>
<span id="cb463-8"><a href="#cb463-8" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="at">.cols =</span> <span class="fu">where</span>(is.integer), <span class="at">.fns =</span> <span class="sc">~</span><span class="fu">ifelse</span>(.x <span class="sc">&lt;=</span> <span class="dv">0</span>, <span class="cn">NA</span>, . ))) <span class="sc">|&gt;</span> </span>
<span id="cb463-9"><a href="#cb463-9" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">groupname_col =</span> <span class="st">&#39;island&#39;</span>, <span class="at">rowname_col =</span> <span class="st">&#39;year&#39;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb463-10"><a href="#cb463-10" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">.list =</span> desired_colnames) <span class="sc">|&gt;</span> </span>
<span id="cb463-11"><a href="#cb463-11" tabindex="-1"></a>  <span class="fu">labels_and_title</span>()  <span class="sc">|&gt;</span> </span>
<span id="cb463-12"><a href="#cb463-12" tabindex="-1"></a>  <span class="co">#change function</span></span>
<span id="cb463-13"><a href="#cb463-13" tabindex="-1"></a>  <span class="fu">sub_missing</span>(<span class="at">missing_text =</span> <span class="st">&#39;-&#39;</span>)<span class="sc">|&gt;</span></span>
<span id="cb463-14"><a href="#cb463-14" tabindex="-1"></a>   <span class="fu">summary_rows</span>(</span>
<span id="cb463-15"><a href="#cb463-15" tabindex="-1"></a>    <span class="at">groups =</span> <span class="fu">everything</span>(),</span>
<span id="cb463-16"><a href="#cb463-16" tabindex="-1"></a>    <span class="at">fns =</span> <span class="fu">list</span>(</span>
<span id="cb463-17"><a href="#cb463-17" tabindex="-1"></a>      <span class="st">&quot;Mean&quot;</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">mean</span>(., <span class="at">na.rm =</span> T),</span>
<span id="cb463-18"><a href="#cb463-18" tabindex="-1"></a>      <span class="st">&quot;Total&quot;</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">sum</span>(.)</span>
<span id="cb463-19"><a href="#cb463-19" tabindex="-1"></a>    ),</span>
<span id="cb463-20"><a href="#cb463-20" tabindex="-1"></a>    <span class="at">formatter =</span> fmt_number,</span>
<span id="cb463-21"><a href="#cb463-21" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">0</span>,</span>
<span id="cb463-22"><a href="#cb463-22" tabindex="-1"></a>    <span class="co"># new option here</span></span>
<span id="cb463-23"><a href="#cb463-23" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">&quot;-&quot;</span></span>
<span id="cb463-24"><a href="#cb463-24" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb463-25"><a href="#cb463-25" tabindex="-1"></a>    <span class="fu">tab_options</span>(</span>
<span id="cb463-26"><a href="#cb463-26" tabindex="-1"></a>    <span class="at">data_row.padding =</span> <span class="fu">px</span>(<span class="dv">2</span>),</span>
<span id="cb463-27"><a href="#cb463-27" tabindex="-1"></a>    <span class="at">summary_row.padding =</span> <span class="fu">px</span>(<span class="dv">3</span>), </span>
<span id="cb463-28"><a href="#cb463-28" tabindex="-1"></a>    <span class="at">row_group.padding =</span> <span class="fu">px</span>(<span class="dv">4</span>)    </span>
<span id="cb463-29"><a href="#cb463-29" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb463-30"><a href="#cb463-30" tabindex="-1"></a>    <span class="fu">tab_style</span>(<span class="at">style =</span> <span class="fu">cell_text</span>(<span class="at">color =</span> <span class="st">&quot;orange&quot;</span>,</span>
<span id="cb463-31"><a href="#cb463-31" tabindex="-1"></a>                              <span class="at">weight =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb463-32"><a href="#cb463-32" tabindex="-1"></a>            <span class="at">locations =</span> <span class="fu">cells_body</span>(</span>
<span id="cb463-33"><a href="#cb463-33" tabindex="-1"></a>              <span class="at">columns =</span> <span class="dv">3</span>,</span>
<span id="cb463-34"><a href="#cb463-34" tabindex="-1"></a>             <span class="at">rows =</span> <span class="fu">which</span>(penguin_counts_wider[,<span class="dv">3</span>] <span class="sc">==</span> <span class="fu">max</span>(penguin_counts_wider[,<span class="dv">3</span>])))</span>
<span id="cb463-35"><a href="#cb463-35" tabindex="-1"></a>            ) </span></code></pre></div>
<div id="vfydfuucvk" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#vfydfuucvk table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#vfydfuucvk thead, #vfydfuucvk tbody, #vfydfuucvk tfoot, #vfydfuucvk tr, #vfydfuucvk td, #vfydfuucvk th {
  border-style: none;
}

#vfydfuucvk p {
  margin: 0;
  padding: 0;
}

#vfydfuucvk .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vfydfuucvk .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#vfydfuucvk .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vfydfuucvk .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vfydfuucvk .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vfydfuucvk .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vfydfuucvk .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vfydfuucvk .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vfydfuucvk .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vfydfuucvk .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vfydfuucvk .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vfydfuucvk .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vfydfuucvk .gt_spanner_row {
  border-bottom-style: hidden;
}

#vfydfuucvk .gt_group_heading {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#vfydfuucvk .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vfydfuucvk .gt_from_md > :first-child {
  margin-top: 0;
}

#vfydfuucvk .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vfydfuucvk .gt_row {
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vfydfuucvk .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#vfydfuucvk .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#vfydfuucvk .gt_row_group_first td {
  border-top-width: 2px;
}

#vfydfuucvk .gt_row_group_first th {
  border-top-width: 2px;
}

#vfydfuucvk .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
}

#vfydfuucvk .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#vfydfuucvk .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#vfydfuucvk .gt_last_summary_row {
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vfydfuucvk .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vfydfuucvk .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vfydfuucvk .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#vfydfuucvk .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vfydfuucvk .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vfydfuucvk .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vfydfuucvk .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vfydfuucvk .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vfydfuucvk .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vfydfuucvk .gt_left {
  text-align: left;
}

#vfydfuucvk .gt_center {
  text-align: center;
}

#vfydfuucvk .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vfydfuucvk .gt_font_normal {
  font-weight: normal;
}

#vfydfuucvk .gt_font_bold {
  font-weight: bold;
}

#vfydfuucvk .gt_font_italic {
  font-style: italic;
}

#vfydfuucvk .gt_super {
  font-size: 65%;
}

#vfydfuucvk .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#vfydfuucvk .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#vfydfuucvk .gt_indent_1 {
  text-indent: 5px;
}

#vfydfuucvk .gt_indent_2 {
  text-indent: 10px;
}

#vfydfuucvk .gt_indent_3 {
  text-indent: 15px;
}

#vfydfuucvk .gt_indent_4 {
  text-indent: 20px;
}

#vfydfuucvk .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style>Penguins of the Palmer Archipelago</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Data is courtesy of the `palmerpenguins` R package by Allison Horst</td>
    </tr>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id=""></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Biscoe">Island: Biscoe</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_1" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Biscoe stub_1_1 Adelie_female" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Adelie_male" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Biscoe stub_1_2 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Island: Biscoe stub_1_2 Adelie_male" class="gt_row gt_right">9</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_female" class="gt_row gt_right">22</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_male" class="gt_row gt_right">23</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Biscoe stub_1_3 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr><th id="summary_stub_Island: Biscoe_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">7</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">7</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">19</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">20</td></tr>
    <tr><th id="summary_stub_Island: Biscoe_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">22</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">22</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">58</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">61</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Dream">Island: Dream</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_4" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Dream stub_1_4 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_4 Adelie_male" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_4 Chinstrap_female" class="gt_row gt_right">13</td>
<td headers="Island: Dream stub_1_4 Chinstrap_male" class="gt_row gt_right">13</td>
<td headers="Island: Dream stub_1_4 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_4 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Dream stub_1_5 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_5 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Dream stub_1_6 Adelie_female" class="gt_row gt_right" style="color: #FFA500; font-weight: bold;">10</td>
<td headers="Island: Dream stub_1_6 Adelie_male" class="gt_row gt_right">10</td>
<td headers="Island: Dream stub_1_6 Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Island: Dream stub_1_6 Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Island: Dream stub_1_6 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_6 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="summary_stub_Island: Dream_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Dream summary_stub_Island: Dream_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">9</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">9</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">11</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">11</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td></tr>
    <tr><th id="summary_stub_Island: Dream_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Dream summary_stub_Island: Dream_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">27</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">28</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">34</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">34</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Torgersen">Island: Torgersen</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_7" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Torgersen stub_1_7 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_7 Adelie_male" class="gt_row gt_right">7</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Torgersen stub_1_8 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_8 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Torgersen stub_1_9 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="summary_stub_Island: Torgersen_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">8</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">8</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td></tr>
    <tr><th id="summary_stub_Island: Torgersen_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">24</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">23</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td></tr>
  </tbody>
  
  
</table>
</div>
<p>If we repeat this code for each column, we generate the result shown below</p>
<div id="igcuavfvpv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#igcuavfvpv table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#igcuavfvpv thead, #igcuavfvpv tbody, #igcuavfvpv tfoot, #igcuavfvpv tr, #igcuavfvpv td, #igcuavfvpv th {
  border-style: none;
}

#igcuavfvpv p {
  margin: 0;
  padding: 0;
}

#igcuavfvpv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#igcuavfvpv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#igcuavfvpv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#igcuavfvpv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#igcuavfvpv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#igcuavfvpv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#igcuavfvpv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#igcuavfvpv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#igcuavfvpv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#igcuavfvpv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#igcuavfvpv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#igcuavfvpv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#igcuavfvpv .gt_spanner_row {
  border-bottom-style: hidden;
}

#igcuavfvpv .gt_group_heading {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#igcuavfvpv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#igcuavfvpv .gt_from_md > :first-child {
  margin-top: 0;
}

#igcuavfvpv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#igcuavfvpv .gt_row {
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#igcuavfvpv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#igcuavfvpv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#igcuavfvpv .gt_row_group_first td {
  border-top-width: 2px;
}

#igcuavfvpv .gt_row_group_first th {
  border-top-width: 2px;
}

#igcuavfvpv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
}

#igcuavfvpv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#igcuavfvpv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#igcuavfvpv .gt_last_summary_row {
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#igcuavfvpv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#igcuavfvpv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#igcuavfvpv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#igcuavfvpv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#igcuavfvpv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#igcuavfvpv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#igcuavfvpv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#igcuavfvpv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#igcuavfvpv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#igcuavfvpv .gt_left {
  text-align: left;
}

#igcuavfvpv .gt_center {
  text-align: center;
}

#igcuavfvpv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#igcuavfvpv .gt_font_normal {
  font-weight: normal;
}

#igcuavfvpv .gt_font_bold {
  font-weight: bold;
}

#igcuavfvpv .gt_font_italic {
  font-style: italic;
}

#igcuavfvpv .gt_super {
  font-size: 65%;
}

#igcuavfvpv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#igcuavfvpv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#igcuavfvpv .gt_indent_1 {
  text-indent: 5px;
}

#igcuavfvpv .gt_indent_2 {
  text-indent: 10px;
}

#igcuavfvpv .gt_indent_3 {
  text-indent: 15px;
}

#igcuavfvpv .gt_indent_4 {
  text-indent: 20px;
}

#igcuavfvpv .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style>Penguins of the Palmer Archipelago</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Data is courtesy of the `palmerpenguins` R package by Allison Horst</td>
    </tr>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id=""></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Adelie&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Adelie</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Chinstrap&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Chinstrap</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;strong&gt;Gentoo&lt;/strong&gt;">
        <span class="gt_column_spanner"><strong>Gentoo</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Female">Female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Male">Male</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Biscoe">Island: Biscoe</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_1" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Biscoe stub_1_1 Adelie_female" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Adelie_male" class="gt_row gt_right">5</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_female" class="gt_row gt_right">16</td>
<td headers="Island: Biscoe stub_1_1 Gentoo_male" class="gt_row gt_right">17</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Biscoe stub_1_2 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Island: Biscoe stub_1_2 Adelie_male" class="gt_row gt_right">9</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_2 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_female" class="gt_row gt_right" style="color: #FFA500; font-weight: bold;">22</td>
<td headers="Island: Biscoe stub_1_2 Gentoo_male" class="gt_row gt_right" style="color: #FFA500; font-weight: bold;">23</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Biscoe stub_1_3 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_female" class="gt_row gt_right">20</td>
<td headers="Island: Biscoe stub_1_3 Gentoo_male" class="gt_row gt_right">21</td></tr>
    <tr><th id="summary_stub_Island: Biscoe_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">7</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">7</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">19</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">20</td></tr>
    <tr><th id="summary_stub_Island: Biscoe_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">22</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">22</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">58</td>
<td headers="Island: Biscoe summary_stub_Island: Biscoe_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">61</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Dream">Island: Dream</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_4" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Dream stub_1_4 Adelie_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_4 Adelie_male" class="gt_row gt_right" style="color: #FFA500; font-weight: bold;">10</td>
<td headers="Island: Dream stub_1_4 Chinstrap_female" class="gt_row gt_right" style="color: #FFA500; font-weight: bold;">13</td>
<td headers="Island: Dream stub_1_4 Chinstrap_male" class="gt_row gt_right" style="color: #FFA500; font-weight: bold;">13</td>
<td headers="Island: Dream stub_1_4 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_4 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Dream stub_1_5 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Dream stub_1_5 Chinstrap_female" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Chinstrap_male" class="gt_row gt_right">9</td>
<td headers="Island: Dream stub_1_5 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_5 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Dream stub_1_6 Adelie_female" class="gt_row gt_right" style="color: #FFA500; font-weight: bold;">10</td>
<td headers="Island: Dream stub_1_6 Adelie_male" class="gt_row gt_right" style="color: #FFA500; font-weight: bold;">10</td>
<td headers="Island: Dream stub_1_6 Chinstrap_female" class="gt_row gt_right">12</td>
<td headers="Island: Dream stub_1_6 Chinstrap_male" class="gt_row gt_right">12</td>
<td headers="Island: Dream stub_1_6 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Dream stub_1_6 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="summary_stub_Island: Dream_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Dream summary_stub_Island: Dream_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">9</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">9</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">11</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">11</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Dream summary_stub_Island: Dream_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td></tr>
    <tr><th id="summary_stub_Island: Dream_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Dream summary_stub_Island: Dream_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">27</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">28</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">34</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">34</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Dream summary_stub_Island: Dream_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Island: Torgersen">Island: Torgersen</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_7" scope="row" class="gt_row gt_right gt_stub">2007</th>
<td headers="Island: Torgersen stub_1_7 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_7 Adelie_male" class="gt_row gt_right">7</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_7 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_right gt_stub">2008</th>
<td headers="Island: Torgersen stub_1_8 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_8 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_8 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_right gt_stub">2009</th>
<td headers="Island: Torgersen stub_1_9 Adelie_female" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Adelie_male" class="gt_row gt_right">8</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Chinstrap_male" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_female" class="gt_row gt_right">-</td>
<td headers="Island: Torgersen stub_1_9 Gentoo_male" class="gt_row gt_right">-</td></tr>
    <tr><th id="summary_stub_Island: Torgersen_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Mean</th>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Adelie_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">8</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Adelie_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">8</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Gentoo_female" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_1 Gentoo_male" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">-</td></tr>
    <tr><th id="summary_stub_Island: Torgersen_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Total</th>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Adelie_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">24</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Adelie_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">23</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Chinstrap_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Chinstrap_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Gentoo_female" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td>
<td headers="Island: Torgersen summary_stub_Island: Torgersen_2 Gentoo_male" class="gt_row gt_right gt_summary_row gt_last_summary_row">-</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<div id="data-visualisations" class="section level3" number="26.0.9">
<h3><span class="header-section-number">26.0.9</span> Data visualisations</h3>
<p>In this chapter, we’re going to learn how to add fancy elements like plots, icon and images to <code>gt</code> tables.</p>
<p>Many such elements can be added relatively easily with <code>gtExtras</code>. For example, here’s a summary table of our data set.</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb464-1"><a href="#cb464-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb464-2"><a href="#cb464-2" tabindex="-1"></a>  <span class="fu">gt_plt_summary</span>()</span></code></pre></div>
<div id="pvhwkrpepb" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#pvhwkrpepb table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#pvhwkrpepb thead, #pvhwkrpepb tbody, #pvhwkrpepb tfoot, #pvhwkrpepb tr, #pvhwkrpepb td, #pvhwkrpepb th {
  border-style: none;
}

#pvhwkrpepb p {
  margin: 0;
  padding: 0;
}

#pvhwkrpepb .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pvhwkrpepb .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#pvhwkrpepb .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pvhwkrpepb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pvhwkrpepb .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pvhwkrpepb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 0px;
  border-bottom-color: #D3D3D3;
}

#pvhwkrpepb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 0px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pvhwkrpepb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pvhwkrpepb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pvhwkrpepb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pvhwkrpepb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pvhwkrpepb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pvhwkrpepb .gt_spanner_row {
  border-bottom-style: hidden;
}

#pvhwkrpepb .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#pvhwkrpepb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#pvhwkrpepb .gt_from_md > :first-child {
  margin-top: 0;
}

#pvhwkrpepb .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pvhwkrpepb .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pvhwkrpepb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#pvhwkrpepb .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#pvhwkrpepb .gt_row_group_first td {
  border-top-width: 2px;
}

#pvhwkrpepb .gt_row_group_first th {
  border-top-width: 2px;
}

#pvhwkrpepb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pvhwkrpepb .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#pvhwkrpepb .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#pvhwkrpepb .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pvhwkrpepb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pvhwkrpepb .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pvhwkrpepb .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#pvhwkrpepb .gt_striped {
  background-color: #FAFAFA;
}

#pvhwkrpepb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pvhwkrpepb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pvhwkrpepb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pvhwkrpepb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pvhwkrpepb .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pvhwkrpepb .gt_left {
  text-align: left;
}

#pvhwkrpepb .gt_center {
  text-align: center;
}

#pvhwkrpepb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pvhwkrpepb .gt_font_normal {
  font-weight: normal;
}

#pvhwkrpepb .gt_font_bold {
  font-weight: bold;
}

#pvhwkrpepb .gt_font_italic {
  font-style: italic;
}

#pvhwkrpepb .gt_super {
  font-size: 65%;
}

#pvhwkrpepb .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#pvhwkrpepb .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#pvhwkrpepb .gt_indent_1 {
  text-indent: 5px;
}

#pvhwkrpepb .gt_indent_2 {
  text-indent: 10px;
}

#pvhwkrpepb .gt_indent_3 {
  text-indent: 15px;
}

#pvhwkrpepb .gt_indent_4 {
  text-indent: 20px;
}

#pvhwkrpepb .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style>penguins</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>344 rows x 8 cols</td>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Column">Column</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Plot Overview">Plot Overview</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Missing">Missing</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Mean">Mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Median">Median</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="SD">SD</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="type" class="gt_row gt_left"><svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:20px;width:20px;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#4e79a7;overflow:visible;position:relative;"><path d="M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"/></svg></td>
<td headers="name" class="gt_row gt_left" style="font-weight: bold;"><div style='max-width: 150px;'>
    <details style='font-weight: normal !important;'>
    <summary style='font-weight: bold !important;'>species</summary>
Adelie, Gentoo and Chinstrap
</details></div></td>
<td headers="value" class="gt_row gt_center"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='141.73pt' height='34.02pt' viewBox='0 0 141.73 34.02'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg=='>    <rect x='0.00' y='0.00' width='141.73' height='34.02' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'></g><defs>  <clipPath id='cpMS4wMHwxNDAuNzR8Mi45OXwyMy41Mw=='>    <rect x='1.00' y='2.99' width='139.74' height='20.54' />  </clipPath></defs><g clip-path='url(#cpMS4wMHwxNDAuNzR8Mi45OXwyMy41Mw==)'><rect x='113.11' y='3.92' width='27.62' height='18.68' style='stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDEAF7;' /><rect x='62.74' y='3.92' width='50.37' height='18.68' style='stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #91B4DA;' /><rect x='1.00' y='3.92' width='61.75' height='18.68' style='stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #3181BD;' /></g><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'><text x='1.00' y='30.20' style='font-size: 8.00px; font-family: "Arimo";' textLength='49.58px' lengthAdjust='spacingAndGlyphs'>3 categories</text></g></svg></td>
<td headers="n_missing" class="gt_row gt_right">0.0%</td>
<td headers="Mean" class="gt_row gt_right">—</td>
<td headers="Median" class="gt_row gt_right">—</td>
<td headers="SD" class="gt_row gt_right">—</td></tr>
    <tr><td headers="type" class="gt_row gt_left gt_striped"><svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:20px;width:20px;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#4e79a7;overflow:visible;position:relative;"><path d="M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"/></svg></td>
<td headers="name" class="gt_row gt_left gt_striped" style="font-weight: bold;"><div style='max-width: 150px;'>
    <details style='font-weight: normal !important;'>
    <summary style='font-weight: bold !important;'>island</summary>
Biscoe, Dream and Torgersen
</details></div></td>
<td headers="value" class="gt_row gt_center gt_striped"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='141.73pt' height='34.02pt' viewBox='0 0 141.73 34.02'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg=='>    <rect x='0.00' y='0.00' width='141.73' height='34.02' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'></g><defs>  <clipPath id='cpMS4wMHwxNDAuNzR8Mi45OXwyMy41Mw=='>    <rect x='1.00' y='2.99' width='139.74' height='20.54' />  </clipPath></defs><g clip-path='url(#cpMS4wMHwxNDAuNzR8Mi45OXwyMy41Mw==)'><rect x='119.61' y='3.92' width='21.12' height='18.68' style='stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDEAF7;' /><rect x='69.24' y='3.92' width='50.37' height='18.68' style='stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #91B4DA;' /><rect x='1.00' y='3.92' width='68.24' height='18.68' style='stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #3181BD;' /></g><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'><text x='1.00' y='30.20' style='font-size: 8.00px; font-family: "Arimo";' textLength='49.58px' lengthAdjust='spacingAndGlyphs'>3 categories</text></g></svg></td>
<td headers="n_missing" class="gt_row gt_right gt_striped">0.0%</td>
<td headers="Mean" class="gt_row gt_right gt_striped">—</td>
<td headers="Median" class="gt_row gt_right gt_striped">—</td>
<td headers="SD" class="gt_row gt_right gt_striped">—</td></tr>
    <tr><td headers="type" class="gt_row gt_left"><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:20px;width:25px;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#f18e2c;overflow:visible;position:relative;"><path d="M576 0c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V32c0-17.7 14.3-32 32-32zM448 96c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V128c0-17.7 14.3-32 32-32zM352 224V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V224c0-17.7 14.3-32 32-32s32 14.3 32 32zM192 288c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V320c0-17.7 14.3-32 32-32zM96 416v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V416c0-17.7 14.3-32 32-32s32 14.3 32 32z"/></svg></td>
<td headers="name" class="gt_row gt_left" style="font-weight: bold;">bill_length_mm</td>
<td headers="value" class="gt_row gt_center"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='141.73pt' height='34.02pt' viewBox='0 0 141.73 34.02'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg=='>    <rect x='0.00' y='0.00' width='141.73' height='34.02' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'></g><defs>  <clipPath id='cpMS4wMHwxNDAuNzR8MS4wMHwyMi41Mw=='>    <rect x='1.00' y='1.00' width='139.74' height='21.54' />  </clipPath></defs><g clip-path='url(#cpMS4wMHwxNDAuNzR8MS4wMHwyMi41Mw==)'><rect x='7.35' y='21.79' width='10.59' height='0.74' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='17.93' y='15.85' width='10.59' height='6.68' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='28.52' y='4.34' width='10.59' height='18.19' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='39.11' y='1.00' width='10.59' height='21.54' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='49.69' y='8.05' width='10.59' height='14.48' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='60.28' y='2.85' width='10.59' height='19.68' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='70.87' y='5.08' width='10.59' height='17.45' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='81.45' y='1.37' width='10.59' height='21.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='92.04' y='17.33' width='10.59' height='5.20' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='102.63' y='21.42' width='10.59' height='1.11' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='113.21' y='21.79' width='10.59' height='0.74' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='123.80' y='22.53' width='10.59' height='0.00' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='12.62' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.56' cy='22.16' r='0.46' style='stroke-width: 0.71; stroke: none;' /><line x1='63.00' y1='22.53' x2='63.00' y2='1.00' style='stroke-width: 1.07; stroke-linecap: butt;' /></g><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'><polyline points='1.00,22.53 140.74,22.53 ' style='stroke-width: 0.75;' /><polyline points='13.71,25.37 13.71,22.53 ' style='stroke-width: 0.75;' /><polyline points='123.47,25.37 123.47,22.53 ' style='stroke-width: 0.75;' /><text x='13.71' y='33.60' text-anchor='middle' style='font-size: 6.00px; font-family: "Nimbus Mono PS";' textLength='7.23px' lengthAdjust='spacingAndGlyphs'>32</text><text x='123.47' y='33.60' text-anchor='middle' style='font-size: 6.00px; font-family: "Nimbus Mono PS";' textLength='7.23px' lengthAdjust='spacingAndGlyphs'>60</text></g></svg></td>
<td headers="n_missing" class="gt_row gt_right">0.6%</td>
<td headers="Mean" class="gt_row gt_right">43.9</td>
<td headers="Median" class="gt_row gt_right">44.5</td>
<td headers="SD" class="gt_row gt_right">5.5</td></tr>
    <tr><td headers="type" class="gt_row gt_left gt_striped"><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:20px;width:25px;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#f18e2c;overflow:visible;position:relative;"><path d="M576 0c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V32c0-17.7 14.3-32 32-32zM448 96c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V128c0-17.7 14.3-32 32-32zM352 224V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V224c0-17.7 14.3-32 32-32s32 14.3 32 32zM192 288c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V320c0-17.7 14.3-32 32-32zM96 416v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V416c0-17.7 14.3-32 32-32s32 14.3 32 32z"/></svg></td>
<td headers="name" class="gt_row gt_left gt_striped" style="font-weight: bold;">bill_depth_mm</td>
<td headers="value" class="gt_row gt_center gt_striped"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='141.73pt' height='34.02pt' viewBox='0 0 141.73 34.02'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg=='>    <rect x='0.00' y='0.00' width='141.73' height='34.02' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'></g><defs>  <clipPath id='cpMS4wMHwxNDAuNzR8MS4wMHwyMi41Mw=='>    <rect x='1.00' y='1.00' width='139.74' height='21.54' />  </clipPath></defs><g clip-path='url(#cpMS4wMHwxNDAuNzR8MS4wMHwyMi41Mw==)'><rect x='7.35' y='18.23' width='12.70' height='4.31' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='20.05' y='8.95' width='12.70' height='13.58' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='32.76' y='12.26' width='12.70' height='10.27' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='45.46' y='10.27' width='12.70' height='12.26' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='58.16' y='7.95' width='12.70' height='14.58' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='70.87' y='4.31' width='12.70' height='18.22' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='83.57' y='1.00' width='12.70' height='21.54' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='96.27' y='11.60' width='12.70' height='10.93' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='108.98' y='16.90' width='12.70' height='5.63' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='121.68' y='20.55' width='12.70' height='1.99' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='9.65' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='132.42' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><line x1='71.03' y1='22.53' x2='71.03' y2='1.00' style='stroke-width: 1.07; stroke-linecap: butt;' /></g><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'><polyline points='1.00,22.53 140.74,22.53 ' style='stroke-width: 0.75;' /><polyline points='10.85,25.37 10.85,22.53 ' style='stroke-width: 0.75;' /><polyline points='131.22,25.37 131.22,22.53 ' style='stroke-width: 0.75;' /><text x='10.85' y='33.60' text-anchor='middle' style='font-size: 6.00px; font-family: "Nimbus Mono PS";' textLength='14.46px' lengthAdjust='spacingAndGlyphs'>13.1</text><text x='131.22' y='33.60' text-anchor='middle' style='font-size: 6.00px; font-family: "Nimbus Mono PS";' textLength='14.46px' lengthAdjust='spacingAndGlyphs'>21.5</text></g></svg></td>
<td headers="n_missing" class="gt_row gt_right gt_striped">0.6%</td>
<td headers="Mean" class="gt_row gt_right gt_striped">17.2</td>
<td headers="Median" class="gt_row gt_right gt_striped">17.3</td>
<td headers="SD" class="gt_row gt_right gt_striped">2.0</td></tr>
    <tr><td headers="type" class="gt_row gt_left"><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:20px;width:25px;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#f18e2c;overflow:visible;position:relative;"><path d="M576 0c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V32c0-17.7 14.3-32 32-32zM448 96c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V128c0-17.7 14.3-32 32-32zM352 224V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V224c0-17.7 14.3-32 32-32s32 14.3 32 32zM192 288c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V320c0-17.7 14.3-32 32-32zM96 416v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V416c0-17.7 14.3-32 32-32s32 14.3 32 32z"/></svg></td>
<td headers="name" class="gt_row gt_left" style="font-weight: bold;">flipper_length_mm</td>
<td headers="value" class="gt_row gt_center"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='141.73pt' height='34.02pt' viewBox='0 0 141.73 34.02'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg=='>    <rect x='0.00' y='0.00' width='141.73' height='34.02' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'></g><defs>  <clipPath id='cpMS4wMHwxNDAuNzR8MS4wMHwyMi41Mw=='>    <rect x='1.00' y='1.00' width='139.74' height='21.54' />  </clipPath></defs><g clip-path='url(#cpMS4wMHwxNDAuNzR8MS4wMHwyMi41Mw==)'><rect x='7.35' y='21.96' width='12.70' height='0.57' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='20.05' y='19.37' width='12.70' height='3.16' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='32.76' y='7.89' width='12.70' height='14.65' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='45.46' y='1.00' width='12.70' height='21.54' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='58.16' y='6.74' width='12.70' height='15.79' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='70.87' y='16.50' width='12.70' height='6.03' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='83.57' y='10.47' width='12.70' height='12.06' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='96.27' y='8.18' width='12.70' height='14.36' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='108.98' y='16.50' width='12.70' height='6.03' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='121.68' y='18.51' width='12.70' height='4.02' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='14.45' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='130.67' cy='22.25' r='0.46' style='stroke-width: 0.71; stroke: none;' /><line x1='63.87' y1='22.53' x2='63.87' y2='1.00' style='stroke-width: 1.07; stroke-linecap: butt;' /></g><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'><polyline points='1.00,22.53 140.74,22.53 ' style='stroke-width: 0.75;' /><polyline points='15.59,25.37 15.59,22.53 ' style='stroke-width: 0.75;' /><polyline points='129.53,25.37 129.53,22.53 ' style='stroke-width: 0.75;' /><text x='15.59' y='33.60' text-anchor='middle' style='font-size: 6.00px; font-family: "Nimbus Mono PS";' textLength='10.84px' lengthAdjust='spacingAndGlyphs'>172</text><text x='129.53' y='33.60' text-anchor='middle' style='font-size: 6.00px; font-family: "Nimbus Mono PS";' textLength='10.84px' lengthAdjust='spacingAndGlyphs'>231</text></g></svg></td>
<td headers="n_missing" class="gt_row gt_right">0.6%</td>
<td headers="Mean" class="gt_row gt_right">200.9</td>
<td headers="Median" class="gt_row gt_right">197.0</td>
<td headers="SD" class="gt_row gt_right">14.1</td></tr>
    <tr><td headers="type" class="gt_row gt_left gt_striped"><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:20px;width:25px;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#f18e2c;overflow:visible;position:relative;"><path d="M576 0c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V32c0-17.7 14.3-32 32-32zM448 96c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V128c0-17.7 14.3-32 32-32zM352 224V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V224c0-17.7 14.3-32 32-32s32 14.3 32 32zM192 288c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V320c0-17.7 14.3-32 32-32zM96 416v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V416c0-17.7 14.3-32 32-32s32 14.3 32 32z"/></svg></td>
<td headers="name" class="gt_row gt_left gt_striped" style="font-weight: bold;">body_mass_g</td>
<td headers="value" class="gt_row gt_center gt_striped"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='141.73pt' height='34.02pt' viewBox='0 0 141.73 34.02'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg=='>    <rect x='0.00' y='0.00' width='141.73' height='34.02' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'></g><defs>  <clipPath id='cpMS4wMHwxNDAuNzR8MS4wMHwyMi41Mw=='>    <rect x='1.00' y='1.00' width='139.74' height='21.54' />  </clipPath></defs><g clip-path='url(#cpMS4wMHwxNDAuNzR8MS4wMHwyMi41Mw==)'><rect x='7.35' y='20.18' width='11.55' height='2.36' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='18.90' y='13.78' width='11.55' height='8.75' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='30.45' y='1.00' width='11.55' height='21.54' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='41.99' y='3.35' width='11.55' height='19.18' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='53.54' y='7.39' width='11.55' height='15.14' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='65.09' y='9.75' width='11.55' height='12.79' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='76.64' y='9.75' width='11.55' height='12.79' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='88.19' y='14.12' width='11.55' height='8.41' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='99.74' y='14.12' width='11.55' height='8.41' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='111.29' y='17.49' width='11.55' height='5.05' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='122.84' y='21.86' width='11.55' height='0.67' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='10.38' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='133.95' cy='22.20' r='0.46' style='stroke-width: 0.71; stroke: none;' /><line x1='57.02' y1='22.53' x2='57.02' y2='1.00' style='stroke-width: 1.07; stroke-linecap: butt;' /></g><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'><polyline points='1.00,22.53 140.74,22.53 ' style='stroke-width: 0.75;' /><polyline points='11.59,25.37 11.59,22.53 ' style='stroke-width: 0.75;' /><polyline points='132.73,25.37 132.73,22.53 ' style='stroke-width: 0.75;' /><text x='11.59' y='33.60' text-anchor='middle' style='font-size: 6.00px; font-family: "Nimbus Mono PS";' textLength='14.46px' lengthAdjust='spacingAndGlyphs'>2.7K</text><text x='132.73' y='33.60' text-anchor='middle' style='font-size: 6.00px; font-family: "Nimbus Mono PS";' textLength='14.46px' lengthAdjust='spacingAndGlyphs'>6.3K</text></g></svg></td>
<td headers="n_missing" class="gt_row gt_right gt_striped">0.6%</td>
<td headers="Mean" class="gt_row gt_right gt_striped">4,201.8</td>
<td headers="Median" class="gt_row gt_right gt_striped">4,050.0</td>
<td headers="SD" class="gt_row gt_right gt_striped">802.0</td></tr>
    <tr><td headers="type" class="gt_row gt_left"><svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:20px;width:20px;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#4e79a7;overflow:visible;position:relative;"><path d="M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"/></svg></td>
<td headers="name" class="gt_row gt_left" style="font-weight: bold;"><div style='max-width: 150px;'>
    <details style='font-weight: normal !important;'>
    <summary style='font-weight: bold !important;'>sex</summary>
male and female
</details></div></td>
<td headers="value" class="gt_row gt_center"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='141.73pt' height='34.02pt' viewBox='0 0 141.73 34.02'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg=='>    <rect x='0.00' y='0.00' width='141.73' height='34.02' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'></g><defs>  <clipPath id='cpMS4wMHwxNDAuNzR8Mi45OXwyMy41Mw=='>    <rect x='1.00' y='2.99' width='139.74' height='20.54' />  </clipPath></defs><g clip-path='url(#cpMS4wMHwxNDAuNzR8Mi45OXwyMy41Mw==)'><rect x='71.50' y='3.92' width='69.24' height='18.68' style='stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDEAF7;' /><rect x='1.00' y='3.92' width='70.50' height='18.68' style='stroke-width: 1.07; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #3181BD;' /></g><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'><text x='1.00' y='30.20' style='font-size: 8.00px; font-family: "Arimo";' textLength='49.58px' lengthAdjust='spacingAndGlyphs'>2 categories</text></g></svg></td>
<td headers="n_missing" class="gt_row gt_right">3.2%</td>
<td headers="Mean" class="gt_row gt_right">—</td>
<td headers="Median" class="gt_row gt_right">—</td>
<td headers="SD" class="gt_row gt_right">—</td></tr>
    <tr><td headers="type" class="gt_row gt_left gt_striped"><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:20px;width:25px;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#f18e2c;overflow:visible;position:relative;"><path d="M576 0c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V32c0-17.7 14.3-32 32-32zM448 96c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V128c0-17.7 14.3-32 32-32zM352 224V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V224c0-17.7 14.3-32 32-32s32 14.3 32 32zM192 288c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V320c0-17.7 14.3-32 32-32zM96 416v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V416c0-17.7 14.3-32 32-32s32 14.3 32 32z"/></svg></td>
<td headers="name" class="gt_row gt_left gt_striped" style="font-weight: bold;">year</td>
<td headers="value" class="gt_row gt_center gt_striped"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='141.73pt' height='34.02pt' viewBox='0 0 141.73 34.02'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg=='>    <rect x='0.00' y='0.00' width='141.73' height='34.02' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'></g><defs>  <clipPath id='cpMS4wMHwxNDAuNzR8MS4wMHwyMi41Mw=='>    <rect x='1.00' y='1.00' width='139.74' height='21.54' />  </clipPath></defs><g clip-path='url(#cpMS4wMHwxNDAuNzR8MS4wMHwyMi41Mw==)'><rect x='7.35' y='2.79' width='31.76' height='19.74' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='39.11' y='2.07' width='31.76' height='20.46' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='70.87' y='22.53' width='31.76' height='0.00' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><rect x='102.63' y='1.00' width='31.76' height='21.54' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #F8BB87;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='11.32' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><circle cx='124.81' cy='22.35' r='0.46' style='stroke-width: 0.71; stroke: none;' /><line x1='68.06' y1='22.53' x2='68.06' y2='1.00' style='stroke-width: 1.07; stroke-linecap: butt;' /></g><g clip-path='url(#cpMC4wMHwxNDEuNzN8MC4wMHwzNC4wMg==)'><polyline points='1.00,22.53 140.74,22.53 ' style='stroke-width: 0.75;' /><polyline points='12.43,25.37 12.43,22.53 ' style='stroke-width: 0.75;' /><polyline points='123.69,25.37 123.69,22.53 ' style='stroke-width: 0.75;' /><text x='12.43' y='33.60' text-anchor='middle' style='font-size: 6.00px; font-family: "Nimbus Mono PS";' textLength='21.69px' lengthAdjust='spacingAndGlyphs'>2.007K</text><text x='123.69' y='33.60' text-anchor='middle' style='font-size: 6.00px; font-family: "Nimbus Mono PS";' textLength='21.69px' lengthAdjust='spacingAndGlyphs'>2.009K</text></g></svg></td>
<td headers="n_missing" class="gt_row gt_right gt_striped">0.0%</td>
<td headers="Mean" class="gt_row gt_right gt_striped">2,008.0</td>
<td headers="Median" class="gt_row gt_right gt_striped">2,008.0</td>
<td headers="SD" class="gt_row gt_right gt_striped">0.8</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<div id="add-sparklines" class="section level3" number="26.0.10">
<h3><span class="header-section-number">26.0.10</span> Add sparklines</h3>
<p>It is quite hard to figure out that each depicted country increased its life expectancy in each year. Sure, you may have an idea that this is the case. But to be sure for real, you will have to compare each cell of each row.</p>
<p>Why don’t we make that a little bit easier? Let us add small line charts. This kind of chart is known as a sparkline. It’s main advantage is that it can make patterns really obvious. We can see it easily in the table below, but unfortunately it lacks the detail of values per year</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb465-1"><a href="#cb465-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb465-2"><a href="#cb465-2" tabindex="-1"></a>    <span class="fu">group_by</span>(species,year) <span class="sc">|&gt;</span> </span>
<span id="cb465-3"><a href="#cb465-3" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> T), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb465-4"><a href="#cb465-4" tabindex="-1"></a>    <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb465-5"><a href="#cb465-5" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">Mean body mass over time</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">list</span>(mean)) <span class="sc">|&gt;</span> </span>
<span id="cb465-6"><a href="#cb465-6" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb465-7"><a href="#cb465-7" tabindex="-1"></a>    <span class="fu">gt_plt_sparkline</span>(<span class="st">`</span><span class="at">Mean body mass over time</span><span class="st">`</span>)</span></code></pre></div>
<div id="tuselqmpwe" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#tuselqmpwe table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#tuselqmpwe thead, #tuselqmpwe tbody, #tuselqmpwe tfoot, #tuselqmpwe tr, #tuselqmpwe td, #tuselqmpwe th {
  border-style: none;
}

#tuselqmpwe p {
  margin: 0;
  padding: 0;
}

#tuselqmpwe .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#tuselqmpwe .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#tuselqmpwe .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#tuselqmpwe .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#tuselqmpwe .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tuselqmpwe .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tuselqmpwe .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tuselqmpwe .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#tuselqmpwe .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#tuselqmpwe .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#tuselqmpwe .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#tuselqmpwe .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#tuselqmpwe .gt_spanner_row {
  border-bottom-style: hidden;
}

#tuselqmpwe .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#tuselqmpwe .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#tuselqmpwe .gt_from_md > :first-child {
  margin-top: 0;
}

#tuselqmpwe .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tuselqmpwe .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#tuselqmpwe .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#tuselqmpwe .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#tuselqmpwe .gt_row_group_first td {
  border-top-width: 2px;
}

#tuselqmpwe .gt_row_group_first th {
  border-top-width: 2px;
}

#tuselqmpwe .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tuselqmpwe .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#tuselqmpwe .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#tuselqmpwe .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tuselqmpwe .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tuselqmpwe .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#tuselqmpwe .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#tuselqmpwe .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#tuselqmpwe .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tuselqmpwe .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tuselqmpwe .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tuselqmpwe .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tuselqmpwe .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tuselqmpwe .gt_left {
  text-align: left;
}

#tuselqmpwe .gt_center {
  text-align: center;
}

#tuselqmpwe .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tuselqmpwe .gt_font_normal {
  font-weight: normal;
}

#tuselqmpwe .gt_font_bold {
  font-weight: bold;
}

#tuselqmpwe .gt_font_italic {
  font-style: italic;
}

#tuselqmpwe .gt_super {
  font-size: 65%;
}

#tuselqmpwe .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#tuselqmpwe .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#tuselqmpwe .gt_indent_1 {
  text-indent: 5px;
}

#tuselqmpwe .gt_indent_2 {
  text-indent: 10px;
}

#tuselqmpwe .gt_indent_3 {
  text-indent: 15px;
}

#tuselqmpwe .gt_indent_4 {
  text-indent: 20px;
}

#tuselqmpwe .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="species">species</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Mean body mass over time">Mean body mass over time</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="species" class="gt_row gt_center">Adelie</td>
<td headers="Mean body mass over time" class="gt_row gt_center"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><text x='67.92' y='14.41' style='font-size: 5.69px; font-family: "Nimbus Mono PS";' textLength='13.71px' lengthAdjust='spacingAndGlyphs'>3.7K</text><polyline points='20.43,12.11 42.52,11.79 64.61,12.34 ' style='stroke-width: 1.07; stroke-linecap: butt;' /><circle cx='64.61' cy='12.34' r='0.89' style='stroke-width: 0.71; fill: #000000;' /><circle cx='64.61' cy='12.34' r='0.89' style='stroke-width: 0.71; stroke: #A020F0; fill: #A020F0;' /><circle cx='42.52' cy='11.79' r='0.89' style='stroke-width: 0.71; stroke: #00FF00; fill: #00FF00;' /></g></svg></td></tr>
    <tr><td headers="species" class="gt_row gt_center">Chinstrap</td>
<td headers="Mean body mass over time" class="gt_row gt_center"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><text x='67.92' y='13.98' style='font-size: 5.69px; font-family: "Nimbus Mono PS";' textLength='13.71px' lengthAdjust='spacingAndGlyphs'>3.7K</text><polyline points='20.43,12.13 42.52,11.38 64.61,11.91 ' style='stroke-width: 1.07; stroke-linecap: butt;' /><circle cx='64.61' cy='11.91' r='0.89' style='stroke-width: 0.71; fill: #000000;' /><circle cx='20.43' cy='12.13' r='0.89' style='stroke-width: 0.71; stroke: #A020F0; fill: #A020F0;' /><circle cx='42.52' cy='11.38' r='0.89' style='stroke-width: 0.71; stroke: #00FF00; fill: #00FF00;' /></g></svg></td></tr>
    <tr><td headers="species" class="gt_row gt_center">Gentoo</td>
<td headers="Mean body mass over time" class="gt_row gt_center"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><text x='67.92' y='3.91' style='font-size: 5.69px; font-family: "Nimbus Mono PS";' textLength='13.71px' lengthAdjust='spacingAndGlyphs'>5.1K</text><polyline points='20.43,2.34 42.52,2.70 64.61,1.84 ' style='stroke-width: 1.07; stroke-linecap: butt;' /><circle cx='64.61' cy='1.84' r='0.89' style='stroke-width: 0.71; fill: #000000;' /><circle cx='42.52' cy='2.70' r='0.89' style='stroke-width: 0.71; stroke: #A020F0; fill: #A020F0;' /><circle cx='64.61' cy='1.84' r='0.89' style='stroke-width: 0.71; stroke: #00FF00; fill: #00FF00;' /></g></svg></td></tr>
  </tbody>
  
  
</table>
</div>
<p>To create such a table we first need a tibble that has a column "Mean body mass over time" that contains the values from 2007-2009.</p>
<p>Then take the original data set penguins and filter it such that it contains the same data but in a tidy format, we can the <code>join</code> the datasets to create one new gt table</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb466-1"><a href="#cb466-1" tabindex="-1"></a>penguin_mass_wide <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb466-2"><a href="#cb466-2" tabindex="-1"></a>    <span class="fu">group_by</span>(species,year) <span class="sc">|&gt;</span> </span>
<span id="cb466-3"><a href="#cb466-3" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> T), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb466-4"><a href="#cb466-4" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year,</span>
<span id="cb466-5"><a href="#cb466-5" tabindex="-1"></a>              <span class="at">values_from =</span> mean)</span>
<span id="cb466-6"><a href="#cb466-6" tabindex="-1"></a></span>
<span id="cb466-7"><a href="#cb466-7" tabindex="-1"></a>penguin_mass_total <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb466-8"><a href="#cb466-8" tabindex="-1"></a>    <span class="fu">group_by</span>(species,year) <span class="sc">|&gt;</span> </span>
<span id="cb466-9"><a href="#cb466-9" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> T), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb466-10"><a href="#cb466-10" tabindex="-1"></a>    <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb466-11"><a href="#cb466-11" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">Mean body mass over time</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">list</span>(mean))</span>
<span id="cb466-12"><a href="#cb466-12" tabindex="-1"></a></span>
<span id="cb466-13"><a href="#cb466-13" tabindex="-1"></a><span class="fu">left_join</span>(penguin_mass_wide, penguin_mass_total) <span class="sc">|&gt;</span> </span>
<span id="cb466-14"><a href="#cb466-14" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb466-15"><a href="#cb466-15" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">suffixing =</span> <span class="st">&quot;Kg&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb466-16"><a href="#cb466-16" tabindex="-1"></a>  <span class="fu">gt_plt_sparkline</span>(<span class="st">`</span><span class="at">Mean body mass over time</span><span class="st">`</span>)</span></code></pre></div>
<div id="ryhuygkwhj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ryhuygkwhj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ryhuygkwhj thead, #ryhuygkwhj tbody, #ryhuygkwhj tfoot, #ryhuygkwhj tr, #ryhuygkwhj td, #ryhuygkwhj th {
  border-style: none;
}

#ryhuygkwhj p {
  margin: 0;
  padding: 0;
}

#ryhuygkwhj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ryhuygkwhj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ryhuygkwhj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ryhuygkwhj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ryhuygkwhj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ryhuygkwhj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ryhuygkwhj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ryhuygkwhj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ryhuygkwhj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ryhuygkwhj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ryhuygkwhj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ryhuygkwhj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ryhuygkwhj .gt_spanner_row {
  border-bottom-style: hidden;
}

#ryhuygkwhj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ryhuygkwhj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ryhuygkwhj .gt_from_md > :first-child {
  margin-top: 0;
}

#ryhuygkwhj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ryhuygkwhj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ryhuygkwhj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ryhuygkwhj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ryhuygkwhj .gt_row_group_first td {
  border-top-width: 2px;
}

#ryhuygkwhj .gt_row_group_first th {
  border-top-width: 2px;
}

#ryhuygkwhj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ryhuygkwhj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ryhuygkwhj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ryhuygkwhj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ryhuygkwhj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ryhuygkwhj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ryhuygkwhj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ryhuygkwhj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ryhuygkwhj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ryhuygkwhj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ryhuygkwhj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ryhuygkwhj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ryhuygkwhj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ryhuygkwhj .gt_left {
  text-align: left;
}

#ryhuygkwhj .gt_center {
  text-align: center;
}

#ryhuygkwhj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ryhuygkwhj .gt_font_normal {
  font-weight: normal;
}

#ryhuygkwhj .gt_font_bold {
  font-weight: bold;
}

#ryhuygkwhj .gt_font_italic {
  font-style: italic;
}

#ryhuygkwhj .gt_super {
  font-size: 65%;
}

#ryhuygkwhj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ryhuygkwhj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ryhuygkwhj .gt_indent_1 {
  text-indent: 5px;
}

#ryhuygkwhj .gt_indent_2 {
  text-indent: 10px;
}

#ryhuygkwhj .gt_indent_3 {
  text-indent: 15px;
}

#ryhuygkwhj .gt_indent_4 {
  text-indent: 20px;
}

#ryhuygkwhj .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="species">species</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2007">2007</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2008">2008</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2009">2009</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Mean body mass over time">Mean body mass over time</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="species" class="gt_row gt_center">Adelie</td>
<td headers="2007" class="gt_row gt_right">3.70Kg</td>
<td headers="2008" class="gt_row gt_right">3.74Kg</td>
<td headers="2009" class="gt_row gt_right">3.66Kg</td>
<td headers="Mean body mass over time" class="gt_row gt_center"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><text x='67.92' y='14.41' style='font-size: 5.69px; font-family: "Nimbus Mono PS";' textLength='13.71px' lengthAdjust='spacingAndGlyphs'>3.7K</text><polyline points='20.43,12.11 42.52,11.79 64.61,12.34 ' style='stroke-width: 1.07; stroke-linecap: butt;' /><circle cx='64.61' cy='12.34' r='0.89' style='stroke-width: 0.71; fill: #000000;' /><circle cx='64.61' cy='12.34' r='0.89' style='stroke-width: 0.71; stroke: #A020F0; fill: #A020F0;' /><circle cx='42.52' cy='11.79' r='0.89' style='stroke-width: 0.71; stroke: #00FF00; fill: #00FF00;' /></g></svg></td></tr>
    <tr><td headers="species" class="gt_row gt_center">Chinstrap</td>
<td headers="2007" class="gt_row gt_right">3.69Kg</td>
<td headers="2008" class="gt_row gt_right">3.80Kg</td>
<td headers="2009" class="gt_row gt_right">3.73Kg</td>
<td headers="Mean body mass over time" class="gt_row gt_center"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><text x='67.92' y='13.98' style='font-size: 5.69px; font-family: "Nimbus Mono PS";' textLength='13.71px' lengthAdjust='spacingAndGlyphs'>3.7K</text><polyline points='20.43,12.13 42.52,11.38 64.61,11.91 ' style='stroke-width: 1.07; stroke-linecap: butt;' /><circle cx='64.61' cy='11.91' r='0.89' style='stroke-width: 0.71; fill: #000000;' /><circle cx='20.43' cy='12.13' r='0.89' style='stroke-width: 0.71; stroke: #A020F0; fill: #A020F0;' /><circle cx='42.52' cy='11.38' r='0.89' style='stroke-width: 0.71; stroke: #00FF00; fill: #00FF00;' /></g></svg></td></tr>
    <tr><td headers="species" class="gt_row gt_center">Gentoo</td>
<td headers="2007" class="gt_row gt_right">5.07Kg</td>
<td headers="2008" class="gt_row gt_right">5.02Kg</td>
<td headers="2009" class="gt_row gt_right">5.14Kg</td>
<td headers="Mean body mass over time" class="gt_row gt_center"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><text x='67.92' y='3.91' style='font-size: 5.69px; font-family: "Nimbus Mono PS";' textLength='13.71px' lengthAdjust='spacingAndGlyphs'>5.1K</text><polyline points='20.43,2.34 42.52,2.70 64.61,1.84 ' style='stroke-width: 1.07; stroke-linecap: butt;' /><circle cx='64.61' cy='1.84' r='0.89' style='stroke-width: 0.71; fill: #000000;' /><circle cx='42.52' cy='2.70' r='0.89' style='stroke-width: 0.71; stroke: #A020F0; fill: #A020F0;' /><circle cx='64.61' cy='1.84' r='0.89' style='stroke-width: 0.71; stroke: #00FF00; fill: #00FF00;' /></g></svg></td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<div id="add-any-plot" class="section level3" number="26.0.11">
<h3><span class="header-section-number">26.0.11</span> Add any plot</h3>
<p>So far we have used colours and sparklines to add to our tables. But you can actually add any ggplot you want to your table. For example, we could look at our penguins from the last chapter again. Here’s a table about their weight and its distribution (visualized with a violin plot.)</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb467-1"><a href="#cb467-1" tabindex="-1"></a>filtered_penguins <span class="ot">&lt;-</span> palmerpenguins<span class="sc">::</span>penguins <span class="sc">|&gt;</span></span>
<span id="cb467-2"><a href="#cb467-2" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(sex))</span>
<span id="cb467-3"><a href="#cb467-3" tabindex="-1"></a></span>
<span id="cb467-4"><a href="#cb467-4" tabindex="-1"></a>penguin_weights <span class="ot">&lt;-</span> filtered_penguins <span class="sc">|&gt;</span></span>
<span id="cb467-5"><a href="#cb467-5" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span></span>
<span id="cb467-6"><a href="#cb467-6" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb467-7"><a href="#cb467-7" tabindex="-1"></a>    <span class="at">Min =</span> <span class="fu">min</span>(body_mass_g),</span>
<span id="cb467-8"><a href="#cb467-8" tabindex="-1"></a>    <span class="at">Mean =</span> <span class="fu">mean</span>(body_mass_g) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>),</span>
<span id="cb467-9"><a href="#cb467-9" tabindex="-1"></a>    <span class="at">Max =</span> <span class="fu">max</span>(body_mass_g)</span>
<span id="cb467-10"><a href="#cb467-10" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb467-11"><a href="#cb467-11" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">as.character</span>(species)) <span class="sc">|&gt;</span></span>
<span id="cb467-12"><a href="#cb467-12" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Species =</span> species)</span>
<span id="cb467-13"><a href="#cb467-13" tabindex="-1"></a></span>
<span id="cb467-14"><a href="#cb467-14" tabindex="-1"></a>penguin_weights <span class="sc">|&gt;</span></span>
<span id="cb467-15"><a href="#cb467-15" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb467-16"><a href="#cb467-16" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb467-17"><a href="#cb467-17" tabindex="-1"></a>    <span class="at">label =</span> <span class="st">&#39;Penguin</span><span class="sc">\&#39;</span><span class="st">s Weight&#39;</span>,</span>
<span id="cb467-18"><a href="#cb467-18" tabindex="-1"></a>    <span class="at">columns =</span> <span class="sc">-</span>Species</span>
<span id="cb467-19"><a href="#cb467-19" tabindex="-1"></a>  ) </span></code></pre></div>
<div id="sonquhpqjq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#sonquhpqjq table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#sonquhpqjq thead, #sonquhpqjq tbody, #sonquhpqjq tfoot, #sonquhpqjq tr, #sonquhpqjq td, #sonquhpqjq th {
  border-style: none;
}

#sonquhpqjq p {
  margin: 0;
  padding: 0;
}

#sonquhpqjq .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#sonquhpqjq .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#sonquhpqjq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#sonquhpqjq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#sonquhpqjq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sonquhpqjq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sonquhpqjq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sonquhpqjq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#sonquhpqjq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#sonquhpqjq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#sonquhpqjq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#sonquhpqjq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#sonquhpqjq .gt_spanner_row {
  border-bottom-style: hidden;
}

#sonquhpqjq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#sonquhpqjq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#sonquhpqjq .gt_from_md > :first-child {
  margin-top: 0;
}

#sonquhpqjq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#sonquhpqjq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#sonquhpqjq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#sonquhpqjq .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#sonquhpqjq .gt_row_group_first td {
  border-top-width: 2px;
}

#sonquhpqjq .gt_row_group_first th {
  border-top-width: 2px;
}

#sonquhpqjq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sonquhpqjq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#sonquhpqjq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#sonquhpqjq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sonquhpqjq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sonquhpqjq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#sonquhpqjq .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#sonquhpqjq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#sonquhpqjq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sonquhpqjq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sonquhpqjq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#sonquhpqjq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sonquhpqjq .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#sonquhpqjq .gt_left {
  text-align: left;
}

#sonquhpqjq .gt_center {
  text-align: center;
}

#sonquhpqjq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#sonquhpqjq .gt_font_normal {
  font-weight: normal;
}

#sonquhpqjq .gt_font_bold {
  font-weight: bold;
}

#sonquhpqjq .gt_font_italic {
  font-style: italic;
}

#sonquhpqjq .gt_super {
  font-size: 65%;
}

#sonquhpqjq .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#sonquhpqjq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#sonquhpqjq .gt_indent_1 {
  text-indent: 5px;
}

#sonquhpqjq .gt_indent_2 {
  text-indent: 10px;
}

#sonquhpqjq .gt_indent_3 {
  text-indent: 15px;
}

#sonquhpqjq .gt_indent_4 {
  text-indent: 20px;
}

#sonquhpqjq .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id="Species">Species</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Penguin's Weight">
        <span class="gt_column_spanner">Penguin's Weight</span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Min">Min</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Mean">Mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Max">Max</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Species" class="gt_row gt_left">Adelie</td>
<td headers="Min" class="gt_row gt_right">2850</td>
<td headers="Mean" class="gt_row gt_right">3706.16</td>
<td headers="Max" class="gt_row gt_right">4775</td></tr>
    <tr><td headers="Species" class="gt_row gt_left">Chinstrap</td>
<td headers="Min" class="gt_row gt_right">2700</td>
<td headers="Mean" class="gt_row gt_right">3733.09</td>
<td headers="Max" class="gt_row gt_right">4800</td></tr>
    <tr><td headers="Species" class="gt_row gt_left">Gentoo</td>
<td headers="Min" class="gt_row gt_right">3950</td>
<td headers="Mean" class="gt_row gt_right">5092.44</td>
<td headers="Max" class="gt_row gt_right">6300</td></tr>
  </tbody>
  
  
</table>
</div>
<p>To create this table, let us begin with the basics. Let’s compute the numeric values first.</p>
<div id="ubwukhngul" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ubwukhngul table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ubwukhngul thead, #ubwukhngul tbody, #ubwukhngul tfoot, #ubwukhngul tr, #ubwukhngul td, #ubwukhngul th {
  border-style: none;
}

#ubwukhngul p {
  margin: 0;
  padding: 0;
}

#ubwukhngul .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ubwukhngul .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ubwukhngul .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ubwukhngul .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ubwukhngul .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ubwukhngul .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ubwukhngul .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ubwukhngul .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ubwukhngul .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ubwukhngul .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ubwukhngul .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ubwukhngul .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ubwukhngul .gt_spanner_row {
  border-bottom-style: hidden;
}

#ubwukhngul .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ubwukhngul .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ubwukhngul .gt_from_md > :first-child {
  margin-top: 0;
}

#ubwukhngul .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ubwukhngul .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ubwukhngul .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ubwukhngul .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ubwukhngul .gt_row_group_first td {
  border-top-width: 2px;
}

#ubwukhngul .gt_row_group_first th {
  border-top-width: 2px;
}

#ubwukhngul .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ubwukhngul .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ubwukhngul .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ubwukhngul .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ubwukhngul .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ubwukhngul .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ubwukhngul .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ubwukhngul .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ubwukhngul .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ubwukhngul .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ubwukhngul .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ubwukhngul .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ubwukhngul .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ubwukhngul .gt_left {
  text-align: left;
}

#ubwukhngul .gt_center {
  text-align: center;
}

#ubwukhngul .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ubwukhngul .gt_font_normal {
  font-weight: normal;
}

#ubwukhngul .gt_font_bold {
  font-weight: bold;
}

#ubwukhngul .gt_font_italic {
  font-style: italic;
}

#ubwukhngul .gt_super {
  font-size: 65%;
}

#ubwukhngul .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ubwukhngul .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ubwukhngul .gt_indent_1 {
  text-indent: 5px;
}

#ubwukhngul .gt_indent_2 {
  text-indent: 10px;
}

#ubwukhngul .gt_indent_3 {
  text-indent: 15px;
}

#ubwukhngul .gt_indent_4 {
  text-indent: 20px;
}

#ubwukhngul .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id="Species">Species</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="4" scope="colgroup" id="Penguin's Weight">
        <span class="gt_column_spanner">Penguin's Weight</span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Min">Min</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Mean">Mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Max">Max</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Distribution">Distribution</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Species" class="gt_row gt_left">Adelie</td>
<td headers="Min" class="gt_row gt_right">2850</td>
<td headers="Mean" class="gt_row gt_right">3706.16</td>
<td headers="Max" class="gt_row gt_right">4775</td>
<td headers="Distribution" class="gt_row gt_left"><img src="data:image/png;base64,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" style="height:50px;"></td></tr>
    <tr><td headers="Species" class="gt_row gt_left">Chinstrap</td>
<td headers="Min" class="gt_row gt_right">2700</td>
<td headers="Mean" class="gt_row gt_right">3733.09</td>
<td headers="Max" class="gt_row gt_right">4800</td>
<td headers="Distribution" class="gt_row gt_left"><img src="data:image/png;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoK7FZAAAAPUlEQVQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHgm/z8udfFKOoLt3QAAAABJRU5ErkJggg==" style="height:50px;"></td></tr>
    <tr><td headers="Species" class="gt_row gt_left">Gentoo</td>
<td headers="Min" class="gt_row gt_right">3950</td>
<td headers="Mean" class="gt_row gt_right">5092.44</td>
<td headers="Max" class="gt_row gt_right">6300</td>
<td headers="Distribution" class="gt_row gt_left"><img src="data:image/png;base64,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" style="height:50px;"></td></tr>
  </tbody>
  
  
</table>
</div>
<p>Next, let us write a function plot_violin_species(my_species) that depends on a penguin species and creates one violin plot.</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb468-1"><a href="#cb468-1" tabindex="-1"></a>plot_density_species <span class="ot">&lt;-</span> <span class="cf">function</span>(my_species) {</span>
<span id="cb468-2"><a href="#cb468-2" tabindex="-1"></a>  full_range <span class="ot">&lt;-</span> filtered_penguins <span class="sc">|&gt;</span></span>
<span id="cb468-3"><a href="#cb468-3" tabindex="-1"></a>    <span class="fu">pull</span>(body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb468-4"><a href="#cb468-4" tabindex="-1"></a>    <span class="fu">range</span>()</span>
<span id="cb468-5"><a href="#cb468-5" tabindex="-1"></a></span>
<span id="cb468-6"><a href="#cb468-6" tabindex="-1"></a>  filtered_penguins <span class="sc">|&gt;</span></span>
<span id="cb468-7"><a href="#cb468-7" tabindex="-1"></a>    <span class="fu">filter</span>(species <span class="sc">==</span> my_species) <span class="sc">|&gt;</span></span>
<span id="cb468-8"><a href="#cb468-8" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">y =</span> species)) <span class="sc">+</span></span>
<span id="cb468-9"><a href="#cb468-9" tabindex="-1"></a>    <span class="fu">geom_violin</span>(<span class="at">fill =</span> <span class="st">&#39;dodgerblue4&#39;</span>) <span class="sc">+</span></span>
<span id="cb468-10"><a href="#cb468-10" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb468-11"><a href="#cb468-11" tabindex="-1"></a>    <span class="fu">scale_y_discrete</span>(<span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb468-12"><a href="#cb468-12" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb468-13"><a href="#cb468-13" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">element_blank</span>(), <span class="at">y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb468-14"><a href="#cb468-14" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> full_range)</span>
<span id="cb468-15"><a href="#cb468-15" tabindex="-1"></a>}</span>
<span id="cb468-16"><a href="#cb468-16" tabindex="-1"></a><span class="fu">plot_density_species</span>(<span class="st">&#39;Adelie&#39;</span>)</span></code></pre></div>
<p><img src="05-ggplot_files/figure-html/unnamed-chunk-107-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Notice that I have set the coordinate system of the plot to the full range of the data (regardless of the species). This part is important. Without this trick, the three plots would not share a common x-axis.</p>
<p>Ok, so now we have a function that creates the desired plots. Time to apply it to our table. For this to work, we need an additional column that we can target. So we use <code>mutate()</code> to add a new column, then <code>text_transform()</code> to turn this column into images, and finally <code>.fn</code> argument can be supplied with our function iterated over each species with <code>map()</code>.</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb469-1"><a href="#cb469-1" tabindex="-1"></a>penguin_weights <span class="sc">|&gt;</span></span>
<span id="cb469-2"><a href="#cb469-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Distribution =</span> Species) <span class="sc">|&gt;</span> </span>
<span id="cb469-3"><a href="#cb469-3" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb469-4"><a href="#cb469-4" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb469-5"><a href="#cb469-5" tabindex="-1"></a>    <span class="at">label =</span> <span class="st">&#39;Penguin</span><span class="sc">\&#39;</span><span class="st">s Weight&#39;</span>,</span>
<span id="cb469-6"><a href="#cb469-6" tabindex="-1"></a>    <span class="at">columns =</span> <span class="sc">-</span>Species</span>
<span id="cb469-7"><a href="#cb469-7" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb469-8"><a href="#cb469-8" tabindex="-1"></a>  <span class="fu">text_transform</span>(</span>
<span id="cb469-9"><a href="#cb469-9" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_body</span>(<span class="at">columns =</span> <span class="st">&#39;Distribution&#39;</span>),</span>
<span id="cb469-10"><a href="#cb469-10" tabindex="-1"></a>    <span class="at">fn =</span> <span class="cf">function</span>(column) {</span>
<span id="cb469-11"><a href="#cb469-11" tabindex="-1"></a>      <span class="fu">map</span>(column, plot_density_species) <span class="sc">|&gt;</span></span>
<span id="cb469-12"><a href="#cb469-12" tabindex="-1"></a>        <span class="fu">ggplot_image</span>(<span class="at">height =</span> <span class="fu">px</span>(<span class="dv">50</span>), <span class="at">aspect_ratio =</span> <span class="dv">3</span>)</span>
<span id="cb469-13"><a href="#cb469-13" tabindex="-1"></a>    }</span>
<span id="cb469-14"><a href="#cb469-14" tabindex="-1"></a>  ) </span></code></pre></div>
<div id="vrdjwoklta" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#vrdjwoklta table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#vrdjwoklta thead, #vrdjwoklta tbody, #vrdjwoklta tfoot, #vrdjwoklta tr, #vrdjwoklta td, #vrdjwoklta th {
  border-style: none;
}

#vrdjwoklta p {
  margin: 0;
  padding: 0;
}

#vrdjwoklta .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vrdjwoklta .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#vrdjwoklta .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vrdjwoklta .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vrdjwoklta .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vrdjwoklta .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vrdjwoklta .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vrdjwoklta .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vrdjwoklta .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vrdjwoklta .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vrdjwoklta .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vrdjwoklta .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vrdjwoklta .gt_spanner_row {
  border-bottom-style: hidden;
}

#vrdjwoklta .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#vrdjwoklta .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vrdjwoklta .gt_from_md > :first-child {
  margin-top: 0;
}

#vrdjwoklta .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vrdjwoklta .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vrdjwoklta .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#vrdjwoklta .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#vrdjwoklta .gt_row_group_first td {
  border-top-width: 2px;
}

#vrdjwoklta .gt_row_group_first th {
  border-top-width: 2px;
}

#vrdjwoklta .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vrdjwoklta .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#vrdjwoklta .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#vrdjwoklta .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vrdjwoklta .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vrdjwoklta .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vrdjwoklta .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#vrdjwoklta .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vrdjwoklta .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vrdjwoklta .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vrdjwoklta .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vrdjwoklta .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vrdjwoklta .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vrdjwoklta .gt_left {
  text-align: left;
}

#vrdjwoklta .gt_center {
  text-align: center;
}

#vrdjwoklta .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vrdjwoklta .gt_font_normal {
  font-weight: normal;
}

#vrdjwoklta .gt_font_bold {
  font-weight: bold;
}

#vrdjwoklta .gt_font_italic {
  font-style: italic;
}

#vrdjwoklta .gt_super {
  font-size: 65%;
}

#vrdjwoklta .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#vrdjwoklta .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#vrdjwoklta .gt_indent_1 {
  text-indent: 5px;
}

#vrdjwoklta .gt_indent_2 {
  text-indent: 10px;
}

#vrdjwoklta .gt_indent_3 {
  text-indent: 15px;
}

#vrdjwoklta .gt_indent_4 {
  text-indent: 20px;
}

#vrdjwoklta .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id="Species">Species</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="4" scope="colgroup" id="Penguin's Weight">
        <span class="gt_column_spanner">Penguin's Weight</span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Min">Min</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Mean">Mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Max">Max</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Distribution">Distribution</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Species" class="gt_row gt_left">Adelie</td>
<td headers="Min" class="gt_row gt_right">2850</td>
<td headers="Mean" class="gt_row gt_right">3706.16</td>
<td headers="Max" class="gt_row gt_right">4775</td>
<td headers="Distribution" class="gt_row gt_left"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABdwAAAH0CAYAAAAnhe8sAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA9hAAAPYQGoP6dpAAAgAElEQVR4nOzdeZBd533f6d97zu19BVdJ1sJVGxcB6G4gjJKYiTNZJlPjJBNmc3ZX4sSJU06cikeWM2PHjlPjsWLL41j76kQbJZGUZCm24oiSo+GQQKNJSpBlGVyxEXujG9333r73nHf+AKXIWiiRauL08jxVKBIgUfVt1O2Dqk+99Z4IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgO0tNDwCgMenWW28dLctyKqU0VZbleESM5pxH67oejojBiBiIiFZRFMVXf1Nd17koiqqu6yoieimltZxzpyiKTs65nXNup5RWWq3WhXa7feHhhx9ejYjczJcIAAAAcOkI7gBb0Gtf+9qJ1dXV68qyvCYiXpJzfnFK6fvqun5BpPJFEfmqFDEVkQcuwZw6R1qNiKWItJiiPptSOlfX9WJK6WxEnE0pnc05n805n3n6x+ler3f64MGDKyHWAwAAAJuE4A6weaWZmZkX5JxvTSndFBGvzjm9KhXplZHry77+f6yjqOvWaN0vRsp+MZTqcjiqYjDqYijqYjDq1Praj5zKyEUrcqTIUUSkFPkP/XVx8Wcp6kg5R+QqUq4j5SqKqCLlKlLdjyL3oshVpLr39L/3o6jXoqh7UdZrdVl36zL3UqrXym/3BeaItYh0NiJOpshPRcSpnPPJlNKplNLJuq5PppROlmV5stPpnHz44YdXnpc/aQAAAIDvguAOsEns2rXrypTSH0kp7YmIuUjFbOT68q/+96oc6a+1JsteayL1WuPRa41HvxyPfjkaVTEQG/aRn3MUuRdl3Y2yXovi6X9e/Hn34s+rTpRVJ7dytyrrbkp171tH+pTaOcfpyPFURH08pXQiIk6klE7knE/knJ9qtVonUkpP3X///cvh9DwAAACwjjZofQFg586d1xRFcXtK6fsjFd8fub42IiJHymsD07k7eFnRHdgRawPTsdaajLoYbHryJZNyHUXdjVbdjbJqR5kvRvmi6jz9a51o5U5VVp1cVJ0yRf7mv+9S6uQcJyPnY0WRjkXE8a/+qOv6WEQcSykdm5+fPxPCPAAAAPBdENwBNoi9e/dO9nq9HyiK4s/VOf5civzSiIiqGKraQ1eV3cErojN4RXQHpiOnb3sLC98kR1n3oqjaF2N83f7qiflo1Z0o604MVKtVWXWiqLvf4g829XLEUyniyZzrw0VRHM45H04pPRkRTxZF8eQDDzxwNkR5AAAA2PYEd4AG7dmz59p+v/+DqSh+MHL88Yhc5mKgWhm8umwPvyDaQ1dFrzURHteXRsp1lHU3WlU7yno1yqodA1Unymo1WtVqblWrVau/UqSoiz/8G9NqzvFEkeJQzvnRiHg0Ih4py/IPVlZWHj948OBaI18QAAAAcEkpOACX2J49e15eVdVfjZT+WuR8c0TE2sB0tTL8feXq8AujO3j5N7yklI3l4on5slqJgYshPlr9lWj1L8RgvVIN9C/EN9wxn3OkJ1PkgxHx5Yj4vZTS7/X7/YMPPvjgYkNfBAAAAPA8UHQALoG9e/e+uKqqv1nn+Fsp8i0RKbcHr4iVkZeklZEXR78cbXoi66io12KwuhCt/nIM9JZjsLoQA73z9WB/KVKuvnY6Pkd6KnK9kFJ6KOf8YKvVWnjggQcORUTd4HwAAADgORLcAZ4nMzMzoznnv5zK8u9HXf/JiEidwSvrC6MvLVZGXhL9YrjpiVxyOVpVJwZ7izHYPx+DvfMx1F+sBnrnU8oXr6nJESuR03xRxP0R8UBZlv/f/ffff6Th4QAAAMB3QXAHWGczMzO7c87/KFL6WylirNcar5ZGry0vjF4T/XKs6XlsQCnXMdBfiqH+YgytnYvB7pl6qHcmishPR/h0LEX+bET895TS5/bv3/+lcAoeAAAANhzBHWAdzMzMjKaU/kaO+KeR866cynp55GXF8th10Rm8PDxuebZSrmOwfz6GuqdjpHc6RtZO98v+SisiIkdxLkX9OxHxO0VR/Pa+ffsebXguAAAAEAoQwPdk586d17RarR/NkX4kcj3ZbU3Xy+M3FsujL4s6tZqexxbTqlZjuHsyRronY7R7ompVK2VERI70RIr8mxHxycHBwf923333tRueCgAAANuS4A7wHMzNzf3Ruq7/VUT8xRwpVkZfmhbHboyu0+xcQgPVhRjpPBWj3adipH28LqIqckQ3RXw6pXR3VVUfW1hYONX0TgAAANguVCGA79Idd9xRPvLII/9rKoqfjJz31sVgdX7sxvL82A1RlSNNz2ObS7mO4bVTMdo5FuOdI1Wrv1JGRM4p/W7U9YfKsvzIvn37nmp6JwAAAGxlgjvAd3DTTTcNDg0N/VCk9PoUcX2vNV4tjr+yXB69NnIqm54H30KOwf5SjK0ejonOkWqgt1hGRI6i+EzK+X39fv8jDz744GLTKwEAAGCrEdwBvo3bbrttpNfr/XCd43Up8os6A5fVixOvKlaGXxyRPD7ZPAb7yzG2+kRMdJ6sBnpLZUTqReS7UkrvGR8f/+1777233/RGAAAA2AoUI4BvcNttt410u90fiVS+LkV9VXvo6vrcxKuK9tDV4bHJ5pZjqLcY46uPx8Tq41VZd8tIxYkU+R0ppXfs27fv0aYXAgAAwGamHAE87fbbbx9eXl7+kRzp9SnylatDV+dzk7ekzuAVTU+DdZdyHSOd4zG5+mge7RyNFJEi0qcj8q9PTEx8wql3AAAAePYEd2Dbu+mmmwZHRkb+fo70M5HrF6wOXZ3PTt6SukI720RZtWNi9dGYXn2kKvurZY50LEX+tYh42/z8/Omm9wEAAMBmIbgD21mxe/fuvxmp+PkU+WWdwavqM5O3FJ2hK5veBY1IkWOkczymV/4gj3SOpxyxliLeW9f1Ly8sLHyp6X0AAACw0QnuwHaUZmdn/3yO+MXI+abuwGX12albi1V3tMPXDPaXY2rlKzFx4ZE6RV3knP5LSvkX5+fn742I3PQ+AAAA2IiUJWBbmZubm6ty/qWU85/otcars1M7ywvD3xceh/CtFfVaTK48EtMrv1+VVafMKe1POf+7+fn5j0VE3fQ+AAAA2EgUJmBb2LNnz7X9fv8XUkp/vSqGqrOTt5TLY9dH9hiE70rKVUy0n4zp5YPVQP9CmSN9OUX+ueuuu+6Dd955Z9X0PgAAANgIlCZgS9u5c+d0WZavj0g/nlNRnBt/VbE48crIqdX0NNiUUuQYax+Jyy4crAbWFssc6ZHI9c9cf/317xfeAQAA2O4Ed2BLuv3221tLS0s/Ein9fIo0tTR2XTo7eUtUxXDT02CLyDHWORY7lr5YD/XOFTnSoSLFv9m/f/+HwlUzAAAAbFOCO7Dl7N69+8+monhj5PyK1aGr85mpXWltYLrpWbBF5RhtH4vLlr5QD/UXixzxpSKl1+3fv//j4eWqAAAAbDOCO7Bl7Ny588aybP1yRP4LvdZEdXpqV7k6/MLwqINLIOcY7x6Ny5YergZ6S2Wk9ECR0r/et2/fZ5ueBgAAAJeKCgVsenv37p2squqnc45/kYtWOjtxc3l+7MbIqWh6Gmw7KXKMrz4Rly8/XJX91TLn9KmU8k/Oz89/oeltAAAA8HwT3IHNrJidnf2hOscbUuQrl8auj7OTt0ZVDDW9C7a9lKuYWjkUO5a/WBV1r0gpvbvX6/2bhx566GjT2wAAAOD5IrgDm9Ls7OyuOudfTxF/pD1weX1mx2zRHdjR9CzgGxT1Wkwv/15Mr/x+nSKvRc6/2Ol0/u+DBw9eaHobAAAArDfBHdhUbrnllh2Dg4M/HxH/pCqG6jPTu8rlkZeFxxlsbK1qNS5feijGV5+IHMXJFPW/np+f/42IqJveBgAAAOtFoQI2i2J2dvbv1Tn9UkSePj/+inRu8qao00DTu4BnYbh3Ni47d6Ae6Z0ucsR8rusfW1hYuK/pXQAAALAeBHdgw5ubm9tZ5/zmyHlve/Cq+vSO2WKtNdn0LOA5yzG+ejiuWFqoyqpdRsR/7vf7P+l+dwAAADY7wR3YsGZmZqYi4t9GxI9VxVB9emp3eWH0peHRBVtDytXF+92XD9ZFim7k/LPnz5//lUOHDnWb3gYAAADPhWoFbERpdnb2r9U5fjVFXHF+/OXp7MTNUReuj4GtqFWtxOXnH8zj7cMpR3okcv1PDxw48FtN7wIAAIBnS3AHNpQ9e/a8vF9Vb0oRf6ozcHl9esdc0R2YbnoWcAmMdE/Elefnq4HeUhkRd9d1/eMLCwtPNL0LAAAAvluCO7Ah3H777cMXLlz433OOn8rFQHF68tZyafT6iOQxBdtJynVMrXwlLlv6Qh256kXO/3ZpaekNrpkBAABgM1CygMbt2rXrB4qy9dbI9XXLo9fGmcnXRFUONz0LaFBZrcYVSw/G+OqTkSMeKYviH+/bt++/Nr0LAAAAnongDjRm7969V/f7/TdExA/1WhPVqem5sj10VdOzgA1kpPtUXLk4Xw30l8uc8wdSSv9yfn7+eNO7AAAA4FsR3IEmFLt37/7hVBRvyJHGzk3cVCyOvzJyKpveBWxAKVcxdeHLsWPpi3WK3E4Rr7vuuut+/c4776ya3gYAAABfT3AHLqm5ubmbqpzflnK+bXXwqnx6x1zqtSaangVsAgPVSlyxOJ9HO8dSpPRgXVX/cGFhYX/TuwAAAOCrBHfgkrjttttGer3eT+ccP1mXg3Fqcld5YfRl4TEEPDs5xjpH48rF+aqs2kVK6ddzzq+fn58/3/QyAAAAULqA592uXbt+IBWtt6eor1kavS7OTu2MqhhsehawiaW6F5ctfzGmLvx+jkinI9c/duDAgQ9FRG56GwAAANuX4A48b2ZmZq6IiDdExN/ptSaqk9NzZcdLUYF1NNg7F1ee218P984UkdKnc13/6IEDBw41vQsAAIDtyRsKgedDmpmZ+bs50icj0p5zEzenk5fdVvTd1Q6ss6ocieXR61JVjsTo2qlrUuQffdGLXpjHxsbuP3v2rJeqAgAAcEk54Q6sq927d9+QiuKtkfOf7AxeVZ/cMVv0WpNNzwK2gVbdicvPL8T46hORIx1Kkf/R/Pz8Z5reBQAAwPYhuAPrYmZmZiAifiJH/GwUg+XpqZ3l0si1EcljBri0RrpPxVWL81Wrv1zmnH+j3+//q4cffvhk07sAAADY+pQw4Hs2MzOzN0e8M0W8+sLIS+PM9O7oF8NNzwK2sRR1TC99KXZc+FKdIi6kyP96//79b4uIuultAAAAbF2CO/Ccvfa1r53odDo/HxE/VrVG65PTc+Xq0AubngXwNQP95bhicX8e7Z5IOaV9RcSP7N+/f6HpXQAAAGxNgjvwnOzevft/iVS8JUW8cHH85ensxM2Ri4GmZwF8CznG24fjivMHqrLqFBHx/0TE/zE/P3++6WUAAABsLYI78KzMzc29oK7rN0bEX+0NTlcnpvaU3cHLmp4F8B0VuReXLX0xpi58JeeI05Hrf3HgwIH3RURuehsAAABbg+AOfLfS7OzsP8gRv1znGFucurVYHHtF5FQ0vQvgWRnqLcYV5/bVw70zRU7pc2VKP7pv376DTe8CAABg8xPcge9o586dNxat1ttTzn+iPfSC+tT0TNFrTTQ9C+C5yzkm24/H5ecXqqLuRUT+leHh4Z/9/Oc/v9z0NAAAADYvwR34tmZmZgYi4ici0r/NxUBxampXuTx6TXh0AFtFWa/FZUtfiMmVQzlHOhW5+okDBw7853DNDAAAAM+BagZ8S3Nzc3N1zu+KnG+6MPLSODO9O/rFcNOzAJ4XQ71zcfm5/fXIxWtm7ks5/7P5+fkDTe8CAABgcxHcgT/k1ltvHWu1Wj+XUvrxqhytT07PlqvDL2p6FsAlkGOi/URcvrhQlXW3iIi393q9n3744YdPNr0MAACAzUFwB75m9+7dfzYV5dsi1y85P3ZjnJ16TdSp1fQsgEuqyP2YXvpiTF/4/Toir6aI/7PT6fzawYMH15reBgAAwMYmuAMxMzNzRc75P6SU/navNVmd2LGn7A5e0fQsgEYN9Jfj8vMLeaxzLEUqHotc/8v5+fl7wv3uAAAAfBuCO2xvaWZm5m/kKH4tIk+dm7y5WBx/VeRUNL0LYMMY6T4VV55fqAZ658uc0udSzv/C/e4AAAB8K4I7bFO7du16WUrlm1PKf649eEV9anpP0RuYbHoWwIaUIsfEyqNx2dLDVVl3y5TSf6qq6qcXFhaeaHobAAAAG0fZ9ADg0rrjjjvKkZGRH0tFcXeO4hWnp2fS6amZVJfDTU8D2MBSdAcvi6XxG4uIFEPd0zcXRfpnL3rhC6euueaa/UeOHGk3vRAAAIDmOeEO28js7OzNdcQ7U85zq8Mvyqem51K/HGl6FsCmU1btuGz5izG58mjOkVdSxC9ExBvn5+dXm94GAABAcwR32AZuuOGGoampqddHpJ+qy8E4NTVTXhh5SXgEAHxvBnpLcfnSw3mscyTlSKdS5J/pdDpvP3jw4FrT2wAAALj01DbY4mZnZ19b5/SuFPWNS6PXxtmpXVEVg03PAthShtfOxo7zD9WjayeKSMXhFPlncs6/MT8/32t6GwAAAJeO4A5b1N69eyerqvqFnPOP9sux+uSOubI99IKmZwFsaSPdE3HZ0hfq4bXTRaTisRT5Z8bHx99377339pveBgAAwPNPcIctaGZm5i/kSG9LES9YHH9FOjt5S+TkHckAl0aOkc5TF8N772yRo3i8SPnnnHgHAADY+gR32EJuvfXWq1qt1htTSn99bWC6Ojm9p+wOXtb0LIBtKsdo56nYsfTFerh3pohUHIlc//vBwcF33Xfffe2m1wEAALD+BHfYGtLs7OzfqnP8aqQ0eXbi5uL8+Csjp6LpXQBEjtHuidixdLAeXjtV5EinU+Q3RMSb5ufnzze9DgAAgPUjuMMmt3PnzmvKsvWWiPxnOoNX1qd27CnWWhNNzwLgWxheOxU7lr+URzvHU45YSRFvarVab7z//vuPNL0NAACA753gDpvUHXfcUT766KP/LFL69zmVg2cmd5XnR6+LSL6tATa6wd5i7Ljw5RhbfSKniDoifyAi/sP8/PyBprcBAADw3ClzsAnNzc3dVOf8zsh5z8rwi/Kp6dlUlaNNzwLgWWpV7Zha+UpMrRyqUt0rc07/b1HEL4+Pj99977339pveBwAAwLMjuMMmcsMNNwxNT0+/Lud4fV0OplNTM+WFkZeEb2WAza3I/ZhYfSymL3ylavWXyxzpeJHiP5Zl+fb777//RNP7AAAA+O6odLBJ7N69+4+konh35PyK5dFr48zUrqiKwaZnAbCeco7R7lMxvfKVPNI5niJSP+f6w2VZvnnfvn2fi4jc9EQAAAC+PcEdNribbrppfHh4+Ocj4p9XrbH65PRcuTr0gqZnAfA8G+hfiMmVQzG5+khV1L0yRzqUIr+5ruv3LiwsnGp6HwAAAN9McIcNbHZ29n/Kkd4RuX7J+fFXxJnJWyKnVtOzALiEUtQxtvpkTK08Wg+vnSyePvV+T0rpXRMTE7/lrncAAICNQ3CHDei22267bG1t7Q0R8fd6rcnq5I69ZWfw8qZnAdCwwf5yjK88EpOrj1Vl3S1zpFNFindHxHv379//xab3AQAAbHeCO2wsaWZm5q9EKt6Uc77s3MRNaXHi1ZFT0fQuADaQlOsY6RyPyfZjMdo+mlPkFCl9IXJ+T13X719YWDjW9EYAAIDtSHCHDWLXrl0vKori1yPiBzsDl9enLttbrLUmm54FwAZX1msx1n4yxlceq0d6Z4qIyJHSZ3Ndv29oaOgj991339mmNwIAAGwXgjs0L83MzPxwjvjliGL0zNRriqXxl0f27QnAszRQXYjx1Sdjov14NdBbKiNSlXP8dkr5g1VV3fPggw8uNr0RAABgK1P0oEEzMzPXR0pvj5xvXx28Kp++bG/qlWNNzwJg08sx2DsfE+3DMb76eNWqVsqI1I/Iv51zvnNoaOhjTr4DAACsP8EdGnDHHXeUjz766I/niH8XxUDr1OSucnns2vAtCcD6yzG0di7G2odjovNk1eqvfPXk+2eKIj6cUrpn3759TzW9EgAAYCtQ9+ASm52dvbnO+d0pYubC8Ivz6emZVJUjTc8CYFvIMdQ7H2PtwzHeOfz0tTORc477I/JHI+KuAwcOHGp6JQAAwGYluMMlcsMNNwxNTU39VET6qaoYTKemZ8uVkZc0PQuAbWygvxRj7SMx1j5SD/fOFhERkYrfj1x/NCLumZ+f3xcRdaMjAQAANhHBHS6BmZmZvZHSeyLnVyyNXhtnpnZFXQw2PQsAvqasVmOsczTG2kfzSPdEpMgpRzqVIt+dc/7Y0NDQ79x3333tpncCAABsZII7PI9uvfXWsVar9XMppR+vWmP1yek95erQ1U3PAoBnVNS9GO0cj7Hu0RjrHKtS3StzRDdy/q2iKD6WUvpN974DAAB8M8Ednie7du36gVSU70yRX3p+/BVxZuLmyMVA07MA4FlJuY7htdMXT793jjz90tWInNK+IuKenPPH5ufnvxgRueGpAAAAjRPcYZ3t3LlzuizLX4qIH+4NTFYnpveU3cErmp4FAOsgx0BvKca7x2Jk9Ug90jvz1XvfD0eu704pfbzdbn/24MGDaw0PBQAAaITgDutoZmbmL0Yq3pxzvmpx4lXp3MRNkVPZ9CwAeF6UdTdGO8dirHM0RjvH65SrIkespIjfzDl/rNfrffILX/jCuaZ3AgAAXCqCO6yDvXv3Xt3v9381Iv5qd2BHfXLHnmJtYEfTswDgkklRx3DnRIx3jsZY52hVVu0yIlWR4nOR8z11Xd+9sLDwRNM7AQAAnk+CO3xv0u7du38oUvq1HGlicerWYnH8lZF9awGwreUY6i3GWOdojLePVAO9xYv3vkf6QuT6IznnuxcWFh4O974DAABbjCoIz9Hc3NxLqiq/JaX85zuDV9anduwp1loTTc8CgA2n1V+Jsc6RGGsfrUfWTqWInHKkJ1Lkj6SUPrp///77IqJueicAAMD3SnCHZ6+YmZn5RznilyKVI6endhZLozdEJN9OAPCdfPXe9/H2kTzSPZ5TroscxckU9Ydzzh+ZnJz83L333ttveicAAMBzoRDCs7Bz584by7L1zoj8x9rDL8wnp+dSvxxtehYAbEqp7sVY96kYax+Osc7Rp1+6WpxLUX84pXTn+Pj4Z8R3AABgMxHc4btw++23t5aXl388R/y7XAyUp6dnyuWRl4VvIQBYHynqGO0cj7HVwzHePVKlul/mKM4VKd9Z1/UHr7/++s/eeeedVdM7AQAAnolaCN/BzMzMLZHSuyPn3ReGX5zP7JhN/WK46VkAsGWlXMVI90SMrz75dfE9nY5cf6Aoig+48x0AANioBHf4Nm666abBkZGRn8o5Xl8Vg+nU9Gy5MvKSpmcBwLby1ZPv46tPxFj7SJ2iLnIUR1PU/ynn/L4DBw483PRGAACArxLc4VuYm5ubq+r8nhT5Vcuj18bpqV1RF4NNzwKAbS3lfox1jsX46uN5tHM8UuSUI305RX5PRLxvfn7+yaY3AgAA25vgDl9nZmZmNCJ+NiJ+oipH65PTc+Xq8AubngUAfIOyXoux9uEYX328Hlk7VURE5Jw+VxTx3rIs77z//vuXmt4IAABsP4I7PG1ubu776xzvilxfuzR+Y5yZfE3UqdX0LADgO2hVqzHRfiImVh+rBnpLZY5YSxEfyTm/9/rrr/+0l60CAACXiuDOtrd3797Jfr//f0XEP+61xquTO/aWncErm54FADxrOYZ6izGx+nhMtB+viqpbRipORK7fHRHvnp+f/3LTCwEAgK1NcGdbm52d/Z/rHG+LyC9cHH9VOjd5c+RUNj0LAPgepVzHaPd4TKw+FqPtozlFTpHSA7mu35FS+uD8/Pz5pjcCAABbj+DOtrRnz57L+/3+L6eU/nZvYLo6Mb2n7A5e1vQsAOB5UNbdGF99Iqbaj1YDa4tljuimiA/Wdf2OhYWF342I3PRGAABgaxDc2XZmZ2f/So705pzzjnOTNxeL46+KnIqmZwEAl8BQ71xMrDwak+0nqlSvlZGKRyPXb4uI98zPzx9veh8AALC5Ce5sGzMzMy+MiP8YEX+pM3B5feqyvcVaa7LpWQBAA1LUMdY+HJMrj+aR7omUc65TSh9PKb312muv/S0vWgUAAJ4LwZ3tIO3evfvvpqL41TqnsXNTrynOj788so8/ABARA9WFmFx5LCZWH6nKqlPmSMeKFG9LKb1j3759h5veBwAAbB6KI1varl27XlaU5Vsj5z/THry6PrVjrui1xpueBQBsQClyjHaOxeTKoTzaeSouXu2ePpVSvGV8fPyT9957b7/pjQAAwMYmuLNVFbOzsz+aI34xp3Lw9OSucmnsuvCRBwC+G61qNSZWHo2p1UeqsmqXkYqnItdvLYri7U69AwAA3476yJYzOzv7irqOd6aU/+jq8Ivyqem51JX5QBoAACAASURBVC9Hmp4FAGxCKXKMdI7H1MqhPNo5HhdPvccnc85vvv766z/lrncAAODrCe5sGbfffntreXn5JyLSz9XFQHFqaqa8MPrS8DEHANZDq1qNydVHY3Ll4qn3HOlYivzmuq7fsbCwcKzpfQAAQPOUSLaEXbt2vaYoy3dHzjsvjL40Tk/NRFUMNT0LANiCvnbX+4U/yKPdp1LOuU4pfSzn/OYDBw58OiLqpjcCAADNENzZ1G644Yahqampn45Ir6vK4Tg1PVuuDH9f07MAgG2i1V+JydVHLp56r7tljvRkivymVqv1rvvvv/9E0/sAAIBLS3Bn09q1a9dtT59qf/nS6HVxZmpn1MVg07MAgG0o5TrGusdiYvkreXTtZIpI/Yj80ZzzWw4cOPCZePrydwAAYGsT3Nl0brrppvHh4eGfj4h/XrXG6pPTe8rVoaubngUAEBERA/3lmFh5JKbaj1VF1S0jFY9Grt8UEe+en58/3fQ+AADg+SO4s6nMzc396TrHOyPXLzk//oo4M3lL5NRqehYAwDdJuYqx9tGYXDlUj6ydLCJSP+f6w0VRvGX//v2fDafeAQBgyxHc2RRuueWWHQMDA7+UUvoHvYHJ6sT0nrI7eEXTswAAviuDT596n1x9tCrqtTJHeiRFfnNd1+9ZWFg41fQ+AABgfQjubHi7d+/+S5GKt0TEFYsTr07nJl4dOZVNzwIAeNZSrmKscyQmLzzytVPvEfmulNLb9u/f/zsRUTe9EQAAeO4Edzasubm5F1RV9Wsppf+tO3BZfXLHnmJtYLrpWQAA62KgvxyTq49ePPV+8a73w5Hrt7ZarXfff//9R5reBwAAPHuCOxtR2r17999NRfHGOqfxc1O3FufHXxHZxxUA2IJSrmOsczQmVh7Jo92nUkTknNN/iajf3u12P3Hw4MG1pjcCAADfHQWTDWXPnj3X9uv6rSnnP90evLo+tWO26LUmmp4FAHBJtKqVmFx9LCZXHq3KarWMVJyNXL+rKIp37du372DT+wAAgGcmuLMh3HHHHeVjjz32z3PEL+TUGjg9ubNcGrsufEQBgO0oRY6R7omYWHk0xtqHc4qcckr7U87vqKrqAw8++OBi0xsBAIBvpmbSuJmZmVtySu9MOc+uDH9fPjU9m6pypOlZAAAbQlmvxXj7iZi48Eg91F8sIqVeruuPRMR7rr/++k/feeedVdMbAQCAiwR3GnP77bcPLy8vvz4iva4qBuP0jrnywvCLm54FALBhDfbOxcTq4zHZfrwqqm6ZoziZon5vSuk9+/fv/2LT+wAAYLsT3GnEzMzMH8tRvDNFfePS6HVxZmpn1MVg07MAADaFlOsY6RyPidXHYqxz9OKVMxEPp4j3RMT75+fnjze9EQAAtiPBnUtqZmZmKiL+fUT8k35rrDo5vadsD13d9CwAgE2rrNdirP1kTKw+Xg+vnS4iIuecfqco4jeGhobu+vznP7/c9EYAANguBHcumdnZ2R/Mkd6Sc33V4vir0rnJmyOnsulZAABbxkD/QoyvPh6T7SeqVn+5zBHdFHFPSul9i4uL/+XQoUPdpjcCAMBWJrjzvNu1a9eLiqL4tYj4S92BHfWpHXuK7sCOpmcBAGxhOYZ752J89YkYX328KutuGalYznV1Z1EUHxgfH//Mvffe2296JQAAbDWCO8+nYnZ29h/WOf9SjmL03NStxfnxV0T2sQMAuGRS5Bjpnoyx1cdjonOkSnWvjFSciVx/qCiKD15zzTX//c4776ya3gkAAFuB8snzYteuXa9OqXxbSvmPrg5dnU/v2JN65VjTswAAtrWUqxjtPhXj7SdjrH2kTrkqchQnI1cfiogPHThw4PMRUTe9EwAANivBnXV1++23Dy8vL/9URHpdXQykU1O7ywujLwsfNQCAjSXlKsa6x2Ns9en4HnWRozhZpHxnRHz42muv/V0n3wEA4NlRQVk3s7Ozt9c5vz1FXL88dl2cmdwZVTHY9CwAAL6Dr8X39pMx1j5ap1wVkYozKfJHcs4fiYjPzM/P95reCQAAG53gzvdsZmbmipTSL+ac/36vNV6dmt5TtoeuanoWAADPQcpVjHaOx3jnSIx1jlSp7peRiqXI9d0RcVdE/Pb8/Pxq0zsBAGAjEtz5XqSZmZm/kyP9SkRMLk7eVJybeHXkKJreBQDAOki5ipG1kzG2ejjGO0eqol4rI6VO5PyplNJd3W73E1/4whfONb0TAAA2CsGd52RmZuaVOcdbU4o/3h68sj61Y67otSabngUAwPMkRY6h7qkY7xyN8c7hquyvlhGpiiJ9Nur67oi4Z35+/smmdwIAQJMEd56V2267baTb7b4+peIn62IgnZ7aVS6PXhM+SgAA20mOod5ijHWOxnj7cDXQO19e/NV4KHK+qyzLe/bt2/fQxV8CAIDtQyXluzY7O/vn6xxvSpFftjR6bZyd2uWlqAAAxEB1IUbbR2OsfSSPrJ2OiJxyFEcjV3eVZXnP6urq5w4ePLjW9E4AAHi+Ce58R3Nzcy+pqupXUkp/udearE7umCs7g1c2PQsAgA2orNditHMsRttHYqx7vE65KnKkC5HrTxRF8bF+v/+pBx98cLHpnQAA8HwQ3HlGO3funC5brSdyFONnJ28pzo+9PHLyUlQAAL6zFHWMdE7EWOdojHWOVGXVuXjve4rPRc73FEXx8X379j3a9E4AAFgvgjvPaPfu3a9KKX3pxI7b4sLoy5qeAwDAppVjaO3c0/H9aDXYW3z63vf05RT5rrj40tV9EVE3uxMAAJ47wZ1n9LXgfvkfiwvDL256DgAAW0SrWomxzrEYbR/NI90TkSKnHOl0inxPSuljOef/Oj8/v9r0TgAAeDYEd56R4A4AwPOtyL0Y7Tz19On3Y1Wq18oc0Y2cf6soio+tra19/OGHHz7Z9E4AAPhOBHeekeAOAMCllCLHcPdUjHaOxnj7SNWqVsqIyBHpgfgfV898uemdAADwrQjuPCPBHQCA5uQY7C/HaPtwjLWP1sO9s8XFX02HItcfzTnfvbCwcH+49x0AgA1CcOcZCe4AAGwUZdWO8c6xGG0f/sZ73+9KKd21uLj43w4dOtRteicAANuX4M4zEtwBANiIityP0c7xGOscefre916ZI1aKlD5R1/VdIyMjn/z85z+/3PROAAC2F8GdZyS4AwCw0aVcx8jayRhrH4mxzpGqrDplROpF5E+nlD5aVdXHFhYWTjW9EwCArU9w5xkJ7gAAbCo5x1DvTIy1j8RE50jV6l8oIyLnlH63iLiz1+vd9dBDDx1teiYAAFuT4M4zEtwBANi8cgz2l2Js9XBMdI5UA73FMiIiUnogcr6zLMuPPPDAA481PBIAgC1EcOcZCe4AAGwVA/3li9fOtI/Uw70zRUREjngoRXywqqoPP/jgg3/Q9EYAADY3wZ1nJLgDALAVtarVGGsfjvH2kXp47VQREREpfTFy/mBEfHh+fv7LzS4EAGAzEtx5RoI7AABbXVm1Y6x9JMbbT+aRtVMpIiJH+r0U+QM55zsPHDjwe01vBABgcxDceUaCOwAA20mr7sRo+0iMrx6uR9ZOpoicno7v74+IO518BwDgmQjuPCPBHQCA7aqsOjHWORLjq0/mkbVTcTG+x5dSxPvLsvzQAw888JWmNwIAsLEI7jwjwR0AAL7+5PuT9cjaya/d+Z7r+v0R8aEDBw4canYhAAAbgeDOMxLcAQDgDyvrToytHo6J9uF6+On4niMeShHvj4j3zs/PH294IgAADWk1PQAAAGAzqYrhWBq/MZbGbyzKqh3jnSMxtvrELSNrp18TKf3ZiPhTTW8EAKAZRdMDAAAANquqHInzYzfGsSv/dLE6/KLIEeNNbwIAoDmCOwAAAAAArAPBHQAAAAAA1oHgDgAAAAAA60BwBwAAAACAdSC4AwAAAADAOhDcAQAAAABgHQjuAAAAAACwDgR3AAAAAABYB4I7AAAAAACsA8EdAAAAAADWgeAOAAAAAADrQHAHAAAAAIB1ILgDAAAAAMA6ENwBAAAAAGAdCO4AAAAAALAOBHcAAAAAAFgHgjsAAAAAAKwDwR0AAAAAANaB4A4AAAAAAOtAcAcAAAAAgHUguAMAAAAAwDoQ3AEAAAAAYB0I7gAAAAAAsA4EdwAAAAAAWAeCOwAAAAAArAPBHQAAAAAA1oHgDgAAAAAA60BwBwAAAACAdSC4AwAAAADAOhDcAQAAAABgHQjuAAAAAACwDgR3AAAAAABYB4I7AAAAAACsA8EdAAAAAADWgeAOAAAAAADrQHAHAAAAAIB1ILgDAAAAAMA6ENwBAAAAAGAdCO4AAAAAALAOBHcAAAAAAFgHgjsAAAAAAKwDwR0AAAAAANaB4A4AAAAAAOtAcAcAAAAAgHUguAMAAAAAwDoQ3AEAAAAAYB0I7gAAAAAAsA4EdwAAAAAAWAetpgcAAABsWjnH8NrpGG8/GcPdk3XU0Wt6EgAAzRHcAQAAno2cY7h3Jsbbh2O8/URVVp0yUurkur47It7Y9DwAAJojuAMAAHwnOcfQ05F9ov1kVVbtMkd0U8THUkofyjl/8sCBA6tNzwQAoFmCOwAAwLeUY2jtmyL7WpHSJ+qcP9Tv9z/x8MMPrzS9EgCAjUNwBwAA+Jqvj+yHq7JaLSNSLyL/ZkrpQ512++MHDx680PRKAAA2JsEdAADY3v7QnewXT7J/fWQfGhr6xOc///nlpmcCALDxCe4AAMC2kyLH8NrpGFt9MsY7h6uy6nztuphI6c6hoaHfFNkBAHi2BHcAAGBbSLmOkbWTMdo+HBOdI1VRdctIqRM5fzwi7ux2Op9yXQwAAN8LwR0AANiyUtQx0j4e450jMd45WqV6rcwRKyni7pzzR1LEb83Pz682vRMAgK1BcAcAALaUIvditHM8xtqHY6xzrE65KnKkxcj1R1NRfOT84uLvHDp0qNv0TgAAth7BHQAA2PRadSdG20djrH04j3RP5BS5iFQ8levqwznirsnJic/de++9/aZ3AgCwtQnuAADApjTQX46xztEYXT1Sj/ROFxEROdIjKfKHU0p37d+/b39E1A3PBABgGxHcAQCAzSHnGO6di7HO0RjrHK4GektlRESOWMg5fzQi7jpwYP73Gl4JAMA2JrgDAAAbVoo6RronYrR98aWnZdUpI1I/Ij4TEXf3+/17HnrooaNN7wQAgAjBHQAA2GDKei1GO8ditH0kxrrHn37paaxEzh9PRXFPzvlT8/Pz55veCQAA30hwBwD+//buPEju877v/Of7/Lp7eqZ7egYHD1EUKRIgKRIiiJmeAcSVHSOJk5Rt2c4ejJMqx7HjWKuNvLLWR8pSHG1WijcrrSSvlFASJR6yJcaWIfGQlMRWLBtyTFEDoGd4GNRBAMR9zQwwV9/9e777ByhFiiXzAvCb4/2qmiIIolDvYU33VH3mqecHAJn79n3speYJL3ZmJLm5wolg/ojMHm01m1/Zv39/J+tOAAAA4K/D4A4AAADgsjO5+jqz37kqJt9b/PZ97E9JeijG+OjUVO2pC78FAAAArAwM7gAAAAAuC4tdDbTPPP/Q05NpiO1EZl2P+rJMj+ZyuS9OTEwcz7oTAAAAeLkY3PHXSpLkfIyebph/UtHySaPvqqyTAAAAsIIkafM7V8X0d864eQyucN4UP+/un2+3Wl/av3//UtadAAAAwMVgWQdg+atWq3/TFe4xxZuWBq7TTGVEadKfdRYAAACWJVehO69S64QGmidisXsuXPhdOxBMD7v752+88cbHd+3alWZdCgAAAFxsDO54UbZs2VIoFou/5tK/Vsgls5U7koXSZjlfQgAAAGueyVVsTz9/kv1YmksbiSR3t69J8eFcLvfonj17vpV1JwAAAHCpsZbiJdm+ffsNvV6828x/rJ1fH6eHx0K7sD7rLAAAAFxm5qkGWqdUah1XqXUiDbGbuNQ26Y/c/VF3/+LU1NR01p0AAADA5cTgjpfDxsbG/ieX/Xu5XzVfvtnOVW5XNB4JAAAAsJolsaOB1gmVmsfV3zoVgy7cxy5PHw4hPOruf1Kr1RpZdwIAAABZYXDHy/bGN75xsNVqvUfS29KkP04PV5N68dqsswAAAHARXXjo6XGVm8e82D4rk8xlR+Xxc+7+yObNmx/jPnYAAADgAgZ3vGIjIyNjIUk+Ifdt9eI1PjM8bj0eqgoAALBi5Xp1lVvHVGoej8XOzPMPPQ3PmOJnY4wPTU1NPSXJM84EAAAAlh0Gd1wUO3fuzC0sLPyyhfB/u0LfbOWOsFC+iYeqAgAArBD53tKFkb1xLPZ1z10Y2c32mftn0zR96Iknnng260YAAABguWMNxUVVrVavk8LdUnxTK78+Tq8bD538uqyzAAAA8H3ke0sqNY+p3DgS+3pzF0Z219ck/4yZPVSr1Y5m3QgAAACsJAzuuBRsbGzsf45ud0vxirnyrXa+8nq5JVl3AQAArHm5tK5y85jKjaPfPsnu7va4mX+m1+t97sknnzyRdSMAAACwUjG445LZtm3bcAjh/zGz/7WXK6Vnh8eTZt/VWWcBAACsObnYUql5TKX6kdjfvXAnu8wm5P77vV7vs4zsAAAAwMXB4I5LbnR09IdlyX2meNPiwA2aHRpRGgpZZwEAAKxqwbsqNY+r3DjiA+0zktxcelLuD7r7H05NTR3JuhEAAABYbRjccVls3ry5b2ho6J2SvTMmBZseqiZL/a8RX4IAAAAXj3nUQPuUyo0jGmgei0EeZOGQyT8l6ff37dv3zawbAQAAgNWMtROX1cjIyG0Wwn0mvaFRfJVPD49bLxnIOgsAAGAFc/V1ZlVpHFG5eSQNsZO4bDqYHjSz/7B37959kjzrSgAAAGAtYHBHFsLo6Oj/ZiG8zxWKM5VtYaG0WTK+HAEAAF6sXFrXYOOIBhuH0nxvKZFZy6TPuvunbrzxxi/v2rUrzboRAAAAWGtYOJGZ8fHx18ToH5X8J5r5DXF63fbQzQ9lnQUAALBsmfdUbh7XYP252N85EyS5Qvgzc//dZrP50P79+5eybgQAAADWMgZ3ZM3GxsZ+xmV3u/vw+cEtYW7wNrmFrLsAAACWCVexM6vB+kENNo9G8zS4dNCk+0IIn967d++xrAsBAAAAXMDgjmVh+/btG9I0/aCkn+vmK+nZ4TckrcL6rLMAAAAyk6RNDTYOq9I4mOZ7S4lLdbl/WtInJycnJ8S97AAAAMCyw+COZWV0dPTvWUjulcdr58q36Fzldrnlss4CAAC4LMyjBtqnVKkf8v7WCZlkMtvtMd5rZg/XarVG1o0AAAAAfjAGdyw7W7ZsKReLxd+W9L/3koE4vW5H0ui7KussAACASybfW1SlcUiD9UNpEtuJy06Z/N4kSR7Ys2fPc1n3AQAAAHhxGNyxbI2MjNwZkuSTcr95YeAGzQ6NKIZC1lkAAAAXhSmq1DymytKh5x+AaqmZHo0xfmLTpk3/ZdeuXWnWjQAAAABeGgZ3LGubN2/uGxoa+i3J3pGGgqaHx5N6/7VZZwEAALxs+e6CKo2DqjQOpSF2E1k4ZPJ7kiT53YmJiTNZ9wEAAAB4+RjcsSKMjo5utRAekPvoUvFan1k3ZmkoZp0FAADwopiiSo2jGqofjMXOdJBZV+67zOwT+/bt+4p4ACoAAACwKjC4Y8XYuXNnbnFx8e0u/bZCIZkeGk0WB64XX8YAAGC5yvcWVKn/t9PsrvCsKX4sSZLf3bNnz2zWfQAAAAAuLpZKrDijo6ObJbvfTD/c6Lvap9eNWy8pZZ0FAAAgSTJPVWodV2XpQOzvTAfJupLvijHeMzU19V/FaXYAAABg1WJwx0oVxsbGfim6f0CW9M9UtoWF0mbJ+JIGAADZyPcWVWkcUqV+MA2xk7jsoMk/wml2AAAAYO1gncSKtmPHjmt7vfQeyX+8VbgiTq/bHjq5wayzAADAGmEeVWqd0ODSsz7QOWuS9cz0OXe/p1ar7Ran2QEAAIA1hcEdq4FVq9V/5LK7ZVY5X7k9zJVfJ+fLGwAAXCK5Xl1DjUMarB9Ik9hOXHbE5B/tdrsPPPXUU2ez7gMAAACQDRZJrBpbt269slAofNjdf6adXxfPrtseOvl1WWcBAIBVwuQaaJ3QUP2g97dOmbtHM3vU3e+ZnJz8L5Ji1o0AAAAAssXgjlVnbGzsp6PbxyW/Ym7wNjs/eJvckqyzAADACpVLG6rUD6rSOJQmaTNxhROm+LEY4/1TU1Mns+4DAAAAsHwwuGNV2rZt23CSJO+X9IvdfCU9M7w9aRc2Zp0FAABWiAun2U+qsnTAB9qnTJK7+xdDCB+74YYb/njXrl1p1o0AAAAAlh8Gd6xq4+PjPxpd98vja+bLt2i2crvccllnAQCAZSrXq6vSOPRdp9ntpMnvyeVy909MTBzPug8AAADA8sbgjlVvy5Yt5WKx+G8kva2XlOLZdduTZt9VWWcBAIBlwjyq1DqhwfpBH2ifNnePkr5oZh+/8cYb/4jT7AAAAABeLAZ3rBnj4+P/Qxr1SVO8aaG0SbOVbYohn3UWAADISL67cOE0e/O5NKTtxGVHg+njaZo+wN3sAAAAAF4OBnesKTt37iwuLS39qxjjb8bcgJ8dHk8axWuyzgIAAJdJ8J7KzaMarB+Kxc5MkKwn+UMhhE/s3bv3TyXFrBsBAAAArFwM7liTxsbGRqL7J03aujRwvWaGRpWGvqyzAADAJeEqtqdVaTyncvNoNE+DS8+Y9HFJD9ZqtZmsCwEAAACsDgzuWLOq1Wre3X/DLPzrGPJhengsWep/jXhZAACwOuTSugYbh1VpHEpzvXri0pJJnwohPLB37959kjzrRgAAAACrC8si1rzR0dFbZXa/SW+oF6/x6eFxS5P+rLMAAMDLELynUvOYBuuHY3/nTJDk7vblEHR/Pp9/5PHHH29m3QgAAABg9WJwByTdddddyaFDh94qs/e65fIzQyPJwsAN4iUCAMDyZ3L1t05rsHlEpcbRaIrBFZ41xftzudynJyYmjmfdCAAAAGBtYE0Evsv27dtv6KXpvSb9rUbhSp9Zv8O6SSnrLAAA8Fe4it3zKjeOqNw4nCaxnbjCeXn6YAjhU/v27dsrrowBAAAAcJkxuAN/lY2Njf1CdP+QFAZmh7aFhfJNcl4uAABkrtBbVKlxRIPNw2m+t5S41AlmD8cYHzSzP6rVat2sGwEAAACsXSyIwA8wMjJyjVnyMTP/yWZ+Q5xevyN0c5WsswAAWHNyvboGW8dUqh+Ofb25IMkl+xPJH8zlcg9PTEwsZN0IAAAAABKDO/BCbGxs7Gei20ckHz5Xeb3Nl2+VW8i6CwCAVS2XNlRuHlOpcTQWu7NBktzt8RD0H5Ik2TUxMXEm60YAAAAA+O8xuAMvwsjIyBUhhA9J+kft3HCcXr8jtPPrss4CAGBVyaV1lZvHVWoei8XOzIWRXaqZ9AchhM/s3bv3WNaNAAAAAPDXYXAHXoLR0dE3WUg+4R6vmh+8zc5VXi8Xp90BAHi58r1FlVvHNdA4Fovdc98Z2YPZH4YQdu3Zs+e5rBsBAAAA4MVicAdeomq1OmRm73P3N3dzg+nZdTuSVmFj1lkAAKwQrkJ3TuXWCZWbx9J8dz6RJJntkftn0jR96IknnjicbSMAAAAAvDwM7sDLVK1W/6bLHjD59fOlmzRb2SoP+ayzAABYdkyuvvb0hZG9dTxNevXE3aOF8BWP8XNpmj7y5JNPnsi6EwAAAABeKQZ34BWoVqsDkt4j6f9IcwPx7PD2pNF3ddZZAABkzryngdZplVonVGqdSEPsJC61TfrPkh5JkuSLe/bsmc26EwAAAAAuJgZ34CKoVqs7XPZJk79uceAGzQ6NKA2FrLMAALiskrT5/MB+0vvbp908BpfNmfwRSY9K+lKtVmtk3QkAAAAAlwqDO3CRbNmypdDf3/9Od/3LNBRsZt14slS8NussAAAuoQv3sZdaJzXQPPGdh57KwiF5fNjdH920adNXd+3alWYcCgAAAACXBYM7cJFVq9XbXXrApOpS8VqfWTdmaShmnQUAwEVhnqq/fVal9kmVmsfTJG0mktzdHpfiI2b2hVqt9o2sOwEAAAAgCwzuwCVw1113JYcOHXq7S7+tUMhND40kiwOvFS85AMBKlMS2BlqnNNA8rlL7VDRPg0sNk/6TmX3B3f9TrVabyboTAAAAALLG+gdcQtVqdZOb3WfuP9Lou8qnh7dbL1fKOgsAgBdU6C1eGNhbJ2OxM2OSmyucCOaPuPvn5+fnv3LgwIF21p0AAAAAsJwwuAOXno2Ojv6SzD4oS/pnh7aFhdJmOS8/AMBy4q6+7qxKzRMqt46n+d5iIkku1Ux6NMb4+ampqacu/BYAAAAA4Pth8QMukzvuuOPVuVzhY1J8U6uwMZ4d3h66+UrWWQCANcw8qtg+o3LrhErNY2kS24lkXXd9OQQ9kqbpF6ampk5m3QkAAAAAKwWDO3B52djY2M+47G53X3e+8nqbK98qt5B1FwBgjTBPVWqfUql5TKXWidRiL3FpyaQvuPsj/f39//mxxx5bzLoTAAAAAFYiBncgA9VqdaOZ/Y67/2w3P5yeGd6etAvrs84CAKxSFrsqtU6p1DyqUutkNMXgshl5/JyZPdRqtXbv37+/k3UnAAAAAKx0DO5AhsbGxn4suu416VVzg6+zc4Ovl1uSdRYAYBUwT1VqnVSpcUQDrRMxyIPLTpl8l7t/dtOmTV/dtWtXmnUnAAAAAKwmDO5Axt74xjcOttvtf+vub+3lyunZ4e1Js+/KrLMAACuQeVR/+7QGm0dUah6P5mmQhdMm/4M0Tf9wampqQlLMuhMAAAAAVisGd2CZqFarP+SyB0y+eaG0SbOVbYohn3UWAGDZc/V1ZlVpHlG5cSQNsZPIwjl5/IMY42empqb+QozsAAAAAHBZMLgDy8jOnTuLS0tLq5X11QAAF65JREFU/yrG+Jsx1+/Tw+NJvfjqrLMAAMtQLm1osHFYlcZzaa63mMisZdJnY4wPViqVP9m9e3cv60YAAAAAWGsY3IFlaGRk5I6QJA/IfWSp/zrNDo+qF4pZZwEAMmaKKjWPa7B+0AfaZ0ySu9mfBul3m83mw/v371/KuhEAAAAA1jIGd2CZ2rlzZ25paelXo/t7POSTmaFqsjhwvXjZAsDak+/Oa6hxSIONQ2mI3cQVDgfze83s9/bu3Xss6z4AAAAAwAUsd8Ayt23btptCSO4z0w83+q7y6eHt1suVss4CAFxi5qlKzeMaqh+Ixc50kKxrps+Y2b179+79c0medSMAAAAA4HsxuAMrQxgdHf1nMvugFPpnh+4IC+Wb5byEAWDVyaUNDdUPqNI4mIa0nbjCs6Z4d6FQ+NTjjz9+Lus+AAAAAMAPxloHrCB33HHHq5Mk/xEz/6lWfkOcXr89dHJDWWcBAF4xV7Ezo6Glb6rUPO5ydzN7SNJHarXabnGaHQAAAABWBAZ3YOWxarX6v8jCR919/Vxli50v3yq3JOsuAMBLZB5Vah7T8NI3Yl/3fHCF88H8o0mSfHRiYuJ41n0AAAAAgJeGwR1Yoe688871nU7nA5J+vpuvpGeGtyftwsasswAAL0Lwnir1gxpe+kaapM3EZd8IpveXy+UHd+/e3cq6DwAAAADw8jC4Ayvc2NjY33HZffL4mvnSTZqtbJWHfNZZAIDvI4ltDS19U8P1Z1OL3cTNvqwY3z85OfnH4toYAAAAAFjxGNyBVWDr1q2lXC73HjN7e5oMxDPD40mz+KqsswAAz8ulTQ0vfV2DSwdiUDQz+0NJ7923b99U1m0AAAAAgIuHwR1YRcbGxrZH9wdMum1p4LWaGRpRGvqyzgKANSuX1rVu8esarB+MJkXJH3D3901OTh7Iug0AAAAAcPExuAOrzJYtWwrFYvFfSPauGPJheqiaLA1cJ17uAHD5fNfQ7ib13OM9+Xz+vTwIFQAAAABWNxY4YJWqVquvc7f7zfzORt/VPr1uu/WSgayzAGBVS9Km1i8+o8H6AZe8a9JHY4zvm5qaOpl1GwAAAADg0mNwB1a3UK1W3+LS+2RJ/+zQtrBQ2iznpQ8AF1USOxpefEaVpW/GIEX3+DF3/7cM7QAAAACwtrC6AWvA+Pj4a2L0j0r+E63Cxji9bnvo5CpZZwHAimexq+H6tzS88Ew078nM7pf0nlqtdjTrNgAAAADA5cfgDqwdNjo6+g8sJHe7+/q5yhY7X75VbknWXQCw4phHDTYOacPi02lI24mkXUmS/NaePXu+lXUbAAAAACA7DO7AGnPnnXeu73Q6H5D08918JT07vD1pFTZmnQUAK4Sr1DyhDQtPpPneUiKzP/MYf2NycrKWdRkAAAAAIHsM7sAaNT4+/qNp9PtMft1C+SbNVrYqWj7rLABYtordc9owNxWLneng0jNy/7XJyck/luRZtwEAAAAAlgfukgDWqJMnTx664oqNn0iSpNDXOXdnpXE4dnKV0M0NZp0GAMtKLm3oivmaNs7VlKSt6WB624033viWL3/5y89m3QYAAAAAWF444Q5Ao6OjVQvhk3J//dLAdZodGlUvFLPOAoBMmadat/R1DS08E02xa9J7u93u+5566ql61m0AAAAAgOWJwR2AJKlareYl/apL71YoJNNDI8niwGvF2wSAtcdVbhzTxoWpNEmbiZl9OkmSd0xMTBzPugwAAAAAsLyxpAH4HqOjo5sVwr3m/iPNvqvj9PBY6ObKWWcBwGXR153Txrnat+9pr8n9lycnJ7+WdRcAAAAAYGVgcAfw/djY2Ng/del3oltpbmhrmCvfIuctA8AqlcSO1i88rUr9gLs0K4+/MTk5+XuSYtZtAAAAAICVg/UMwA80Pj5+dYzxw5LuaueG4/S67aFdWJ91FgBcPO6qNA5pw8KTaYhdSf6hXC73f01MTCxknQYAAAAAWHkY3AG8oNHR0Z+UhXtMunqufLOdq9wut1zWWQDwivR1zmnj3L5Y7J4LMtsd0/StU1NTz2TdBQAAAABYuRjcAbwoO3bsqHS73d82s7emuVI8OzyeNPquzjoLAF6yEDvasPCUKvUDkoXTHtNfmZyc3CXJs24DAAAAAKxsDO4AXpKRkZE7LST3m/x1i/3Xa3Z4VGnoyzoLAF4E12DjsDYuPJGGtCPJf6dYLL77scceW8y6DAAAAACwOjC4A3jJtmzZUigWi/9CsnfFkA8zQ6PJ4sD14i0FwHJV6M3rivP7YrEzHST7ixDsLXv37t2fdRcAAAAAYHVhHQPwso2Njd3irnsl/6FG31U+s27cukk56ywA+A7zntYt/KWGl77pZnbe5G/ft2/fp8X1MQAAAACAS4DBHcArFUZHR3/RQvhAdCvNDW0Nc6Wb5Ray7gKwxpVaJ3TFXC1N0kZw9493u913PP300+ez7gIAAAAArF4M7gAuivHx8atjjB+WdFe3MJyeHd6etPLrs84CsAbl0oY2zu3zUuukyexpj/HNk5OTX8u6CwAAAACw+jG4A7ioRkdH3yRLPmaKr54v36xzla2Klss6C8AaYHINLX1T6xeejqbYMum3yuXyv9u9e3cv6zYAAAAAwNrA4A7gotuyZUu5v7//Pe7+K2nSH6eHx5J68dVZZwFYxfo6M7pqbl+a784lkh7O5XJvm5iYOJ51FwAAAABgbWFwB3DJjIyMjFkI95m0td5/rU8PVS1N+rPOArCKhNjRhoWnVKkfkCwcl8e31Gq1/5h1FwAAAABgbUqyDgCwep0+ffrkLbfccm+n01kspIt/Y6hxwNKQD53CevHzPgCvjKvcOKJrzv15WmzPuKT/V/K7arXaM1mXAQAAAADWLhYvAJfFtm3bXhtC7iNm/mOt/IY4vW48dPLDWWcBWIHyvQVdcb4W+ztngrs9HoLevG/fvr/MugsAAAAAAAZ3AJeTjY6O3iUL/17yjfODt9q5wS1yHqoK4EUwT7Vu8RkNLz7jkhaC6df27dv3gKSYdRsAAAAAABJXygC4zE6dOrX/qquu/EQIYajYmRmrNA/HTm4wdHODWacBWMYGWqd0zexX0lLrRAhmn5T8J2u12mOSPOs2AAAAAAC+jRPuADIzOjr6BgvhXrlvqfdf6zNDVevxUFUA3yWXNrRxbtJLrePmsq+b/M21Wu0vsu4CAAAAAOD74YQ7gMycOnXq+DWvetUnJC0U0sW/MVR/NkTLWaewQfw8EFjbzKPW1b+hq2f/IhbShbakd5r087Va7XDWbQAAAAAA/CAsWgCWhZGRkevNkg+b+U+1c8NxZt14aBU2ZJ0FIAP97dO6Yq6W5nuLibt/Lp/Pv31iYuJ41l0AAAAAALwQBncAy8rY2NhPR9dHTH7NfGmTzlXuUAyFrLMAXAa5tKEN80+o3Dwqlw6a9M9rtdqXsu4CAAAAAODFYnAHsOxs3bq1lMvl3mUWfi0mBc1UtiWL/a+VjLcsYDUyRQ0tfl3rF/ZHM+/I/d3z8/MfPHDgQDvrNgAAAAAAXgrWKwDL1vj4+JYY/WOS/1CzsDHODI+FTn446ywAF42r1DqpjXOTaS6tJ2b2mSRJfp3rYwAAAAAAKxWDO4DlzsbGxn7WZb/jHtcvlG+xc4OvVwz5rLsAvAKF3oI2zNV8oH3GZLY/mL117969X8m6CwAAAACAVyLJOgAAXsjJkyefuurKKz9uZuVid3a80jgUe0l/6OSHxM8NgZUliW1tXHhSV5yf8HzamDfpVwcHB9/81a9+9bms2wAAAAAAeKVYqgCsKOPj49vSGD9q0htahSvi9PBo6OTXZZ0F4AWYpxqqP6v1i/tTiz2Z6d+12+13P/300+ezbgMAAAAA4GJhcAewEoVqtfqPXfZ+kzYslDfbucHblYZC1l0A/gpXuXFMGxaeSHNpI3G3L+Ry4df37NnzrazLAAAAAAC42BjcAaxY1Wp1yN3/T7Pwthjymq1sTRZLm+S8tQHLQn/7rNbPPxGL3XNBZk/I/VdrtdqfZd0FAAAAAMClwioFYMUbGRm5zZLkQ+b+o938cDo9NJo0+67MOgtYs/q6c1o//4QPtE+bLBz3mP7m5OTk70uKWbcBAAAAAHApMbgDWC1sbGzsp6LrQya/vt5/rc8OjVg3KWXdBawZhd6i1i08rXLzqFyaC2bvnpub+8iBAwfaWbcBAAAAAHA5MLgDWFU2b97cNzQ09HaZvctdxbnyLWGuskXR8lmnAatWPl3SusVnVK4fckmNYPb+JEk+ODExsZB1GwAAAAAAlxODO4BVaXx8/OoY43sk/WJM+uLs4O3c7w5cZPl0ScMLz2iw8ZxL3glmH3b399VqtZms2wAAAAAAyALLE4BVbWRk5A5Lkg+Y+9/u5ivpzOAdSaP/GvH2B7x8hd6ihhefUbnxnEvqyP0j+Xz+vRMTE2eybgMAAAAAIEssTgDWAhsbG/sxlz4o91tahSvj7NC20Cqsz7oLWFH6uucvDO3NY5JZU+53hxA+sHfv3tNZtwEAAAAAsBwwuANYM3bu3JlbWFj4BVnyb0zxyqXitX5+6A7r5AazTgOWMddA67SGl74Z+9ung8wW5P7/JUny4T179sxmXQcAAAAAwHLC4A5gzdm6dWupUCi8Pbq/Q9LAYmmTnR98vXpJf9ZpwLJhnmqweUTDS99I892FxGUng+n9fX199z722GOLWfcBAAAAALAcMbgDWLO2b9++IU3Td0j2NjdLFko3hbnBW9ULxazTgMzk0oaG6gdUqR9IQ+wkMpuU+wck7arVat2s+wAAAAAAWM4Y3AGseTt27Li22+3+lln4Zy6zufLNYX7wVqWhL+s04LIwufpbp1WpP+ul1im5Rzezz5nZh/bt2/dVSZ51IwAAAAAAKwGDOwA8b3x8/MYY47sk/Zxb4nOlmxjesarl0roG689pqHEoTdJG4gpnTfGeXq93z5NPPnki6z4AAAAAAFYaBncA+O9s27btpiRJ/qW7/2NZovnyTWGu/Dql3PGOVcBiV+X2CQ3Wn/P+9hmT5O72R2b+8cHBwS/u3r27l3UjAAAAAAArFYM7APwA1Wp1k7u/0yz8E5dssbQpzJVfp26unHUa8JKYp+pvndZg86hKzWPRFIMsHPKY3pfP539vYmLieNaNAAAAAACsBgzuAPACqtXqde7+GzL7JZMVlvpfbfPl29QqrM86DfiBTFH9zVMqt46r3DqeWuwmsjDrMf19SQ9OTk5OiLvZAQAAAAC4qBjcAeBFGhkZuSKE8Msu+xWTD7UKV8S58s2h0X+tnLdTLANJbGugdUoDrRMqtU5G8zS4bM7knzOzz5TL5T/jyhgAAAAAAC4dFiIAeIm2bt1ayufz/0QWfl0eb0hzpXRuYHOyWNqkNBSyzsMaYnL1dc6rv31KA61TsdiZCZLkspPB9HCM8aFKpfLnjOwAAAAAAFweDO4A8DLdddddycGDB3/ckuTtivFvRVmsl24ICwObnr9uhrdYXGyuQm9RxdYZDXTOaqB9JrXYSSS5zPaY9IU0Tb84NTX1lLguBgAAAACAy441CAAugtHR0Vsl/XOZ/YJJpW5hOJ3r35TUB67n1DteNlNUoXNO/Z0ZFdsz6u+cTcOFgV2ucDiYf0nSl9rt9p8+/fTT5zPOBQAAAABgzWNwB4CLaOvWraVCofAPo/QWcx9zC7FevDYsDtygZvFq7nrHD2Ry5XsL6uucU7FzToXObOzrnjeTmyS57IDJd7v7V5Ik+crevXuPZd0MAAAAAAC+F8sPAFwi1Wr1dnf/BQvJz8njhpj0pYvF65KlgevVym+QjLfgtcmVpG0VevMqdOdV6M6przsXC705mccgSbKw6NEnpDgh6Wtm9rVarTaTbTcAAAAAAHghrD0AcIlVq9W8mf0dd/9Zmf2Pci+mSX+61H9dslS8Vu2+jZx8X4XMU+V6dRXSReV7Fz4K3Xkv9Bbit6+FkSSXTZt8UtKUu09JmpycnDwo7mAHAAAAAGDFYeEBgMto69atpVwu96YQwj+I7j9hUl9M+tJ68dVJo3iNGn1XKVo+60y8CCZXkjaVS+vK9erKp3XlekvKp3Uv9BbTJG3mvvvPXxjWtd9M+2OMXw8h7Hf3v+TkOgAAAAAAqweDOwBk5Pnx/e+a2d932U+bfMhl3i5sVKN4tTX6rlKnsIHT7xkwj0piU7n0wkeSNp7/dUO5tO75tJGGtJnY934fdZedMemA5AckHTSzA+7+rVwud2BiYmIhq88HAAAAAABcHqw4ALAM3HXXXcnhw4d3xBj/npv9uLlXJZlbElt9V1qjsNHahSvUKqyXW+4F/z58P64Qu0piS7nYVtJrXhjVY0tJ2lKSNpWPzTRJm/ruK1++w6zhrpPyeFjSUUlHQwjH0jQ9EkI43Gq1ju3fv79zuT8rAAAAAACwfDC4A8AydPvtt6/L5/M7zexHZPa35b5FkrnkvfxwbObXJ+3CerXzw+rkhuRhbV5DY3KFtK3E2xdG89i+cM1LbCt855+tmI/NGGI7fOehpN/FpbZkZ+Q6buYnJZ16/uOkmZ1M0/RECOFErVabv+yfIAAAAAAAWFEY3AFgBahWq0Nmtt3d75S0w2XbTb7x2/89zQ302rnhXCdXUTdXVjc3qG6urDQZWFFX0phHhdi+MJzHjpLYuvDvaVs5b18Y12PLc2krJt72kHYSyb/PJ2hdl6YlP2XSaUmnzeyMu59x99Pufjqfz59O0/RMrVZbEA8oBQAAAAAAF8HKWWEAAN9jZGTkmhDCiKTb3f02mW01s5vl3v/tP+OSx6Q/7YaBpJcbsDQUlSb9SkNBMSkqtYJiyCtaXh5ySpVIIfeSR3qTS54qeCrzVBZ7StSTxa6C9xS8K0u7Ct65cK2LdxVi5/lRvZ0mseMXTqCnf+UE+vOiK8xLflau02Z+1szOuvsZSdPufjaEcCaEMM2IDgAAAAAAssLgDgCri1Wr1avdfbOkTZKul3Sdmb3GZddJusrkwy/0l7jMJXOFxF3msu/6duEuyc3c5R7NFM1eyveTC3ehz0t23hRnJc1KmjWzc+4+K2nW3WfNbFrSTJIk03v27DkvKb6E/w8AAAAAAACXHYM7AKwxO3fuzDWbzQ2dTmdDkiTrYozrzKzi7uUQQinG2G9mfZL6JOUl5dw9hBAsxuhm5rowfncldc2s4+5tM2u5e1NS08zqMcalEMJijHExl8stJkky39fXt7B79+5ehp8+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcHH9/4wpH8R6+9EQAAAAAElFTkSuQmCC" style="height:50px;"></td></tr>
    <tr><td headers="Species" class="gt_row gt_left">Chinstrap</td>
<td headers="Min" class="gt_row gt_right">2700</td>
<td headers="Mean" class="gt_row gt_right">3733.09</td>
<td headers="Max" class="gt_row gt_right">4800</td>
<td headers="Distribution" class="gt_row gt_left"><img src="data:image/png;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoK7FZAAAAPUlEQVQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHgm/z8udfFKOoLt3QAAAABJRU5ErkJggg==" style="height:50px;"></td></tr>
    <tr><td headers="Species" class="gt_row gt_left">Gentoo</td>
<td headers="Min" class="gt_row gt_right">3950</td>
<td headers="Mean" class="gt_row gt_right">5092.44</td>
<td headers="Max" class="gt_row gt_right">6300</td>
<td headers="Distribution" class="gt_row gt_left"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABdwAAAH0CAYAAAAnhe8sAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA9hAAAPYQGoP6dpAAAgAElEQVR4nOzdebSld13n+8/39+zxnH2GGpNUQqaKiclJKnXOPqdiQXd79LrQph24V4tW6asiDgwiXKMI2kIEAbmIqKA4NTTY3lYK24aWq92KFGBIqursU1MqY2W0UknqzNM+e3p+3/6jKkwyZKiq5wzv11q1SGoVa70LWIvf75OnnkcCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADfnGUdAAAAAAD4F8Lu3bv7O51Ov6TeGGPF3StmVnL3oqS8pFwIIUhSjNFDCB1J7bM/liXV0zRdTJJkwczmuru7Z/ft29fI7HcEAACwDjC4AwAAAMAFtHv37nKn07k6TdOrJF0h6XIzu0zSNlnY5q4tptiv83Bfc6kl2bSkCZOfkvSkpCcknXL3x939MUmPHjp0aPLMLwcAAMCzweAOAAAAAOfBwMBApaura4e73xRjvFHS9bJwg8kv+fJfFxVimnTFTlJO0qRsaSjq6R8x5OUhr2h5ecgpWiJXkCtIFr64iJskeZQpSh4VFGWxI/OOEm8rxLaCt5XEpkJsKUmbStJGzMV6DOlyCPLwFfFmDXc9EkwPuPsDkh5w9/vTNL3vyJEjp8QYDwAA8DUxuAMAAADA8zQ6OlpaWloaijF+m7uPWEh2yeNVenoLD4W0kfRaJ98TWrkedXI9aifd6uQqSkNe2V7NXCG2lUvrZ350lpRPl5TrLKqQLqb5zoKZp+FLv1pLMrtbMR4LIdwl6a5Wq3Xk6NGjpzP8TQAAAKwIDO4AAAAA8Cy96EUv6mk2m/86xvjtFsK3yzUkeV6SOkl3p1HYmGvmN6iV36Bmvl9pUtLqvX65krShQrqofHtOhc6C8u05L3Zm0yRt5L70q2xCHsfM7LCZjXc6nbHDhw8/Kp6GBwAA68hqPfEBAAAAwAWzZ8+e5MEHHxwJIXxPjP7dZjYieeIWYjO/yRrFrbZc2KRmYZPSUMw694IJsaVCe1bFzpwKrRkV2zOx0J4zUzzzZL9s1uQHJB1w9/3uvv/QoUMTGWcDAACcNwzuAAAAAPA13HLLLb3tdvt7QgjfF13fa/J+l7yR3+yN8sWhXtiqZmGT3JKsU1cU86hCZ17F1pQK7WmVWtOx0J41k58d4cMjpni7pC+EEL5w5ZVXHtu7d2+acTYAAMA5weAOAAAAAGft2rVrU4zxpTHqh8z0XZLn0lBM6+VLk3ppm+qFixRDPuvMVccUVWhNq9SaUqk1pXJrIk3S5TP/pMKs7lF3SPHzkj5vZnfWarV6tsUAAADPDYM7AAAAgHXt7PvY/093+1HJv0vypJ2rpEvlFyRLpcvUyG+UjKvTuZZLl1VqTajUmlSpOREL7RkzySRLZap5jPvM7HNpmt5++PDh2ax7AQAAnglOjQAAAADWnT179iQPP/zwd7r7j7v0QyYVO7lKulC+PFksX65Wvk9cly4si22V29MqNU+r1DztxdakB3mQ5C4dlfs/hhD2NZvNzx87dmwm614AAICvhRMkAAAAgHVj586dVyZJ8pMue6XJt8VQSBfKVySLXVepUdggrkgrh3mqYnta5eaESs2nvNyccFP84gBv0qfd/TNm9vlarTaXdS8AAIDEaRIAAADAGnf2afZ/526vkeKLJVO9tE3z3VdZvbhNbiHrRDwD5lGF9rTKzadUbp7+igFeZodM+rSkzywvL3/++PHji1n3AgCA9YnBHQAAAMCatGvXrk1pmv6UK7zOFC9Nk3I6131NMt91ldKkK+s8PE/m8ewT8E+p3HjKS+1JN49BslTSmJk+bWafiTF+gY+wAgCAC4XBHQAAAMCaMjQ0dL2k18vsJ0wq1osX+1z3t9hyeZucK9CaZYoqtaaeHuBjsTVpJjfJ2pL2S/6PZvaZSqVy5759+xpZ9wIAgLWJ0yYAAACAtcBGRkb+TZr6L5v5v3WFuNB9dZitXKt2rjfrNmTAPFW5Naly87RKjSdjsT39xQHeTV9QjJ8JIXyWAR4AAJxLDO4AAAAAVrNQrVa/381+xdxH0lBMZyvXJQvd1ygNhazbsIIE76jYnDj7DviJWGxPmUlf/gT8PjP73PLy8h28Ax4AADxXDO4AAAAAVp2zH0J9WXS9xeTf2s5V0tmeG5KF8hVyS7LOwyrw9ADf1TqtUnMiFltTZnJz93j2I6yfdfd/cvd/OnTo0ETWvQAAYHVgcAcAAACwaoyOjubm5+d/WGa3mbS9XehPpysDyVL5Mt7PjufFvKNSa1Ll1qRKzdNeak66KQZJctmDJv+8u38hSZIvHDx48B5JMeNkAACwAnEiBQAAALAahGq1+sMuvc2k7c38hjjTe2NYKm0T1xqcD+ZRxfasSq2JM6+iaU2kSWwmkuTSktzuNPM73P1APp8/sH///qeybgYAANnjZAoAAABgJbNqtfoDLnunya9vFTakU5Ubk3qZoR0Xmiuf1lVsTqjUmlKxNRWL7ZmzH2KVXPaEye909zFJ451OZ/zo0aOnM44GAAAXGCdUAAAAACtStVr9Djd7t7mPtPO96VTPTclS+TJxjcFKYYoqtmZUbE+r2JxSqTOd5tvzX/yIgCucNsUxSUfM7KiZHYsx3l+r1doZZgMAgPOIkyoAAACAFWVoaGiHWfL/SvG701x3OtVzU7LYdQXvaMeqYLGtYmdOxda0Cu0ZFVszsdCZN1M8+z9g67j0QDAdjTHeI+ked78vhPBArVarZxoPAACeN06sAAAAAFaEW2655bJOp/N2ST8eQyFO99yYzHdvl1vyTf+9wEpmHpXrLKjYmVOhffZHZ7aT7ywlOvtKmjO/MDzl0e818xPu/lAI4aEY4yNm9mitVntKfKj12bKBgYF8f39/sdFoFGOMBUn5EELOzHJmlkvTNHH3r9hGQggxxpgmSZK6e0dSO5fLNTudTqPRaCwfP368Lckz+R0BAFY8BncAAAAAmRoYGKiUSqU3uvRGl+Xne64PM5XrFUM+6zTgvDJPlU+XlG/PK99ZUL4zr0K66PnOYpqky7mv+tUdmT0pj4+4+0kzO+XuT4YQnnT3p8xswswmY4xTq+xJebvmmmsKGzdurLTb7Uoul6vEGCsxxkoIocfMety94u4VM6tIqphZxd0rkrrdvdss9MisW1K3pC53L0leMqmg87B7uHuU2bJZWHT3BZlmzH1a0rSZTbv7lLufNrPT7v6kmZ0qFAqn7rjjjuVz3QIAWHkY3AEAAABkJQwNDf2YLHm3KW5d7LpSU7071Em6su4CMmeKynUWle8sKZcuKZcuK5fWlUvrnkvraS42zGL7a/7xD5daks2Z2YzcZ8w04+7zZrYUY1wysyV3Xw4hLLt7U1LTzFqSOu7ecffUzKKZub70JLfFGEM48/h3YmY5Sfkv+1Ews6K7F82sFGMsm1lZ0tM/uiRVXNajM6N5t6QuuXdJ/oz+GItLrpCPUYnHkJOHvEXLBbecpUqkkFO0nNwSuQVFJVJIFBXO/EkZC3KFM6+nsnDmN2ZB7pLs7DzifuYvPZ4ZTDzKFGWeyjxVePqvY0fmbSWxreBthbTlibfSxFuytJnY19hbXDYn6TGTP+juD5vZw2Z2wt3vv/rqqx/Zu3dv+kz+cwAArGwM7gAAAAAuuJGRkRdG9/fLfWi5sDlO9Q2FZmFj1lnAqmKeKhcbStKGQmwqSRtKvKUkNmWxpeTsIGxpyxNvx6COW0xl3gnmaTgfTS5zWRLdEncLTw/gFi0XouXMLSc/O4xHS3Tm7/NKLZFb/syvDzmlZ38+6uy/htzZ7zisghnDXYm3FdLG2f9+6srHhpLOknJpXYV0Kc11FmXe+bJ/0GBtlx40+TF3P25mR5IkOXLgwIFHxOtrAGBVWQX/TwUAAABgrbj55psvzeVy75b08jTpSif7diaL5ReIqwlwobnM/YtPb595kvvM38vPTNsu19nHvyVJZnb2qXD7yifF7cwT5O72pSfF8U24ktg++yqhBRU6C8qfecd/musshKefkHfZokljko9JOhBCuPPgwYMnxQgPACsW/08IAAAA4LwbGBgolMvlN7h0W3QVZ3sGwmzP9XwQFQC+iime+bBua0bF9owKrZlYbE8rKJ75UwkWnpLHz0r6J3f/7Pj4+F3ig7oAsGIwuAMAAAA4r0ZGRr4rjf5Bk1+zVL7MJ/sGrZN0Z50FAKuGeVShM6dia0ql1qTKzYk0ly4lkuSy2WD6R3f/B0n/q1arPZhxLgCsawzuAAAAAM6Ls6+PeZ+kPe1cTzrZX03qxYuzzgKANSFJ6yo3J1RunVZX88k013l6gA+PBPNPSfpUpVL5zL59+xoZpwLAusLgDgAAAOCcGh0dzS0uLr7Opd9wt9J0701hrnKd3M7LNxoBAJLy6ZK6Gk+q3DilruaT0TwNMmvI/W/N7L/n8/m/ueOOO6az7gSAtY7BHQAAAMA5MzQ09G0Wwp/I/cal0jaf7K/y+hgAuMDMo0qt0+punFKlcTJNOvVEslTSP0r+sUKh8N8Y3wHg/GBwBwAAAPC87dy5sz9JkndKelWa64qne6tJvXxp1lkAALmK7Vl1L59UZfmxNN9ZODu++/+U9OftdvsTR48eXcq6EgDWCgZ3AAAAAM+HDQ0N7ZGFD0i+ebbyrTbTe6Pccll3AQD+BVehPaee5X9Wpf5wmkvriczqcv9YCOE/Hzx48POSYtaVALCaMbgDAAAAeE527tx5ZQi5D5r59zTym+LEhpHQyvdnnQUAeEZcpdaUKvWH1bv8WGqxnbjs0WD6kzRNP3zo0KFTWRcCwGrE4A4AAADgWRkdHc0tLCz8vMze4ZbkJ3t3JvNd2yXjegEAq5Epqrt+Uj31h7yr+aS5ezSz/+HuHxwfH/978dQ7ADxjnIgBAAAAPGMjIyM7o/uH5D64VLrMJ/qHLE26ss4CAJwjuXRJvUsPqbf+YJqkjcQVHjHF96dp+qHDhw/PZt0HACsdgzsAAACAb2r37t3lVqv1Fnd/Y8yVfaJvOFkqX5Z1FgDgPDGP6m6eUu/CA7HceirIrCH3D5vZ746Njd2XdR8ArFQM7gAAAAC+oZGRkW+Prg/J49Xz3ddoqvdmxZDPOgsAcIEUOnPqW7xflaWHYpAHyT4Vgr3n4MGDn5PkWfcBwErC4A4AAADga6pWq33u/m4z+9l2rpKe7t+VNIpbs84CAGQkiU31Lj2ovsX70iQ2E5dqwexdV1111X/fu3dvmnUfAKwEDO4AAAAA/oWhoaHvlYU/lvziuZ7rbbr3JrlC1lkAgBXAPFXP8qPqX7gnzXcWEpedkMd3mtl/qdVq7az7ACBLDO4AAAAAvmhwcHBLCOF3Jf1IM9cfJzbeEpr5DVlnAQBWInd1Nx5X/8LdsdSeDrJwUh7fMTc39+ETJ040s84DgCwwuAMAAACQJBsaGnqZLPmgTH3TPTeGucq3yo2n2gEA34yrq/mUNswfj6XWRHDZEyZ/+9zc3IcY3gGsNwzuAAAAwDpXrVYvkeyDkv9Ao7A5nu7fFdr53qyzAACrjqvcnNCG+btiuXU6uMLjpnibpI/wqhkA6wWDOwAAALB+2dDQ0I9bCL/nbt1TfTeH+cq1cq4JAIDnqdw8rY3zx84+8R4ekaf/cfv27X/Bx1UBrHWcpAEAAIB1qFqtXi7Zn0j+4uXCRXFi40hoJ5WsswAAa4qr3HhSm+aPxmJ7Jrh0t9x/eXx8/FOSPOs6ADgfGNwBAACA9SVUq9Wfkdl7o4fSVP9gmO/eLq4GAIDzx1VpPK6Nc0fSfGchkeyfJP/FWq22P+syADjXOFUDAAAA68TIyMjVqfuHzP3b68WLfWLDLuskXVlnAQDWCZOrZ+khbVy4K03S5UTSx939zePj4yeybgOAc4XBHQAAAFj7QrVafZ3MftMtl5/oG0oWuq4U1wEAQBbMU/Ut3qsN83fHoBjd4/vb7fbbjx07NpN1GwA8X5ywAQAAgDVseHj4uih92Nx3L5W2+UT/iKVJOessAACUxKY2zt+lnqUHXLJ5k/+apD+s1WrtrNsA4LlicAcAAADWoNHR0dz8/Pz/YxbeEUM+TPQPJ4vlF4grAABgpcm357Rl/rCXG0+YLNzvMX39+Pj432XdBQDPBadtAAAAYI0ZHh6+Mbr/Z5Oqi+XLNdk3pDQpZZ0FAMA31NV8Qptnx5/+sOqn3OMbeL87gNWGwR0AAABYI6rVal7SmyR7SxoKNtE/nCyVX5B1FgAAz5h5VO/SA9q0cFdqseOSv6fRaLzz+PHji1m3AcAzweAOAAAArAHVanVIZh+R+40LXVdqqm9IaShknQUAwHOSpA1tnD+q3vpDkoUnPaZvGB8f/5gkz7oNAL4RBncAAABgFRsdHS0tLCy81d3fGHNdfnrDrqRevCTrLAAAzolSe1qbZsZiqT0dFMI/KsbX1mq1e7PuAoCvh8EdAAAAWKVGRkZemEb/iMmvmeverum+nYqWzzoLAIBzy1299Ye0af5wGs6+Zqbdbr/j6NGjS1mnAcBXY3AHAAAAVpmBgYFKqVR6h6TXdZLueHrDLclycWvWWQAAnFdJbGnj/BH1Lj0oWTjpMX31+Pj432TdBQBfjsEdAAAAWEWq1eqLZeE/yf3S2cq1Nt17k9xyWWcBAHDBFFuTumh2LM23ZxNJf53L5X5+//79J7PuAgCJwR0AAABYFXbv3r2x1Wq9V9JPtPO96en+W5JGYVPWWQAAZMLk6lu8Xxvnj0ZTbMj9V66++uoP7N27N826DcD6xuAOAAAArHDDw8M/GF0flLR5tnfAZirXyy3JOgsAgMzl0ro2z455d+OUyeyQSa8cGxs7lHUXgPWLwR0AAABYoQYHB7eFEH5f0ksb+Y1xYsOu0Mr3Z50FAMAK4+pePqktc+Np6NQthPBed7+tVqvVsy4DsP4wuAMAAAArj1Wr1Ve69D4pdE333RzmKtfKOb4DAPB1hdjWpvmj6l16QC57LJh+amxs7O+z7gKwvnBiBwAAAFaQXbt2XduJ8U/M/d/UC1t9cuMt1k66s84CAGDVKLUmtXX2QJpvzyeSPpIkya0HDhyYyroLwPrA4A4AAACsANVqNe/uv2QWboshFyb7qslC1xXiyA4AwLNnnqp/4R5tWDjuZjbtMX3t+Pj4xyR51m0A1jZO7wAAAEDGhoeHd0X3D5t0w2L5ck32DSlNSllnAQCw6uXbc9o6cyCW2lPB3T6Zpu3XHDly5PGsuwCsXQzuAAAAQEZe9KIX9TQajXdI+rk06YqnN4wk9eIlWWcBALCmmFy9iw9o0/yRKE/rwewNY2NjHxJPuwM4DxjcAQAAgAwMDw//QHR90KSLZyvX2nTPjfKQzzoLAIA1K9dZ0paZ/d7VOm1u9unY6fzU4cOHH8m6C8DawuAOAAAAXEA333zzpblc7gOSXtrM9ceJDbtCs7Ax6ywAANYJV2/9YW2eO5Sad1oe4y+Nj49/UFLMugzA2sDgDgAAAFwAe/bsSR566KHXuPQuKZSn+24Oc5Vr5RzJAQC44JK0rq2zY97VOGWS/ZN7fMX4+PiJrLsArH6c7gEAAIDzbHh4eNClP5X7UL10iU/0D1sn6c46CwCAdc5VqT+qrXPjqWKrI/c3jY+P/5542h3A88DgDgAAAJwnL3rRi3qWl5d/3czekCblONlfTRZLl4pjOAAAK0cSG9oyc9C7G4+bu92Ry4WfOHDgwP1ZdwFYnTjpAwAAAOeeDQ0NvVQWft/kl8x1f4um+3YoGh9FBQBgZXJVlv9ZW2bHUoutNJi96aqrrvq9vXv3plmXAVhdGNwBAACAc2jXrl1XpWn8gOQvaeY3xMkNI6GR56OoAACsBrnY0ObZMe9ePsnT7gCeEwZ3AAAA4BwYGBgolEqlW116qyvJT/fvDPPd1/BRVAAAVp2vfNpd7r/Mu90BPFOc/gEAAIDnqVqtfocs/KE8XrvYdbkmeweVJuWsswAAwPOQiw1tnhnz7sZJc7cvSPHHx8fHT2TdBWBlY3AHAAAAnqORkZGLY4y/JenlnVxPOtFfTerFi7POAgAA54yrUn9MW+dqqWKrY9Iv1Wq13xdPuwP4OhjcAQAAgGdpdHQ0t7Cw8GqX3umyrtmegTDbe4NcIes0AABwHiSxoS0zB7y7ccrc7HO5EH7iwIEDD2fdBWDlYXAHAAAAnoWRkZEXRvc/kvuN9dIlPtlftXZSyToLAACcd66e5Ue1ZbaWmndacv+FWq32R5I86zIAKweDOwAAAPAM7NixY2uhUPhNd39FmutKJ/qqyVJpmzhSAwCwviRpXVtnDnhX80lzs0+b+0/WarXHsu4CsDJwOwAAAAC+gdHR0dzi4uKrXHqnuyqzPTfYTM8NckuyTgMAAJlx9dYf1qaZWjSly8Hs9WNjYx8ST7sD6x6DOwAAAPB1jIyMvDCN8YMm7VguXeITfUPWzvVknQUAAFaIXFrXlpn93tV8ytztb93Tnzp06NCprLsAZIfBHQAAAPgqIyMjF8cY3y3px9JcdzrRN8TrYwAAwNfh6lt6SJvmxqMpLnmMrxkfH/9z8bQ7sC5xYwAAAADOqlareTP7uej+dlkoz/bcEGYq1/P6GAAA8E3l0yVtmb4zllsTQbJP5HLJz+7fv/+prLsAXFgM7gAAAICkoaGh77QQ/kDu1y2VtvlU/5C1k0rWWQAAYDVxV9/SA9o4dziafF4ef3Z8fPxjWWcBuHAY3AEAALCuDQ4OXmFm7zWzH+zketKJ/qGkXrwk6ywAALCK5TsLZ552b08FSR+X9OparTaZdReA84/BHQAAAOvS7t27y61W65dc+hVZkp/pvTHMdl/L62MAAMA5YXL1Ld6njfNHo0kzHtOfHh8f/+usuwCcXwzuAAAAWG9saGjopRaS35XHFyx2XaHJ3puVJl1ZdwEAgDUo35nX1uk7Y6k9HST9eaFQ+Pk77rhjOusuAOcHgzsAAADWjcHBwRsshPeb9J3NXH+c3DAcGoXNWWcBAIA1zuTqW7hHG+ePRUlT8viT4+Pjf5N1F4Bzj8EdAAAAa95NN920oVAo3ObuP+dJ0ad6dyQL3dvlHIcBAMAFVOjMaev0nbHYngmSPpKm6RsOHz48m3UXgHOHF1QCAABgzdqzZ0/S1dX1MyHJf1Lyb5+vXBue3PSvQ6O4RTx7AgAALrQ0lLTQdbW5BZWaEzeHJHnFpdu23X3q1KkHsm4DcG5wywAAAMCaNDg4+G8sJB8w+U3LxYviZP9QaOX6ss4CAACQJBXbs7po9s4035pNzOzDnU7nF3jaHVj9GNwBAACwplSr1cslvUfSyzpJVzrZN5QslS8VR18AALDSmEdtWLxb/fPH3cye8pi+Ynx8/O+y7gLw3HHrAAAAwJpQrVa7zOyN0f3NUshN9w6EuZ7r5QpZpwEAAHxDxfaMLprZn+bbs4mk/yTp1lqtNpd1F4Bnj8EdAAAAq50NDw//++j6bZNfsth1pSZ7dyhNurLuAgAAeMa+/Gl3SU8G0yvHxsb+NusuAM8OgzsAAABWrWq1OuRuHzDz3Y38xjjZPxSahc1ZZwEAADxnX/60O+92B1YfBncAAACsOiMjIxenafoOM3tFmpTiVO/OZKF8hWQcbwEAwOr3Ve92P23ynxwbG/v/s+4C8M1xIwEAAMCqcc011xT7+/tfH93fIlnXXM/1Nl25Xh7yWacBAACcc8X2rC6avTPNt2YTSR9ttVpvOHbs2EzWXQC+PgZ3AAAArAZWrVZ/wBXeZ4pXLpUu86n+ndZOKll3AQAAnFfmUf2L92jD/F0uaTKYfnpsbOwTWXcB+NoY3AEAALCiVavVm2T2u3L/jna+P53oG0qWi1uzzgIAALigCu1ZbZ05EIvt6eDuf2Fmr6vVapNZdwH4SgzuAAAAWJEGBwe3hBDeJulnYyjE6d6bk/nuq+UcYQEAwDplcvUv3qsN88eiXHPB/DVjY2N/KcmzbgNwBrcVAAAArCjVajXv7q+V2dsl656rXGszPQOKoZB1GgAAwIqQ78xr68yBWGpNBnf7pHv66kOHDp3KugsAgzsAAABWDqtWqy9x2e+Y/Jp6aZtP9Q1aK9eTdRcAAMCKY3L1Lt6vTXNHohTrwez1Y2NjHxZPuwOZYnAHAABA5gYHB28ISfI+ub+4ne9NJ/uGknrx4qyzAAAAVrx8uqgtM2Ox3HwyuNmncyH89IEDBx7OugtYrxjcAQAAkJldu3Zt6nQ6t0l6jScFn+rZkSxUruE97QAAAM+Kq3fpIW2eP5yad9oe40uucC4AACAASURBVJu3b9/+/r1796ZZlwHrDTcZAAAAXHDVajUv6dUye7u7euYr19o072kHAAB4XpJ0WVtmx7y78bi52cHE7BUHDx48nnUXsJ4wuAMAAOCCGh4e/rfR7XdN8VvqxYt9sn/I2rnerLMAAADWCFdl+aS2zI2lIW255O+am5t7x4kTJ5pZlwHrAYM7AAAALoihoaHrzZL3SfG72/nedKJ3MFkuXZJ1FgAAwJqUxJY2zR9Wz9JDcoUHgvkrxsbGbs+6C1jrGNwBAABwXu3evXtjq9W6zd1fq6ToU703JfNd2+UWsk4DAABY88rNJ7V19mCa6ywlkj4o6c21Wm0u6y5grWJwBwAAwHlx9j3tr5LZb7h7z3z3t9hM701KeU87AADABWWeasP8MfUv3utm4bTH9NXj4+N/nXUXsBYxuAMAAOCc+xfvae8bsnae97QDAABkqdie0ZaZg7HYng6SfSKXS35u//79J7PuAtYSBncAAACcM4ODgzeEkPttKX53O9eTTvQN8Z52AACAFcTk6lu8Xxvnj0Z5umzSm6+++uo/2Lt3b5p1G7AWMLgDAADgedu1a9emTqdzm6TXeFLw6d4dvKcdAABgBculS9oyW/OuxilzqZaE8FMHDx48nHUXsNoxuAMAAOA5GxgYKJTL5de69OvuqsxXrrWZngHe0w4AALAquCrLJ7V5rpYmaSNIel+j0Xjr8ePHF7MuA1YrBncAAAA8FzY0NPS9FpLfkcer66VLfKpvyFq5nqy7AAAA8CyF2NamhaPqXXxALjsVTK8eGxv7ZNZdwGrE4A4AAIBnpVqt3uRm7zP3/6Od600n+4eSevHirLMAAADwPJVa09o8cyAWO7PB3T5p5q+r1WqPZd0FrCYM7gAAAHhGbrnllovSNH2bu/90DIU41bsjWejeLudICQAAsGZ8+UdVTbFl0lvd/X21Wq2ddRuwGnA7AgAAwDc0OjpaWlhYeL1LvyZZea5yXZjpGVAM+azTAAAAcJ7k0mVtmq15pXHSXHavPP7M+Pj457PuAlY6BncAAAB8PTY0NLTHQvJb8viCxdJlPt2309q5StZdAAAAuEC6mk9oy8xYmkuXEkkfzeVyb9y/f/9TWXcBKxWDOwAAAP6FarV6i0u/Y9K3NfMb4mTfYGgUt2adBQAAgAyYp9qweI/6F+6O8liX+5u2b9/+h3v37k2zbgNWGgZ3AAAAfNHg4OAVIYR3SfqRNCmnU703JwvlKyTj2AgAALDe5TsL2jI37uXGE+bSEY/x1YcOHboj6y5gJeHmBAAAAN1yyy29nU7nzZLd6rJkpueGMNvzrXLLZZ0GAACAFcXVvfy4tsyNp0laT8zsw61W601Hjx49nXUZsBIwuAMAAKxjo6OjuYWFhZ+Whd+Qx40L3VdrqucmpUk56zQAAACsYOapNiwcV//CPS75kkm/2tPT8wf79u3rZN0GZInBHQAAYH2yarX6Epn9ttyvXS5eHKf6doZmvj/rLgAAAKwi+c6CNs+Oe1fzCXPpHpNeW6vVPpN1F5AVBncAAIB1ZmRkZGd0/225f0c735tO9u5M6qVLxNEQAAAAz1VX45S2zI2nuc5iIunjkm6t1WqPZd0FXGjcqgAAANaJW2655bJOp/Mbkn4sJsU41XNTstC9Xc6REAAAAOeAeaq+xfu1ceGuKE/bcn+Xmb2nVqvVs24DLhRuVwAAAGtctVrtk/TLLt3qstxcz/Vhtud6RctnnQYAAIA1KEnr2jx/VJX6I3LZqWC6dWxs7C8ledZtwPnG4A4AALBGDQwMFEql0qtc+nWT+he6rtJ07w51+CAqAAAALoBia1KbZ8djqT0d3OwOT9OfP3To0FjWXcD5xOAOAACw9tjQ0NAeWfJuU7yyXrzYp/p2WosPogIAAOBCc1fP8qPaNH84TdJGIumjnU7nV44cOfJ41mnA+cDgDgAAsIYMDw+PRvffMqnazPXH6f7BUC9elHUWAAAA1jmLbW1YvFd9C3fHYGqZ9O5Wq/Weo0ePLmXdBpxLDO4AAABrwNDQ0A4pvNvMvyfNdaeTPTcli+UrJOO4BwAAgJUjl9a1af6IKvVHJQtPeUzfvH379o/u3bs3zboNOBe4gQEAAKxiO3fuvDKE8DYz+w8xFOJ0z0Ay332N3JKs0wAAAICvq9Sa1sa58VhuTQaZ3WXSL4yNjf191l3A88XgDgAAsArt2LFjaz6f/1XJXuOyMNvzrWG2cr1iyGedBgAAADxDru7lk9o8fyTNdRYTmf2vmKZvPHTo0JGsy4DnisEdAABgFalWq32SbpXZre4qL3Rvt+meAaVJOes0AAAA4Dkxj+qtP6iN88fSEFtB0p9J+rVarfZY1m3As8XgDgAAsArs3r273Gq1XuuyXzV5/2L5ck333qR2rifrNAAAAOCcCN7WhoV71btwTwzmqdx/L0mSdx04cGAq6zbgmWJwBwAAWMEGBgYKpVLplbLwVnm8qF66xKd6d1grvyHrNAAAAOC8SNJlbVy4Sz1LD7qkpWD2m61W63eOHj26lHUb8M0wuAMAAKxAo6OjuYWFhZe77G0mv3y5sDVO9+0IjcLmrNMAAACAC6LQWdCGuSNeaZw0l02a/G1zc3N/fOLEiWbWbcDXw+AOAACwguzZsyd5+OGHXxbd327S9kZ+U5zp2xHqxa3i6AYAAID1qNSe1oa5I97VfMpk4aTH9C29vb1/tm/fvk7WbcBX49YGAACwMoShoaEfshDeJvfrmrn+ON23I9RLl4gjGwAAACCVm6e1cf5oLLUmg0sPBrNfu+qqqz62d+/eNOs24Gnc3gAAALIVhoeH/6/oepvJr2/n+9OpnhuTpdKlknFUAwAAAL6Sq6vxhDbOHY3FzmyQ2X1y/7VarfZXkmLWdQC3OAAAgAzs2bMnefDBB39QZreZdH0735dO996ULBYZ2gEAAIBvyl3djce1aeFYmm/PJS7dHczeOjY29t/E8I4McZsDAAC4gEZHR3Pz8/P/3kJ4i9yvbef70umeG5PF0mUM7QAAAMCz5a5K46Q2LhxL8+35xGX3yONt27dv/yteNYMscKsDAAC4AAYGBgrlcvk/uOw/yuNVzVx/nOkdCEsM7QAAAMDz98Xh/a40355LZOF+j+nbe3t7/4KPq+JC4nYHAABwHlWr1S5Jr3TZm0y+rZHfFGd6B/gYKgAAAHA+uKu7cVIb5o/HYmc2uMIj8vSd8/PzHz1x4kQz6zysfdzyAAAAzoOdO3f2hxBeYyG5VR43LhcuirO9N4R6cas4ggEAAADn25mPq25YuDuWWpNBFp6Sx/eUSqU/vv322xeyrsPaxW0PAADgHLr55psvzeVyb3Dp1SZ1L5W2+UzPDdYsbM46DQAAAFiHXOXmhPoXjntX8ymT2bzcf6/dbr//6NGjp7Ouw9rD4A4AAHAODA8P3+juvyjZy11KFruusNmeG9TK9WadBgAAAEBSsT2j/oV7VFn+Z3d5W+4fjjG+9/Dhww9k3Ya1g8EdAADgubPh4eHvctcvSv5ityTOdV8T5irXqZN0Zd0GAAAA4GvIdxbVv3ifKksPxqBo7v4/kiT57YMHD35Okmfdh9WNwR0AAOBZGh0dLS0uLv5odL/VpBvSpJzOVa5L5rquVgyFrPMAAAAAPANJbKp36YT6l+5PQ9pMXDoSzN67vLz8l8ePH29l3YfVicEdAADgGRocHNwWQniVLLxWHje2ChvSme7rkqXy5XILWecBAAAAeA5MUZWlR7Rh6b40355LXDYRTH/g7n9Uq9WeyLoPqwuDOwAAwDdmg4OD3xZCeJ1kL5MUFkuXaq5ynTWKm8VxCgAAAFgrznxgtW/xPu9uPG6Sddzjx83s92u12u3idTN4BrghAgAAfA07duzozufzP+LSz5l0s4dCOtt1dTJf+RZ1ku6s8wAAAACcR/l0Sb1LJ9S7dCINsZ3I7LjcP1Aqlf789ttvX8i6DysXgzsAAMCXGRwcvCGE8CqXXmFSpZnrj/M914WF8uVyS7LOAwAAAHABmaeqLD+m3sUHYqk9HWRWN+m/xBj/eHx8vJZ1H1YeBncAALDu7d69u9xut38oRr3KzF/oFuJi+fIw132NmoVN4sgEAAAAoNiaVm/9QfXUH4nmaXDpiEl/3Gq1/uuxY8dmsu7DysDtEQAArFvDw8ODkl7p0o/Jvaed703nurYni11XKQ2FrPMAAAAArEDB26rUH1PP0oOx1J4OLrVM+ngI4cNXXnnlZ/bu3Ztm3YjsMLgDAIB1pVqtbpb0oy690qQdUSEudV0e5ru2i4+gAgAAAHg2Cu1Z9dYfVk/94TTEVuKyJ0z+kRjjnx06dOjurPtw4XGjBAAAa94111xT7O3tfYmZ/d+SfZ/kuUZ+U1zovioslq9QDPmsEwEAAACsYuZRXY1T6qk/7F2NUzK5yeywSR9N0/QvDx06dCrrRlwYDO4AAGCtsuHh4Re6+8td9qMm70uTcjpfvjJZ6LpK7Xxv1n0AAAAA1qAkNtVdf0w99UdiqT0VJLmbfU4x/n+5XO6vDhw4MJV1I84fBncAALCW2MjIyM0xxh+WhZfL42VuSVwsvSAsdl+p5eJFco4/AAAAAC6QfGdRleVH1bP8aJpvzyeSpZI+baaPufsnarXaZNaNOLe4cQIAgNXOqtXqjZL2uOxHTH6Ny7xeukSLXVfaUulSuSVZNwIAAABY5wrtWVWW/1mV5UfTfGcxcfdoIXxW7h/vdDqfOHLkyONZN+L5Y3AHAACrkVWr1UEz+8HoetmZkV2+XLxYS11X2GLpUsVQyLoRAAAAAL4GV6E9p0rjpCr1x9J8Zz4587OqBbO/lvSJsbGx42d+CqsNgzsAAFgVRkdHc4uLi//K3V8qCz8oj5e5zJeLF2mp63JbKl2qNBSzzgQAAACAZ6XQWVDX8kl1NR6P5dZkkCRZ+GeTf1LSp/L5/L477rhjOdtKPFMM7gAAYMXauXNnfwjhu0MI3+uy75fHXleI9fK2sFS+TEvFbTzJDgAAAGDNSNKGuhqn1N08pa7GE9E8DS415fYZM/87Sf+zVqvdJ55+X7EY3AEAwEpiw8PDA5JeEqP+nRT/lZmFNBTTpdKlSb18qerFi3knOwAAAIA1zzyq1JpQV+MJdTdOfdmrZ+wJefzbEMI/mNlnDh48+GTWrfgSBncAAJCparXa5e7fJ+nFFpKXyOPFktTMb4j18qWhXtymRn6DZBxbAAAAAKxfuXRZXc0nVW48oa7mk2mIracH+Hvl8R9CCPvc/bO1Wm0y69b1jJsrAADI1PDw8Pvc/Q0xFNJ68eKkXrpEy6VL1AmlrNMAAAAAYGVyV7Ezp3LzSZWbp73UeMqD0qff/36fx3SfpM/HGG8/fPjwo+IVNBcMgzsAAMhUtVr90zQp//gjF31/jqfYAQAAAODZM7mK7RmVmqdVbk2o3JxI7ewT8LLwlDx+XtIdIYQ7u7u7x/ft29fItnjt4lYLAAAyVa1W/zTNdZ0Z3AEAAAAAz5+7CumCys0JFVuTKrcm0lxn8ezHsCyV6ajc73T3g0mSHLjyyivv3bt3b5pt9NrA4A4AADLF4A4AAAAA518Smyq2plRqTanYmvJyezp+6Sl4a8h1xExjksbd/fDc3NzxEydONLOtXn242AIAAAAAAADAGpeGouqlbaqXtkmSSZ7kO0sqtqdVbE2Xiu3pXaX2zLDFdiJJfX396VB1+H6Tj5vZp8bGxv5rtr+D1YHBHQAAAAAAAADWHVM7V1E7V9Fi+fIzPyFPcp26iu0ZFTuzSaE1c32pNXFdiK0fkMTg/gwwuAMAAAAAAAAAJJk6uW51ct1a0mWSpI1zR8KGpXuTjMNWjZB1AAAAAAAAAAAAawGDOwAAAAAAAAAA5wCDOwAAAAAAAAAA5wCDOwAAAAAAAAAA5wCDO/C/2bvzKDvvu87zn+/vuWtV3Vulzfsqy0ss21LVLUkdnB40dLM1PcA0Y5Y0WUjYOx0gIUt3QzMdyEpISAKEhIQAw9BDaxhmgJNzAh0iZ7EtVd0qS7YcL7Jix5ZkSbXfW1V3e37f+UO22wlZvEh6anm/ztFRHFvxu3J85Of51O/8LgAAAAAAAACcAwzuAAAAAAAAAACcAwzuAAAAAAAAAACcAwzuAAAAAAAAAACcAwzuAAAAAAAAAACcAwzuAAAAAAAAAACcAwzuAAAAAAAAAACcAwzuAAAAAAAAAACcAwzuAAAAAAAAAACcAwzuAAAAAAAAAACcAwzuAAAAAAAAAACcAwzuAAAAAAAAAACcAwzuAAAAAAAAAACcAwzuAAAAAAAAAACcAwzuAAAAAAAAAACcAwzuAAAAAAAAAACcA7msAwAAAAAAAAAAK4Urny6p0J1VoTOn/tbxs/8lnhcGdwAAAAAAAABYj9yVTxsqdmZV7M6o2Jn1Um82WuwmZ/+0RwvJIx7j/5116mrB4A4AAAAAAAAA60AuXVaxM6ViZ0al7rSXOjPRvJdIksyWPepeKdYthEl3v7darT6wf//+VsbZqwqDOwAAAAAAAACsMeZRxe6cip0zKnWmVG6f6SWxlZMklzomm5T8gJmNxxjHr9u69eF9+/alWXevdgzuAAAAAAAAALDKmffODuudKZVap7zYmfagGCTJFR6Tp1+Q2T3ufsDMDtfr493n/vqJiYlswtcYBncAAJApd+8lveXksqnP+VLxElsqXapOflCSZZ0GAAAAACuWKarUnlK5fUql9qlY6kybyU2y1E0TJv+8pC92u927Dh8+fDrr3vWCN1kAAJCp4eHhq0MIP+/S95u0Q5LSpJwuli5LloqXaql4sTzks84EAAAAgGy5q9ibU1/7KZVbT3mxfdqDPEiWuvuY5J9NkmR/u92++/Dhw4tZ565XDO4AAGDF2LNnz8Vpmn6vu3+fLPyAPFZd5svFi7VUvtwWS5erl/RlnQkAAAAAF0QS2yq3Tqq//ZT62ifTkLYTSXLpkNw/I+kf2+32l44cOdLMOBVPY3AHAAAr0t69e3ONRuOfSfoBl/2wyW+SpHZuKC6WrwiLfVeqk6uKxxkAAAAAa4er2J1XX+u4+pZPxFJ3+pk72E+b4qfN7DNpmn52cnLyTNal+MZ4QwUAAKvCrl27trr7D7nb/yrFV0iyXm4gbZavTJqlK9UubBCPNgAAAABWG/Oocue0+lvH1b/8ZJqky4kkd7d7pPh3SZJ8emxs7JAkz7oV3x5vpQAAYNUZHh7ekiTJD8aoHzHTd0ue6yV9aaN8VbLYd7Xa+SHxmAMAAABgpTJP1dc+qYHlJ9XfOp5a7CYyW5L7p83sb0IInz548OB01p144XgTBQAAq1qtVhs0sx909x+V7Pskz3VzA2mz75qkUb5K3Vw160QAAAAAODuyt05ooPWE+pePR/M0yMKMPP6Vmf2/c3Nznz169Gg76068NAzuAABgzdi5c+dQCOGHzcIr3eO/MLPQzm+Ijb5rQrPvaqWhlHUiAAAAgHXEPKrcfkqV5a+qf/mJaJ4Gl52Rx78MIfzVtdde+4V9+/alWXfi3GFwBwAAa9Jtt912UaFQ+NEovdrcd0nmy6VLtNB3rS2WLpdbknUiAAAAgDXJVepMq7L0mAaWH09D7CauMGuK/1cI4S+vueaaLzKyr10M7gAAYM3buXPn9UmS/KTLXmvyqzzk04XyVUmz7zq1+LBVAAAAAOdAPm1qYPExVZe+kubSxURmSx7jX0n6CzP7bL1e72bdiPOPt0sAALCe2PDw8D9PkuS1Lv243MvdXDWd778uafZdqzQUsu4DAAAAsIqY9zSw/IQqi8diuXMmSHLJ/kHyP+12u//f4cOHF7NuxIXF4A4AANal7du3DxSLxTuk8DNm/nKX+WL5Klvov07LxS3iMQkAAADAN+YqdWdVWTymgcWvxKA0yMLDHtNPmNmf1+v1k1kXIju8SQIAgHVvZGTkZWb20y693qTBbq6SzvdvSxp91ypy6h0AAACApOBdDSw9rsHFo2mhO5fIbEnuf+Hun5yYmDggybNuRPYY3AEAAJ62d+/eUqPR+DeS/aLkt0eF2Oy7JiwMXK92fkPWeQAAAAAyUOzOqbr4iCpLj0XzNLjZeJD+cHl5+S+PHDnSzLoPKwuDOwAAwDcwOjp6i6Sfd+mn5N7Xym+K85UbwmLpSrmFrPMAAAAAnEfmUf3LT6jafDiWu9NBZsse45+FED42Pj4+mXUfVi4GdwAAgG9hz5491W63+ypZ8kumeH2alNL5/uuThf5tSkMx6zwAAAAA51ASWxpcPKpq85E0ie3EFR4J5h9OkuTPDhw4sJB1H1Y+BncAAIDnx0ZHR/+lu35J8n/lFrxRvibMV25UJzeYdRsAAACAl6DYndVg8yENLD3uJpe7/22SJB8ZGxv7rLibHS8AgzsAAMALNDIyss3M3iizn5Z7eal4ic9XbrKl4sXi8QoAAABYJdzV1zqhoeZDsdw5HVxaNOljSZL83sGDB7+SdR5WJ94IAQAAXqSdO3cOhRB+xkLyJnm8pJsfSmcGbkoWy1dxzzsAAACwQpmiKotf0VDzwTTfaySy8ITH9APlcvmTX/rSlxpZ92F1Y3AHAAB4iWq1Wt7df8xCeJvcb0mTcjo7cFOy0LdVHvJZ5wEAAACQFGJH1cWjGmo+dPZ+drNxc3/f1q1b/599+/alWfdhbWBwBwAAOHesVqt9t0tvM+m7PBTSuYEbkvn+G5SGQtZtAAAAwLqUxJYGGw9qsPlIDEqDZJ+OMX3v5OTkF8T97DjHGNwBAADOg5GRkZqZvV3Sj7glPt+/LcwN3Kg06cs6DQAAAFgXcr1FbWg+qMrSo1ExVQjhLyS9d3x8/P6s27B2MbgDAACcR6OjozfGGN9qFl7jki30bw3zlZvVTfqzTgMAAADWpHyvoQ3NL2tg8Stupp7cP5Gm6fvuvffex7Juw9rH4A4AAHAB1Gq1q9z9LTL7WUn5Zv9Wmx14mbq5StZpAAAAwJqQ7y1oY+MBDSw97jK15f77kn6nXq+fzLoN6weDOwAAwAW0a9euS2KMb5bZG+QqNspX21x1uzoM7wAAAMCLcnZoP6KBpcclsyW5fyjG+MHJyckzWbdh/WFwBwAAyMDw8PCWEMKvyOyX5Co3+6622QrDOwAAAPB85XuNZ4Z2d/mS3H83l8t98ODBg9NZt2H9YnAHAADI0O7duzfFGN/k0i/LVW6Ur7bZ6naumgEAAAC+iVxvURubRzSweMzNrCX3302S5HcY2rESMLgDAACsALt3796UpumbZfbL7l5q9m+12cp2PlwVAAAAeFqSLmtj4wFVFo+65J1g9mF3f1+9Xp/Kug14BoM7AADACjI8PLwlSZK3RPc3SlZo9F9ns5Xt6iXlrNMAAACATCSxo6Hml1VtPBiDFCX/aAjhXWNjY09l3QZ8PQZ3AACAFejpD1f9D5L9gpsl8/3Xh7mBlylNSlmnAQAAABeEeU9DzYc11DgSg6fm7p9y93dMTk4+nnUb8M0wuAMAAKxgu3btutLdf81dr3cLNjdwU5gbuEkx5LNOAwAAAM4L86jK0jFtXLgvTWI7cfe/MrNfq9frD2bdBnw7DO4AAACrQK1Wu07Sf5H0Sg+FOFu5OZnrv15uSdZpAAAAwDniGlh+UpsWDqW5XjOR2f5g9taxsbGxrMuA54vBHQAAYBWp1Wq3SuFdUvzXaVJOZyq3JI3+rXIe6wAAALCKlTpntGnu3ljqTgeXDpv0lnq9/g+SPOs24IXgzQwAAGAV2rVr13fE6O+T/PZubiCdqe5ImuUrxOMdAAAAVpNCr6GN8/d6f+u4ucJxefr2iYmJv5AUs24DXgzeyAAAAFYvGx0d/X6X3if37a38xjgzuDMsFy/KugsAAAD4lpLY1oaF+1VdPOqSL8r9HdVq9SP79+9vZd0GvBQM7gAAAKtfGBkZeaWF5N3yeMVS8RKfHtxpnfxQ1l0AAADA1zBPNbj4iDY2jqQWe5L8DyS9o16vT2XdBpwLDO4AAABrxLZt24pDQ0O/GN1/w6TBRt+1mqneql7Sl3UaAAAA1j1X//KT2jx/b5pLFxN3+5tcLrzl4MGDD2ddBpxLDO4AAABrTK1WG5T0Npfe7LLc/MBNYa5ys2LIZ50GAACAdajYndOmuXosd84Emd0v9zfW6/XPZd0FnA8M7gAAAGvUnj17rkjT9B3u/toYCnGmckuy0L9NbiHrNAAAAKwDSdrSxsZ9qi4+KlmYlse3b9269VP79u1Ls24DzhcGdwAAgDWuVqvdKoXfluL39nID6fTgzqRZulw8CgIAAOB8MI9P39N+X2oxdff4gXw+/84DBw4sZN0GnG+8ZQEAAKwTu3bt+pfR/YNyv2U5vylODw2HdmFz1lkAAABYQ8qtk9oyP5Hme43E3f5Wim+amJg4mnUXcKEwuAMAAKwjd9xxR/Loo4++ykLybnm8pFm+SjODO9RN+rNOAwAAwCqW7zW1aX7C+1snzKVHTHpDvV7/+6y7gAuNwR0AAGAdqtVqfWb2Ky79R3eV5gduDLOVmxVDIes0AAAArCLmPW1oPKChxpdd8qVg9uvu/nv1er2bdRuQBQZ3AACAdWzXrl2XuPt/cfefiSEfZ6q3JQt91/HBqgAAAPg2XAOt49o8V0+TdDmR9Ce5XO7tBw4cOJV1GZAlBncAAABodHT0Fnd7vxS/t5urpNODO5PF0mXicREAAABfr9BraNPcuPe1T5nM7vUYf2FiYuKerLuAlYA3KAAAADyrVqt9j8s+ZPKblosXx+nB4dDOD2WdBQAAgBXAvKeNjQc02Piym6kh97dt3br1j/bt25dm3QasFAzuAAAA+Bp79+7NLSwsvM5C8i553LTQd61mqrcpTcpZpwEAACATrv7WcW2Zm0iTdCmR9ElJb6/X61NZlwErDYM7AAAAvqE9e/ZUe73e22X2q66QzFZuDnMDN8ktyToNAAAAF0g+bWrzZ5nehgAAIABJREFUXN37WifNpcNy/zmujwG+OQZ3AAAAfEs7d+68JpfLvcfdfyxNyulUdWfS7LtKPEoCAACsXeaphpoPaWjhvmjyZZP+Q6VS+ej+/ft7WbcBKxlvSQAAAHhedu3a9R2p+4fMfbSV3xSnhoZDu7A56ywAAACcY+X2aW2ZG0vzvUYi6b9KenO9Xj+ZdRewGjC4AwAA4IUItVrtx132fpNf2ixfpenBneolfVl3AQAA4CVK0pY2zd+ryvJjkoVjwfRzY2Nj/z3rLmA14QJOAAAAvBB+8uTJ+y677NKPSuoU0oWXV5sPhyC3Vn6jxP3uAAAAq4+7qstf0WUzX0iL3ZnU3X+zWqm88q677no46zRgteGEOwAAAF60HTt2XJ7L5d4p6TVpUkqnqzuSRvkayXjMBAAAWA3y3XldNDceS50zQWb7kxB+7uDBgwztwIvEmxAAAABesuHh4VGz5ENm/h3t/IY4NTQSWoUtWWcBAADgmzBFbVg4oqHGAy7ZXDD/pfHx8T+X5Fm3AasZgzsAAADOFRsZGbnDQvI78nhFs3ylZgZ3qpv0Z90FAACA5yi3T+uiubE012sk7v7HuVzurQcPHpzOugtYCxjcAQAAcE7t3bu31Gg0fkVmv+6y4vzATWG2crOi5bJOAwAAWNeS2NGmhXtVWTwmlx5NQnj92NjYnVl3AWsJgzsAAADOi1qtdqmkd0l6TRqKcWZwZ7LA/e4AAAAZcA0sP6Et8/U0pB2X/D2VSuWd+/fvb2VdBqw1vO0AAADgvBoZGalJ4cPP3u8+OBJaRe53BwAAuBBy6ZK2zI55X/ukyexAMHv92NjYkay7gLWKwR0AAAAXgo2Ojv6Iyz4gj1c2y1f6dHWn9XLc7w4AAHA+mFzV5iPatHAoytNlub9tYmLio5Ji1m3AWpZkHQAAAID14cSJEw/ceMMNH+10OkuFtHH74OIjSfBo7cImuYWs8wAAANaMfHdel8x8MVaXHjWTPp2E8P31ev2/S/Ks24C1jhPuAAAAuOCec7/7a9NQTKcHdyYN7ncHAAB4ScyjhhoPaEPjiJvZrMf0FycmJv6bGNqBC4Y3GgAAAGRmeHh41Cz50Nn73TfGqaGR0CpszjoLAABg1Sl1ZnTR3IE0351PJP1ZkiRvOnjw4HTWXcB6w+AOAACArNnIyMgdsuQDpnh5s+8qTVd3qpf0Zd0FAACw4pmn2rhwWEPNh91lJ+Tp6ycmJj6TdRewXnGHOwAAADJ38uTJI9dcc/VH0zRtFXoL31FtPhyC3FqFTRL3uwMAAHxD5fZpXTa9P+1rnTRJv1cuFf/NwYMHH8i6C1jPOOEOAACAFWXHjh2XJ0nybjN7VZqU06nqjqRZvpr73QEAAJ4WvKtN84dUXTwqlx4NZq8ZHx//UtZdABjcAQAAsEKNjo7udukjct/dym+K00MjoVXYlHUWAABApsqtk7p47mAaektmZu8rFArvuPvuu5ez7gJwFoM7AAAAVjKr1Wo/4bL3m/zSZt81mqreppT73QEAwDoTYkebF+5VZfGYXHpA7q+emJioZ90F4GtxhzsAAABWtJMnT963ZcvmP0ySpJfvzr18qPmIyWRt7ncHAADrRN/ycV028/m01J5yM/vNVqv1k4cPH34y6y4A/xQn3AEAALBq1Gq1q9z9vWb242muL52qDifN8hXisRYAAKxFSexo83xdA0uPy6VDHuNrJicnD2XdBeCb480EAAAAq87o6OjtT9/vPtwqXBSnhoZDO78h6ywAAIBzpr/1pLbMjqVJ7LiZ/nd3f1+9Xu9m3QXgW2NwBwAAwGoVRkdHXxtd7zX55oX+6zRTuVVpUsq6CwAA4EVLYkeb58Y1sPxVyWzCpNeMj4/fn3UXgOeHO9wBAACwWvmJEycmr7rqyo+laZqUunN7qouPSJazdn6jZJwtAQAAq0v/8pO6bGZ/WuzMRkn/qVKpvO6uu+56KusuAM8fbyEAAABYE0ZGRrZJ4QNm/r90cwPp1GAtWSpdmnUWAADAt/XcU+0u1T3GV09OTj6QdReAF47BHQAAAGtKrVb7Hpl9RO43LBUv9emhEevkKllnAQAAfEP9rePaMnswTWLHJf/1SqXy/v379/ey7gLw4jC4AwAAYM2p1Wp5Sb8gs99y18D8wI02W92uaPms0wAAACQ9fap9vq6Bpccls4lg9uqxsbEjWXcBeGkY3AEAALBmDQ8PbzGz3zSzn01DMU5XdySNvmu53x0AAGTquafa3eNvVKvV93GqHVgbeNMAAADAmrdr166dMfpHJH9FK78xTg2NhHZhc9ZZAABgnQmxo83zE6osPSaZ3WvSq8bHx+/PugvAucPgDgAAgPXCRkZGflQWPmjySxt912h6cKfSUMq6CwAArAN97ZO6aPZgmqQtl/wdkt5Tr9e7WXcBOLcY3AEAALCu3Hbbbf35fP7tkr0tKiSzg7eG+f4b5BayTgMAAGtQ8K42zU2qunRMMrs/pulPTk5OHsq6C8D5weAOAACAdWn37t3Xpmn8oOQ/1M1V0qnBkWSpdGnWWQAAYA3pa5/SRbP3pKG3ZGb2W61W651HjhzpZN0F4PxhcAcAAMC6Njo6+t3R7fdN8frF0mU+PVSzbtKfdRYAAFjFLHa1eeGQqotH5bIvy+OrJiYm6ll3ATj/kqwDAAAAgCydOHHi2MaNGz6Wy+Xm873GK6rNR3LBZK3CJolrZgAAwAtU7pzRZVOfS8vtUybpPQvz8z9x5MiRJ7LuAnBhcMIdAAAAeFqtVrtU0nskvTrN9adnBoeTxdLl4rEZAAB8O+apNi0c0mDzYbns6NOn2u/JugvAhcWbAwAAAPB1RkdHb4/uf2DSbculS31qcMQ6uUrWWQAAYIUqdaZ08eyBNNdrBEkfLBQKv3b33XcvZ90F4MJjcAcAAAC+gTvuuCM5duzYz8nsPe7qn6+8LMxUbpZbLus0AACwQpiiNs4f1lDzQbnCY6b4qnq9/sWsuwBkh8EdAAAA+BaGh4e3hBDeLen1aVJOp4ZqSZNrZgAAWPdKnRldNHt3mu81Enf/vV6v9/bDhw8vZt0FIFu8JQAAAADPQ61W2yOzP5T7zqXiJT41VLMu18wAALDumKfa2DiiocaXXWbH5fHV9Xr9c1l3AVgZkqwDAAAAgNXg5MmTx19x++2fmJ2dfSofF7+z2nwkb3JrFTZLFrLOAwAAF0CxO6vLpu9M+5efDO7+8XKp9MMHDhx4KOsuACsHJ9wBAACAF2h4eHhLkiTvdfefSnP96enBWrJUuizrLAAAcJ6YR21oPqChhSMu6SmTv7Zer/991l0AVh4GdwAAAOBFGh0dvd2lj8l9+2LpMp8aGrVe0pd1FgAAOIcK3VldPHsgFrpzwd3/2MzeVK/X57PuArAyMbgDAAAAL8HevXtzCwsLb7AQ3ulupdnBW8Nc/41yrpkBAGBVM48aan5ZGxbudzM7bfLXjY+PfzrrLgArG4M7AAAAcA7s2LHj8lwu90FJd3Tz1fT04GjSKl6UdRYAAHgRCt05XTRzTyz25oKkP+t0Or983333zWbdBWDlY3AHAAAAzqGRkZHvlSV/aIrXNPqu1fTgTqWhmHUWAAB4Hp57ql2yM/L09RMTE3+XdReA1SPJOgAAAABYS06ePPnoNddc/fE0TWOxO397demox6Qc2vkhcd4FAICVq9Cd02Uzn08Hlh4Pcv/zbrfzrw8dOnQ46y4AqwtP/AAAAMB5Mjo6emOUPm7u/1OrsCWeHhoN3fxg1lkAAOA5zKOGGg9oQ+PIM6faf3piYuJvs+4CsDoxuAMAAADnl42Ojr4quv2u5ENzlZtttrpdLj5UFQCArBW7c7po9p600J1LJP1Jp9N5E3e1A3gpGNwBAACAC2D37t2ber3e+8zsdb3cQHp6aDRZLl6SdRYAAOuSeaoNjQc01HjAzeyUyV8/Pj7+6ay7AKx+DO4AAADABbRr167vTKN/wuTbGn3XaHpwmA9VBQDgAip1ZnTR7D1pvreQSPpEmqZvuffee+ey7gKwNjC4AwAAABfYtm3bitVq9e1m4ddiyNvU0EjSKF8tHs8BADh/zFNtXLhPQ82HXGbHTf668fHxf8i6C8DawhM9AAAAkJFarXaTZH8k+SuWChf51Ibd1s0NZJ0FAMCaU+6c0UWzB9Jcr5mY2e8vLy+//ciRI82suwCsPQzuAAAAQLZCrVZ7ncw+EN365wZvC3MDN8p5VAcA4CULsatNC4dUXTwqlx6V+09NTEx8IesuAGtXknUAAAAAsM75yZMnJ664/PJPeUy39rVP3dy3fDy2i5ssTcpZtwEAsGr1LR/XZTN3pqXWKZnZe6uVyo/dfffdx7LuArC2cWwGAAAAWEFGR0d/0GUfc48Xz1deZjOVW+TGORkAAJ6vJLa0eW7CB5a/ai4dCmY/NT4+Ppl1F4D1gSd3AAAAYAU5ceLEQ1ddeeUfeYxDpc7Ursry42knPxR63O0OAMC35q7q0jFdNvOFtNCd7cr9P1ar1dfdddddJ7JOA7B+cMIdAAAAWKFqtdorXPYpk29b6L9O09UdiqGQdRYAACtOvregi2bHY6lzOrjZZ8395+r1+qNZdwFYfxjcAQAAgBVs7969pYWFhV8zC29Pk6LODI0mi6Urss4CAGBFMEVtaDygoYUjUdJCML1xfHz8zyV51m0A1icGdwAAAGAVGBkZuc1C+BO5DzfLV/r0UM16oZR1FgAAmSm3n9KWufE032smkv5E0lvq9fpUxlkA1jkGdwAAAGCV2Lt3b25hYeFXZPZbHvLJ1FAtaZSvFo/1AID1JBdb2jQ/qYGlx+Wyoyb/2Xq9/rmsuwBA4skcAAAAWHV27tx5fQjJJ830z5eKl/iZDbutl/RlnQUAwHllclUWj2rzwuHUYi9K/pvz8/PvO3r0aDvrNgB4BoM7AAAAsDqFWq32sy6935WUZ4ZGwnzfVsl4xAcArD2lzrQ2z43HYnc2SOEz7ukbJiYmjmbdBQBfj6dxAAAAYBWr1WpXSeHjUvze5cJF8cyG3aGbG8g6CwCAcyKJbW1cOKzq4qNy2Ql5/PcTExN/LT4UFcAKxeAOAAAArH42Ojr6Kpd9JLoGZgd3hPmBG+Q87gMAVimTq9I8qs2N+1KLXZf8/d1u97cOHz68mHUbAHwrPIEDAAAAa8SuXbsuiTF+VNIPtwqb4+kNu0M3V806CwCAF6TcPq0t8xNpvjuXSOEzSWJvPHjw4MNZdwHA88HgDgAAAKwtNjIycocs+UOZBmcqt4T5yss47Q4AWPHy6aI2zk36QOtJc4XHgvkvjY+P/624PgbAKsJTNwAAALAGDQ8PbwkhfEjST7TzG+LpDXtCJz+UdRYAAP9E8K42NB7QYPOhaPKW3H9zfn7+g0ePHm1n3QYALxSDOwAAALCGjY6O/lB0+7jkW2Yr222ucrPcQtZZAACcvad98VFtXLgvTWI7mNmfuPt/qtfrJ7NuA4AXi8EdAAAAWONuvfXWDYVC4QOSXtvND6WnhnYn7cLGrLMAAOuWq6/1lDbPT6b53kLiZp8P0i+Pj49PZl0GAC8VgzsAAACwToyMjHyfLPyx5JfMV15mM9Vb5eK0OwDgwil1Z7Rx7t5Y7pwOrvBIMP9V7mkHsJYwuAMAAADryJ49e6ppmv62u/9sN1dJT23Yk7QLm7POAgCscYVeQxsWDmlg+Um57Eww/frAwMAn9+/f38u6DQDOJQZ3AAAAYB0aGRn5Lln4lMmvmhu4UTPV2+SWZJ0FAFhjcumSNizcr8rSMZe0ZNJ7ut3uBw8fPryYdRsAnA8M7gAAAMA6tX379oFSqfQuSW/o5frj6aE9yXLxoqyzAABrQJIua0PjAVUXj0bJeyZ9WNJ76/X6VNZtAHA+MbgDAAAA69zo6Ojt0f1PTbpuvv86zQzuVLR81lkAgFUoSZe1ofmgKs2HY5Ci5B/v9XrvOnTo0PGs2wDgQmBwBwAAAKCXv/zl5U6n8xvu/paY6/PTG3YnS8VLs84CAKwSuXRZQ80vq9J8JAbJJf/jGOM7JycnH8+6DQAuJAZ3AAAAAM8aGRmpWQh/KvftjfLVmh6qKQ2FrLMAACtUvtfQUPNBVRaPRZOie/yku7+boR3AesXgDgAAAOBrbN++vVAqld4q2W/EpGBnBmtJs3yleH0AADyj2JnRUPNBDSw/4S7vmPSxXC732wcOHHgy6zYAyBJPzAAAAAC+oeHh4ZtDkvyx3Pcsli7zM0OjliZ9WWcBALLirr72UxpqPBjLnVNBZgty/3CM8cOTk5Nnss4DgJWAwR0AAADAN3XHHXckx44d+3cye49bUpiuDifzfVsl41UCANYLi11Vlh/TUPPhNN9rJLLwpDy+v9VqffLIkSPNrPsAYCXhKRkAAADAt7Vz585rklzuY3L/nlZhSzyzYXfo5CpZZwEAzqN8r6Hq4lENLh1LLXYTmR2Q++9UKpW/3r9/fy/rPgBYiRjcAQAAADxfNjIy8m9l4SOSBmert9jcwMvkFrLuAgCcI+ZRfa3jqi4e9b72KZOs5x7/a5IkHxkbGxvLug8AVjoGdwAAAAAvSK1W22xmH3T3n+zmq+npod1Jq7A56ywAwEtQ6DU0sHhM1aVjaRLbicu+avI/6Ha7nzp8+PDprPsAYLVgcAcAAADwooyOjn53dH3C5Fct9G/TdPU2xVDIOgsA8DyF2NHA8ldVWXosljpTQbKemf4mxvjxiYmJf5AUs24EgNWGwR0AAADAi1ar1fok/WfJfjUNBU0N1ZJm+UrxqgEAK5N5qv7WCQ0sP66+1oloHoPM7vcYP9nr9f6C0+wA8NLwFAwAAADgJavVarfK7BNy371UvNinhkaty4eqAsCKYN5TX+ukBpafVH/ryWieBpedNPn/6e7/x8TExOGsGwFgrWBwBwAAAHCuhJGRkZ+2EN7vsv7ZgZvDXPVmufhQVQC40JLYVt/ycfW3jqvcOhmDYnDZlMn/W4zxLycnJ78orowBgHOOwR0AAADAOXXbbbddlM/nf1vSq3u5gfTMYC1ZKl2adRYArGkmV7Ezo3LrpPpaJ2OpO332u50WnjD5X6Vp+tfbtm370r59+9KMUwFgTWNwBwAAAHBe7Nq16zuj+8flfsNi6QqfGhq2XtKfdRYArBGufHdB5c5pldun1d8+lVrsJJLc3e4x87+V9Hf1ev1+SZ5xLACsGwzuAAAAAM6b7du3F0ql0htl9o7oVpyrbg9zlZdxzQwAvEDmqQrdWZU70yp1plTunE5D2k4kyWVfNflnzOzv2+32Z++7777ZrHsBYL1icAcAAABw3u3YsePyXC7325J+opf0p1NDI8li6TLxSgIA/5R5qkJvQcXunIqdGRU607HYnTWTn/1N08Ixj+n+EMKdaZreOTk5+XjGyQCAp/F0CwAAAOCCefqamd+X+/al4sU+NThi3fxg1lkAkAnzVPm0qUJ3QfneggrdeRW7c2mu1wjPGdcbco2Z+T2SDnQ6nXsOHz58OttyAMA3w+AOAAAA4ILau3dvrtFo/IxL75ZUXei/3martyoNhazTgFXJPFUSO0piWyG2nv7PXQXvKMSugndlaVdBPVnsKXjPg9JosefmqcyjzFzmbvIoyc3dZSbJz+4GLnfJZGaSBXdJruCSyS3ILZEsWKrEFBKLSswtkVsiDzm5JYqWU9TZP46WO/uzzv6cWk5uOXnIn/3rQv7pv/Vqni1cIXaVpMvKx2Xl0mXl0kXleovKp03PdxtpElu5r/kFFh6Tx0OSDrv7vUmSHBobG/uKuIMdAFaN1fxvLgAAAACr2K233rqhUCj8hmRv8JDTTOWWZL7/erlxvztwlitJ28rHJeXSJSW9xadH2yUl6bLn4nKai22z2E2++f+C2pI1JWtIviBX08ybkpbdfdnM2mbWjjF2Qgg9d+9J6klyd49m5pJkZsHdg87uCDkzSyTln/nh7kV3L5pZ6ezPoSyzfkl9kvrcvWymstzLep5bhMtcIRejEo8hr1S54Ek+uOUUnzPWu+UULXnOz//0R5RJlsif/gaBZJKFrxn1XS7TM99lcMmj5C5TVFCUYqqgVObPfuNCifee/qZGRyHtKMS2ct5Ok7TlIbaDefya39DcPVpITnj0R6X4qJkdNbNHJD04MDBwdP/+/a0X8k8IAGDlYXAHAAAAkKlarXaTZO+X/Ad6uf50urozaZavEK8rWA9Mrly6pHx3Qfm0qXyvoXyvqXzaTJNu04K+brCVliQ7YfInJZ1w91NmdsrMzkiaMrMpd5/udDqzaZrOHTlypJPNV/ZN2ctf/vJSp9PpjzH2J0lScff+EEIlxjjg7gNmVpHUL6ni7pUQQr+7V8xswN0rLlXMQsVd/ZL3S142qZjhl9SVWcPdZ+U6JcUpMzst6Yykk2Z2Mk3T47lc7sn+/v6T+/fv72XXCgA433iCBQAAALAijIyMfJfMPmDSjlZ+U5we3BFaxYuyzgLOCZMr32uq0JtXvjN39gMxe/Np0l2wIH92VHdZ00yPyP2ou3/FzL5iZo9LesLdn6jX6/MZfhkrWbjtttvK+Xy+HEIou3tfjLEYQijFGItJkhRjjEUzy+nsqfxcjDEXQgjubu7+7D4SQogxxhhC6EnqSurGGNtJkrTcfVnSUghhMU3Txvz8fOPo0aPtjL5mAMAKxOAOAAAAYCUJIyMjr5Ql7zHFy5eKl/rM4A5r54ey7gKet+A9FTqzKvbmVOjMqNidi/nunJ4zrLvLvmLy+yQ96O4PuvtDIYRH6vX6tLivGwCAVYvBHQAAAMCKs3fv3lKz2fyF6PrPJh9qlq/SbPVWdXKVrNOAr2HeU7Ezq1J3RsXujIqd6TTfaz57p7rLzsjjuJkddvf73P3+wcHBh7irGwCAtYnBHQAAAMCKtWfPnmqv13uzzH7V3cuNvmttrnqLukl/1mlYj9yV7y2ofHZYV7kzlea6c8Geebe28KQ83iOp7u6TvV5v8vDhw6ezjQYAABcSgzsAAACAFW94eHhLCOGtLv17yQqNvmtsrrpd3WQg6zSsYeY9lTozKnXOqNSe8nJ3KlrsJpLkCrOmeJekA+5+MJfLjR88eHA642QAAJAxBncAAAAAq8aePXsu7vV6b3Xp30kqNPuutbnKzVw1g3Miie1nxnWV2qdjsTtrJjdJLrMjcv+8u99tZnfX6/Vj4q51AADwdRjcAQAAAKw6e/bsuThN0ze79Aa5l5vlKzQ3cLPahY1Zp2EVSWJL5dZplTunVW6fTvO9hadPr6ttsrsk/4KkL+VyuXsOHDiwkHEuAABYBRjcAQAAAKxau3fv3hRj/PfR9csmH1wuXhxnB24Ky6VLxOsOvl4SWyq3T6vUPqW+9uk032s8M7A3TbrT3e80s89LmqjX692McwEAwCrEEygAAACAVW/79u0DpVLp9S57q8kv6+ar6Vz/jUmj7xq5JVnnISNJbKvcPq1y+5TK7VPPDuyysCCPn3P3/SGEO6+99trD+/btSzPOBQAAawCDOwAAAIA1o1ar5c3sf4vubzapFkM+Xejflsz3b1Mv6c86D+dZiJ2z18O0TqmvcyrNd5+9IqYp938MIew3s8+NjY0dlhQzzgUAAGsQgzsAAACAtch27dr1cnd/Y4zxDjMLS6VLfb7/elsuXSrnVWhNCLGrUufM2RPsrVOx2JsLkuTSktzvlPQ5Sf943XXX3csJdgAAcCHwlAkAAABgTduxY8flSZL8tIXk5+XxkjQppwt9W5NG/1Z1OfW+qgTvqdQ5o1LrlMrt07HUnTXJzaW23L5g5v/o7p+rVqvj+/fv72XdCwAA1h8GdwAAAADrwt69e3PNZvNfufvPSPoBSbZc2BKb/VtDs3yFouWzTsTXOXuCfUrlzmmVWqdisTtjJplkXZm+JPd/lPS5Vqt18MiRI52sewEAABjcAQAAAKw7w8PDlyVJ8pMue7083hBlcal8eVjsu0aLxUv5oNWMJLGtUvuMyp0zKndOp4XOXHj6BHvHzO7yGPcnSbK/v7//wP79+1tZ9wIAAHw9BncAAAAA65mNjIyMSPq3FpJXyuPFbklcLF0eFstXaKl0maLlsm5co1z5XlOlztTZU+zt02m+1zj7nQ6zZY+6y8z3u/udCwsLB48ePdrOOBgAAODbYnAHAAAAAEl33HFHcvTo0dvN7A5Z8qOmeJHLfLl4sZbKl9tS6VJ1k4GsM1cti12VurMqdqZU6kyr3JlKQ2wnkuQKs6Z4p6QvmtkX3H2yXq93M04GAAB4wRjcAQAAAOCfCsPDw3tCCD/osh82+U2S1M0NpMulS5Ol4sVaLlykGApZd65I5lGF7pxK3VkVOtMqd6fTfHchSH72HdTCQ/L4RXf/Ui6X+9LBgwcfkeTZVgMAALx0DO4AAAAA8G3s3LnzmiRJvt/dv09m/8Kkfklq54Ziq3RxaBU2a7mwWWlSzjr1ggveVaE7p2J3ToXOrIqdmVjozZv9j3F9Wh7vlnTQzO7p9Xpj995771y21QAAAOcHgzsAAAAAvAB79+7Nzc/P7zKz/9ks7JXpFXIvS1KalNJWYUvSyg+pnd+oTmGD0lDKuPjcODusN5TvzSvfnVext6Bib66X9JaeveTeZWfkcVzShJmNhxDqY2NjT4rT6wAAYJ1gcAcAAACAl2Dv3r25ZrN5a4zxOyTtkSX/zBS36en3rRiKaTs/GLq5QevkKurkKurlBtRL+uUWso1/LnclcVn5dEm5dFH53qJyvYYKvabnewtpEtvPGdbVkfRlkw65+/1mdiiEcHhsbOypDL8CAACAzDG4AwAAAMA5dvvtt1c6nc6tMcadkm6V7FaXtpt86H/8VeZpKKa9XH/STfotTcpKk5LSUFLPCopJUanl5SGvaDl5yMuf5yucyaXYU1CqELsKsavEuwqxrRA7StKWcrGtJLaUS5djLl2KIV1Onr0G5ix32VMmPWSmh92IUBghAAADJElEQVT9IXd/2My+vHXr1sf27duXntP/0wAAANYABncAAAAAuEB27969qdvt3mBmW81sq6SrJF3lCtea6WJ5rH6rX++SS8EVEndJsnD2qhZ3mdzk0eRupvjt3vXcZTNm9pQ8PmlmJ9z9uKTHJX01SZLHZmZmHj969Gj7pX/VAAAA6weDOwAAAACsENu2bSv29/dvLhQKW3q93iYzG5RUDSEMuPuApLKkoqS8pMTMcjFGN7Po7qmk7tM/liQtmVnTzJqSFtI0nU2SZCaEMHX11VfPcUIdAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7/9uCQAAAAAEDQ/9eeMAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwCUvLKFHrRbiFAAAAAElFTkSuQmCC" style="height:50px;"></td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<div id="conclusion" class="section level2" number="26.1">
<h2><span class="header-section-number">26.1</span> Conclusion</h2>
<p>Many of the tweaks we made to our table are quite subtle. Changes like removing excess gridlines, bolding header text, right-aligning numeric values, and adjusting the level of precision can often go unnoticed, but if you skip them, your table will be far less effective. Our final product isn’t flashy, but it does communicate clearly.</p>
<p>We used the gt package to make our high-quality table, and as we’ve repeatedly seen, this package has good defaults built in. Often, you don’t need to change much in your code to make effective tables. But no matter which package you use, it’s essential to treat tables as worthy of just as much thought as other kinds of data visualization.</p>
<p>Later you’ll learn how to create reports using R Markdown, which can integrate your tables directly into the final document.</p>
</div>
<div id="reading" class="section level2" number="26.2">
<h2><span class="header-section-number">26.2</span> Reading</h2>
<p>Consult the following resources to learn about table design principles and how to make high-quality tables with the gt package:</p>
<p>“Ten Guidelines for Better Tables” by Jon Schwabish (Journal of Benefit-Cost Analysis, 2020), <a href="https://doi.org/10.1017/bca.2020.11" class="uri">https://doi.org/10.1017/bca.2020.11</a></p>
<p>“10+ Guidelines for Better Tables in R” by Tom Mock (2020), <a href="https://themockup.blog/posts/2020-09-04-10-table-rules-in-r/" class="uri">https://themockup.blog/posts/2020-09-04-10-table-rules-in-r/</a></p>
<p>“Creating beautiful tables in R with {gt}” by Albert Rapp (2022), <a href="https://gt.albert-rapp.de/" class="uri">https://gt.albert-rapp.de/</a></p>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb470-1"><a href="#cb470-1" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code></pre></div>
<pre><code>## R version 4.3.1 (2023-06-16)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 20.04.6 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/atlas/libblas.so.3.10.3 
## LAPACK: /usr/lib/x86_64-linux-gnu/atlas/liblapack.so.3.10.3;  LAPACK version 3.9.0
## 
## locale:
##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       
##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   
##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          
## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   
## 
## time zone: UTC
## tzcode source: system (glibc)
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] palmerpenguins_0.1.1 gtExtras_0.5.0       gt_0.10.0           
##  [4] ggbeeswarm_0.7.2     gghighlight_0.4.0    ggh4x_0.2.6         
##  [7] ggpubr_0.6.0         png_0.1-8            ggdensity_1.0.0     
## [10] ggdist_3.3.0         ggbump_0.1.0         ggtext_0.1.2        
## [13] ggalt_0.4.0          ggridges_0.5.4       geomtextpath_0.1.1  
## [16] colorBlindness_0.1.9 patchwork_1.1.2      janitor_2.2.0       
## [19] knitr_1.43           webexercises_1.1.0   glossary_1.0.0      
## [22] lubridate_1.9.2      forcats_1.0.0        stringr_1.5.0       
## [25] dplyr_1.1.2          purrr_1.0.1          readr_2.1.4         
## [28] tidyr_1.3.0          tibble_3.2.1         ggplot2_3.4.2       
## [31] tidyverse_2.0.0     
## 
## loaded via a namespace (and not attached):
##  [1] rematch2_2.1.2       rlang_1.1.1          magrittr_2.0.3      
##  [4] snakecase_0.11.0     compiler_4.3.1       systemfonts_1.0.4   
##  [7] vctrs_0.6.3          maps_3.4.1           pkgconfig_2.0.3     
## [10] fastmap_1.1.1        backports_1.4.1      labeling_0.4.2      
## [13] fontawesome_0.5.1    utf8_1.2.3           rmarkdown_2.23      
## [16] markdown_1.7         tzdb_0.4.0           ragg_1.2.5          
## [19] xfun_0.39            cachem_1.0.8         ash_1.0-15          
## [22] jsonlite_1.8.7       highr_0.10           broom_1.0.5         
## [25] R6_2.5.1             bslib_0.5.0          stringi_1.7.12      
## [28] RColorBrewer_1.1-3   car_3.1-2            extrafontdb_1.0     
## [31] jquerylib_0.1.4      Rcpp_1.0.11          bookdown_0.34       
## [34] base64enc_0.1-3      extrafont_0.19       timechange_0.2.0    
## [37] tidyselect_1.2.0     rstudioapi_0.15.0    abind_1.4-5         
## [40] yaml_2.3.7           codetools_0.2-19     withr_2.5.0         
## [43] evaluate_0.21        gridGraphics_0.5-1   xml2_1.3.5          
## [46] pillar_1.9.0         carData_3.0-5        KernSmooth_2.23-21  
## [49] distributional_0.3.2 generics_0.1.3       paletteer_1.5.0     
## [52] hms_1.1.3            commonmark_1.9.0     munsell_0.5.0       
## [55] scales_1.2.1         glue_1.6.2           tools_4.3.1         
## [58] ggsignif_0.6.4       fs_1.6.2             cowplot_1.1.1       
## [61] grid_4.3.1           Rttf2pt1_1.3.12      colorspace_2.1-0    
## [64] beeswarm_0.4.0       vipor_0.4.5          cli_3.6.1           
## [67] textshaping_0.3.6    proj4_1.0-13         fansi_1.0.4         
## [70] svglite_2.1.1        downlit_0.4.3        gtable_0.3.3        
## [73] rstatix_0.7.2        sass_0.4.6           digest_0.6.33       
## [76] farver_2.1.1         memoise_2.0.1        htmltools_0.5.5     
## [79] lifecycle_1.0.3      gridtext_0.1.5       MASS_7.3-60</code></pre>
<!--chapter:end:05-ggplot.Rmd-->
</div>
</div>
<div id="part-introduction-to-shiny" class="section level1 unnumbered">
<h1 class="unnumbered">(PART*) Introduction to Shiny</h1>
</div>
<div id="getting-to-work-with-shiny" class="section level1" number="27">
<h1><span class="header-section-number">27</span> Getting to work with Shiny</h1>
<p><a href="https://ourcodingclub.github.io/tutorials/shiny/" class="uri">https://ourcodingclub.github.io/tutorials/shiny/</a></p>
<p><a href="https://psyteachr.github.io/shiny-tutorials/" class="uri">https://psyteachr.github.io/shiny-tutorials/</a></p>
<p><a href="https://debruine.github.io/shinyintro/first-app.html" class="uri">https://debruine.github.io/shinyintro/first-app.html</a></p>
<p>Add change layouts: <a href="https://shiny.posit.co/r/articles/build/layout-guide/" class="uri">https://shiny.posit.co/r/articles/build/layout-guide/</a></p>
<p><a href="https://albert-rapp.de/posts/15_use_js_with_shiny/15_use_js_with_shiny.html" class="uri">https://albert-rapp.de/posts/15_use_js_with_shiny/15_use_js_with_shiny.html</a></p>
<p><a href="https://albert-rapp.de/posts/06_shiny_app_learnings/06_shiny_app_learnings" class="uri">https://albert-rapp.de/posts/06_shiny_app_learnings/06_shiny_app_learnings</a></p>
<p>Shinyjs: <a href="https://deanattali.com/shinyjs/example" class="uri">https://deanattali.com/shinyjs/example</a></p>
<p>Shiny modules -
<a href="https://rviews.rstudio.com/2021/10/20/a-beginner-s-guide-to-shiny-modules/" class="uri">https://rviews.rstudio.com/2021/10/20/a-beginner-s-guide-to-shiny-modules/</a></p>
<p>At its core, Shiny is essentially an R package, similar to dplyr or ggplot2. However, Shiny is unique in that it allows you to build web applications using the R language, instead of relying on traditional web development technologies like JavaScript or HTML5. This R-based approach makes Shiny an efficient choice for creating web applications tailored for data presentation and analysis.</p>
<p>To illustrate, let's take a look at an example of a basic Shiny app that we will recreate in today's tutorial</p>
<div id="image" class="section level2" number="27.1">
<h2><span class="header-section-number">27.1</span> IMAGE</h2>
<p>Shiny apps are useful for several purposes:</p>
<p><strong>Interactive Data Visualization for Presentations and Websites:</strong> Shiny apps allow you to create interactive data visualizations, which can enhance your presentations, reports, or websites. Users can explore data, change parameters, and see real-time updates, making the information more engaging and informative.</p>
<p><strong>Sharing Results with Collaborators:</strong> Shiny apps are valuable for sharing data and analysis results with collaborators, team members, or clients. By creating interactive dashboards or tools, you can make it easier for others to interact with and understand the data, even if they don't have expertise in R or data analysis.</p>
<p><strong>Communicating Science in an Accessible Way:</strong> Shiny apps can be a powerful tool for scientists, researchers, and educators to communicate complex scientific concepts or research findings to a broader audience. They provide an accessible and user-friendly interface to explore and understand data-driven insights.</p>
<p><strong>Bridging the Gap Between R Users and Non-R Users:</strong> Shiny acts as a bridge between R users and individuals who may not be familiar with R programming. With Shiny, you can create applications that allow non-R users to interact with and benefit from R's data analysis capabilities without needing to write R code themselves.</p>
</div>
<div id="using-the-demo-app" class="section level2" number="27.2">
<h2><span class="header-section-number">27.2</span> Using the Demo App</h2>
<p>New project…
Under the File menu, choose New Project.... You will see a popup window like the one below. Choose New Directory.</p>
<div id="run-the-app" class="section level3" number="27.2.1">
<h3><span class="header-section-number">27.2.1</span> Run the app</h3>
<p>Click on Run App in the top right corner of the source pane. The app will open up in a new window. Play with the slider and watch the histogram change.</p>
</div>
<div id="modify-the-demo-app" class="section level3" number="27.2.2">
<h3><span class="header-section-number">27.2.2</span> Modify the Demo App</h3>
<p>Now we’re going to make a series of changes to the demo app until it’s all your own.</p>
<p>You can close the app by closing the window or browser tab it’s running in, or leave it running while you edit the code. If you have multiple screens, it’s useful to have the app open on one screen and the code on another.</p>
</div>
</div>
</div>
<div id="layout" class="section level1" number="28">
<h1><span class="header-section-number">28</span> Layout</h1>
</div>
<div id="make-our-own-app" class="section level1" number="29">
<h1><span class="header-section-number">29</span> Make our own App</h1>
<p>Now that you've seen a basic Shiny app in actin, let's return to the beginning and create our own app.R file. A basic app.R consists of five key parts:</p>
<p><strong>Package Loading:</strong> At the top of the script, load any necessary R packages for your app to function. <code>shiny</code> is a requirement, but you can add others like <code>dplyr</code> or <code>ggplot2</code> as needed. If any packages are missing, you'll encounter an error, so ensure that you have them installed.</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb472-1"><a href="#cb472-1" tabindex="-1"></a><span class="co"># Load the required packages</span></span>
<span id="cb472-2"><a href="#cb472-2" tabindex="-1"></a><span class="fu">library</span>(shiny)       <span class="co"># Essential for running any Shiny app</span></span>
<span id="cb472-3"><a href="#cb472-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)  <span class="co"># Contains readr, dplyr and ggplot2</span></span>
<span id="cb472-4"><a href="#cb472-4" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)    <span class="co"># The source of your data</span></span></code></pre></div>
<p><strong>Data Loading:</strong> Next, load any data necessary for your app. This typically involves reading datasets into R objects. Ensure that you have the data file or source available in the specified format.</p>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb473-1"><a href="#cb473-1" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb473-2"><a href="#cb473-2" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(penguins)</span></code></pre></div>
<p><strong>UI Object:</strong> Create an object called ui that defines the app's user interface. This specifies how the app will appear in the web browser. The <code>fluidPage()</code> function creates a responsive layout that adjusts to the browser window's size. All of your UI code will go inside the curly braces.</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="#cb474-1" tabindex="-1"></a><span class="co"># Define the UI</span></span>
<span id="cb474-2"><a href="#cb474-2" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb474-3"><a href="#cb474-3" tabindex="-1"></a>  <span class="co"># Your UI components will be defined here</span></span>
<span id="cb474-4"><a href="#cb474-4" tabindex="-1"></a>)</span></code></pre></div>
<p><strong>Server Object:</strong> Create another object called server, which contains the app's logic. Here, you specify how your app computes and creates plots, tables, maps, or any other content based on the user's input. All of the app's logic code will be placed inside the server function.</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb475-1"><a href="#cb475-1" tabindex="-1"></a><span class="co"># Define the server logic</span></span>
<span id="cb475-2"><a href="#cb475-2" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb475-3"><a href="#cb475-3" tabindex="-1"></a>  <span class="co"># Your server logic will be defined here</span></span>
<span id="cb475-4"><a href="#cb475-4" tabindex="-1"></a>}</span></code></pre></div>
<p><strong>App Execution:</strong> Finally, include a command at the end of app.R to run your app. This informs Shiny that the user interface is defined by the ui object, and the server logic (data, plots, tables, etc.) is defined by the server object.</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="#cb476-1" tabindex="-1"></a><span class="co"># Run the app</span></span>
<span id="cb476-2"><a href="#cb476-2" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<p>To create your own Shiny app, you should remove any example code generated automatically when you created app.R and replace it with the structure provided above. Check that your final app.R script resembles the following:</p>
<button id="displayTextunnamed-chunk-7" onclick="javascript:toggle(&#39;unnamed-chunk-7&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-7" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb477-1"><a href="#cb477-1" tabindex="-1"></a><span class="co"># Packages ----</span></span>
<span id="cb477-2"><a href="#cb477-2" tabindex="-1"></a><span class="fu">library</span>(shiny)       <span class="co"># Essential for running any Shiny app</span></span>
<span id="cb477-3"><a href="#cb477-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb477-4"><a href="#cb477-4" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)    <span class="co"># The source of your data</span></span>
<span id="cb477-5"><a href="#cb477-5" tabindex="-1"></a></span>
<span id="cb477-6"><a href="#cb477-6" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb477-7"><a href="#cb477-7" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(penguins)</span>
<span id="cb477-8"><a href="#cb477-8" tabindex="-1"></a></span>
<span id="cb477-9"><a href="#cb477-9" tabindex="-1"></a><span class="co"># ui.R ----</span></span>
<span id="cb477-10"><a href="#cb477-10" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb477-11"><a href="#cb477-11" tabindex="-1"></a>  <span class="co"># Your UI components will be defined here</span></span>
<span id="cb477-12"><a href="#cb477-12" tabindex="-1"></a>)</span>
<span id="cb477-13"><a href="#cb477-13" tabindex="-1"></a></span>
<span id="cb477-14"><a href="#cb477-14" tabindex="-1"></a><span class="co"># server.R ----</span></span>
<span id="cb477-15"><a href="#cb477-15" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb477-16"><a href="#cb477-16" tabindex="-1"></a>  <span class="co"># Your server logic will be defined here</span></span>
<span id="cb477-17"><a href="#cb477-17" tabindex="-1"></a>}</span>
<span id="cb477-18"><a href="#cb477-18" tabindex="-1"></a></span>
<span id="cb477-19"><a href="#cb477-19" tabindex="-1"></a><span class="co"># Run the app ----</span></span>
<span id="cb477-20"><a href="#cb477-20" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
</div>
<p>By following these steps, you'll have the basic structure of a Shiny app in place, ready for you to add your UI elements and server logic to create an interactive web application.</p>
</div>
<div id="inputs" class="section level1" number="30">
<h1><span class="header-section-number">30</span> Inputs</h1>
<p>Now that you have the basic structure of your Shiny app, you can start adding input and output elements to make it interactive. This example app includes four input widgets: a <code>selectInput</code> for genotype, another <code>selectInput</code> for histogram color, a <code>sliderInput</code> for the number of bins, and a <code>textInput</code> for arbitrary text. These widgets provide information on how to display a histogram and its accompanying table. In the example app, all these widgets are placed in the <code>sidebarPanel</code>. Here's how you can incorporate these widgets into your app:</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb478-1"><a href="#cb478-1" tabindex="-1"></a><span class="co"># Packages ----</span></span>
<span id="cb478-2"><a href="#cb478-2" tabindex="-1"></a><span class="fu">library</span>(shiny)       <span class="co"># Essential for running any Shiny app</span></span>
<span id="cb478-3"><a href="#cb478-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb478-4"><a href="#cb478-4" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)    <span class="co"># The source of your data</span></span>
<span id="cb478-5"><a href="#cb478-5" tabindex="-1"></a></span>
<span id="cb478-6"><a href="#cb478-6" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb478-7"><a href="#cb478-7" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(penguins)</span>
<span id="cb478-8"><a href="#cb478-8" tabindex="-1"></a></span>
<span id="cb478-9"><a href="#cb478-9" tabindex="-1"></a><span class="co"># ui.R ----</span></span>
<span id="cb478-10"><a href="#cb478-10" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb478-11"><a href="#cb478-11" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb478-12"><a href="#cb478-12" tabindex="-1"></a>     <span class="fu">sidebarPanel</span>(</span>
<span id="cb478-13"><a href="#cb478-13" tabindex="-1"></a>      demo_sp <span class="ot">&lt;-</span> <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;species&quot;</span>,  <span class="co"># Give the input a name &quot;genotype&quot;</span></span>
<span id="cb478-14"><a href="#cb478-14" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;1. Select species&quot;</span>,  <span class="co"># Give the input a label to be displayed in the app</span></span>
<span id="cb478-15"><a href="#cb478-15" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span> <span class="ot">=</span> <span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span> <span class="ot">=</span> <span class="st">&quot;Chinstrap&quot;</span>, <span class="st">&quot;Gentoo&quot;</span> <span class="ot">=</span> <span class="st">&quot;Gentoo&quot;</span>), <span class="at">selected =</span> <span class="st">&quot;Adelie&quot;</span>),  <span class="co"># Create the choices that can be selected. e.g. Display &quot;Adelie&quot; and link to value &quot;Adelie&quot;</span></span>
<span id="cb478-16"><a href="#cb478-16" tabindex="-1"></a>      demo_select <span class="ot">&lt;-</span> <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;colour&quot;</span>, </span>
<span id="cb478-17"><a href="#cb478-17" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;2. Select histogram colour&quot;</span>, </span>
<span id="cb478-18"><a href="#cb478-18" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;red&quot;</span>,<span class="st">&quot;purple&quot;</span>,<span class="st">&quot;grey&quot;</span>), <span class="at">selected =</span> <span class="st">&quot;grey&quot;</span>),</span>
<span id="cb478-19"><a href="#cb478-19" tabindex="-1"></a>      demo_slide <span class="ot">&lt;-</span> <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">&quot;bin&quot;</span>, </span>
<span id="cb478-20"><a href="#cb478-20" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;3. Select number of histogram bins&quot;</span>, </span>
<span id="cb478-21"><a href="#cb478-21" tabindex="-1"></a>                  <span class="at">min=</span><span class="dv">1</span>, <span class="at">max=</span><span class="dv">25</span>, <span class="at">value=</span> <span class="fu">c</span>(<span class="dv">10</span>)),</span>
<span id="cb478-22"><a href="#cb478-22" tabindex="-1"></a>      demo_text <span class="ot">&lt;-</span> <span class="fu">textAreaInput</span>(<span class="at">inputId =</span> <span class="st">&quot;text&quot;</span>, </span>
<span id="cb478-23"><a href="#cb478-23" tabindex="-1"></a>                <span class="at">label =</span> <span class="st">&quot;4. Enter some text to be displayed&quot;</span>,</span>
<span id="cb478-24"><a href="#cb478-24" tabindex="-1"></a>                <span class="at">rows =</span> <span class="dv">5</span>,</span>
<span id="cb478-25"><a href="#cb478-25" tabindex="-1"></a>                <span class="at">placeholder =</span> <span class="st">&quot;Enter some information here&quot;</span>)</span>
<span id="cb478-26"><a href="#cb478-26" tabindex="-1"></a>    ),</span>
<span id="cb478-27"><a href="#cb478-27" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="cb478-28"><a href="#cb478-28" tabindex="-1"></a>      <span class="co"># Output elements go here</span></span>
<span id="cb478-29"><a href="#cb478-29" tabindex="-1"></a>    )</span>
<span id="cb478-30"><a href="#cb478-30" tabindex="-1"></a>  )</span>
<span id="cb478-31"><a href="#cb478-31" tabindex="-1"></a>)</span>
<span id="cb478-32"><a href="#cb478-32" tabindex="-1"></a><span class="co"># server.R ----</span></span>
<span id="cb478-33"><a href="#cb478-33" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb478-34"><a href="#cb478-34" tabindex="-1"></a>  <span class="co"># Your server logic will be defined here</span></span>
<span id="cb478-35"><a href="#cb478-35" tabindex="-1"></a></span>
<span id="cb478-36"><a href="#cb478-36" tabindex="-1"></a>}</span>
<span id="cb478-37"><a href="#cb478-37" tabindex="-1"></a></span>
<span id="cb478-38"><a href="#cb478-38" tabindex="-1"></a></span>
<span id="cb478-39"><a href="#cb478-39" tabindex="-1"></a></span>
<span id="cb478-40"><a href="#cb478-40" tabindex="-1"></a><span class="co"># Run the app ----</span></span>
<span id="cb478-41"><a href="#cb478-41" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<p>In the code above, we've added the input widgets in the <code>sidebarPanel</code> section of your <code>ui</code> object. These widgets allow users to select a genotype, choose a histogram color, set the number of bins for the histogram, and add arbitrary text.</p>
<p>Let's take a moment to understand the <code>selectInput()</code> function and how it's configured:</p>
<p><strong>inputId = "species":</strong> This is the unique identifier for this input element. It's crucial for later referencing this input within your app script.</p>
<p><strong>label = "1. Select species":</strong> This is the label you want to display above the input in your app. It provides clarity to users by describing the purpose of the input.</p>
<p><strong>choices = c("Adelie" = "Adelie", "Chinstrap" = "Chinstrap", ...):</strong> Here, you define a list of choices that will be presented in the dropdown menu. Each choice has two parts: the display label (on the left) and the corresponding value that the app will collect and use in its output (on the right).</p>
<p><strong>selected = "grey":</strong> This specifies the default value selected in the dropdown menu when the app is first loaded. In this example, 'grey' will be preselected.</p>
<p>Now that you've grasped how <code>selectInput()</code> works, let's use it to customize your Shiny app further."</p>
<p>The above explanation clarifies the purpose and settings of the <code>selectInput()</code> function, and you can use this understanding to configure other input elements in your Shiny app. Below is a summary of the different Input functions available for Shiny</p>
<div id="textinput" class="section level2" number="30.1">
<h2><span class="header-section-number">30.1</span> textInput</h2>
</div>
<div id="textareainput" class="section level2" number="30.2">
<h2><span class="header-section-number">30.2</span> textAreaInput</h2>
<p>##selectInput</p>
<p>##checkboxGroupInput</p>
<p>##checkboxInput</p>
<p>##radioButtons</p>
<p>##dateInput</p>
<p>##dateRangeInput</p>
<p>##fileInput</p>
<p>Next, you'll need to implement the server logic and output elements in the <code>server.R</code> section. The server logic will define how these inputs affect the display of your histogram and table, but that would require additional code specific to your application's requirements.</p>
<p>Remember that Shiny allows you to create reactive expressions and functions that respond to changes in input values. You can use these reactive expressions to generate the histogram and associated table based on user input.</p>
<p>As you proceed, you can add more details to your <code>server.R</code> to handle these inputs and create the corresponding outputs.</p>
</div>
<div id="exercise-2" class="section level2" number="30.3">
<h2><span class="header-section-number">30.3</span> Exercise</h2>
<p>Create an interface that gets people to enter their name, date of birth and select what type of cake they want from a selection OF -</p>
<ul>
<li><p>Chocolate</p></li>
<li><p>Sponge</p></li>
<li><p>Red Velvet</p></li>
<li><p>Cheesecake</p></li>
</ul>
</div>
</div>
<div id="outputs" class="section level1" number="31">
<h1><span class="header-section-number">31</span> Outputs</h1>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb479-1"><a href="#cb479-1" tabindex="-1"></a><span class="co"># Packages ----</span></span>
<span id="cb479-2"><a href="#cb479-2" tabindex="-1"></a><span class="fu">library</span>(shiny)       <span class="co"># Essential for running any Shiny app</span></span>
<span id="cb479-3"><a href="#cb479-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb479-4"><a href="#cb479-4" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)    <span class="co"># The source of your data</span></span>
<span id="cb479-5"><a href="#cb479-5" tabindex="-1"></a></span>
<span id="cb479-6"><a href="#cb479-6" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb479-7"><a href="#cb479-7" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(penguins)</span>
<span id="cb479-8"><a href="#cb479-8" tabindex="-1"></a></span>
<span id="cb479-9"><a href="#cb479-9" tabindex="-1"></a><span class="co"># ui.R ----</span></span>
<span id="cb479-10"><a href="#cb479-10" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb479-11"><a href="#cb479-11" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb479-12"><a href="#cb479-12" tabindex="-1"></a>     <span class="fu">sidebarPanel</span>(</span>
<span id="cb479-13"><a href="#cb479-13" tabindex="-1"></a>      demo_sp <span class="ot">&lt;-</span> <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;species&quot;</span>,  <span class="co"># Give the input a name &quot;genotype&quot;</span></span>
<span id="cb479-14"><a href="#cb479-14" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;1. Select species&quot;</span>,  <span class="co"># Give the input a label to be displayed in the app</span></span>
<span id="cb479-15"><a href="#cb479-15" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span> <span class="ot">=</span> <span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span> <span class="ot">=</span> <span class="st">&quot;Chinstrap&quot;</span>, <span class="st">&quot;Gentoo&quot;</span> <span class="ot">=</span> <span class="st">&quot;Gentoo&quot;</span>), <span class="at">selected =</span> <span class="st">&quot;Adelie&quot;</span>),  <span class="co"># Create the choices that can be selected. e.g. Display &quot;Adelie&quot; and link to value &quot;Adelie&quot;</span></span>
<span id="cb479-16"><a href="#cb479-16" tabindex="-1"></a>      demo_select <span class="ot">&lt;-</span> <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;colour&quot;</span>, </span>
<span id="cb479-17"><a href="#cb479-17" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;2. Select histogram colour&quot;</span>, </span>
<span id="cb479-18"><a href="#cb479-18" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;red&quot;</span>,<span class="st">&quot;purple&quot;</span>,<span class="st">&quot;grey&quot;</span>), <span class="at">selected =</span> <span class="st">&quot;grey&quot;</span>),</span>
<span id="cb479-19"><a href="#cb479-19" tabindex="-1"></a>      demo_slide <span class="ot">&lt;-</span> <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">&quot;bin&quot;</span>, </span>
<span id="cb479-20"><a href="#cb479-20" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;3. Select number of histogram bins&quot;</span>, </span>
<span id="cb479-21"><a href="#cb479-21" tabindex="-1"></a>                  <span class="at">min=</span><span class="dv">1</span>, <span class="at">max=</span><span class="dv">25</span>, <span class="at">value=</span> <span class="fu">c</span>(<span class="dv">10</span>)),</span>
<span id="cb479-22"><a href="#cb479-22" tabindex="-1"></a>      demo_text <span class="ot">&lt;-</span> <span class="fu">textAreaInput</span>(<span class="at">inputId =</span> <span class="st">&quot;text&quot;</span>, </span>
<span id="cb479-23"><a href="#cb479-23" tabindex="-1"></a>                <span class="at">label =</span> <span class="st">&quot;4. Enter some text to be displayed&quot;</span>,</span>
<span id="cb479-24"><a href="#cb479-24" tabindex="-1"></a>                <span class="at">rows =</span> <span class="dv">5</span>,</span>
<span id="cb479-25"><a href="#cb479-25" tabindex="-1"></a>                <span class="at">placeholder =</span> <span class="st">&quot;Enter some information here&quot;</span>)</span>
<span id="cb479-26"><a href="#cb479-26" tabindex="-1"></a>    ),</span>
<span id="cb479-27"><a href="#cb479-27" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="cb479-28"><a href="#cb479-28" tabindex="-1"></a>      <span class="co"># Output elements go here</span></span>
<span id="cb479-29"><a href="#cb479-29" tabindex="-1"></a>        <span class="fu">textOutput</span>(<span class="st">&quot;demo_text&quot;</span>),</span>
<span id="cb479-30"><a href="#cb479-30" tabindex="-1"></a>        </span>
<span id="cb479-31"><a href="#cb479-31" tabindex="-1"></a>        <span class="fu">plotOutput</span>(<span class="st">&quot;demo_plot&quot;</span>, <span class="at">width =</span> <span class="st">&quot;500px&quot;</span>, <span class="at">height=</span><span class="st">&quot;300px&quot;</span>),</span>
<span id="cb479-32"><a href="#cb479-32" tabindex="-1"></a>        </span>
<span id="cb479-33"><a href="#cb479-33" tabindex="-1"></a>        DT<span class="sc">::</span><span class="fu">dataTableOutput</span>(<span class="st">&quot;demo_table&quot;</span>,</span>
<span id="cb479-34"><a href="#cb479-34" tabindex="-1"></a>                    <span class="at">width =</span> <span class="st">&quot;50%&quot;</span>,</span>
<span id="cb479-35"><a href="#cb479-35" tabindex="-1"></a>                    <span class="at">height =</span> <span class="st">&quot;auto&quot;</span>)</span>
<span id="cb479-36"><a href="#cb479-36" tabindex="-1"></a>    )</span>
<span id="cb479-37"><a href="#cb479-37" tabindex="-1"></a>  )</span>
<span id="cb479-38"><a href="#cb479-38" tabindex="-1"></a>)</span>
<span id="cb479-39"><a href="#cb479-39" tabindex="-1"></a><span class="co"># server.R ----</span></span>
<span id="cb479-40"><a href="#cb479-40" tabindex="-1"></a></span>
<span id="cb479-41"><a href="#cb479-41" tabindex="-1"></a> </span>
<span id="cb479-42"><a href="#cb479-42" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb479-43"><a href="#cb479-43" tabindex="-1"></a>   <span class="co"># Your server logic will be defined here</span></span>
<span id="cb479-44"><a href="#cb479-44" tabindex="-1"></a>  output<span class="sc">$</span>demo_text <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb479-45"><a href="#cb479-45" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">&quot;Figure 1.&quot;</span>, input<span class="sc">$</span>species, input<span class="sc">$</span>text)</span>
<span id="cb479-46"><a href="#cb479-46" tabindex="-1"></a>  })</span>
<span id="cb479-47"><a href="#cb479-47" tabindex="-1"></a>  </span>
<span id="cb479-48"><a href="#cb479-48" tabindex="-1"></a>  output<span class="sc">$</span>demo_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb479-49"><a href="#cb479-49" tabindex="-1"></a>    penguins_filtered <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span></span>
<span id="cb479-50"><a href="#cb479-50" tabindex="-1"></a>      <span class="fu">filter</span>(species <span class="sc">==</span> input<span class="sc">$</span>species)</span>
<span id="cb479-51"><a href="#cb479-51" tabindex="-1"></a>    </span>
<span id="cb479-52"><a href="#cb479-52" tabindex="-1"></a>    <span class="fu">ggplot</span>(penguins_filtered, <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb479-53"><a href="#cb479-53" tabindex="-1"></a>      <span class="fu">geom_histogram</span>(<span class="at">fill =</span> input<span class="sc">$</span>colour, <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">bins =</span> input<span class="sc">$</span>bin) <span class="sc">+</span></span>
<span id="cb479-54"><a href="#cb479-54" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">&quot;Color&quot;</span>) <span class="sc">+</span></span>
<span id="cb479-55"><a href="#cb479-55" tabindex="-1"></a>      <span class="fu">theme_minimal</span>()</span>
<span id="cb479-56"><a href="#cb479-56" tabindex="-1"></a>  })</span>
<span id="cb479-57"><a href="#cb479-57" tabindex="-1"></a>  </span>
<span id="cb479-58"><a href="#cb479-58" tabindex="-1"></a>  output<span class="sc">$</span>demo_table <span class="ot">&lt;-</span> DT<span class="sc">::</span><span class="fu">renderDataTable</span>({</span>
<span id="cb479-59"><a href="#cb479-59" tabindex="-1"></a>   penguins  <span class="sc">|&gt;</span> </span>
<span id="cb479-60"><a href="#cb479-60" tabindex="-1"></a>      <span class="fu">filter</span>(species <span class="sc">==</span> input<span class="sc">$</span>species) <span class="sc">|&gt;</span> </span>
<span id="cb479-61"><a href="#cb479-61" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">flipper_length_mm =</span> <span class="fu">quantile</span>(flipper_length_mm, <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>), <span class="at">na.rm =</span> T), <span class="at">quantile =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>))</span>
<span id="cb479-62"><a href="#cb479-62" tabindex="-1"></a>})</span>
<span id="cb479-63"><a href="#cb479-63" tabindex="-1"></a>  </span>
<span id="cb479-64"><a href="#cb479-64" tabindex="-1"></a>}</span>
<span id="cb479-65"><a href="#cb479-65" tabindex="-1"></a></span>
<span id="cb479-66"><a href="#cb479-66" tabindex="-1"></a></span>
<span id="cb479-67"><a href="#cb479-67" tabindex="-1"></a></span>
<span id="cb479-68"><a href="#cb479-68" tabindex="-1"></a><span class="co"># Run the app ----</span></span>
<span id="cb479-69"><a href="#cb479-69" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<div id="text-1" class="section level2" number="31.1">
<h2><span class="header-section-number">31.1</span> Text</h2>
</div>
<div id="plots" class="section level2" number="31.2">
<h2><span class="header-section-number">31.2</span> Plots</h2>
</div>
<div id="images" class="section level2" number="31.3">
<h2><span class="header-section-number">31.3</span> Images</h2>
</div>
<div id="tables" class="section level2" number="31.4">
<h2><span class="header-section-number">31.4</span> Tables</h2>
</div>
<div id="layouts-themes-html" class="section level2" number="31.5">
<h2><span class="header-section-number">31.5</span> Layouts, themes, HTML</h2>
<p>Exercise: Customize the app's appearance by adding a custom color scheme, a title with a different font, and adjusting the size of the plot.</p>
<pre><code>  
p(&quot;p creates a paragraph of text.&quot;),

      
      p(&quot;A new p() command starts a new paragraph. Supply a style attribute to change the format of the entire paragraph.&quot;, style = &quot;font-family: &#39;times&#39;; font-si16pt&quot;),
      
      strong(&quot;strong() makes bold text.&quot;),
      
      em(&quot;em() creates italicized (i.e, emphasized) text.&quot;),
      
      br(),
      
      code(&quot;code displays your text similar to computer code&quot;),
      
      div(&quot;div creates segments of text with a similar style. This division of text is all blue because I passed the argument &#39;style = color:blue&#39; to div&quot;, style = &quot;color:blue&quot;),
      
      br(),
      
      p(&quot;span does the same thing as div, but it works with&quot;,
        span(&quot;groups of words&quot;, style = &quot;color:blue&quot;),
        &quot;that appear inside a paragraph.&quot;),
</code></pre>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="#cb481-1" tabindex="-1"></a><span class="co"># Packages ----</span></span>
<span id="cb481-2"><a href="#cb481-2" tabindex="-1"></a><span class="fu">library</span>(shiny)       <span class="co"># Essential for running any Shiny app</span></span>
<span id="cb481-3"><a href="#cb481-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb481-4"><a href="#cb481-4" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)    <span class="co"># The source of your data</span></span>
<span id="cb481-5"><a href="#cb481-5" tabindex="-1"></a></span>
<span id="cb481-6"><a href="#cb481-6" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb481-7"><a href="#cb481-7" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(penguins)</span>
<span id="cb481-8"><a href="#cb481-8" tabindex="-1"></a></span>
<span id="cb481-9"><a href="#cb481-9" tabindex="-1"></a><span class="co"># ui.R ----</span></span>
<span id="cb481-10"><a href="#cb481-10" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb481-11"><a href="#cb481-11" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb481-12"><a href="#cb481-12" tabindex="-1"></a>     <span class="fu">sidebarPanel</span>(</span>
<span id="cb481-13"><a href="#cb481-13" tabindex="-1"></a>      demo_sp <span class="ot">&lt;-</span> <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;species&quot;</span>,  <span class="co"># Give the input a name &quot;genotype&quot;</span></span>
<span id="cb481-14"><a href="#cb481-14" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;1. Select species&quot;</span>,  <span class="co"># Give the input a label to be displayed in the app</span></span>
<span id="cb481-15"><a href="#cb481-15" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span> <span class="ot">=</span> <span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span> <span class="ot">=</span> <span class="st">&quot;Chinstrap&quot;</span>, <span class="st">&quot;Gentoo&quot;</span> <span class="ot">=</span> <span class="st">&quot;Gentoo&quot;</span>), <span class="at">selected =</span> <span class="st">&quot;Adelie&quot;</span>),  <span class="co"># Create the choices that can be selected. e.g. Display &quot;Adelie&quot; and link to value &quot;Adelie&quot;</span></span>
<span id="cb481-16"><a href="#cb481-16" tabindex="-1"></a>      demo_select <span class="ot">&lt;-</span> <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;colour&quot;</span>, </span>
<span id="cb481-17"><a href="#cb481-17" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;2. Select histogram colour&quot;</span>, </span>
<span id="cb481-18"><a href="#cb481-18" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;red&quot;</span>,<span class="st">&quot;purple&quot;</span>,<span class="st">&quot;grey&quot;</span>), <span class="at">selected =</span> <span class="st">&quot;grey&quot;</span>),</span>
<span id="cb481-19"><a href="#cb481-19" tabindex="-1"></a>      demo_slide <span class="ot">&lt;-</span> <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">&quot;bin&quot;</span>, </span>
<span id="cb481-20"><a href="#cb481-20" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;3. Select number of histogram bins&quot;</span>, </span>
<span id="cb481-21"><a href="#cb481-21" tabindex="-1"></a>                  <span class="at">min=</span><span class="dv">1</span>, <span class="at">max=</span><span class="dv">25</span>, <span class="at">value=</span> <span class="fu">c</span>(<span class="dv">10</span>)),</span>
<span id="cb481-22"><a href="#cb481-22" tabindex="-1"></a>      demo_text <span class="ot">&lt;-</span> <span class="fu">textAreaInput</span>(<span class="at">inputId =</span> <span class="st">&quot;text&quot;</span>, </span>
<span id="cb481-23"><a href="#cb481-23" tabindex="-1"></a>                <span class="at">label =</span> <span class="st">&quot;4. Enter some text to be displayed&quot;</span>,</span>
<span id="cb481-24"><a href="#cb481-24" tabindex="-1"></a>                <span class="at">rows =</span> <span class="dv">5</span>,</span>
<span id="cb481-25"><a href="#cb481-25" tabindex="-1"></a>                <span class="at">placeholder =</span> <span class="st">&quot;Enter some information here&quot;</span>)</span>
<span id="cb481-26"><a href="#cb481-26" tabindex="-1"></a>    ),</span>
<span id="cb481-27"><a href="#cb481-27" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="cb481-28"><a href="#cb481-28" tabindex="-1"></a>      <span class="co"># Output elements go here</span></span>
<span id="cb481-29"><a href="#cb481-29" tabindex="-1"></a>        </span>
<span id="cb481-30"><a href="#cb481-30" tabindex="-1"></a>    tags<span class="sc">$</span><span class="fu">ul</span>(</span>
<span id="cb481-31"><a href="#cb481-31" tabindex="-1"></a>    tags<span class="sc">$</span><span class="fu">strong</span>(<span class="fu">textOutput</span>(<span class="st">&quot;demo_sp&quot;</span>)),</span>
<span id="cb481-32"><a href="#cb481-32" tabindex="-1"></a>    <span class="fu">textOutput</span>(<span class="st">&quot;demo_text&quot;</span>)),</span>
<span id="cb481-33"><a href="#cb481-33" tabindex="-1"></a>  </span>
<span id="cb481-34"><a href="#cb481-34" tabindex="-1"></a>        <span class="fu">plotOutput</span>(<span class="st">&quot;demo_plot&quot;</span>, <span class="at">width =</span> <span class="st">&quot;500px&quot;</span>, <span class="at">height=</span><span class="st">&quot;300px&quot;</span>),</span>
<span id="cb481-35"><a href="#cb481-35" tabindex="-1"></a>        </span>
<span id="cb481-36"><a href="#cb481-36" tabindex="-1"></a>        DT<span class="sc">::</span><span class="fu">dataTableOutput</span>(<span class="st">&quot;demo_table&quot;</span>,</span>
<span id="cb481-37"><a href="#cb481-37" tabindex="-1"></a>                    <span class="at">width =</span> <span class="st">&quot;50%&quot;</span>,</span>
<span id="cb481-38"><a href="#cb481-38" tabindex="-1"></a>                    <span class="at">height =</span> <span class="st">&quot;auto&quot;</span>)</span>
<span id="cb481-39"><a href="#cb481-39" tabindex="-1"></a>    )</span>
<span id="cb481-40"><a href="#cb481-40" tabindex="-1"></a>  )</span>
<span id="cb481-41"><a href="#cb481-41" tabindex="-1"></a>)</span>
<span id="cb481-42"><a href="#cb481-42" tabindex="-1"></a><span class="co"># server.R ----</span></span>
<span id="cb481-43"><a href="#cb481-43" tabindex="-1"></a></span>
<span id="cb481-44"><a href="#cb481-44" tabindex="-1"></a> </span>
<span id="cb481-45"><a href="#cb481-45" tabindex="-1"></a></span>
<span id="cb481-46"><a href="#cb481-46" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb481-47"><a href="#cb481-47" tabindex="-1"></a>  </span>
<span id="cb481-48"><a href="#cb481-48" tabindex="-1"></a></span>
<span id="cb481-49"><a href="#cb481-49" tabindex="-1"></a>  output<span class="sc">$</span>demo_sp <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb481-50"><a href="#cb481-50" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">&quot;Figure 1.&quot;</span>, input<span class="sc">$</span>species)</span>
<span id="cb481-51"><a href="#cb481-51" tabindex="-1"></a>  })</span>
<span id="cb481-52"><a href="#cb481-52" tabindex="-1"></a>  </span>
<span id="cb481-53"><a href="#cb481-53" tabindex="-1"></a>output<span class="sc">$</span>demo_text <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb481-54"><a href="#cb481-54" tabindex="-1"></a>  (input<span class="sc">$</span>text)</span>
<span id="cb481-55"><a href="#cb481-55" tabindex="-1"></a>})</span>
<span id="cb481-56"><a href="#cb481-56" tabindex="-1"></a>   </span>
<span id="cb481-57"><a href="#cb481-57" tabindex="-1"></a>    </span>
<span id="cb481-58"><a href="#cb481-58" tabindex="-1"></a>  output<span class="sc">$</span>demo_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb481-59"><a href="#cb481-59" tabindex="-1"></a>    penguins_filtered <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span></span>
<span id="cb481-60"><a href="#cb481-60" tabindex="-1"></a>      <span class="fu">filter</span>(species <span class="sc">==</span> input<span class="sc">$</span>species)</span>
<span id="cb481-61"><a href="#cb481-61" tabindex="-1"></a>    </span>
<span id="cb481-62"><a href="#cb481-62" tabindex="-1"></a>    <span class="fu">ggplot</span>(penguins_filtered, <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb481-63"><a href="#cb481-63" tabindex="-1"></a>      <span class="fu">geom_histogram</span>(<span class="at">fill =</span> input<span class="sc">$</span>colour, <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">bins =</span> input<span class="sc">$</span>bin) <span class="sc">+</span></span>
<span id="cb481-64"><a href="#cb481-64" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">&quot;Color&quot;</span>) <span class="sc">+</span></span>
<span id="cb481-65"><a href="#cb481-65" tabindex="-1"></a>      <span class="fu">theme_minimal</span>()</span>
<span id="cb481-66"><a href="#cb481-66" tabindex="-1"></a>  })</span>
<span id="cb481-67"><a href="#cb481-67" tabindex="-1"></a>  </span>
<span id="cb481-68"><a href="#cb481-68" tabindex="-1"></a>  output<span class="sc">$</span>demo_table <span class="ot">&lt;-</span> DT<span class="sc">::</span><span class="fu">renderDataTable</span>({</span>
<span id="cb481-69"><a href="#cb481-69" tabindex="-1"></a>   penguins <span class="sc">|&gt;</span></span>
<span id="cb481-70"><a href="#cb481-70" tabindex="-1"></a>      <span class="fu">filter</span>(species <span class="sc">==</span> input<span class="sc">$</span>species) <span class="sc">|&gt;</span> </span>
<span id="cb481-71"><a href="#cb481-71" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">flipper_length_mm =</span> <span class="fu">quantile</span>(flipper_length_mm, <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>), <span class="at">na.rm =</span> T), <span class="at">quantile =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>))</span>
<span id="cb481-72"><a href="#cb481-72" tabindex="-1"></a>})</span>
<span id="cb481-73"><a href="#cb481-73" tabindex="-1"></a>  </span>
<span id="cb481-74"><a href="#cb481-74" tabindex="-1"></a>}</span>
<span id="cb481-75"><a href="#cb481-75" tabindex="-1"></a></span>
<span id="cb481-76"><a href="#cb481-76" tabindex="-1"></a></span>
<span id="cb481-77"><a href="#cb481-77" tabindex="-1"></a></span>
<span id="cb481-78"><a href="#cb481-78" tabindex="-1"></a><span class="co"># Run the app ----</span></span>
<span id="cb481-79"><a href="#cb481-79" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
<div id="reactive" class="section level1" number="32">
<h1><span class="header-section-number">32</span> Reactive</h1>
<pre><code>Error in filter(., species == input$species) : 
  ℹ In argument: `species == input$species`.
Caused by error in `input$species`:
! Can&#39;t access reactive value &#39;species&#39; outside of reactive consumer.
ℹ Do you need to wrap inside reactive() or observe()?
</code></pre>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb483-1"><a href="#cb483-1" tabindex="-1"></a><span class="co"># Packages ----</span></span>
<span id="cb483-2"><a href="#cb483-2" tabindex="-1"></a><span class="fu">library</span>(shiny)       <span class="co"># Essential for running any Shiny app</span></span>
<span id="cb483-3"><a href="#cb483-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb483-4"><a href="#cb483-4" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)    <span class="co"># The source of your data</span></span>
<span id="cb483-5"><a href="#cb483-5" tabindex="-1"></a></span>
<span id="cb483-6"><a href="#cb483-6" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb483-7"><a href="#cb483-7" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(penguins)</span>
<span id="cb483-8"><a href="#cb483-8" tabindex="-1"></a></span>
<span id="cb483-9"><a href="#cb483-9" tabindex="-1"></a><span class="co"># ui.R ----</span></span>
<span id="cb483-10"><a href="#cb483-10" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb483-11"><a href="#cb483-11" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb483-12"><a href="#cb483-12" tabindex="-1"></a>     <span class="fu">sidebarPanel</span>(</span>
<span id="cb483-13"><a href="#cb483-13" tabindex="-1"></a>      demo_sp <span class="ot">&lt;-</span> <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;species&quot;</span>,  <span class="co"># Give the input a name &quot;genotype&quot;</span></span>
<span id="cb483-14"><a href="#cb483-14" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;1. Select species&quot;</span>,  <span class="co"># Give the input a label to be displayed in the app</span></span>
<span id="cb483-15"><a href="#cb483-15" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span> <span class="ot">=</span> <span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span> <span class="ot">=</span> <span class="st">&quot;Chinstrap&quot;</span>, <span class="st">&quot;Gentoo&quot;</span> <span class="ot">=</span> <span class="st">&quot;Gentoo&quot;</span>), <span class="at">selected =</span> <span class="st">&quot;Adelie&quot;</span>),  <span class="co"># Create the choices that can be selected. e.g. Display &quot;Adelie&quot; and link to value &quot;Adelie&quot;</span></span>
<span id="cb483-16"><a href="#cb483-16" tabindex="-1"></a>      demo_select <span class="ot">&lt;-</span> <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;colour&quot;</span>, </span>
<span id="cb483-17"><a href="#cb483-17" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;2. Select histogram colour&quot;</span>, </span>
<span id="cb483-18"><a href="#cb483-18" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;red&quot;</span>,<span class="st">&quot;purple&quot;</span>,<span class="st">&quot;grey&quot;</span>), <span class="at">selected =</span> <span class="st">&quot;grey&quot;</span>),</span>
<span id="cb483-19"><a href="#cb483-19" tabindex="-1"></a>      demo_slide <span class="ot">&lt;-</span> <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">&quot;bin&quot;</span>, </span>
<span id="cb483-20"><a href="#cb483-20" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;3. Select number of histogram bins&quot;</span>, </span>
<span id="cb483-21"><a href="#cb483-21" tabindex="-1"></a>                  <span class="at">min=</span><span class="dv">1</span>, <span class="at">max=</span><span class="dv">25</span>, <span class="at">value=</span> <span class="fu">c</span>(<span class="dv">10</span>)),</span>
<span id="cb483-22"><a href="#cb483-22" tabindex="-1"></a>      demo_text <span class="ot">&lt;-</span> <span class="fu">textAreaInput</span>(<span class="at">inputId =</span> <span class="st">&quot;text&quot;</span>, </span>
<span id="cb483-23"><a href="#cb483-23" tabindex="-1"></a>                <span class="at">label =</span> <span class="st">&quot;4. Enter some text to be displayed&quot;</span>,</span>
<span id="cb483-24"><a href="#cb483-24" tabindex="-1"></a>                <span class="at">rows =</span> <span class="dv">5</span>,</span>
<span id="cb483-25"><a href="#cb483-25" tabindex="-1"></a>                <span class="at">placeholder =</span> <span class="st">&quot;Enter some information here&quot;</span>)</span>
<span id="cb483-26"><a href="#cb483-26" tabindex="-1"></a>    ),</span>
<span id="cb483-27"><a href="#cb483-27" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="cb483-28"><a href="#cb483-28" tabindex="-1"></a>      <span class="co"># Output elements go here</span></span>
<span id="cb483-29"><a href="#cb483-29" tabindex="-1"></a>        </span>
<span id="cb483-30"><a href="#cb483-30" tabindex="-1"></a>    tags<span class="sc">$</span><span class="fu">ul</span>(</span>
<span id="cb483-31"><a href="#cb483-31" tabindex="-1"></a>    tags<span class="sc">$</span><span class="fu">strong</span>(<span class="fu">textOutput</span>(<span class="st">&quot;demo_sp&quot;</span>)),</span>
<span id="cb483-32"><a href="#cb483-32" tabindex="-1"></a>    <span class="fu">textOutput</span>(<span class="st">&quot;demo_text&quot;</span>)),</span>
<span id="cb483-33"><a href="#cb483-33" tabindex="-1"></a>  </span>
<span id="cb483-34"><a href="#cb483-34" tabindex="-1"></a>        <span class="fu">plotOutput</span>(<span class="st">&quot;demo_plot&quot;</span>, <span class="at">width =</span> <span class="st">&quot;500px&quot;</span>, <span class="at">height=</span><span class="st">&quot;300px&quot;</span>),</span>
<span id="cb483-35"><a href="#cb483-35" tabindex="-1"></a>        </span>
<span id="cb483-36"><a href="#cb483-36" tabindex="-1"></a>        DT<span class="sc">::</span><span class="fu">dataTableOutput</span>(<span class="st">&quot;demo_table&quot;</span>,</span>
<span id="cb483-37"><a href="#cb483-37" tabindex="-1"></a>                    <span class="at">width =</span> <span class="st">&quot;50%&quot;</span>,</span>
<span id="cb483-38"><a href="#cb483-38" tabindex="-1"></a>                    <span class="at">height =</span> <span class="st">&quot;auto&quot;</span>)</span>
<span id="cb483-39"><a href="#cb483-39" tabindex="-1"></a>    )</span>
<span id="cb483-40"><a href="#cb483-40" tabindex="-1"></a>  )</span>
<span id="cb483-41"><a href="#cb483-41" tabindex="-1"></a>)</span>
<span id="cb483-42"><a href="#cb483-42" tabindex="-1"></a><span class="co"># server.R ----</span></span>
<span id="cb483-43"><a href="#cb483-43" tabindex="-1"></a></span>
<span id="cb483-44"><a href="#cb483-44" tabindex="-1"></a> </span>
<span id="cb483-45"><a href="#cb483-45" tabindex="-1"></a></span>
<span id="cb483-46"><a href="#cb483-46" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb483-47"><a href="#cb483-47" tabindex="-1"></a>  </span>
<span id="cb483-48"><a href="#cb483-48" tabindex="-1"></a>penguins_filtered <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span></span>
<span id="cb483-49"><a href="#cb483-49" tabindex="-1"></a>      <span class="fu">filter</span>(species <span class="sc">==</span> input<span class="sc">$</span>species) </span>
<span id="cb483-50"><a href="#cb483-50" tabindex="-1"></a>  </span>
<span id="cb483-51"><a href="#cb483-51" tabindex="-1"></a>  output<span class="sc">$</span>demo_sp <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb483-52"><a href="#cb483-52" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">&quot;Figure 1.&quot;</span>, input<span class="sc">$</span>species)</span>
<span id="cb483-53"><a href="#cb483-53" tabindex="-1"></a>  })</span>
<span id="cb483-54"><a href="#cb483-54" tabindex="-1"></a>  </span>
<span id="cb483-55"><a href="#cb483-55" tabindex="-1"></a>output<span class="sc">$</span>demo_text <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb483-56"><a href="#cb483-56" tabindex="-1"></a>  (input<span class="sc">$</span>text)</span>
<span id="cb483-57"><a href="#cb483-57" tabindex="-1"></a>})</span>
<span id="cb483-58"><a href="#cb483-58" tabindex="-1"></a>   </span>
<span id="cb483-59"><a href="#cb483-59" tabindex="-1"></a></span>
<span id="cb483-60"><a href="#cb483-60" tabindex="-1"></a>    </span>
<span id="cb483-61"><a href="#cb483-61" tabindex="-1"></a>  output<span class="sc">$</span>demo_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb483-62"><a href="#cb483-62" tabindex="-1"></a>    </span>
<span id="cb483-63"><a href="#cb483-63" tabindex="-1"></a>    <span class="fu">ggplot</span>(penguins_filtered, <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb483-64"><a href="#cb483-64" tabindex="-1"></a>      <span class="fu">geom_histogram</span>(<span class="at">fill =</span> input<span class="sc">$</span>colour, <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">bins =</span> input<span class="sc">$</span>bin) <span class="sc">+</span></span>
<span id="cb483-65"><a href="#cb483-65" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">&quot;Color&quot;</span>) <span class="sc">+</span></span>
<span id="cb483-66"><a href="#cb483-66" tabindex="-1"></a>      <span class="fu">theme_minimal</span>()</span>
<span id="cb483-67"><a href="#cb483-67" tabindex="-1"></a>  })</span>
<span id="cb483-68"><a href="#cb483-68" tabindex="-1"></a>  </span>
<span id="cb483-69"><a href="#cb483-69" tabindex="-1"></a>  output<span class="sc">$</span>demo_table <span class="ot">&lt;-</span> DT<span class="sc">::</span><span class="fu">renderDataTable</span>({</span>
<span id="cb483-70"><a href="#cb483-70" tabindex="-1"></a>   penguins_filtered <span class="sc">|&gt;</span> </span>
<span id="cb483-71"><a href="#cb483-71" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">flipper_length_mm =</span> <span class="fu">quantile</span>(flipper_length_mm, <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>), <span class="at">na.rm =</span> T), <span class="at">quantile =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>))</span>
<span id="cb483-72"><a href="#cb483-72" tabindex="-1"></a>})</span>
<span id="cb483-73"><a href="#cb483-73" tabindex="-1"></a>  </span>
<span id="cb483-74"><a href="#cb483-74" tabindex="-1"></a>}</span>
<span id="cb483-75"><a href="#cb483-75" tabindex="-1"></a></span>
<span id="cb483-76"><a href="#cb483-76" tabindex="-1"></a></span>
<span id="cb483-77"><a href="#cb483-77" tabindex="-1"></a></span>
<span id="cb483-78"><a href="#cb483-78" tabindex="-1"></a><span class="co"># Run the app ----</span></span>
<span id="cb483-79"><a href="#cb483-79" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="#cb484-1" tabindex="-1"></a><span class="co"># Packages ----</span></span>
<span id="cb484-2"><a href="#cb484-2" tabindex="-1"></a><span class="fu">library</span>(shiny)       <span class="co"># Essential for running any Shiny app</span></span>
<span id="cb484-3"><a href="#cb484-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb484-4"><a href="#cb484-4" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)    <span class="co"># The source of your data</span></span>
<span id="cb484-5"><a href="#cb484-5" tabindex="-1"></a></span>
<span id="cb484-6"><a href="#cb484-6" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb484-7"><a href="#cb484-7" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(penguins)</span>
<span id="cb484-8"><a href="#cb484-8" tabindex="-1"></a></span>
<span id="cb484-9"><a href="#cb484-9" tabindex="-1"></a> </span>
<span id="cb484-10"><a href="#cb484-10" tabindex="-1"></a></span>
<span id="cb484-11"><a href="#cb484-11" tabindex="-1"></a><span class="co"># ui.R ----</span></span>
<span id="cb484-12"><a href="#cb484-12" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb484-13"><a href="#cb484-13" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb484-14"><a href="#cb484-14" tabindex="-1"></a>     <span class="fu">sidebarPanel</span>(</span>
<span id="cb484-15"><a href="#cb484-15" tabindex="-1"></a>      demo_sp <span class="ot">&lt;-</span> <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;species&quot;</span>,  <span class="co"># Give the input a name &quot;genotype&quot;</span></span>
<span id="cb484-16"><a href="#cb484-16" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;1. Select species&quot;</span>,  <span class="co"># Give the input a label to be displayed in the app</span></span>
<span id="cb484-17"><a href="#cb484-17" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span> <span class="ot">=</span> <span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span> <span class="ot">=</span> <span class="st">&quot;Chinstrap&quot;</span>, <span class="st">&quot;Gentoo&quot;</span> <span class="ot">=</span> <span class="st">&quot;Gentoo&quot;</span>), <span class="at">selected =</span> <span class="st">&quot;Adelie&quot;</span>),  <span class="co"># Create the choices that can be selected. e.g. Display &quot;Adelie&quot; and link to value &quot;Adelie&quot;</span></span>
<span id="cb484-18"><a href="#cb484-18" tabindex="-1"></a>      demo_select <span class="ot">&lt;-</span> <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;colour&quot;</span>, </span>
<span id="cb484-19"><a href="#cb484-19" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;2. Select histogram colour&quot;</span>, </span>
<span id="cb484-20"><a href="#cb484-20" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;red&quot;</span>,<span class="st">&quot;purple&quot;</span>,<span class="st">&quot;grey&quot;</span>), <span class="at">selected =</span> <span class="st">&quot;grey&quot;</span>),</span>
<span id="cb484-21"><a href="#cb484-21" tabindex="-1"></a>      demo_slide <span class="ot">&lt;-</span> <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">&quot;bin&quot;</span>, </span>
<span id="cb484-22"><a href="#cb484-22" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;3. Select number of histogram bins&quot;</span>, </span>
<span id="cb484-23"><a href="#cb484-23" tabindex="-1"></a>                  <span class="at">min=</span><span class="dv">1</span>, <span class="at">max=</span><span class="dv">25</span>, <span class="at">value=</span> <span class="fu">c</span>(<span class="dv">10</span>)),</span>
<span id="cb484-24"><a href="#cb484-24" tabindex="-1"></a>      demo_text <span class="ot">&lt;-</span> <span class="fu">textAreaInput</span>(<span class="at">inputId =</span> <span class="st">&quot;text&quot;</span>, </span>
<span id="cb484-25"><a href="#cb484-25" tabindex="-1"></a>                <span class="at">label =</span> <span class="st">&quot;4. Enter some text to be displayed&quot;</span>,</span>
<span id="cb484-26"><a href="#cb484-26" tabindex="-1"></a>                <span class="at">rows =</span> <span class="dv">5</span>,</span>
<span id="cb484-27"><a href="#cb484-27" tabindex="-1"></a>                <span class="at">placeholder =</span> <span class="st">&quot;Enter some information here&quot;</span>)</span>
<span id="cb484-28"><a href="#cb484-28" tabindex="-1"></a>    ),</span>
<span id="cb484-29"><a href="#cb484-29" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="cb484-30"><a href="#cb484-30" tabindex="-1"></a>      <span class="co"># Output elements go here</span></span>
<span id="cb484-31"><a href="#cb484-31" tabindex="-1"></a>        </span>
<span id="cb484-32"><a href="#cb484-32" tabindex="-1"></a>    tags<span class="sc">$</span><span class="fu">ul</span>(</span>
<span id="cb484-33"><a href="#cb484-33" tabindex="-1"></a>    tags<span class="sc">$</span><span class="fu">strong</span>(<span class="fu">textOutput</span>(<span class="st">&quot;demo_sp&quot;</span>)),</span>
<span id="cb484-34"><a href="#cb484-34" tabindex="-1"></a>    <span class="fu">textOutput</span>(<span class="st">&quot;demo_text&quot;</span>)),</span>
<span id="cb484-35"><a href="#cb484-35" tabindex="-1"></a>  </span>
<span id="cb484-36"><a href="#cb484-36" tabindex="-1"></a>        <span class="fu">plotOutput</span>(<span class="st">&quot;demo_plot&quot;</span>, <span class="at">width =</span> <span class="st">&quot;500px&quot;</span>, <span class="at">height=</span><span class="st">&quot;300px&quot;</span>),</span>
<span id="cb484-37"><a href="#cb484-37" tabindex="-1"></a>        </span>
<span id="cb484-38"><a href="#cb484-38" tabindex="-1"></a>        DT<span class="sc">::</span><span class="fu">dataTableOutput</span>(<span class="st">&quot;demo_table&quot;</span>,</span>
<span id="cb484-39"><a href="#cb484-39" tabindex="-1"></a>                    <span class="at">width =</span> <span class="st">&quot;50%&quot;</span>,</span>
<span id="cb484-40"><a href="#cb484-40" tabindex="-1"></a>                    <span class="at">height =</span> <span class="st">&quot;auto&quot;</span>)</span>
<span id="cb484-41"><a href="#cb484-41" tabindex="-1"></a>    )</span>
<span id="cb484-42"><a href="#cb484-42" tabindex="-1"></a>  )</span>
<span id="cb484-43"><a href="#cb484-43" tabindex="-1"></a>)</span>
<span id="cb484-44"><a href="#cb484-44" tabindex="-1"></a><span class="co"># server.R ----</span></span>
<span id="cb484-45"><a href="#cb484-45" tabindex="-1"></a></span>
<span id="cb484-46"><a href="#cb484-46" tabindex="-1"></a> </span>
<span id="cb484-47"><a href="#cb484-47" tabindex="-1"></a></span>
<span id="cb484-48"><a href="#cb484-48" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb484-49"><a href="#cb484-49" tabindex="-1"></a>  </span>
<span id="cb484-50"><a href="#cb484-50" tabindex="-1"></a>penguins_filtered <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb484-51"><a href="#cb484-51" tabindex="-1"></a>  penguins <span class="sc">|&gt;</span></span>
<span id="cb484-52"><a href="#cb484-52" tabindex="-1"></a>      <span class="fu">filter</span>(species <span class="sc">==</span> input<span class="sc">$</span>species)</span>
<span id="cb484-53"><a href="#cb484-53" tabindex="-1"></a>})</span>
<span id="cb484-54"><a href="#cb484-54" tabindex="-1"></a></span>
<span id="cb484-55"><a href="#cb484-55" tabindex="-1"></a>  output<span class="sc">$</span>demo_sp <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb484-56"><a href="#cb484-56" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">&quot;Figure 1.&quot;</span>, input<span class="sc">$</span>species)</span>
<span id="cb484-57"><a href="#cb484-57" tabindex="-1"></a>  })</span>
<span id="cb484-58"><a href="#cb484-58" tabindex="-1"></a>  </span>
<span id="cb484-59"><a href="#cb484-59" tabindex="-1"></a>output<span class="sc">$</span>demo_text <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb484-60"><a href="#cb484-60" tabindex="-1"></a>  (input<span class="sc">$</span>text)</span>
<span id="cb484-61"><a href="#cb484-61" tabindex="-1"></a>})</span>
<span id="cb484-62"><a href="#cb484-62" tabindex="-1"></a>   </span>
<span id="cb484-63"><a href="#cb484-63" tabindex="-1"></a></span>
<span id="cb484-64"><a href="#cb484-64" tabindex="-1"></a>    </span>
<span id="cb484-65"><a href="#cb484-65" tabindex="-1"></a>  output<span class="sc">$</span>demo_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb484-66"><a href="#cb484-66" tabindex="-1"></a>    </span>
<span id="cb484-67"><a href="#cb484-67" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">penguins_filtered</span>(), <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb484-68"><a href="#cb484-68" tabindex="-1"></a>      <span class="fu">geom_histogram</span>(<span class="at">fill =</span> input<span class="sc">$</span>colour, <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">bins =</span> input<span class="sc">$</span>bin) <span class="sc">+</span></span>
<span id="cb484-69"><a href="#cb484-69" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">&quot;Color&quot;</span>) <span class="sc">+</span></span>
<span id="cb484-70"><a href="#cb484-70" tabindex="-1"></a>      <span class="fu">theme_minimal</span>()</span>
<span id="cb484-71"><a href="#cb484-71" tabindex="-1"></a>  })</span>
<span id="cb484-72"><a href="#cb484-72" tabindex="-1"></a>  </span>
<span id="cb484-73"><a href="#cb484-73" tabindex="-1"></a>  output<span class="sc">$</span>demo_table <span class="ot">&lt;-</span> DT<span class="sc">::</span><span class="fu">renderDataTable</span>({</span>
<span id="cb484-74"><a href="#cb484-74" tabindex="-1"></a>   </span>
<span id="cb484-75"><a href="#cb484-75" tabindex="-1"></a>    <span class="fu">penguins_filtered</span>() <span class="sc">|&gt;</span> </span>
<span id="cb484-76"><a href="#cb484-76" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">flipper_length_mm =</span> <span class="fu">quantile</span>(flipper_length_mm, <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>), <span class="at">na.rm =</span> T), <span class="at">quantile =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>))</span>
<span id="cb484-77"><a href="#cb484-77" tabindex="-1"></a>})</span>
<span id="cb484-78"><a href="#cb484-78" tabindex="-1"></a>  </span>
<span id="cb484-79"><a href="#cb484-79" tabindex="-1"></a>}</span>
<span id="cb484-80"><a href="#cb484-80" tabindex="-1"></a></span>
<span id="cb484-81"><a href="#cb484-81" tabindex="-1"></a></span>
<span id="cb484-82"><a href="#cb484-82" tabindex="-1"></a></span>
<span id="cb484-83"><a href="#cb484-83" tabindex="-1"></a><span class="co"># Run the app ----</span></span>
<span id="cb484-84"><a href="#cb484-84" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<p>My most common error is trying to use data or title as an object instead of as a function. Notice how the first argument to ggplot is no longer data, but data() and you set the value of data with data(newdata), not data &lt;- newdata. For now, just remember this as a quirk of shiny.</p>
<div id="observable" class="section level2" number="32.1">
<h2><span class="header-section-number">32.1</span> Observable</h2>
<p>What if you only want to update things when an update button is clicked, and not whenever the user changes an option?</p>
<p><code>observeEvent()</code>. This function runs the code whenever the value of the first argument changes. If there are reactive values inside the function, they won't trigger the code to run when they change.</p>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb485-1"><a href="#cb485-1" tabindex="-1"></a><span class="co"># Packages ----</span></span>
<span id="cb485-2"><a href="#cb485-2" tabindex="-1"></a><span class="fu">library</span>(shiny)       <span class="co"># Essential for running any Shiny app</span></span>
<span id="cb485-3"><a href="#cb485-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb485-4"><a href="#cb485-4" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)    <span class="co"># The source of your data</span></span>
<span id="cb485-5"><a href="#cb485-5" tabindex="-1"></a></span>
<span id="cb485-6"><a href="#cb485-6" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb485-7"><a href="#cb485-7" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(penguins)</span>
<span id="cb485-8"><a href="#cb485-8" tabindex="-1"></a></span>
<span id="cb485-9"><a href="#cb485-9" tabindex="-1"></a> </span>
<span id="cb485-10"><a href="#cb485-10" tabindex="-1"></a></span>
<span id="cb485-11"><a href="#cb485-11" tabindex="-1"></a><span class="co"># ui.R ----</span></span>
<span id="cb485-12"><a href="#cb485-12" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb485-13"><a href="#cb485-13" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb485-14"><a href="#cb485-14" tabindex="-1"></a>     <span class="fu">sidebarPanel</span>(</span>
<span id="cb485-15"><a href="#cb485-15" tabindex="-1"></a>      demo_sp <span class="ot">&lt;-</span> <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;species&quot;</span>,  <span class="co"># Give the input a name &quot;genotype&quot;</span></span>
<span id="cb485-16"><a href="#cb485-16" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;1. Select species&quot;</span>,  <span class="co"># Give the input a label to be displayed in the app</span></span>
<span id="cb485-17"><a href="#cb485-17" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span> <span class="ot">=</span> <span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span> <span class="ot">=</span> <span class="st">&quot;Chinstrap&quot;</span>, <span class="st">&quot;Gentoo&quot;</span> <span class="ot">=</span> <span class="st">&quot;Gentoo&quot;</span>), <span class="at">selected =</span> <span class="st">&quot;Adelie&quot;</span>),  <span class="co"># Create the choices that can be selected. e.g. Display &quot;Adelie&quot; and link to value &quot;Adelie&quot;</span></span>
<span id="cb485-18"><a href="#cb485-18" tabindex="-1"></a>      demo_select <span class="ot">&lt;-</span> <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;colour&quot;</span>, </span>
<span id="cb485-19"><a href="#cb485-19" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;2. Select histogram colour&quot;</span>, </span>
<span id="cb485-20"><a href="#cb485-20" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;red&quot;</span>,<span class="st">&quot;purple&quot;</span>,<span class="st">&quot;grey&quot;</span>), <span class="at">selected =</span> <span class="st">&quot;grey&quot;</span>),</span>
<span id="cb485-21"><a href="#cb485-21" tabindex="-1"></a>      demo_slide <span class="ot">&lt;-</span> <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">&quot;bin&quot;</span>, </span>
<span id="cb485-22"><a href="#cb485-22" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;3. Select number of histogram bins&quot;</span>, </span>
<span id="cb485-23"><a href="#cb485-23" tabindex="-1"></a>                  <span class="at">min=</span><span class="dv">1</span>, <span class="at">max=</span><span class="dv">25</span>, <span class="at">value=</span> <span class="fu">c</span>(<span class="dv">10</span>)),</span>
<span id="cb485-24"><a href="#cb485-24" tabindex="-1"></a>      demo_text <span class="ot">&lt;-</span> <span class="fu">textAreaInput</span>(<span class="at">inputId =</span> <span class="st">&quot;text&quot;</span>, </span>
<span id="cb485-25"><a href="#cb485-25" tabindex="-1"></a>                <span class="at">label =</span> <span class="st">&quot;4. Enter some text to be displayed&quot;</span>,</span>
<span id="cb485-26"><a href="#cb485-26" tabindex="-1"></a>                <span class="at">rows =</span> <span class="dv">5</span>,</span>
<span id="cb485-27"><a href="#cb485-27" tabindex="-1"></a>                <span class="at">placeholder =</span> <span class="st">&quot;Enter some information here&quot;</span>),</span>
<span id="cb485-28"><a href="#cb485-28" tabindex="-1"></a>      demo_button <span class="ot">&lt;-</span> <span class="fu">actionButton</span>(<span class="st">&quot;update&quot;</span>, <span class="st">&quot;Plot&quot;</span>)</span>
<span id="cb485-29"><a href="#cb485-29" tabindex="-1"></a>    ),</span>
<span id="cb485-30"><a href="#cb485-30" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="cb485-31"><a href="#cb485-31" tabindex="-1"></a>      <span class="co"># Output elements go here</span></span>
<span id="cb485-32"><a href="#cb485-32" tabindex="-1"></a>        </span>
<span id="cb485-33"><a href="#cb485-33" tabindex="-1"></a>    tags<span class="sc">$</span><span class="fu">ul</span>(</span>
<span id="cb485-34"><a href="#cb485-34" tabindex="-1"></a>    tags<span class="sc">$</span><span class="fu">strong</span>(<span class="fu">textOutput</span>(<span class="st">&quot;demo_sp&quot;</span>)),</span>
<span id="cb485-35"><a href="#cb485-35" tabindex="-1"></a>    <span class="fu">textOutput</span>(<span class="st">&quot;demo_text&quot;</span>)),</span>
<span id="cb485-36"><a href="#cb485-36" tabindex="-1"></a>  </span>
<span id="cb485-37"><a href="#cb485-37" tabindex="-1"></a>        <span class="fu">plotOutput</span>(<span class="st">&quot;demo_plot&quot;</span>, <span class="at">width =</span> <span class="st">&quot;500px&quot;</span>, <span class="at">height=</span><span class="st">&quot;300px&quot;</span>),</span>
<span id="cb485-38"><a href="#cb485-38" tabindex="-1"></a>        </span>
<span id="cb485-39"><a href="#cb485-39" tabindex="-1"></a>        DT<span class="sc">::</span><span class="fu">dataTableOutput</span>(<span class="st">&quot;demo_table&quot;</span>,</span>
<span id="cb485-40"><a href="#cb485-40" tabindex="-1"></a>                    <span class="at">width =</span> <span class="st">&quot;50%&quot;</span>,</span>
<span id="cb485-41"><a href="#cb485-41" tabindex="-1"></a>                    <span class="at">height =</span> <span class="st">&quot;auto&quot;</span>)</span>
<span id="cb485-42"><a href="#cb485-42" tabindex="-1"></a>    )</span>
<span id="cb485-43"><a href="#cb485-43" tabindex="-1"></a>  )</span>
<span id="cb485-44"><a href="#cb485-44" tabindex="-1"></a>)</span>
<span id="cb485-45"><a href="#cb485-45" tabindex="-1"></a><span class="co"># server.R ----</span></span>
<span id="cb485-46"><a href="#cb485-46" tabindex="-1"></a></span>
<span id="cb485-47"><a href="#cb485-47" tabindex="-1"></a> </span>
<span id="cb485-48"><a href="#cb485-48" tabindex="-1"></a></span>
<span id="cb485-49"><a href="#cb485-49" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb485-50"><a href="#cb485-50" tabindex="-1"></a>  </span>
<span id="cb485-51"><a href="#cb485-51" tabindex="-1"></a> </span>
<span id="cb485-52"><a href="#cb485-52" tabindex="-1"></a></span>
<span id="cb485-53"><a href="#cb485-53" tabindex="-1"></a>  <span class="fu">observeEvent</span>(input<span class="sc">$</span>update, {</span>
<span id="cb485-54"><a href="#cb485-54" tabindex="-1"></a>    </span>
<span id="cb485-55"><a href="#cb485-55" tabindex="-1"></a>    penguins_filtered <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span></span>
<span id="cb485-56"><a href="#cb485-56" tabindex="-1"></a>      <span class="fu">filter</span>(species <span class="sc">==</span> input<span class="sc">$</span>species)</span>
<span id="cb485-57"><a href="#cb485-57" tabindex="-1"></a>    </span>
<span id="cb485-58"><a href="#cb485-58" tabindex="-1"></a>     bins <span class="ot">&lt;-</span> input<span class="sc">$</span>bin</span>
<span id="cb485-59"><a href="#cb485-59" tabindex="-1"></a>     </span>
<span id="cb485-60"><a href="#cb485-60" tabindex="-1"></a>     colour <span class="ot">&lt;-</span> input<span class="sc">$</span>colour</span>
<span id="cb485-61"><a href="#cb485-61" tabindex="-1"></a> </span>
<span id="cb485-62"><a href="#cb485-62" tabindex="-1"></a></span>
<span id="cb485-63"><a href="#cb485-63" tabindex="-1"></a>    output<span class="sc">$</span>demo_sp <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb485-64"><a href="#cb485-64" tabindex="-1"></a>      <span class="fu">paste</span>(<span class="st">&quot;Figure 1.&quot;</span>, input<span class="sc">$</span>species)</span>
<span id="cb485-65"><a href="#cb485-65" tabindex="-1"></a>    })</span>
<span id="cb485-66"><a href="#cb485-66" tabindex="-1"></a></span>
<span id="cb485-67"><a href="#cb485-67" tabindex="-1"></a>    output<span class="sc">$</span>demo_text <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb485-68"><a href="#cb485-68" tabindex="-1"></a>      (input<span class="sc">$</span>text)</span>
<span id="cb485-69"><a href="#cb485-69" tabindex="-1"></a>    })</span>
<span id="cb485-70"><a href="#cb485-70" tabindex="-1"></a></span>
<span id="cb485-71"><a href="#cb485-71" tabindex="-1"></a>    output<span class="sc">$</span>demo_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb485-72"><a href="#cb485-72" tabindex="-1"></a>        <span class="fu">ggplot</span>(penguins_filtered, <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb485-73"><a href="#cb485-73" tabindex="-1"></a>        <span class="fu">geom_histogram</span>(<span class="at">fill =</span> colour, <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">bins =</span> bins) <span class="sc">+</span></span>
<span id="cb485-74"><a href="#cb485-74" tabindex="-1"></a>        <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">&quot;Color&quot;</span>) <span class="sc">+</span></span>
<span id="cb485-75"><a href="#cb485-75" tabindex="-1"></a>        <span class="fu">theme_minimal</span>()</span>
<span id="cb485-76"><a href="#cb485-76" tabindex="-1"></a>    })</span>
<span id="cb485-77"><a href="#cb485-77" tabindex="-1"></a></span>
<span id="cb485-78"><a href="#cb485-78" tabindex="-1"></a>    output<span class="sc">$</span>demo_table <span class="ot">&lt;-</span> DT<span class="sc">::</span><span class="fu">renderDataTable</span>({</span>
<span id="cb485-79"><a href="#cb485-79" tabindex="-1"></a>      penguins_filtered <span class="sc">|&gt;</span> </span>
<span id="cb485-80"><a href="#cb485-80" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">flipper_length_mm =</span> <span class="fu">quantile</span>(flipper_length_mm, <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>), <span class="at">na.rm =</span> T), <span class="at">quantile =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>))</span>
<span id="cb485-81"><a href="#cb485-81" tabindex="-1"></a>    })</span>
<span id="cb485-82"><a href="#cb485-82" tabindex="-1"></a>  })</span>
<span id="cb485-83"><a href="#cb485-83" tabindex="-1"></a>  </span>
<span id="cb485-84"><a href="#cb485-84" tabindex="-1"></a>}</span>
<span id="cb485-85"><a href="#cb485-85" tabindex="-1"></a></span>
<span id="cb485-86"><a href="#cb485-86" tabindex="-1"></a></span>
<span id="cb485-87"><a href="#cb485-87" tabindex="-1"></a></span>
<span id="cb485-88"><a href="#cb485-88" tabindex="-1"></a></span>
<span id="cb485-89"><a href="#cb485-89" tabindex="-1"></a><span class="co"># Run the app ----</span></span>
<span id="cb485-90"><a href="#cb485-90" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<p>Which things are now updated by the plot button?</p>
</div>
</div>
<div id="customising" class="section level1" number="33">
<h1><span class="header-section-number">33</span> Customising</h1>
<div id="shiny-dashboard" class="section level2" number="33.1">
<h2><span class="header-section-number">33.1</span> Shiny Dashboard</h2>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb486-1"><a href="#cb486-1" tabindex="-1"></a><span class="co"># Packages ----</span></span>
<span id="cb486-2"><a href="#cb486-2" tabindex="-1"></a><span class="fu">library</span>(shiny)       <span class="co"># Essential for running any Shiny app</span></span>
<span id="cb486-3"><a href="#cb486-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb486-4"><a href="#cb486-4" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)    <span class="co"># The source of your data</span></span>
<span id="cb486-5"><a href="#cb486-5" tabindex="-1"></a><span class="fu">library</span>(bslib)</span>
<span id="cb486-6"><a href="#cb486-6" tabindex="-1"></a></span>
<span id="cb486-7"><a href="#cb486-7" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb486-8"><a href="#cb486-8" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(penguins)</span>
<span id="cb486-9"><a href="#cb486-9" tabindex="-1"></a></span>
<span id="cb486-10"><a href="#cb486-10" tabindex="-1"></a><span class="co"># Calculate column means for the value boxes</span></span>
<span id="cb486-11"><a href="#cb486-11" tabindex="-1"></a>means <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb486-12"><a href="#cb486-12" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb486-13"><a href="#cb486-13" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">round</span>(<span class="fu">mean</span>(flipper_length_mm, <span class="at">na.rm =</span> T), <span class="dv">2</span>))</span>
<span id="cb486-14"><a href="#cb486-14" tabindex="-1"></a></span>
<span id="cb486-15"><a href="#cb486-15" tabindex="-1"></a><span class="co"># Turn on thematic for theme-matched plots</span></span>
<span id="cb486-16"><a href="#cb486-16" tabindex="-1"></a>thematic<span class="sc">::</span><span class="fu">thematic_shiny</span>(<span class="at">font =</span> <span class="st">&quot;auto&quot;</span>)</span>
<span id="cb486-17"><a href="#cb486-17" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>))</span>
<span id="cb486-18"><a href="#cb486-18" tabindex="-1"></a></span>
<span id="cb486-19"><a href="#cb486-19" tabindex="-1"></a><span class="co"># ui.R ----</span></span>
<span id="cb486-20"><a href="#cb486-20" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">page_sidebar</span>(</span>
<span id="cb486-21"><a href="#cb486-21" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Penguins flipper dashboard&quot;</span>,</span>
<span id="cb486-22"><a href="#cb486-22" tabindex="-1"></a>  <span class="at">sidebar =</span> <span class="fu">sidebar</span>(</span>
<span id="cb486-23"><a href="#cb486-23" tabindex="-1"></a>      demo_sp <span class="ot">&lt;-</span> <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;species&quot;</span>,  <span class="co"># Give the input a name &quot;genotype&quot;</span></span>
<span id="cb486-24"><a href="#cb486-24" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;1. Select species&quot;</span>,  <span class="co"># Give the input a label to be displayed in the app</span></span>
<span id="cb486-25"><a href="#cb486-25" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span> <span class="ot">=</span> <span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span> <span class="ot">=</span> <span class="st">&quot;Chinstrap&quot;</span>, <span class="st">&quot;Gentoo&quot;</span> <span class="ot">=</span> <span class="st">&quot;Gentoo&quot;</span>), <span class="at">selected =</span> <span class="st">&quot;Adelie&quot;</span>),  <span class="co"># Create the choices that can be selected. e.g. Display &quot;Adelie&quot; and link to value &quot;Adelie&quot;</span></span>
<span id="cb486-26"><a href="#cb486-26" tabindex="-1"></a>      demo_select <span class="ot">&lt;-</span> <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;colour&quot;</span>, </span>
<span id="cb486-27"><a href="#cb486-27" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;2. Select histogram colour&quot;</span>, </span>
<span id="cb486-28"><a href="#cb486-28" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;red&quot;</span>,<span class="st">&quot;purple&quot;</span>,<span class="st">&quot;grey&quot;</span>), <span class="at">selected =</span> <span class="st">&quot;grey&quot;</span>),</span>
<span id="cb486-29"><a href="#cb486-29" tabindex="-1"></a>      demo_slide <span class="ot">&lt;-</span> <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">&quot;bin&quot;</span>, </span>
<span id="cb486-30"><a href="#cb486-30" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;3. Select number of histogram bins&quot;</span>, </span>
<span id="cb486-31"><a href="#cb486-31" tabindex="-1"></a>                  <span class="at">min=</span><span class="dv">1</span>, <span class="at">max=</span><span class="dv">25</span>, <span class="at">value=</span> <span class="fu">c</span>(<span class="dv">10</span>)),</span>
<span id="cb486-32"><a href="#cb486-32" tabindex="-1"></a>      demo_text <span class="ot">&lt;-</span> <span class="fu">textAreaInput</span>(<span class="at">inputId =</span> <span class="st">&quot;text&quot;</span>, </span>
<span id="cb486-33"><a href="#cb486-33" tabindex="-1"></a>                <span class="at">label =</span> <span class="st">&quot;4. Enter some text to be displayed&quot;</span>,</span>
<span id="cb486-34"><a href="#cb486-34" tabindex="-1"></a>                <span class="at">rows =</span> <span class="dv">5</span>,</span>
<span id="cb486-35"><a href="#cb486-35" tabindex="-1"></a>                <span class="at">placeholder =</span> <span class="st">&quot;Enter some information here&quot;</span>),</span>
<span id="cb486-36"><a href="#cb486-36" tabindex="-1"></a>      demo_button <span class="ot">&lt;-</span> <span class="fu">actionButton</span>(<span class="st">&quot;update&quot;</span>, <span class="st">&quot;Plot&quot;</span>)</span>
<span id="cb486-37"><a href="#cb486-37" tabindex="-1"></a>    )</span>
<span id="cb486-38"><a href="#cb486-38" tabindex="-1"></a>  ,</span>
<span id="cb486-39"><a href="#cb486-39" tabindex="-1"></a>   <span class="fu">layout_columns</span>(</span>
<span id="cb486-40"><a href="#cb486-40" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">FALSE</span>,</span>
<span id="cb486-41"><a href="#cb486-41" tabindex="-1"></a>    <span class="fu">value_box</span>(</span>
<span id="cb486-42"><a href="#cb486-42" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">&quot;Adelie Flipper Length&quot;</span>,</span>
<span id="cb486-43"><a href="#cb486-43" tabindex="-1"></a>      <span class="at">value =</span> scales<span class="sc">::</span><span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">&quot;mm&quot;</span>)(means[[<span class="dv">1</span>,<span class="dv">2</span>]]),</span>
<span id="cb486-44"><a href="#cb486-44" tabindex="-1"></a>      <span class="at">showcase =</span> bsicons<span class="sc">::</span><span class="fu">bs_icon</span>(<span class="st">&quot;align-bottom&quot;</span>),</span>
<span id="cb486-45"><a href="#cb486-45" tabindex="-1"></a>      <span class="at">theme_color =</span> <span class="st">&quot;grey&quot;</span></span>
<span id="cb486-46"><a href="#cb486-46" tabindex="-1"></a>    ),</span>
<span id="cb486-47"><a href="#cb486-47" tabindex="-1"></a>    <span class="fu">value_box</span>(</span>
<span id="cb486-48"><a href="#cb486-48" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">&quot;Chinstrap Flipper&quot;</span>,</span>
<span id="cb486-49"><a href="#cb486-49" tabindex="-1"></a>      <span class="at">value =</span> scales<span class="sc">::</span><span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">&quot;mm&quot;</span>)(means[[<span class="dv">2</span>,<span class="dv">2</span>]]),</span>
<span id="cb486-50"><a href="#cb486-50" tabindex="-1"></a>      <span class="at">showcase =</span> bsicons<span class="sc">::</span><span class="fu">bs_icon</span>(<span class="st">&quot;align-center&quot;</span>),</span>
<span id="cb486-51"><a href="#cb486-51" tabindex="-1"></a>      <span class="at">theme_color =</span> <span class="st">&quot;grey&quot;</span></span>
<span id="cb486-52"><a href="#cb486-52" tabindex="-1"></a>    ),</span>
<span id="cb486-53"><a href="#cb486-53" tabindex="-1"></a> <span class="fu">value_box</span>(</span>
<span id="cb486-54"><a href="#cb486-54" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">&quot;Gentoo Flipper Length&quot;</span>,</span>
<span id="cb486-55"><a href="#cb486-55" tabindex="-1"></a>      <span class="at">value =</span> scales<span class="sc">::</span><span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">&quot;mm&quot;</span>)(means[[<span class="dv">3</span>,<span class="dv">2</span>]]),</span>
<span id="cb486-56"><a href="#cb486-56" tabindex="-1"></a>      <span class="at">showcase =</span> bsicons<span class="sc">::</span><span class="fu">bs_icon</span>(<span class="st">&quot;align-top&quot;</span>),</span>
<span id="cb486-57"><a href="#cb486-57" tabindex="-1"></a>      <span class="at">theme_color =</span> <span class="st">&quot;grey&quot;</span></span>
<span id="cb486-58"><a href="#cb486-58" tabindex="-1"></a>    )</span>
<span id="cb486-59"><a href="#cb486-59" tabindex="-1"></a>  ),</span>
<span id="cb486-60"><a href="#cb486-60" tabindex="-1"></a>    </span>
<span id="cb486-61"><a href="#cb486-61" tabindex="-1"></a>    tags<span class="sc">$</span><span class="fu">ul</span>(</span>
<span id="cb486-62"><a href="#cb486-62" tabindex="-1"></a>    tags<span class="sc">$</span><span class="fu">strong</span>(<span class="fu">textOutput</span>(<span class="st">&quot;demo_sp&quot;</span>)),</span>
<span id="cb486-63"><a href="#cb486-63" tabindex="-1"></a>    <span class="fu">textOutput</span>(<span class="st">&quot;demo_text&quot;</span>)),</span>
<span id="cb486-64"><a href="#cb486-64" tabindex="-1"></a> </span>
<span id="cb486-65"><a href="#cb486-65" tabindex="-1"></a>      <span class="co"># Output elements go here</span></span>
<span id="cb486-66"><a href="#cb486-66" tabindex="-1"></a>      <span class="fu">layout_columns</span>(</span>
<span id="cb486-67"><a href="#cb486-67" tabindex="-1"></a>    <span class="fu">card</span>(</span>
<span id="cb486-68"><a href="#cb486-68" tabindex="-1"></a>      <span class="at">full_screen =</span> <span class="cn">TRUE</span>,</span>
<span id="cb486-69"><a href="#cb486-69" tabindex="-1"></a>      <span class="fu">card_header</span>(<span class="st">&quot;Plot&quot;</span>),</span>
<span id="cb486-70"><a href="#cb486-70" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="st">&quot;demo_plot&quot;</span>)</span>
<span id="cb486-71"><a href="#cb486-71" tabindex="-1"></a>    ),</span>
<span id="cb486-72"><a href="#cb486-72" tabindex="-1"></a>    <span class="fu">card</span>(</span>
<span id="cb486-73"><a href="#cb486-73" tabindex="-1"></a>      <span class="at">full_screen =</span> <span class="cn">TRUE</span>,</span>
<span id="cb486-74"><a href="#cb486-74" tabindex="-1"></a>      <span class="fu">card_header</span>(<span class="st">&quot;Table&quot;</span>),</span>
<span id="cb486-75"><a href="#cb486-75" tabindex="-1"></a>      DT<span class="sc">::</span><span class="fu">dataTableOutput</span>(<span class="st">&quot;demo_table&quot;</span>,</span>
<span id="cb486-76"><a href="#cb486-76" tabindex="-1"></a>                    <span class="at">width =</span> <span class="st">&quot;100%&quot;</span>,</span>
<span id="cb486-77"><a href="#cb486-77" tabindex="-1"></a>                    <span class="at">height =</span> <span class="st">&quot;auto&quot;</span>)</span>
<span id="cb486-78"><a href="#cb486-78" tabindex="-1"></a>    )  </span>
<span id="cb486-79"><a href="#cb486-79" tabindex="-1"></a>)</span>
<span id="cb486-80"><a href="#cb486-80" tabindex="-1"></a>)</span>
<span id="cb486-81"><a href="#cb486-81" tabindex="-1"></a>  </span>
<span id="cb486-82"><a href="#cb486-82" tabindex="-1"></a></span>
<span id="cb486-83"><a href="#cb486-83" tabindex="-1"></a><span class="co"># server.R ----</span></span>
<span id="cb486-84"><a href="#cb486-84" tabindex="-1"></a></span>
<span id="cb486-85"><a href="#cb486-85" tabindex="-1"></a> </span>
<span id="cb486-86"><a href="#cb486-86" tabindex="-1"></a></span>
<span id="cb486-87"><a href="#cb486-87" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb486-88"><a href="#cb486-88" tabindex="-1"></a>  </span>
<span id="cb486-89"><a href="#cb486-89" tabindex="-1"></a></span>
<span id="cb486-90"><a href="#cb486-90" tabindex="-1"></a></span>
<span id="cb486-91"><a href="#cb486-91" tabindex="-1"></a>  <span class="fu">observeEvent</span>(input<span class="sc">$</span>update, {</span>
<span id="cb486-92"><a href="#cb486-92" tabindex="-1"></a>    </span>
<span id="cb486-93"><a href="#cb486-93" tabindex="-1"></a>    penguins_filtered <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span></span>
<span id="cb486-94"><a href="#cb486-94" tabindex="-1"></a>      <span class="fu">filter</span>(species <span class="sc">==</span> input<span class="sc">$</span>species)</span>
<span id="cb486-95"><a href="#cb486-95" tabindex="-1"></a>    </span>
<span id="cb486-96"><a href="#cb486-96" tabindex="-1"></a>     bins <span class="ot">&lt;-</span> input<span class="sc">$</span>bin</span>
<span id="cb486-97"><a href="#cb486-97" tabindex="-1"></a>     </span>
<span id="cb486-98"><a href="#cb486-98" tabindex="-1"></a>     colour <span class="ot">&lt;-</span> input<span class="sc">$</span>colour</span>
<span id="cb486-99"><a href="#cb486-99" tabindex="-1"></a> </span>
<span id="cb486-100"><a href="#cb486-100" tabindex="-1"></a></span>
<span id="cb486-101"><a href="#cb486-101" tabindex="-1"></a>    output<span class="sc">$</span>demo_sp <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb486-102"><a href="#cb486-102" tabindex="-1"></a>      <span class="fu">paste</span>(<span class="st">&quot;Figure 1.&quot;</span>, input<span class="sc">$</span>species)</span>
<span id="cb486-103"><a href="#cb486-103" tabindex="-1"></a>    })</span>
<span id="cb486-104"><a href="#cb486-104" tabindex="-1"></a></span>
<span id="cb486-105"><a href="#cb486-105" tabindex="-1"></a>    output<span class="sc">$</span>demo_text <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb486-106"><a href="#cb486-106" tabindex="-1"></a>      (input<span class="sc">$</span>text)</span>
<span id="cb486-107"><a href="#cb486-107" tabindex="-1"></a>    })</span>
<span id="cb486-108"><a href="#cb486-108" tabindex="-1"></a></span>
<span id="cb486-109"><a href="#cb486-109" tabindex="-1"></a>    output<span class="sc">$</span>demo_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb486-110"><a href="#cb486-110" tabindex="-1"></a>        <span class="fu">ggplot</span>(penguins_filtered, <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb486-111"><a href="#cb486-111" tabindex="-1"></a>        <span class="fu">geom_histogram</span>(<span class="at">fill =</span> colour, <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">bins =</span> bins) <span class="sc">+</span></span>
<span id="cb486-112"><a href="#cb486-112" tabindex="-1"></a>        <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">&quot;Color&quot;</span>) <span class="sc">+</span></span>
<span id="cb486-113"><a href="#cb486-113" tabindex="-1"></a>        <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">16</span>)</span>
<span id="cb486-114"><a href="#cb486-114" tabindex="-1"></a>    })</span>
<span id="cb486-115"><a href="#cb486-115" tabindex="-1"></a></span>
<span id="cb486-116"><a href="#cb486-116" tabindex="-1"></a>    output<span class="sc">$</span>demo_table <span class="ot">&lt;-</span> DT<span class="sc">::</span><span class="fu">renderDataTable</span>({</span>
<span id="cb486-117"><a href="#cb486-117" tabindex="-1"></a>      penguins_filtered <span class="sc">|&gt;</span> </span>
<span id="cb486-118"><a href="#cb486-118" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">flipper_length_mm =</span> <span class="fu">quantile</span>(flipper_length_mm, <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>), <span class="at">na.rm =</span> T), <span class="at">quantile =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>))</span>
<span id="cb486-119"><a href="#cb486-119" tabindex="-1"></a>    })</span>
<span id="cb486-120"><a href="#cb486-120" tabindex="-1"></a>  })</span>
<span id="cb486-121"><a href="#cb486-121" tabindex="-1"></a>  </span>
<span id="cb486-122"><a href="#cb486-122" tabindex="-1"></a>}</span>
<span id="cb486-123"><a href="#cb486-123" tabindex="-1"></a></span>
<span id="cb486-124"><a href="#cb486-124" tabindex="-1"></a></span>
<span id="cb486-125"><a href="#cb486-125" tabindex="-1"></a></span>
<span id="cb486-126"><a href="#cb486-126" tabindex="-1"></a></span>
<span id="cb486-127"><a href="#cb486-127" tabindex="-1"></a><span class="co"># Run the app ----</span></span>
<span id="cb486-128"><a href="#cb486-128" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<div id="width" class="section level3" number="33.1.1">
<h3><span class="header-section-number">33.1.1</span> Width</h3>
<p>Try changing width to see how it changes</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb487-1"><a href="#cb487-1" tabindex="-1"></a> <span class="fu">bs_themer</span>()</span>
<span id="cb487-2"><a href="#cb487-2" tabindex="-1"></a><span class="co"># add to server function</span></span></code></pre></div>
<p><a href="https://shiny.posit.co/blog/posts/bslib-dashboards/#layout-tooling" class="uri">https://shiny.posit.co/blog/posts/bslib-dashboards/#layout-tooling</a></p>
<p><a href="https://mastering-shiny.org/action-dynamic.html" class="uri">https://mastering-shiny.org/action-dynamic.html</a></p>
<p><a href="https://www.jumpingrivers.com/blog/r-shiny-customising-shinydashboard/#" class="uri">https://www.jumpingrivers.com/blog/r-shiny-customising-shinydashboard/#</a>:~:text=The%20main%20way%20of%20including,css%20by%20convention.</p>
</div>
</div>
</div>
<div id="download" class="section level1" number="34">
<h1><span class="header-section-number">34</span> Download?</h1>
</div>
<div id="sharing" class="section level1" number="35">
<h1><span class="header-section-number">35</span> Sharing</h1>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb488-1"><a href="#cb488-1" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code></pre></div>
<pre><code>## R version 4.3.1 (2023-06-16)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 20.04.6 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/atlas/libblas.so.3.10.3 
## LAPACK: /usr/lib/x86_64-linux-gnu/atlas/liblapack.so.3.10.3;  LAPACK version 3.9.0
## 
## locale:
##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       
##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   
##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          
## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   
## 
## time zone: UTC
## tzcode source: system (glibc)
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] bslib_0.5.0          palmerpenguins_0.1.1 shiny_1.7.4.1       
##  [4] knitr_1.43           webexercises_1.1.0   glossary_1.0.0      
##  [7] lubridate_1.9.2      forcats_1.0.0        stringr_1.5.0       
## [10] dplyr_1.1.2          purrr_1.0.1          readr_2.1.4         
## [13] tidyr_1.3.0          tibble_3.2.1         ggplot2_3.4.2       
## [16] tidyverse_2.0.0     
## 
## loaded via a namespace (and not attached):
##  [1] sass_0.4.6        utf8_1.2.3        generics_0.1.3    xml2_1.3.5       
##  [5] stringi_1.7.12    hms_1.1.3         digest_0.6.33     magrittr_2.0.3   
##  [9] evaluate_0.21     grid_4.3.1        timechange_0.2.0  bookdown_0.34    
## [13] fastmap_1.1.1     jsonlite_1.8.7    promises_1.2.0.1  fansi_1.0.4      
## [17] scales_1.2.1      jquerylib_0.1.4   cli_3.6.1         rlang_1.1.1      
## [21] ellipsis_0.3.2    munsell_0.5.0     withr_2.5.0       cachem_1.0.8     
## [25] yaml_2.3.7        tools_4.3.1       tzdb_0.4.0        memoise_2.0.1    
## [29] colorspace_2.1-0  httpuv_1.6.11     mime_0.12         vctrs_0.6.3      
## [33] R6_2.5.1          lifecycle_1.0.3   fs_1.6.2          pkgconfig_2.0.3  
## [37] later_1.3.1       pillar_1.9.0      gtable_0.3.3      Rcpp_1.0.11      
## [41] glue_1.6.2        xfun_0.39         tidyselect_1.2.0  rstudioapi_0.15.0
## [45] xtable_1.8-4      htmltools_0.5.5   rmarkdown_2.23    compiler_4.3.1   
## [49] downlit_0.4.3</code></pre>
<!--chapter:end:06-shiny.rmd-->
</div>
<div id="part-literate-programming-and-reproducibility" class="section level1 unnumbered">
<h1 class="unnumbered">(PART*) Literate Programming and Reproducibility</h1>
</div>
<div id="rmarkdown" class="section level1" number="36">
<h1><span class="header-section-number">36</span> RMarkdown</h1>
<p><img src="images/rmarkdownoutputformats.png" width="100%" style="display: block; margin: auto;" /></p>
<p>R Markdown is a widely-used tool for creating automated, reproducible, and share-worthy outputs, such as reports. It can generate static or interactive outputs, in Word, pdf, html, Powerpoint slides, and many other formats.</p>
<p>An R Markdown script combines R code and text such that the script actually becomes your output document. You can create an entire formatted document, including narrative text (can be dynamic to change based on your data), tables, figures, bullets/numbers, bibliographies, etc.</p>
<p>Documents produced with Rmarkdown, allow analyses to be included easily - and make the link between raw data, analysis &amp; and a published report <em>completely reproducible</em>.</p>
<p>With Rmarkdown we can make reproducible html, word, pdf, powerpoints or websites and dashboards<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></p>
<div id="how-it-works" class="section level2 unnumbered">
<h2 class="unnumbered">How it works</h2>
<p>To create an R Markdown document in RStudio, go to <strong>File &gt; New File &gt; R Markdown</strong>. Choose a title, author, and date, as well as your default output format (HTML, PDF, or Word). These values can be changed later. Click OK, and RStudio will create an R Markdown document with some placeholder content.</p>
<p><img src="images/templatermd.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Delete this content and replace it with your own. As an example, let’s create a report about penguins using data from the <code>palmerpenguins</code> package. I’ve separated the data by year, and we’ll use just the 2007 data. Add the following content to add to your R Markdown document:</p>
<div class="sourceCode" id="cb490"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb490-1"><a href="#cb490-1" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb490-2"><a href="#cb490-2" tabindex="-1"></a><span class="an">title:</span><span class="co"> &quot;Penguins Report&quot;</span></span>
<span id="cb490-3"><a href="#cb490-3" tabindex="-1"></a><span class="an">author:</span><span class="co"> &quot;Phil&quot;</span></span>
<span id="cb490-4"><a href="#cb490-4" tabindex="-1"></a><span class="an">date:</span><span class="co"> &quot;2024-01-12&quot;</span></span>
<span id="cb490-5"><a href="#cb490-5" tabindex="-1"></a><span class="an">output:</span><span class="co"> word_document</span></span>
<span id="cb490-6"><a href="#cb490-6" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb490-7"><a href="#cb490-7" tabindex="-1"></a>  </span>
<span id="cb490-8"><a href="#cb490-8" tabindex="-1"></a>``{r setup, include = FALSE}</span>
<span id="cb490-9"><a href="#cb490-9" tabindex="-1"></a>knitr::opts_chunk$set(include = TRUE, </span>
<span id="cb490-10"><a href="#cb490-10" tabindex="-1"></a>                      echo = FALSE,</span>
<span id="cb490-11"><a href="#cb490-11" tabindex="-1"></a>                      message = FALSE,</span>
<span id="cb490-12"><a href="#cb490-12" tabindex="-1"></a>                      warning = FALSE)</span>
<span id="cb490-13"><a href="#cb490-13" tabindex="-1"></a>``</span>
<span id="cb490-14"><a href="#cb490-14" tabindex="-1"></a></span>
<span id="cb490-15"><a href="#cb490-15" tabindex="-1"></a>``{r}</span>
<span id="cb490-16"><a href="#cb490-16" tabindex="-1"></a>library(tidyverse)</span>
<span id="cb490-17"><a href="#cb490-17" tabindex="-1"></a>``</span>
<span id="cb490-18"><a href="#cb490-18" tabindex="-1"></a></span>
<span id="cb490-19"><a href="#cb490-19" tabindex="-1"></a>``{r}</span>
<span id="cb490-20"><a href="#cb490-20" tabindex="-1"></a>penguins_raw &lt;- read_csv(&quot;https://raw.githubusercontent.com/UEABIO/data-sci-v1/main/book/files/penguins_raw.csv&quot;)</span>
<span id="cb490-21"><a href="#cb490-21" tabindex="-1"></a>``</span>
<span id="cb490-22"><a href="#cb490-22" tabindex="-1"></a></span>
<span id="cb490-23"><a href="#cb490-23" tabindex="-1"></a><span class="fu"># Introduction</span></span>
<span id="cb490-24"><a href="#cb490-24" tabindex="-1"></a></span>
<span id="cb490-25"><a href="#cb490-25" tabindex="-1"></a>We are writing a report about the **Palmer Penguins**. These penguins are *really* amazing. There are three species:</span>
<span id="cb490-26"><a href="#cb490-26" tabindex="-1"></a></span>
<span id="cb490-27"><a href="#cb490-27" tabindex="-1"></a><span class="ss">- </span>Adelie</span>
<span id="cb490-28"><a href="#cb490-28" tabindex="-1"></a><span class="ss">- </span>Gentoo</span>
<span id="cb490-29"><a href="#cb490-29" tabindex="-1"></a><span class="ss">- </span>Chinstrap</span>
<span id="cb490-30"><a href="#cb490-30" tabindex="-1"></a></span>
<span id="cb490-31"><a href="#cb490-31" tabindex="-1"></a><span class="fu">## Bill Length</span></span>
<span id="cb490-32"><a href="#cb490-32" tabindex="-1"></a></span>
<span id="cb490-33"><a href="#cb490-33" tabindex="-1"></a>We can make a histogram to see the distribution of bill lengths.</span>
<span id="cb490-34"><a href="#cb490-34" tabindex="-1"></a></span>
<span id="cb490-35"><a href="#cb490-35" tabindex="-1"></a>``{r}</span>
<span id="cb490-36"><a href="#cb490-36" tabindex="-1"></a>penguins_raw |&gt; </span>
<span id="cb490-37"><a href="#cb490-37" tabindex="-1"></a>  ggplot(aes(x = bill_length_mm)) +</span>
<span id="cb490-38"><a href="#cb490-38" tabindex="-1"></a>  geom_histogram() +</span>
<span id="cb490-39"><a href="#cb490-39" tabindex="-1"></a>  theme_minimal()</span>
<span id="cb490-40"><a href="#cb490-40" tabindex="-1"></a>``</span>
<span id="cb490-41"><a href="#cb490-41" tabindex="-1"></a></span>
<span id="cb490-42"><a href="#cb490-42" tabindex="-1"></a>``{r}</span>
<span id="cb490-43"><a href="#cb490-43" tabindex="-1"></a>average_bill_length &lt;- penguins_raw |&gt; </span>
<span id="cb490-44"><a href="#cb490-44" tabindex="-1"></a>  summarize(avg_bill_length = mean(bill_length_mm,</span>
<span id="cb490-45"><a href="#cb490-45" tabindex="-1"></a>                                   na.rm = TRUE)) |&gt; </span>
<span id="cb490-46"><a href="#cb490-46" tabindex="-1"></a>  pull(avg_bill_length)</span>
<span id="cb490-47"><a href="#cb490-47" tabindex="-1"></a>``</span>
<span id="cb490-48"><a href="#cb490-48" tabindex="-1"></a></span>
<span id="cb490-49"><a href="#cb490-49" tabindex="-1"></a>The chart shows the distribution of bill lengths. The average bill length is <span class="in">`r average_bill_length`</span> millimeters.</span></code></pre></div>
<p>This document contains several sections, each of which we will discuss below. First, though, let’s skip to the finish line by doing what’s called <em>knitting</em> our document. The <strong>Knit</strong> button at the top of RStudio converts the R Markdown document into whatever format we selected.</p>
<p><strong>To make your Rmd publish - hit the knit button at the top of the doc</strong></p>
<p><img src="images/knit.png" width="80%" style="display: block; margin: auto;" /></p>
<p>We’ve set the output format to be HTML (see the output_format: html). Some features are not immediately visible in R Markdown that do appear in the rendered document, including the histogram. This is because the R Markdown document doesn’t directly include this plot. Rather, it includes the code needed to produce the plot when knitted.</p>
<p>It may seem convoluted to constantly knit R Markdown documents to Word, but this workflow allows us to update our reports at any point with new code or data. This ability is known as reproducibility, and it is central to the value of R Markdown.</p>
</div>
<div id="background-to-rmarkdown" class="section level2 unnumbered">
<h2 class="unnumbered">Background to Rmarkdown</h2>
<ul>
<li><p>Markdown is a “language” that allows you to write a document using plain text, that can be converted to html and other formats. It is not specific to R. Files written in Markdown have a ‘.md’ extension.</p></li>
<li><p>R Markdown: is a variation on markdown that is specific to R - it allows you to write a document using markdown to produce text and to embed R code and display their outputs. R Markdown files have ‘.Rmd’ extension.</p></li>
<li><p>rmarkdown - the package: This is used by R to render the .Rmd file into the desired output. It’s focus is converting the markdown (text) syntax, so we also need…</p></li>
<li><p>knitr: This R package <span class="citation">Xie (<a href="#ref-R-knitr">2023</a>)</span> will read the code chunks, execute it, and ‘knit’ it back into the document. This is how tables and graphs are included alongside the text.</p></li>
<li><p>Pandoc: Finally, pandoc actually convert the output into word/pdf/powerpoint etc. It is a software separate from R but is installed automatically with RStudio.</p></li>
</ul>
<p>Most of this process happens in the background (you do not need to know all these steps!) and it involves feeding the <code>.Rmd</code> file to <code>knitr</code>, which executes the R code chunks and creates a new <code>.md</code> (Markdown) file which includes the R code <strong>and its rendered output</strong>.</p>
<p>The .md file is then processed by pandoc to create the finished product: a Microsoft Word document, HTML file, Powerpoint document, pdf, etc.</p>
<p><img src="images/0_rmd.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="rmarkdown-parts" class="section level2 unnumbered">
<h2 class="unnumbered">Rmarkdown parts</h2>
<p>As you can see, there are three basic components to any Rmd file:</p>
<ul>
<li><p>YAML</p></li>
<li><p>Markdown text</p></li>
<li><p>R code chunks.</p></li>
</ul>
<p><img src="images/rmarkdown_translation.png" width="100%" style="display: block; margin: auto;" /></p>
<div id="yaml-metadata" class="section level3 unnumbered">
<h3 class="unnumbered">YAML Metadata</h3>
<p>The YAML section is the very beginning of an R Markdown document. The name YAML comes from the recursive acronym YAML ain’t markup language, whose meaning isn’t important for our purposes. Three dashes indicate its beginning and end, and the text inside of it contains metadata about the R Markdown document. Here is my YAML:</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb491-1"><a href="#cb491-1" tabindex="-1"></a></span>
<span id="cb491-2"><a href="#cb491-2" tabindex="-1"></a>---</span>
<span id="cb491-3"><a href="#cb491-3" tabindex="-1"></a>title: &quot;Penguins Report&quot;</span>
<span id="cb491-4"><a href="#cb491-4" tabindex="-1"></a>author: &quot;Philip Leftwich&quot;</span>
<span id="cb491-5"><a href="#cb491-5" tabindex="-1"></a>date: &quot;2024-01-12&quot;</span>
<span id="cb491-6"><a href="#cb491-6" tabindex="-1"></a>output: html_document</span>
<span id="cb491-7"><a href="#cb491-7" tabindex="-1"></a>---</span></code></pre></div>
<p>As you can see, it provides the title, author, date, and output format. All elements of the YAML are given in <code>key: value</code> syntax, where each key is a label for a piece of metadata (for example, the title) followed by a value in quotes.</p>
<p>In the example above, because we clicked that our default output would be an html file, we can see that the YAML says output: <code>html_document</code>. However we can also change this to say <code>powerpoint_presentation</code> or <code>word_document</code> or even <code>pdf_document</code>.</p>
<div class="try">
<p>
Can you edit the YAML in the Rmarkdown file in the markdown folder to
have your name as author, today’s date and the title of the file should
be called “Penguins of the Palmer Archipelago, Antarctica”.
</p>
</div>
</div>
<div id="code-chunks" class="section level3 unnumbered">
<h3 class="unnumbered">Code chunks</h3>
<p>R Markdown documents have a different structure from the R script files you might be familiar with (those with the .R extension). R script files treat all content as code unless you comment out a line by putting a pound sign (#) in front of it. In the following code, the first line is a comment while the second line is code.</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb492-1"><a href="#cb492-1" tabindex="-1"></a></span>
<span id="cb492-2"><a href="#cb492-2" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb492-3"><a href="#cb492-3" tabindex="-1"></a><span class="in"># Import our data</span></span>
<span id="cb492-4"><a href="#cb492-4" tabindex="-1"></a><span class="in">data &lt;- read_csv(&quot;data.csv&quot;)</span></span>
<span id="cb492-5"><a href="#cb492-5" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>In R Markdown, the situation is reversed. Everything after the YAML is treated as text unless we specify otherwise by creating what are known as code chunks. Each chunk is opened with a line that starts with three back-ticks, and curly brackets that contain parameters for the chunk { }. The chunk ends with three more back-ticks.</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb493-1"><a href="#cb493-1" tabindex="-1"></a></span>
<span id="cb493-2"><a href="#cb493-2" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb493-3"><a href="#cb493-3" tabindex="-1"></a><span class="in">library(tidyverse)</span></span>
<span id="cb493-4"><a href="#cb493-4" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>R Markdown treats anything in the code chunk as R code when we knit. For example, this code chunk will produce a histogram in the final Word document.</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb494-1"><a href="#cb494-1" tabindex="-1"></a></span>
<span id="cb494-2"><a href="#cb494-2" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb494-3"><a href="#cb494-3" tabindex="-1"></a></span>
<span id="cb494-4"><a href="#cb494-4" tabindex="-1"></a><span class="in">penguins_raw |&gt;  </span></span>
<span id="cb494-5"><a href="#cb494-5" tabindex="-1"></a><span class="in">  ggplot(aes(x = bill_length_mm)) +</span></span>
<span id="cb494-6"><a href="#cb494-6" tabindex="-1"></a><span class="in">  geom_histogram() +</span></span>
<span id="cb494-7"><a href="#cb494-7" tabindex="-1"></a><span class="in">  theme_minimal()</span></span>
<span id="cb494-8"><a href="#cb494-8" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<div class="info">
<p>
Some notes about the contents of the curly brackets { }:
</p>
<p>
They start with ‘r’ to indicate that the language name within this
chunk is <strong>R</strong>. It is possible to include other programming
language chunks here such as <strong>SQL</strong>,
<strong>Python</strong> or <strong>Bash</strong>.
</p>
<p>
After the r you can optionally write a chunk “name” – these are not
necessary but can help you organise your work. Note that if you name
your chunks, you should ALWAYS use unique names or else R will
<em>complain</em> when you try to render.
</p>
<p>
After the language name and optional chunk name put a comma, then you
can include other options too, written as <code>tag=value</code>, such
as:
</p>
<ul>
<li>
<p>
eval = FALSE to not run the R code
</p>
</li>
<li>
<p>
echo = FALSE to not print the chunk’s R source code in the output
document
</p>
</li>
<li>
<p>
warning = FALSE to not print warnings produced by the R
code
</p>
</li>
<li>
<p>
message = FALSE to not print any messages produced by the R
code
</p>
</li>
<li>
<p>
include = either TRUE/FALSE whether to include chunk outputs
(e.g. plots) in the document
</p>
</li>
<li>
<p>
out.width = and out.height = - size of ouput e.g. out.width =
“75%”
</p>
</li>
<li>
<p>
fig.align = “center” adjust how a figure is aligned across the
page
</p>
</li>
<li>
<p>
fig.show=‘hold’ if your chunk prints multiple figures and you
want them printed next to each other (pair with out.width = c(“33%”,
“67%”).
</p>
</li>
</ul>
</div>
<p>A special code chunk at the top of each R Markdown document, known as the setup code chunk, gives instructions for what should happen when knitting a document.</p>
<p>In cases where you’re using R Markdown to generate a report for a non-R user, you likely want to hide the code, messages, and warnings but show the output (which would include any visualizations you generate). To do this, create a setup code chunk that looks like this:</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb495-1"><a href="#cb495-1" tabindex="-1"></a></span>
<span id="cb495-2"><a href="#cb495-2" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb495-3"><a href="#cb495-3" tabindex="-1"></a><span class="in">knitr::opts_chunk$set(include = TRUE, </span></span>
<span id="cb495-4"><a href="#cb495-4" tabindex="-1"></a><span class="in">                      echo = FALSE,</span></span>
<span id="cb495-5"><a href="#cb495-5" tabindex="-1"></a><span class="in">                      message = FALSE,</span></span>
<span id="cb495-6"><a href="#cb495-6" tabindex="-1"></a><span class="in">                      warning = FALSE)</span></span>
<span id="cb495-7"><a href="#cb495-7" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>The <code>include = FALSE</code> option on the first line applies to the setup code chunk itself. It tells R Markdown to not include the output of the setup code chunk when knitting. The options within <code>knitr::opts_chunk$set(</code>) apply to all future code chunks. <strong>However, you can also override these global code chunk options on individual chunks</strong>. If I wanted my document to show both the plot itself and the code used to make it, I could set <code>echo = TRUE</code> for that code chunk only:</p>
<div class="sourceCode" id="cb496"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb496-1"><a href="#cb496-1" tabindex="-1"></a></span>
<span id="cb496-2"><a href="#cb496-2" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb496-3"><a href="#cb496-3" tabindex="-1"></a><span class="in">penguins %&gt;% </span></span>
<span id="cb496-4"><a href="#cb496-4" tabindex="-1"></a><span class="in">  ggplot(aes(x = bill_length_mm)) +</span></span>
<span id="cb496-5"><a href="#cb496-5" tabindex="-1"></a><span class="in">  geom_histogram() +</span></span>
<span id="cb496-6"><a href="#cb496-6" tabindex="-1"></a><span class="in">  theme_minimal()</span></span>
<span id="cb496-7"><a href="#cb496-7" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
</div>
<div id="text-2" class="section level3 unnumbered">
<h3 class="unnumbered">Text</h3>
<p>This is the narrative of your document, including the titles and headings. It is written in the “markdown” language, which is used across many different software.</p>
<p>Below are the core ways to write this text. See more extensive documentation available on R Markdown “cheatsheets” at the RStudio website<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>.</p>
<div id="new-lines" class="section level4 unnumbered">
<h4 class="unnumbered">New lines</h4>
<p>Uniquely in R Markdown, to initiate a new line, enter *two spaces** at the end of the previous line and then Enter/Return.</p>
</div>
<div id="text-emphasis" class="section level4 unnumbered">
<h4 class="unnumbered">Text emphasis</h4>
<p>Surround your normal text with these characters to change how it appears in the output.</p>
<p>Underscores (_text_) or single asterisk (*text*) to <em>italicise</em></p>
<p>Double asterisks (**text**) for <strong>bold</strong> text</p>
<p>Back-ticks (` text `) to display text as <code>code</code></p>
<p>The actual appearance of the font can be set by using specific templates (specified in the YAML metadata).</p>
</div>
<div id="titles-and-headings" class="section level4 unnumbered">
<h4 class="unnumbered">Titles and headings</h4>
<p>A hash symbol in a text portion of a R Markdown script creates a heading. This is different than in a chunk of R code in the script, in which a hash symbol is a mechanism to comment/annotate/de-activate, as in a normal R script.</p>
<p>Different heading levels are established with different numbers of hash symbols at the start of a new line. One hash symbol is a title or primary heading. Two hash symbols are a second-level heading. Third- and fourth-level headings can be made with successively more hash symbols.</p>
<pre><code>
# First-level heading / Title

## Second level heading  

### Third-level heading
</code></pre>
</div>
<div id="bullets-and-numbering" class="section level4 unnumbered">
<h4 class="unnumbered">Bullets and numbering</h4>
<p>Use asterisks (*) to created a bullets list. Finish the previous sentence, enter two spaces, Enter/Return twice, and then start your bullets. Include a space between the asterisk and your bullet text. After each bullet enter two spaces and then Enter/Return. Sub-bullets work the same way but are indented. Numbers work the same way but instead of an asterisk, write 1), 2), etc. Below is how your R Markdown script text might look.</p>
<p>Here are my bullets (there are two spaces after this colon):</p>
<pre><code>* Bullet 1 (followed by two spaces and Enter/Return)  
* Bullet 2 (followed by two spaces and Enter/Return)  
  * Sub-bullet 1 (followed by two spaces and Enter/Return)  
  * Sub-bullet 2 (followed by two spaces and Enter/Return)  </code></pre>
</div>
</div>
<div id="in-text-code" class="section level3 unnumbered">
<h3 class="unnumbered">In-text code</h3>
<p>You can also include minimal R code within back-ticks. Within the back-ticks, begin the code with “r” and a space, so RStudio knows to evaluate the code as R code. See the example below.</p>
<p>This book was printed on <code>`r Sys.Date()`</code></p>
<p>When typed in-line within a section of what would otherwise be Markdown text, it knows to produce an r output instead:</p>
<p>This book was printed on 2023-11-02</p>
</div>
<div id="running-code" class="section level3 unnumbered">
<h3 class="unnumbered">Running code</h3>
<p>You can run the code in an R Markdown document in two ways. The first way is by knitting the entire document. The second way is to run code chunks manually (also known as interactively) by hitting the little green play button at the top-right of a code chunk. The down arrow next to the green play button will run all code until that point.</p>
<p><img src="images/green_button.png" width="100%" style="display: block; margin: auto;" /></p>
<p>The one downside to running code interactively is that you can sometimes make mistakes that cause your R Markdown document to fail to knit. That is because, in order to knit, an R Markdown document must contain all the code it uses. If you are working interactively and, say, load data from a separate file, you will be unable to knit your document. When working in R Markdown, always keep all code within a single document.</p>
<p>The code must also always appear in the right order.</p>
</div>
</div>
<div id="useful-tips" class="section level2 unnumbered">
<h2 class="unnumbered">Useful tips</h2>
<div class="info">
<p>
The working directory for .rmd files is a little different to working
with scripts.
</p>
<p>
With a .Rmd file, the <strong>working directory is wherever the Rmd
file itself is saved</strong>.
</p>
<p>
For example if you have your .Rmd file in a subfolder
~/markdownfiles/markdown.Rmd the code for read_csv(“data/data.csv”)
within the markdown will look for a <code>.csv</code> file in a
subfolder called data <em>inside</em> the ‘markdown’ folder and not the
root project folder where the <code>.RProj</code> file lives.
</p>
<p>
So we have two options when using .Rmd files
</p>
<ol style="list-style-type: decimal">
<li>
<p>
Don’t put the .Rmd file in a subfolder and make sure it lives in
the same directory as your .RProj file - that way relative filepaths are
the same between R scripts and Rmarkdown files
</p>
</li>
<li>
<p>
Use the <code>here</code> package to describe file locations -
more later
</p>
</li>
</ol>
</div>
</div>
<div id="exercises-setting-code-chunks" class="section level2 unnumbered">
<h2 class="unnumbered">Exercises: Setting code chunks</h2>
<p><strong>Question 1.</strong> The global option for this document is set to show the R code used to render chunks <select class='webex-select'><option value='blank'></option><option value=''>FALSE</option><option value='answer'>TRUE</option></select></p>
<div class="webex-solution">
<button>
Explain This Answer
</button>
<p>knitr::opts_chunk$set(echo = TRUE)</p>
</div>
<p><strong>Question 2.</strong> Options set in individual code chunks override the global options <select class='webex-select'><option value='blank'></option><option value='answer'>TRUE</option><option value=''>FALSE</option></select></p>
<div class="webex-solution">
<button>
Explain This Answer
</button>
<p>In the second chunk we see echo = FALSE and this has prevented the code from being printed, we only see the rendered output</p>
</div>
<p><br>
<strong>Question 3.</strong> If we wanted to see the R code, but <strong>not</strong> its output we need to select what combo of code chunk options? <select class='webex-select'><option value='blank'></option><option value=''>echo = FALSE, eval = FALSE</option><option value=''>echo = TRUE, eval = TRUE</option><option value=''>echo = FALSE, eval = TRUE</option><option value='answer'>echo = TRUE, eval = FALSE</option></select></p>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
Generate a self-contained report from data
</div>
</div>
<p>For a relatively simple report, you may elect to organize your R Markdown script such that it is “self-contained” and does not involve any external scripts.</p>
<p><strong>Set up your Rmd file to 'read' the penguins data file.</strong></p>
<p>Everything you need to run the R markdown is imported or created within the Rmd file, including all the code chunks and package loading. This “self-contained” approach is appropriate when you do not need to do much data processing (e.g. it brings in a clean or semi-clean data file) and the rendering of the R Markdown will not take too long.</p>
<p>In this scenario, one logical organization of the R Markdown script might be:</p>
<ul>
<li><p>Set global knitr options</p></li>
<li><p>Load packages</p></li>
<li><p>Import data</p></li>
<li><p>Process data</p></li>
<li><p>Produce outputs (tables, plots, etc.)</p></li>
<li><p>Save outputs, <em>if applicable</em> (.csv, .png, etc.)</p></li>
</ul>
<div id="heuristic-file-paths-with-here" class="section level3 unnumbered">
<h3 class="unnumbered">Heuristic file paths with <code>here()</code></h3>
<p>The package <code>here</code> <span class="citation">Müller (<a href="#ref-R-here">2020</a>)</span> and its function <code>here()</code> (<code>here::here()</code>), make it easy to tell R where to find and to save your files - in essence, it builds file paths. It becomes especially useful for dealing with the alternate filepaths generated by .Rmd files, but can be used for exporting/importing any scripts, functions or data.</p>
<p>This is how <code>here()</code> works within an R project:</p>
<ul>
<li><p>When the <code>here</code> package is first loaded within the R project, it places a small file called “.here” in the root folder of your R project as a “benchmark” or “anchor”</p></li>
<li><p>In your scripts, to reference a file in the R project’s sub-folders, you use the function <code>here()</code> to build the file path in relation to that anchor</p></li>
<li><p>To build the file path, write the names of folders beyond the root, within quotes, separated by commas, finally ending with the file name and file extension as shown below</p></li>
<li><p><code>here()</code> file paths can be used for both importing and exporting</p></li>
</ul>
<p>So when you use <code>here()</code> wrapped inside other functions for importing/exporting (like <code>read_csv()</code> or <code>ggsave()</code>) if you include <code>here()</code> you can still use the RProject location as the root directory when 'knitting' Rmarkdown files, even if your markdown is tidied away into a <strong>separate sub-folder</strong>.</p>
<p>This means your previous relative filepaths should be replaced with:</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb499-1"><a href="#cb499-1" tabindex="-1"></a><span class="in">```{r, include=FALSE}</span></span>
<span id="cb499-2"><a href="#cb499-2" tabindex="-1"></a><span class="in"># GLOBAL KNITR OPTIONS ----</span></span>
<span id="cb499-3"><a href="#cb499-3" tabindex="-1"></a><span class="in">knitr::opts_chunk$set(echo = TRUE)</span></span>
<span id="cb499-4"><a href="#cb499-4" tabindex="-1"></a><span class="in"># ____________________----</span></span>
<span id="cb499-5"><a href="#cb499-5" tabindex="-1"></a></span>
<span id="cb499-6"><a href="#cb499-6" tabindex="-1"></a><span class="in"># PACKAGES ----</span></span>
<span id="cb499-7"><a href="#cb499-7" tabindex="-1"></a><span class="in">library(tidyverse)</span></span>
<span id="cb499-8"><a href="#cb499-8" tabindex="-1"></a><span class="in">library(here)</span></span>
<span id="cb499-9"><a href="#cb499-9" tabindex="-1"></a></span>
<span id="cb499-10"><a href="#cb499-10" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<div class="sourceCode" id="cb500"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb500-1"><a href="#cb500-1" tabindex="-1"></a><span class="in">```{r, include=FALSE}</span></span>
<span id="cb500-2"><a href="#cb500-2" tabindex="-1"></a><span class="in"># READ DATA ----</span></span>
<span id="cb500-3"><a href="#cb500-3" tabindex="-1"></a></span>
<span id="cb500-4"><a href="#cb500-4" tabindex="-1"></a><span class="in">penguins &lt;- read_csv(here(&quot;data&quot;, &quot;penguins_raw.csv&quot;))</span></span>
<span id="cb500-5"><a href="#cb500-5" tabindex="-1"></a></span>
<span id="cb500-6"><a href="#cb500-6" tabindex="-1"></a><span class="in">head(penguins)</span></span>
<span id="cb500-7"><a href="#cb500-7" tabindex="-1"></a></span>
<span id="cb500-8"><a href="#cb500-8" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<div class="try">
<p>
Try replacing your previous code with the examples above then
re-knitting your .Rmd file.
</p>
</div>
<div class="warning">
<p>
You might want start using the <code>here()</code> from now on to
read in and export data from scripts. Make sure you are consistent in
whether you use <code>here()</code> heuristic file paths or relative
file paths across <strong>all .R and .Rmd files in a project</strong> -
otherwise you might encounter errors.
</p>
</div>
</div>
</div>
<div id="activity-can-you-change-the-global-options-of-your-rmd-file-so-that-it-doesnt-display-any-code-warnings-or-messages" class="section level2 unnumbered">
<h2 class="unnumbered">Activity: Can you change the global options of your Rmd file so that it doesn't display any code, warnings or messages?</h2>
<p>Once you have made your edits to the <a href="#code-chunks">chunk options</a> try hitting 'knit' again.</p>
</div>
<div id="ggplot" class="section level2 unnumbered">
<h2 class="unnumbered">ggplot</h2>
<div id="size-options-for-figures" class="section level3 unnumbered">
<h3 class="unnumbered">Size options for figures</h3>
<ul>
<li><p><code>fig.width</code> and <code>fig.height</code> enable to set width and height of R produced figures.
The default value is set to <strong>7 (inches)</strong>. When I play with these options, I prefer using only one of them (<code>fig.width</code>).</p></li>
<li><p><code>fig.asp</code> sets the <em>height-to-width</em> ratio of the figure. It’s easier in my mind to play with this ratio than to give a width and a height separately. The default value of fig.asp is NULL but I often set it to <code>(0.8)</code>, which often corresponds to the expected result.</p></li>
</ul>
<p>Size options of figures produced by R have consequences on relative sizes of elements in this figures. For a <code>ggplot2</code> figure, these elements will remain to the size defined in the used theme, whatever the chosen size of the figure. Therefore a huge size can lead to a very small text and vice versa.</p>
<div class="info">
<p>
The base font size is 11 pts by default. You can change it with the
<code>base_size</code> argument in the theme you’re using.
</p>
</div>
<div class="sourceCode" id="cb501"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb501-1"><a href="#cb501-1" tabindex="-1"></a><span class="co"># snake_case names need to be made</span></span>
<span id="cb501-2"><a href="#cb501-2" tabindex="-1"></a></span>
<span id="cb501-3"><a href="#cb501-3" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(penguins)</span></code></pre></div>
<div class="sourceCode" id="cb502"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb502-1"><a href="#cb502-1" tabindex="-1"></a>penguin_colours <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;darkolivegreen4&quot;</span>, <span class="st">&quot;darkorchid3&quot;</span>, <span class="st">&quot;goldenrod1&quot;</span>)</span>
<span id="cb502-2"><a href="#cb502-2" tabindex="-1"></a></span>
<span id="cb502-3"><a href="#cb502-3" tabindex="-1"></a>plot <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb502-4"><a href="#cb502-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm, </span>
<span id="cb502-5"><a href="#cb502-5" tabindex="-1"></a>             <span class="at">y =</span> body_mass_g))<span class="sc">+</span></span>
<span id="cb502-6"><a href="#cb502-6" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour=</span>species))<span class="sc">+</span></span>
<span id="cb502-7"><a href="#cb502-7" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span>penguin_colours)<span class="sc">+</span></span>
<span id="cb502-8"><a href="#cb502-8" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">11</span>)</span></code></pre></div>
<div class="sourceCode" id="cb503"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb503-1"><a href="#cb503-1" tabindex="-1"></a><span class="in">```{r fig.asp = 0.8, fig.width = 3}</span></span>
<span id="cb503-2"><a href="#cb503-2" tabindex="-1"></a><span class="in">plot</span></span>
<span id="cb503-3"><a href="#cb503-3" tabindex="-1"></a><span class="in"># figure elements are too big</span></span>
<span id="cb503-4"><a href="#cb503-4" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p><img src="08-reproducible-reports_files/figure-html/unnamed-chunk-22-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb504"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb504-1"><a href="#cb504-1" tabindex="-1"></a><span class="in">```{r fig.asp = 0.8, fig.width = 10}</span></span>
<span id="cb504-2"><a href="#cb504-2" tabindex="-1"></a><span class="in">plot</span></span>
<span id="cb504-3"><a href="#cb504-3" tabindex="-1"></a><span class="in"># figure elements are too small</span></span>
<span id="cb504-4"><a href="#cb504-4" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p><img src="08-reproducible-reports_files/figure-html/unnamed-chunk-23-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>To find the result you like, you’ll need to combine sizes set in your theme and set in the chunk options. With my customised theme, the default size (<code>7</code>) looks good to me.</p>
<div class="sourceCode" id="cb505"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb505-1"><a href="#cb505-1" tabindex="-1"></a><span class="in">```{r fig.asp = 0.8, fig.width = 7}</span></span>
<span id="cb505-2"><a href="#cb505-2" tabindex="-1"></a><span class="in">plot</span></span>
<span id="cb505-3"><a href="#cb505-3" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p><img src="08-reproducible-reports_files/figure-html/unnamed-chunk-24-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>When texts axis are longer or when figures is overloaded, you can choose bigger size (8 or 9) to relatively reduce the figure elements. it’s worth noting that for the text sizes, you can also modify the base size in your theme to obtain similar figures.</p>
<div class="sourceCode" id="cb506"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb506-1"><a href="#cb506-1" tabindex="-1"></a><span class="in">```{r fig.asp = 0.8, fig.width = 7}</span></span>
<span id="cb506-2"><a href="#cb506-2" tabindex="-1"></a><span class="in">plot + theme(base_size = 14)</span></span>
<span id="cb506-3"><a href="#cb506-3" tabindex="-1"></a><span class="in"># figure width stays the same, but modify the text size in ggplot</span></span>
<span id="cb506-4"><a href="#cb506-4" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p><img src="08-reproducible-reports_files/figure-html/unnamed-chunk-25-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="size-of-final-figure-in-document" class="section level3 unnumbered">
<h3 class="unnumbered">Size of final figure in document</h3>
<p>With the previous examples, you could see the relative size of the elements within th figures was changed - but the area occupied by the figures remained the same. In order to change this I need <code>out.width</code> or <code>out.height</code></p>
<p>Figures made with R in a R Markdown document are exported (by default in png format) and then inserted into the final rendered document. Options <code>out.width</code> and <code>out.height</code> enable us to choose the size of the figure in the final document.</p>
<p>It is rare I need to re-scale height-to-width ratio after the figures were produced with R and this ratio is kept if you modify only one option therefore I only use <code>out.width</code>. i like to use percentage to define the size of output figures. For example hre with a size set to 50%</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb507-1"><a href="#cb507-1" tabindex="-1"></a><span class="in">```{r fig.asp = 0.8, fig.width = 7, out.width = &quot;50%&quot;}</span></span>
<span id="cb507-2"><a href="#cb507-2" tabindex="-1"></a><span class="in">plot </span></span>
<span id="cb507-3"><a href="#cb507-3" tabindex="-1"></a><span class="in"># The final rendered size of the image changes according to out.width</span></span>
<span id="cb507-4"><a href="#cb507-4" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p><img src="08-reproducible-reports_files/figure-html/unnamed-chunk-26-1.png" width="50%" style="display: block; margin: auto;" /></p>
</div>
<div id="changing-default-values-of-chunk-options" class="section level3 unnumbered">
<h3 class="unnumbered">Changing default values of chunk options</h3>
<p>You can also change default values of chunk options by writing this at the beginning of your R Markdown document.</p>
<div class="sourceCode" id="cb508"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb508-1"><a href="#cb508-1" tabindex="-1"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb508-2"><a href="#cb508-2" tabindex="-1"></a><span class="in">knitr::opts_chunk$set(</span></span>
<span id="cb508-3"><a href="#cb508-3" tabindex="-1"></a><span class="in"> fig.width = 6,</span></span>
<span id="cb508-4"><a href="#cb508-4" tabindex="-1"></a><span class="in"> fig.asp = 0.8,</span></span>
<span id="cb508-5"><a href="#cb508-5" tabindex="-1"></a><span class="in"> out.width = &quot;80%&quot;</span></span>
<span id="cb508-6"><a href="#cb508-6" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb508-7"><a href="#cb508-7" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>These values will be applied for all chunks unless you specify other value in a chunk locally. You can set values often used (which differ from the default one) and avoid repeating them for each chunk.</p>
</div>
</div>
<div id="static-images" class="section level2 unnumbered">
<h2 class="unnumbered">Static images</h2>
<p>You can include images in your R Markdown:</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb509-1"><a href="#cb509-1" tabindex="-1"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb509-2"><a href="#cb509-2" tabindex="-1"></a><span class="in">knitr::include_graphics(&quot;path/to/image.png&quot;)</span></span>
<span id="cb509-3"><a href="#cb509-3" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
</div>
<div id="tables-1" class="section level2 unnumbered">
<h2 class="unnumbered">Tables</h2>
<div id="markdown-tables" class="section level3 unnumbered">
<h3 class="unnumbered">Markdown tables</h3>
<pre><code>| Syntax      | Description |
| ----------- | ----------- |
| Header      | Title       |
| Paragraph   | Text        |
</code></pre>
<p>Which will render as this</p>
<table>
<thead>
<tr class="header">
<th>Syntax</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Header</td>
<td>Title</td>
</tr>
<tr class="even">
<td>Paragraph</td>
<td>Text</td>
</tr>
</tbody>
</table>
</div>
<div id="gt" class="section level3 unnumbered">
<h3 class="unnumbered">gt()</h3>
<p>The <code>gt</code> <span class="citation">Iannone et al. (<a href="#ref-R-gt">2023</a>)</span> package is all about making it simple to produce nice-looking display tables. <a href="https://gt.rstudio.com/index.html">It has a lot of customisation options.</a></p>
<div class="sourceCode" id="cb511"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb511-1"><a href="#cb511-1" tabindex="-1"></a>penguins <span class="sc">|&gt;</span>  </span>
<span id="cb511-2"><a href="#cb511-2" tabindex="-1"></a>    <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span>  </span>
<span id="cb511-3"><a href="#cb511-3" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="st">`</span><span class="at">Body Mass (g)</span><span class="st">`</span><span class="ot">=</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> T),</span>
<span id="cb511-4"><a href="#cb511-4" tabindex="-1"></a>              <span class="st">`</span><span class="at">Flipper Length (mm)</span><span class="st">`</span><span class="ot">=</span> <span class="fu">mean</span>(flipper_length_mm, <span class="at">na.rm =</span> T)) <span class="sc">|&gt;</span>  </span>
<span id="cb511-5"><a href="#cb511-5" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">gt</span>()</span></code></pre></div>
<div id="zfzpgkupgs" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zfzpgkupgs table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zfzpgkupgs thead, #zfzpgkupgs tbody, #zfzpgkupgs tfoot, #zfzpgkupgs tr, #zfzpgkupgs td, #zfzpgkupgs th {
  border-style: none;
}

#zfzpgkupgs p {
  margin: 0;
  padding: 0;
}

#zfzpgkupgs .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zfzpgkupgs .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zfzpgkupgs .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zfzpgkupgs .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zfzpgkupgs .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zfzpgkupgs .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zfzpgkupgs .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zfzpgkupgs .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zfzpgkupgs .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zfzpgkupgs .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zfzpgkupgs .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zfzpgkupgs .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zfzpgkupgs .gt_spanner_row {
  border-bottom-style: hidden;
}

#zfzpgkupgs .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zfzpgkupgs .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zfzpgkupgs .gt_from_md > :first-child {
  margin-top: 0;
}

#zfzpgkupgs .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zfzpgkupgs .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zfzpgkupgs .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zfzpgkupgs .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zfzpgkupgs .gt_row_group_first td {
  border-top-width: 2px;
}

#zfzpgkupgs .gt_row_group_first th {
  border-top-width: 2px;
}

#zfzpgkupgs .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zfzpgkupgs .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zfzpgkupgs .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zfzpgkupgs .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zfzpgkupgs .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zfzpgkupgs .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zfzpgkupgs .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zfzpgkupgs .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zfzpgkupgs .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zfzpgkupgs .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zfzpgkupgs .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zfzpgkupgs .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zfzpgkupgs .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zfzpgkupgs .gt_left {
  text-align: left;
}

#zfzpgkupgs .gt_center {
  text-align: center;
}

#zfzpgkupgs .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zfzpgkupgs .gt_font_normal {
  font-weight: normal;
}

#zfzpgkupgs .gt_font_bold {
  font-weight: bold;
}

#zfzpgkupgs .gt_font_italic {
  font-style: italic;
}

#zfzpgkupgs .gt_super {
  font-size: 65%;
}

#zfzpgkupgs .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zfzpgkupgs .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zfzpgkupgs .gt_indent_1 {
  text-indent: 5px;
}

#zfzpgkupgs .gt_indent_2 {
  text-indent: 10px;
}

#zfzpgkupgs .gt_indent_3 {
  text-indent: 15px;
}

#zfzpgkupgs .gt_indent_4 {
  text-indent: 20px;
}

#zfzpgkupgs .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="species">species</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Body Mass (g)">Body Mass (g)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Flipper Length (mm)">Flipper Length (mm)</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="species" class="gt_row gt_left">Adelie Penguin (Pygoscelis adeliae)</td>
<td headers="Body Mass (g)" class="gt_row gt_right">3700.662</td>
<td headers="Flipper Length (mm)" class="gt_row gt_right">189.9536</td></tr>
    <tr><td headers="species" class="gt_row gt_left">Chinstrap penguin (Pygoscelis antarctica)</td>
<td headers="Body Mass (g)" class="gt_row gt_right">3733.088</td>
<td headers="Flipper Length (mm)" class="gt_row gt_right">195.8235</td></tr>
    <tr><td headers="species" class="gt_row gt_left">Gentoo penguin (Pygoscelis papua)</td>
<td headers="Body Mass (g)" class="gt_row gt_right">5076.016</td>
<td headers="Flipper Length (mm)" class="gt_row gt_right">217.1870</td></tr>
  </tbody>
  
  
</table>
</div>
<div class="try">
<p>
You won’t be able to see these tables unless you try re-knitting your
.Rmd file.
</p>
</div>
</div>
</div>
<div id="source-files" class="section level2 unnumbered">
<h2 class="unnumbered">Source files</h2>
<p>One variation of the “self-contained” approach is to have R Markdown code chunks “source” (run) other R scripts.</p>
<p>This can make your R Markdown script less cluttered, more simple, and easier to organize. It can also help if you want to display final figures at the beginning of the report.</p>
<p>In this approach, the final R Markdown script simply combines pre-processed outputs into a document. We already used the <code>source()</code> function to feed R objects from one script to another, now we can do the same thing to our report.</p>
<p>The advantage is all the data cleaning and organising happens "elsewhere" and we don't need to repeat our code. If you make any changes in your analysis scripts, these will be reflected by changes in your report the next time you compile (knit) it.</p>
<pre><code>source(&quot;scripts/your-script.R&quot;)</code></pre>
<div class="warning">
<p>
Don’t try using <code>here()</code> unless ALL of your script
dependencies ALSO use this. When knitting an Rmd file it treats the
absolute file path as relative to the .Rmd file (even when running
scripts written outside of the document).
</p>
<p>
This is why it’s usually simpler to save your .Rmd file in the same
place as your .RProj file
</p>
</div>
</div>
<div id="activity-connecting-scripts-and-reports" class="section level2 unnumbered">
<h2 class="unnumbered">Activity: Connecting scripts and reports</h2>
<div class="panel panel-default">
<div class="panel-heading">
Task
</div>
<div class="panel-body">
Create a separate R script for data import and quick cleaning, then source this into a new .Rmd file.
</div>
</div>
<ul>
<li><p>Create a <strong>new</strong> Rmarkdown file.</p></li>
<li><p>Create a new .R file</p></li>
<li><p>Save this (without changes) to the same folder as your <code>.Rproj</code> file and call it <code>linked_report_penguins.Rmd</code>.</p></li>
</ul>
<div class="try">
<p>
We will now source pre-written scripts for data loading and wrangling
in your R project, just use the source command to read in this script -
then you can call objects made externally - in this case a penguin plot
- put the code block in and hit knit.
</p>
</div>
<div class="sourceCode" id="cb513"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb513-1"><a href="#cb513-1" tabindex="-1"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb513-2"><a href="#cb513-2" tabindex="-1"></a><span class="in"># GLOBAL KNITR OPTIONS ----</span></span>
<span id="cb513-3"><a href="#cb513-3" tabindex="-1"></a><span class="in">knitr::opts_chunk$set(echo = TRUE)</span></span>
<span id="cb513-4"><a href="#cb513-4" tabindex="-1"></a><span class="in"># ____________________----</span></span>
<span id="cb513-5"><a href="#cb513-5" tabindex="-1"></a></span>
<span id="cb513-6"><a href="#cb513-6" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<div class="sourceCode" id="cb514"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb514-1"><a href="#cb514-1" tabindex="-1"></a><span class="in">```{r read-data, include=FALSE}</span></span>
<span id="cb514-2"><a href="#cb514-2" tabindex="-1"></a><span class="in"># READ DATA ----</span></span>
<span id="cb514-3"><a href="#cb514-3" tabindex="-1"></a></span>
<span id="cb514-4"><a href="#cb514-4" tabindex="-1"></a><span class="in">source(&quot;scripts/penguins.R&quot;)</span></span>
<span id="cb514-5"><a href="#cb514-5" tabindex="-1"></a></span>
<span id="cb514-6"><a href="#cb514-6" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
</div>
<div id="activity-test-yourself-1" class="section level2 unnumbered">
<h2 class="unnumbered">Activity: Test yourself</h2>
<ul>
<li><p>Make any summary figure you want from the penguins data with <code>ggplot</code></p></li>
<li><p>Make a summary table with <code>summarise</code> and make it beautiful with <code>kableExtra</code> or <code>gt()</code></p></li>
<li><p>Write a few sentences explaining what you are presenting</p></li>
<li><p>Knit the report to <strong>html</strong></p></li>
<li><p>Use chunk options to optimise your figure layout and text and make it so that raw code and rendered outputs are visible. An example of literate programming</p></li>
</ul>
<div id="hygiene-tips" class="section level3 unnumbered">
<h3 class="unnumbered">Hygiene tips</h3>
<p>I recommend having three chunks at the top of any document</p>
<ul>
<li><p>Global chunk options</p></li>
<li><p>All packages</p></li>
<li><p>Reading data</p></li>
</ul>
<div class="sourceCode" id="cb515"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb515-1"><a href="#cb515-1" tabindex="-1"></a></span>
<span id="cb515-2"><a href="#cb515-2" tabindex="-1"></a><span class="in">```{r setup , include=FALSE}</span></span>
<span id="cb515-3"><a href="#cb515-3" tabindex="-1"></a><span class="in">knitr::opts_chunk$set(echo = TRUE, </span></span>
<span id="cb515-4"><a href="#cb515-4" tabindex="-1"></a><span class="in">                      fig.align = &quot;center&quot;,</span></span>
<span id="cb515-5"><a href="#cb515-5" tabindex="-1"></a><span class="in">                      fig.width = 6,</span></span>
<span id="cb515-6"><a href="#cb515-6" tabindex="-1"></a><span class="in">                      fig.asp = 0.8,</span></span>
<span id="cb515-7"><a href="#cb515-7" tabindex="-1"></a><span class="in">                      out.width = &quot;80%</span></span>
<span id="cb515-8"><a href="#cb515-8" tabindex="-1"></a><span class="in">                      )</span></span>
<span id="cb515-9"><a href="#cb515-9" tabindex="-1"></a><span class="in">                      </span></span>
<span id="cb515-10"><a href="#cb515-10" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb515-11"><a href="#cb515-11" tabindex="-1"></a></span>
<span id="cb515-12"><a href="#cb515-12" tabindex="-1"></a><span class="in">```{r library}</span></span>
<span id="cb515-13"><a href="#cb515-13" tabindex="-1"></a><span class="in">library(tidyverse)</span></span>
<span id="cb515-14"><a href="#cb515-14" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb515-15"><a href="#cb515-15" tabindex="-1"></a></span>
<span id="cb515-16"><a href="#cb515-16" tabindex="-1"></a><span class="in">```{r read-data}</span></span>
<span id="cb515-17"><a href="#cb515-17" tabindex="-1"></a><span class="in">source(&quot;scripts/02_visualisation_penguins.R&quot;)</span></span>
<span id="cb515-18"><a href="#cb515-18" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
</div>
</div>
<div id="common-knit-issues" class="section level2 unnumbered">
<h2 class="unnumbered">Common knit issues</h2>
<p>Any of these issues will cause the Rmd document to fail to knit in its entirety. A failed knit is usually an easy fix, but needs you to READ the error message, and do a little detective work.</p>
<div id="duplication" class="section level3 unnumbered">
<h3 class="unnumbered">Duplication</h3>
<div class="sourceCode" id="cb516"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb516-1"><a href="#cb516-1" tabindex="-1"></a></span>
<span id="cb516-2"><a href="#cb516-2" tabindex="-1"></a><span class="in">```{r title-one}</span></span>
<span id="cb516-3"><a href="#cb516-3" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb516-4"><a href="#cb516-4" tabindex="-1"></a></span>
<span id="cb516-5"><a href="#cb516-5" tabindex="-1"></a><span class="in">```{r title-one}</span></span>
<span id="cb516-6"><a href="#cb516-6" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
</div>
<div id="not-the-right-order" class="section level3 unnumbered">
<h3 class="unnumbered">Not the right order</h3>
<pre><code>plot(my_table)

my_table &lt;- table(mtcars$cyl)</code></pre>
</div>
<div id="forgotten-trails" class="section level3 unnumbered">
<h3 class="unnumbered">Forgotten trails</h3>
<p>: Missing “,”, or “(”, “}”, or “’”</p>
</div>
<div id="path-not-taken" class="section level3 unnumbered">
<h3 class="unnumbered">Path not taken</h3>
<p>The Rmd document is in a different location the .Rproj file causing issues with relative filepaths</p>
</div>
<div id="spolling" class="section level3 unnumbered">
<h3 class="unnumbered">Spolling</h3>
<ul>
<li><p>Incorrectly labelled chunk options</p></li>
<li><p>Incorrectly evaluated R code</p></li>
</ul>
</div>
</div>
<div id="visual-editor" class="section level2 unnumbered">
<h2 class="unnumbered">Visual editor</h2>
<p>RStudio comes with a pretty nifty <a href="https://www.rstudio.com/blog/exploring-rstudio-visual-markdown-editor/">Visual Markdown Editor</a> which includes:</p>
<ul>
<li><p>Spellcheck</p></li>
<li><p>Easy table &amp; equation insertion</p></li>
<li><p>Easy citations and reference list building</p></li>
</ul>
<p>You can switch between modes with a button push, try it out!</p>
</div>
<div id="quarto" class="section level2 unnumbered">
<h2 class="unnumbered">Quarto</h2>
<p>The visual editor was a precursor to a new type of publishing tool - Quarto. this tool takes what R Markdown has done for R and extends it to other languages, including Python, Julia, and Observable JS. As I write this book, Quarto is gaining traction. Luckily, the concepts you’ve learned in this chapter apply to Quarto as well. Quarto documents have a YAML section, code chunks, and Markdown text. You can export Quarto documents to HTML, PDF, and Word. However, R Markdown and Quarto documents have some syntactic differences.</p>
<div id="further-reading-guides-and-tips" class="section level3 unnumbered">
<h3 class="unnumbered">Further Reading, Guides and tips</h3>
<ul>
<li><p><a href="https://www.rstudio.com/resources/cheatsheets/">R Cheat Sheets</a></p></li>
<li><p><span class="citation">Xie (<a href="#ref-xie2015">2015</a>)</span> Dynamic documents with Rmarkdown</p></li>
</ul>
<p><em>The fully comprehensive guide</em></p>
<p>(<a href="https://rmarkdown.rstudio.com/articles_intro.html" class="uri">https://rmarkdown.rstudio.com/articles_intro.html</a>)</p>
<p>(<a href="https://rmarkdown.rstudio.com/authoring_quick_tour.html" class="uri">https://rmarkdown.rstudio.com/authoring_quick_tour.html</a>)</p>
<ul>
<li><p><a href="https://www.apreshill.com/blog/2022-04-we-dont-talk-about-quarto/" class="uri">https://www.apreshill.com/blog/2022-04-we-dont-talk-about-quarto/</a></p></li>
<li><p><a href="https://www.njtierney.com/post/2022/04/11/rmd-to-qmd/" class="uri">https://www.njtierney.com/post/2022/04/11/rmd-to-qmd/</a></p></li>
<li><p><a href="https://www.jumpingrivers.com/blog/quarto-rmarkdown-comparison/" class="uri">https://www.jumpingrivers.com/blog/quarto-rmarkdown-comparison/</a></p></li>
</ul>
<!--chapter:end:08-reproducible-reports.Rmd-->
</div>
</div>
</div>
<div id="github" class="section level1" number="37">
<h1><span class="header-section-number">37</span> Github</h1>
<div id="lets-git-it-started" class="section level2" number="37.1">
<h2><span class="header-section-number">37.1</span> Let's Git it started</h2>
<p>Git is a <strong>version control system</strong>. Originally built to help groups of developers work collaboratively on big software projects. It helps us manage our RStudio projects - with tracked changes.</p>
<p>Git and GitHub are a big part of the data science community. We can use GitHub in a number of ways</p>
<ol style="list-style-type: decimal">
<li><p>To source code and repurpose analyses built by others for our own uses</p></li>
<li><p>Manage our analysis projects so that all parts of it:</p>
<p>🔢 Data</p>
<p>✍ ️Scripts</p>
<p>📊 Figures</p>
<p>📝 Reports</p></li>
</ol>
<p>Are version controlled and open access</p>
<ol start="3" style="list-style-type: decimal">
<li><p>Version control lets you recover from any mistakes &amp; your analysis is <em>backed up</em> externally</p></li>
<li><p>When you come to publish any reports - your analysis is accessible to others</p></li>
<li><p>Build up your own library of projects to show what you can do in Data Science</p></li>
</ol>
<p>If you work alone, git is great to track changes and recover previous version of your files. You can also use a remote repository to have a back up and share your work.</p>
<p>If you work as a team you can take advantage of all the above and also use version control as a tool to collaborate and organize the various versions of the same file present in the multiple computers you and they use.</p>
</div>
<div id="what-is-version-control" class="section level2" number="37.2">
<h2><span class="header-section-number">37.2</span> What is version control?</h2>
<p>Let’s imagine that we have a git repository. When you create a new file as part of the repository (or repo), that file is untracked. This means that git will ignore the file and any change you make to it <em>until you add it to the repo</em>. At that point the file is <strong>staged</strong> and ready to get into the repository. To do that you do a <strong>commit</strong> and save that version of the file to the repo. This workflow <code>modify --&gt; add --&gt; commit</code> will repeat every time you want to save a version of the file. It's a good idea to commit every time you end a task or objective in your project.</p>
<p><img src="images/git_stage.png" width="100%" style="display: block; margin: auto;" /></p>
<p><code>add</code> and <code>commit</code> are also git commands.RStudio provides a basic GUI for git, which we are going to use in this workshop. But you can also use the Terminal to talk to git on the command line</p>
<div class="info">
<p>
to add a file to the staging area.
</p>
<p>
git add <file>
</p>
<p>
git commit -m “A descriptive message to commit the files on the
staging area.”
</p>
</div>
</div>
<div id="remote-repositories" class="section level2" number="37.3">
<h2><span class="header-section-number">37.3</span> Remote repositories</h2>
<p>What we explained before is the local workflow. This is when the repo lives in your computer and that’s it. But you can also connect the local repository with a remote repository. For this workshop we are going to use GitHub to host remote repositories, but there are other options you can explore, such as GitLab.</p>
<p>Let’s imagine we have a local repository, we made some commits and we want to send those changes to the remote repository (we’ll how to create the remote repository later). For that we push the commits to the remote repository and the two repos are “up to date”.</p>
<p>If a team-mate changes a file and pushes the changes it to the remote repository, your local repo will be “outdated”. To download those new commits from the remote repository you pull the commits.</p>
<p><img src="images/collab.png" width="100%" style="display: block; margin: auto;" /></p>
<p>And if you want to try the command line:</p>
<div class="info">
<h1 id="to-upload-commits-to-the-remote-repository.">
to upload commits
to the remote repository.
</h1>
<p>
git push
</p>
<h1 id="to-download-commits-from-the-remote-repository-to-the-local-repo.">
to
download commits from the remote repository to the local repo.
</h1>
<p>
git pull
</p>
</div>
</div>
<div id="git-introductions" class="section level2" number="37.4">
<h2><span class="header-section-number">37.4</span> Git introductions</h2>
<p>Before you create your first repository you need to make sure that git and RStudio are friends and that git knows you. That means you have:</p>
<ul>
<li><p>Installed Git on your machine (not needed if using Posit Cloud)</p></li>
<li><p>Created a Github Account - go to <a href="https://github.com/">github.com</a></p></li>
</ul>
<div class="info">
<p>
You can check that RStudio “sees” git by going to Tools –&gt; Global
Options –&gt; Git/SVN. There you should find the path in your computer
to the git installation.
</p>
</div>
<p>You can now introduce yourself to Github with the <code>usethis</code> package</p>
<div class="sourceCode" id="cb518"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb518-1"><a href="#cb518-1" tabindex="-1"></a><span class="fu">library</span>(usethis) </span>
<span id="cb518-2"><a href="#cb518-2" tabindex="-1"></a><span class="fu">use_git_config</span>(<span class="at">user.name  =</span> <span class="st">&quot;Jane Doe&quot;</span>,</span>
<span id="cb518-3"><a href="#cb518-3" tabindex="-1"></a>               <span class="at">user.email =</span> <span class="st">&quot;jane@example.org&quot;</span>)</span></code></pre></div>
<p>Substituting with your name and the email associated with your GitHub account, or you can also do this on the command line:</p>
<div class="info">
<p>
git config –global user.name ‘Jane Doe’
</p>
<p>
git config –global user.email ’<a href="mailto:jane@example.com" class="email">jane@example.com</a>
</p>
</div>
<p>You will also need a Personal Access Token (PAT), Github has started using these <em>in lieu</em> of passwords.</p>
<p>Create a PAT with</p>
<div class="sourceCode" id="cb519"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb519-1"><a href="#cb519-1" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">create_github_token</span>()</span></code></pre></div>
<p>This will likely open a new window allowing you to create a token. Do now close this window, as you will need to copy the token to your clipboard. Then run this other command:</p>
<div class="sourceCode" id="cb520"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb520-1"><a href="#cb520-1" tabindex="-1"></a>gitcreds<span class="sc">::</span><span class="fu">gitcreds_set</span>()</span></code></pre></div>
<p>This will ask you for your access token. Go to the previous window, copy the token, paste it on your console and press enter.</p>
<p>Finally, to check that everything’s ok with this command.</p>
<div class="sourceCode" id="cb521"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb521-1"><a href="#cb521-1" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">gh_token_help</span>()</span></code></pre></div>
<p>Irritatingly the PAT seems to be forgotten on linux systems very quickly, which is what Posit Cloud is hosted on:</p>
<p>A simple solution to this problem is to ask git to store information in the cache for just a teeny tiny little bit longer. Instead of having the cache expire after the default 900 seconds, maybe set it to expire after 10 million seconds. That way, you’ll only have to refresh the cache using gitcreds::gitcreds_set() once every four months instead of four times an hour. Implementing this solution requires only one line of code at the terminal:</p>
<pre><code>
git config --global credential.helper &#39;cache --timeout=10000000&#39;
</code></pre>
<p>Thanks to <a href="https://blog.djnavarro.net/posts/2021-08-08_git-credential-helpers/" class="uri">https://blog.djnavarro.net/posts/2021-08-08_git-credential-helpers/</a> for this bit of information!</p>
</div>
<div id="create-a-new-repository" class="section level2" number="37.5">
<h2><span class="header-section-number">37.5</span> Create a new repository</h2>
<p>There are many ways to start a new repository, the easiest is <em>Github first</em></p>
<div id="create-an-online-repository." class="section level3" number="37.5.1">
<h3><span class="header-section-number">37.5.1</span> 1. Create an online repository.</h3>
<ul>
<li><p>Go to github.com and log in.</p></li>
<li><p>On the top right corner, click on the “+” bottom and then “New repository”</p></li>
</ul>
<p>Then:</p>
<ul>
<li><p>Repository template: No template.</p></li>
<li><p>Repository name: myrepo or whatever you wish to name your new project.</p></li>
<li><p>Description: Any short description of the project. Write this for humans.</p></li>
<li><p>Public.</p></li>
<li><p>Initialize this repository with: nothing (we can set up everything from R).</p></li>
</ul>
<p>Before going back to RStudio, copy the url for the repository.</p>
</div>
<div id="section" class="section level3" number="37.5.2">
<h3><span class="header-section-number">37.5.2</span> 2.</h3>
<ul>
<li><p>File &gt; New Project &gt; Version Control &gt; Git. In the “repository URL” paste the URL of your new GitHub repository</p></li>
<li><p>Choose the folder where you want to create the project.</p></li>
<li><p>Choose “Open in new session”.</p></li>
<li><p>And Click on “Create Project”.</p></li>
</ul>
<p>The new folder in your computer will be a git repository, linked to a remote GitHub repository and an RStudio Project at the same time. This workflow also makes sure that all the configuration between the local and remote repos are done correctly.</p>
<p>It also adds a .gitignore file that includes a list of files that we don’t need to track (i.e. .Rhistory).</p>
<div class="note">
<p>
The .gitignore file can be a good place to store your PAT file. Make
a plain text file and write in your token code, save it as anything you
like e.g. token.txt. Add the name of this to your .gitignore file and it
will save locally but never be pushed to your repo. Watch the Git pane
in Rstudio to check it is not being tracked.
</p>
</div>
</div>
<div id="local-changes" class="section level3" number="37.5.3">
<h3><span class="header-section-number">37.5.3</span> Local changes</h3>
<ul>
<li><p>Create a new .Rmd file</p></li>
<li><p>Save the file</p></li>
<li><p>Add it to the staging area by selecting the file in the Git pane</p></li>
<li><p>Select commit and write a descriptive message in the commit message pane</p></li>
</ul>
<p>At this point you should be able to see all the files in the staging area, and by selecting each one, the line by line differences in any changes you have made since your last commit</p>
<p><img src="images/git_pane.png" width="100%" style="display: block; margin: auto;" /></p>
<p><strong>Now Push</strong> - push your commits to the remote repository. You won't see any changes on Github until you push those commits.</p>
</div>
</div>
<div id="remote-changes" class="section level2" number="37.6">
<h2><span class="header-section-number">37.6</span> Remote changes</h2>
<p>Let's head back to GitHub now. If you refresh the page, now you’ll see the files you committed just now. Let’s click on “Commits” to see the history of the repository. From this view, you can explore the repository at the “state” of each commit and look at the file differences.</p>
<p>Now, we can try to make changes here at github.com</p>
<div id="create-a-readme" class="section level3" number="37.6.1">
<h3><span class="header-section-number">37.6.1</span> Create a README</h3>
<ul>
<li><p>On the main page, click on the green bottom that says “Add a README”.</p></li>
<li><p>Add something to the file. READMEs usually are written in Markdown and contain information about the repo.</p></li>
<li><p>At the end of the page add a message on the first line and click on “Commit new file”.</p></li>
<li><p>Come back to the main page to see the README.</p></li>
</ul>
<p>The new file and the changes you do on GitHub are only on the remote repository until you make a pull from the local repo. If you make changes on the local repo while it not up to date, you may encounter <strong>merge conflicts</strong>, which lead to headaches. This happens when the version of a file on the local repo is not compatible with its version on the remote repo. In those cases, git cannot decide which version is the right one and you have to do it yourself.</p>
<p>To avoid this problem (most of the time), you should do a <strong>pull everytime you load up a project</strong> before doing anything else. Most of the time the message will be "Already up to-date", but this is a good habit.</p>
<p>Now we should head to the GitPane in RStudio and select the blue "Pull" button. The README should appear in your files.</p>
</div>
</div>
<div id="collaborating-on-a-repo" class="section level2" number="37.7">
<h2><span class="header-section-number">37.7</span> Collaborating on a repo</h2>
<p>When collaborating on a project you can find yourself in one of two scenarios</p>
<ul>
<li><p>You have write permission of the repo you are working on.</p></li>
<li><p>You don’t have write permission on the repo.</p></li>
</ul>
<p>The first situation is the most common when working together with an team on a long term project. You can clone the repo following the these same instructions and use the same workflow as before. When you try to push your changes to the remote repository, GitHub will check if you have the rights to modify the repo. The only difference between this and working on your own is that you need to <strong>communicate well so that two people are not working on the same thing</strong>. Otherwise this will lead to <strong>merge conflicts</strong>.</p>
<p>The second situation is common when contributing to strangers' projects, such as fixing bugs in open source packages. In this case, you need to first fork the repository, which creates a remote repository linked to your GitHub account to which you will have complete access. Now you work in this fork using the normal workflow: modify, add, commit and push. But for your changes to integrate into the original repository, you need to create a pull request (or PR). This will let the owner of the original repo that you made some changes that you think should be merged. The owner can then accept, reject or ask for modifications. Once they accept your Pull Request, your modifications will be safe in the original repository.</p>
<div id="working-with-an-external-collaborator" class="section level3" number="37.7.1">
<h3><span class="header-section-number">37.7.1</span> Working with an external collaborator</h3>
<p><strong>1.</strong> Go to <a href="https://github.com/">github.com</a> and log in (you need your own account - for sign up with your uea.ac.uk e-mail)</p>
<p><strong>2.</strong> In the Search bar, look for repo <strong>Philip-Leftwich/5023Y-Happy-Git</strong></p>
<p><strong>3.</strong> Click on the repo name, and look at the existing repo structure</p>
<p><strong>4.</strong> <strong>FORK</strong> the repo</p>
</div>
<div id="what-the-hell-is-a-fork" class="section level3" number="37.7.2">
<h3><span class="header-section-number">37.7.2</span> What the hell is a fork?</h3>
<p><img src="images/fork.png" width="100%" style="display: block; margin: auto;" /></p>
<p>A fork is when you generate a <em>personal</em> copy of another user's <a href="#glossary-github">repository</a>.</p>
<p><strong>5.</strong> Press Clone/download and copy the URL, then create a <strong>new</strong> project in RStudio Cloud selecting the <strong>New project from Git repository</strong> option - make sure you are in the 5023Y Workspace</p>
<p><img src="images/new-project.png" width="100%" style="display: block; margin: auto;" /></p>
<p><strong>6.</strong> Open the some_cool_animals.Rmd document, and the accompanying html</p>
<p><strong>7.</strong> Add <em>your name</em> to the top of the document</p>
<p><strong>8.</strong> BUT WAIT. We have forgotten to add YOUR favourite animal and facts! Make a new tab in the markdown file add an image and some information</p>
<p><strong>9.</strong> Once you’ve added your updates, knit the Rmd document to update the html</p>
<p><strong>10.</strong> Stage, Commit &amp; Push all files <a href="#glossary-github">(glossary)</a></p>
<p>Staged - pick those files which you intend to bind to a commit</p>
<p>Commit - write a short descriptive message, binds changes to a single <a href="#commit">commit</a></p>
<p>Push - "Pushes" your changes from the local repo to the remote repo on GitHub, <a href="#push">(push)</a></p>
<p><strong>11.</strong> On GitHub, refresh and see that files are updated. Cool! Now you’ve used something someone else has created, customized it, and saved your updated version.</p>
</div>
<div id="make-a-pull-request" class="section level3" number="37.7.3">
<h3><span class="header-section-number">37.7.3</span> Make a pull request</h3>
<p><strong>1.</strong> Go to your repo in GitHub, you will see that you made the last commit and a message about being ahead of my project:</p>
<p><strong>2.</strong> Click on “Open pull request”.</p>
<p><strong>3.</strong> And click on “Create pull request”.</p>
<p><strong>4.</strong> We are almost there. Complete the pull request with a title and a message and then finish the pull request.</p>
<p>The owner/s of the repo will receive an email. They can review the pull request, comment on it and eventually accept the contribution. When that happen the changes you made will appear in their repo.</p>
</div>
</div>
<div id="see-changes" class="section level2" number="37.8">
<h2><span class="header-section-number">37.8</span> See changes</h2>
<p>The first and most immediate benefit of using GitHub with your RStudio Project is seeing the changes you have made since your last commit.</p>
<p>The RStudio Git pane lists every file that’s been added, modified or deleted. The icon describes the change:</p>
<ul>
<li><p>You've changed a file
<img src="images/git-modified.png" width="5%" style="display: block; margin: auto auto auto 0;" /></p></li>
<li><p>You've added a new file Git hasn't seen before
<img src="images/git-unknown.png" width="5%" style="display: block; margin: auto auto auto 0;" /></p></li>
<li><p>You've deleted a file
<img src="images/git-deleted.png" width="5%" style="display: block; margin: auto auto auto 0;" /></p></li>
</ul>
<p>You can get more details on the changes that have been made to each file by right-clicking and selecting diff</p>
<p><img src="images/git-diff.png" width="15%" style="display: block; margin: auto auto auto 0;" /></p>
<p>This opens a new window highlighting the <strong>diff</strong>erences between your current file and the previous commit.</p>
<p><img src="images/git-diff-window.png" width="100%" style="display: block; margin: auto;" /></p>
<p>The background colours tells you whether the text has been added (green) or removed (red). (If you’re colourblind you can use the line numbers in the two columns at the far left as a guide).</p>
</div>
<div id="a-couple-of-general-tips" class="section level2" number="37.9">
<h2><span class="header-section-number">37.9</span> A couple of general tips:</h2>
<div class="note">
<ul>
<li>
<p>
Pull at the start of <strong>every session</strong> this
retrieves the master repo from GitHub - which you update at the end of
every session. This helps prevent <em>conflicts</em>
</p>
</li>
<li>
<p>
<strong>Commit/push</strong> in small, meaningful increments and
do this often. You can make <strong>multiple</strong> commits in a
session - and <strong>always push at the end of the
session</strong>
</p>
</li>
<li>
<p>
In this way your GitHub Repo becomes the <strong>master
copy</strong> of your project.
</p>
</li>
</ul>
</div>
</div>
<div id="beautify-your-profile" class="section level2" number="37.10">
<h2><span class="header-section-number">37.10</span> Beautify your profile</h2>
<p><a href="https://dev.to/ruppysuppy/beautify-your-github-profile-like-a-pro-5093" class="uri">https://dev.to/ruppysuppy/beautify-your-github-profile-like-a-pro-5093</a></p>
</div>
<div id="glossary-github" class="section level2" number="37.11">
<h2><span class="header-section-number">37.11</span> Glossary-GitHub</h2>
<table>
<thead>
<tr>
<th style="text-align:left;">
Terms
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
clone
</td>
<td style="text-align:left;">
A clone is a copy of a repository that lives on your computer instead of on a website's server somewhere, or the act of making that copy. When you make a clone, you can edit the files in your preferred editor and use Git to keep track of your changes without having to be online. The repository you cloned is still connected to the remote version so that you can push your local changes to the remote to keep them synced when you're online.
</td>
</tr>
<tr>
<td style="text-align:left;">
commit
</td>
<td style="text-align:left;">
A commit, or revision, is an individual change to a file (or set of files). When you make a commit to save your work, Git creates a unique ID that allows you to keep record of the specific changes committed along with who made them and when. Commits usually contain a commit message which is a brief description of what changes were made.
</td>
</tr>
<tr>
<td style="text-align:left;">
commit message
</td>
<td style="text-align:left;">
Short, descriptive text that accompanies a commit and communicates the change the commit is introducing.
</td>
</tr>
<tr>
<td style="text-align:left;">
fork
</td>
<td style="text-align:left;">
A fork is a personal copy of another user's repository that lives on your account. Forks allow you to freely make changes to a project without affecting the original upstream repository. You can also open a pull request in the upstream repository and keep your fork synced with the latest changes since both repositories are still connected.
</td>
</tr>
<tr>
<td style="text-align:left;">
Git
</td>
<td style="text-align:left;">
Git is an open source program for tracking changes in text files. It was written by the author of the Linux operating system, and is the core technology that GitHub, the social and user interface, is built on top of.
</td>
</tr>
<tr>
<td style="text-align:left;">
GitHub Classroom
</td>
<td style="text-align:left;">
GitHub Classroom automates repository creation and access control, making it easy to distribute starter code and collect assignments on GitHub
</td>
</tr>
<tr>
<td style="text-align:left;">
Markdown
</td>
<td style="text-align:left;">
Markdown is an incredibly simple semantic file format, not too dissimilar from .doc, .rtf and .txt. Markdown makes it easy for even those without a web-publishing background to write prose (including with links, lists, bullets, etc.) and have it displayed like a website.
</td>
</tr>
<tr>
<td style="text-align:left;">
pull
</td>
<td style="text-align:left;">
Pull refers to when you are fetching in changes and merging them. For instance, if someone has edited the remote file you're both working on, you'll want to pull in those changes to your local copy so that it's up to date
</td>
</tr>
<tr>
<td style="text-align:left;">
push
</td>
<td style="text-align:left;">
To push means to send your committed changes to a remote repository on GitHub.com. For instance, if you change something locally, you can push those changes so that others may access them.
</td>
</tr>
<tr>
<td style="text-align:left;">
README
</td>
<td style="text-align:left;">
A text file containing information about the files in a repository that is typically the first file a visitor to your repository will see. A README file, along with a repository license, contribution guidelines, and a code of conduct, helps you share expectations and manage contributions to your project.
</td>
</tr>
<tr>
<td style="text-align:left;">
repository
</td>
<td style="text-align:left;">
A repository (repo) is the most basic element of GitHub. They're easiest to imagine as a project's folder. A repository contains all of the project files (including documentation), and stores each file's revision history. Repositories can have multiple collaborators and can be either public or private.
</td>
</tr>
<tr>
<td style="text-align:left;">
RMarkdown
</td>
<td style="text-align:left;">
Rmarkdown is a package and filetype that are deeply embedded with RStudio to allow the integration of Markdown and output chunks of programming code (such as R) to publish a variety of different file types
</td>
</tr>
<tr>
<td style="text-align:left;">
personal access token
</td>
<td style="text-align:left;">
A token that is used in place of a password when performing Git operations over HTTPS. Also called a PAT.
</td>
</tr>
</tbody>
</table>
<p>Reading</p>
<ul>
<li><a href="https://happygitwithr.com/">Happy Git</a></li>
</ul>
<!--chapter:end:09-github.Rmd-->
</div>
</div>
<div id="part-bonus-working-with-big-data" class="section level1 unnumbered">
<h1 class="unnumbered">(PART*) BONUS: Working with big data</h1>
</div>
<div id="reading-in-data" class="section level1" number="38">
<h1><span class="header-section-number">38</span> Reading in data</h1>
</div>
<div id="write-to-sql" class="section level1" number="39">
<h1><span class="header-section-number">39</span> write to sql</h1>
</div>
<div id="querying-sql" class="section level1" number="40">
<h1><span class="header-section-number">40</span> querying sql</h1>
<!--chapter:end:09-sql.Rmd-->
</div>
<div id="iteration" class="section level1" number="41">
<h1><span class="header-section-number">41</span> Iteration</h1>
<p>We’ve seen how to write a function and how they can be used to create concise re-usable operations that can be applied multiple times in a script without having to copy and paste, but where functions really come into their own is when combined with iteration. Iteration is the process of running the same operation on a group of objects, further minimising code replication.</p>
<div id="data-structures" class="section level2" number="41.1">
<h2><span class="header-section-number">41.1</span> Data structures</h2>
<p>Functional programming in R requires a good understanding of the types of data structure available in R. Here we have a quick introduction</p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Data type</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Vector</td>
<td>Contains multiple elements of the same type of data <code>logical</code>, <code>integer</code>, <code>double</code>, <code>character</code></td>
</tr>
<tr class="even">
<td>Lists</td>
<td>Can contain elements of any type, each element can be a single value, a vector or even an entire dataframe</td>
</tr>
<tr class="odd">
<td>Matrix</td>
<td>A collection of elements of the same data type <code>logical</code>, <code>integer</code>, <code>double</code>, <code>character</code> arranged into rows and columns</td>
</tr>
<tr class="even">
<td>Dataframe</td>
<td>A collection of vectors, each vector is a column, each row contains one set of values from each column. Data stored in a dataframe can be of any type of data</td>
</tr>
<tr class="odd">
<td>tibble</td>
<td>as dataframe, displays data types for each column alongside data</td>
</tr>
</tbody>
</table>
<div id="vector" class="section level3" number="41.1.1">
<h3><span class="header-section-number">41.1.1</span> Vector</h3>
<div class="sourceCode" id="cb523"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb523-1"><a href="#cb523-1" tabindex="-1"></a>vector_one <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb523-2"><a href="#cb523-2" tabindex="-1"></a></span>
<span id="cb523-3"><a href="#cb523-3" tabindex="-1"></a>vector_two <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apples&quot;</span>, <span class="st">&quot;bananas&quot;</span>, <span class="st">&quot;pears&quot;</span>)</span></code></pre></div>
</div>
<div id="list" class="section level3" number="41.1.2">
<h3><span class="header-section-number">41.1.2</span> List</h3>
<div class="sourceCode" id="cb524"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb524-1"><a href="#cb524-1" tabindex="-1"></a>new_list <span class="ot">&lt;-</span> <span class="fu">list</span>(vector_one, vector_two)</span>
<span id="cb524-2"><a href="#cb524-2" tabindex="-1"></a></span>
<span id="cb524-3"><a href="#cb524-3" tabindex="-1"></a><span class="fu">names</span>(new_list) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;numbers&quot;</span>, <span class="st">&quot;fruit&quot;</span>)</span></code></pre></div>
</div>
<div id="matrix" class="section level3" number="41.1.3">
<h3><span class="header-section-number">41.1.3</span> Matrix</h3>
<div class="sourceCode" id="cb525"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb525-1"><a href="#cb525-1" tabindex="-1"></a>new_matrix <span class="ot">&lt;-</span> <span class="fu">cbind</span>(vector_one, vector_two)</span>
<span id="cb525-2"><a href="#cb525-2" tabindex="-1"></a></span>
<span id="cb525-3"><a href="#cb525-3" tabindex="-1"></a><span class="fu">is.matrix</span>(new_matrix)</span>
<span id="cb525-4"><a href="#cb525-4" tabindex="-1"></a></span>
<span id="cb525-5"><a href="#cb525-5" tabindex="-1"></a></span>
<span id="cb525-6"><a href="#cb525-6" tabindex="-1"></a><span class="fu">matrix</span>(<span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] TRUE
##      [,1] [,2]
## [1,]   NA   NA
## [2,]   NA   NA</code></pre>
</div>
<div id="dataframe" class="section level3" number="41.1.4">
<h3><span class="header-section-number">41.1.4</span> Dataframe</h3>
<div class="sourceCode" id="cb527"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb527-1"><a href="#cb527-1" tabindex="-1"></a>new_dataframe <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(vector_one, vector_two)</span></code></pre></div>
</div>
<div id="tibble" class="section level3" number="41.1.5">
<h3><span class="header-section-number">41.1.5</span> tibble</h3>
<div class="sourceCode" id="cb528"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb528-1"><a href="#cb528-1" tabindex="-1"></a>new_tibble <span class="ot">&lt;-</span> <span class="fu">tibble</span>(vector_one, vector_two)</span></code></pre></div>
</div>
</div>
<div id="simple-iteration-functions" class="section level2" number="41.2">
<h2><span class="header-section-number">41.2</span> Simple iteration functions</h2>
<div id="rep-1" class="section level3" number="41.2.1">
<h3><span class="header-section-number">41.2.1</span> <code>rep()</code></h3>
<p>The function <code>rep()</code> lets you repeat the first argument a set number of times.</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb529-1"><a href="#cb529-1" tabindex="-1"></a><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">5</span>)</span>
<span id="cb529-2"><a href="#cb529-2" tabindex="-1"></a></span>
<span id="cb529-3"><a href="#cb529-3" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Gentoo&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span>), <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  [1] 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5
## [1] &quot;Adelie&quot;    &quot;Gentoo&quot;    &quot;Chinstrap&quot; &quot;Adelie&quot;    &quot;Gentoo&quot;    &quot;Chinstrap&quot;</code></pre>
<p>The default for the amount of repetition is <code>times =</code> it will print the entire vector start to finish THEN repeat.</p>
<p>If the second argument is a vector with the same number of elements as the <em>first</em> vector, then it will repeat to the specified values for each</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb531-1"><a href="#cb531-1" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Gentoo&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span>), <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## [1] &quot;Adelie&quot;    &quot;Adelie&quot;    &quot;Gentoo&quot;    &quot;Chinstrap&quot; &quot;Chinstrap&quot; &quot;Chinstrap&quot;</code></pre>
<p>Or if you use the argument <code>each</code> then it will rep all of the first element <em>first</em> followed by the second etc.</p>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb533-1"><a href="#cb533-1" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Gentoo&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span>), <span class="at">each =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Adelie&quot;    &quot;Adelie&quot;    &quot;Adelie&quot;    &quot;Gentoo&quot;    &quot;Gentoo&quot;    &quot;Gentoo&quot;   
## [7] &quot;Chinstrap&quot; &quot;Chinstrap&quot; &quot;Chinstrap&quot;</code></pre>
<p>What do you think will happen if you set both times to 3 and each to 2?</p>
<div class="sourceCode" id="cb535"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb535-1"><a href="#cb535-1" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Gentoo&quot;</span>, <span class="st">&quot;Chinstrap&quot;</span>), <span class="at">times =</span> <span class="dv">2</span>, <span class="at">each =</span> <span class="dv">3</span>)</span></code></pre></div>
<button id="displayTextunnamed-chunk-12" onclick="javascript:toggle(&#39;unnamed-chunk-12&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-12" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<pre><code>##  [1] &quot;Adelie&quot;    &quot;Adelie&quot;    &quot;Adelie&quot;    &quot;Gentoo&quot;    &quot;Gentoo&quot;    &quot;Gentoo&quot;   
##  [7] &quot;Chinstrap&quot; &quot;Chinstrap&quot; &quot;Chinstrap&quot; &quot;Adelie&quot;    &quot;Adelie&quot;    &quot;Adelie&quot;   
## [13] &quot;Gentoo&quot;    &quot;Gentoo&quot;    &quot;Gentoo&quot;    &quot;Chinstrap&quot; &quot;Chinstrap&quot; &quot;Chinstrap&quot;</code></pre>
</div>
</div>
</div>
</div>
<div id="seq-1" class="section level3" number="41.2.2">
<h3><span class="header-section-number">41.2.2</span> <code>seq()</code></h3>
<p>The function <code>seq()</code> is useful for generating a sequence of numbers with some pattern.</p>
<p>Use <code>seq()</code> to create a vector of the integers 0 to 10.</p>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb537-1"><a href="#cb537-1" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<p>This is initially very similar to just making a vector with</p>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb539-1"><a href="#cb539-1" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<p>But with <code>seq</code> we have extra functions. You can set the by argument to count by numbers other than 1 (the default). Use <code>seq()</code> to create a vector of the numbers 0 to 100 by 10s.</p>
<div class="sourceCode" id="cb541"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb541-1"><a href="#cb541-1" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1]   0  10  20  30  40  50  60  70  80  90 100</code></pre>
<p>We also have the argument <code>length.out</code>, which is useful when you want to know how to many steps to divide something into</p>
<div class="sourceCode" id="cb543"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb543-1"><a href="#cb543-1" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">length.out =</span> <span class="dv">12</span>)</span></code></pre></div>
<pre><code>##  [1]   0.000000   9.090909  18.181818  27.272727  36.363636  45.454545
##  [7]  54.545455  63.636364  72.727273  81.818182  90.909091 100.000000</code></pre>
</div>
<div id="replicate-1" class="section level3" number="41.2.3">
<h3><span class="header-section-number">41.2.3</span> <code>replicate()</code></h3>
<p>Replicate is our first example of a function whose purpose is to iterate <em>other</em> functions</p>
<p>For example the <code>rnorm</code> function generates numbers from a normal distribution.</p>
<p>Nesting this inside the <code>replicate()</code> function will repeat this command a specified number of times</p>
<div class="sourceCode" id="cb545"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb545-1"><a href="#cb545-1" tabindex="-1"></a><span class="fu">replicate</span>(<span class="dv">3</span>, <span class="co"># times to replicate function</span></span>
<span id="cb545-2"><a href="#cb545-2" tabindex="-1"></a>          <span class="at">expr =</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">5</span>, </span>
<span id="cb545-3"><a href="#cb545-3" tabindex="-1"></a>                       <span class="at">mean =</span> <span class="dv">1</span>,</span>
<span id="cb545-4"><a href="#cb545-4" tabindex="-1"></a>                       <span class="at">sd =</span> <span class="dv">1</span>))</span></code></pre></div>
<pre><code>##            [,1]        [,2]       [,3]
## [1,]  1.2431513  2.18451380  2.2123819
## [2,]  1.5756564  0.25297244  1.1631301
## [3,]  0.8755848  1.01707686  0.5347344
## [4,]  2.4954751 -0.01397108 -0.1592592
## [5,] -0.4872208  1.32018052  0.7511214</code></pre>
<p>Here we will introduce two approaches to iterative operations - using for loops and using the package <code>purrr</code>.</p>
<ol style="list-style-type: decimal">
<li><p>for loops iterate code across a series of inputs, but are less common in R than in other programming languages. Nevertheless, we introduce them here as a learning tool and reference</p></li>
<li><p>The <code>purrr</code> package is the tidyverse approach to iterative operations - it works by “mapping” a function across many inputs (values, columns, datasets, etc.)</p></li>
</ol>
</div>
</div>
<div id="for-loops" class="section level2" number="41.3">
<h2><span class="header-section-number">41.3</span> For Loops</h2>
<p>For loops are an <strong>essential</strong> part of many programming languages, but they are often less utilised in R because of our ability to apply functions to all elements of a vector. However, I will include them here for completeness.</p>
<p>A for loop has three core parts:</p>
<ol style="list-style-type: decimal">
<li><p>The sequence of items to iterate through</p></li>
<li><p>The operations to conduct per item in the sequence</p></li>
<li><p>The container for the results (optional)</p></li>
</ol>
<p>The basic syntax is: for (item in sequence) {do operations using item}. Note the parentheses and the curly brackets. The results could be printed to console, or stored in a container R object.</p>
<pre><code>for(i in list){
    # PERFORM SOME ACTION
}</code></pre>
<p>A simple for loop <strong>example</strong> is below. For every number in the vector add 2. There is no <em>container object</em> here, the results of the function are printed directly into the console.</p>
<div class="sourceCode" id="cb548"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb548-1"><a href="#cb548-1" tabindex="-1"></a><span class="cf">for</span> (num <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)) {  <span class="co"># the SEQUENCE is defined (numbers 1 to 5) and loop is opened with &quot;{&quot;</span></span>
<span id="cb548-2"><a href="#cb548-2" tabindex="-1"></a>  <span class="fu">print</span>(num <span class="sc">+</span> <span class="dv">2</span>)             <span class="co"># The OPERATIONS (add two to each sequence number and print)</span></span>
<span id="cb548-3"><a href="#cb548-3" tabindex="-1"></a>}                            <span class="co"># The loop is closed with &quot;}&quot;                            </span></span></code></pre></div>
<pre><code>## [1] 3
## [1] 4
## [1] 5
## [1] 6
## [1] 7</code></pre>
<pre><code>[1] 3
[1] 4
[1] 5
[1] 6
[1] 7</code></pre>
<p>So let's make a slightly more complicated function - first we are making a new tibble, first we have four vectors - made of 10 numbers each randomly generated to be roughly close to a 0 mean with a s.d. of 1. Then we combine them to make a tibble</p>
<div class="sourceCode" id="cb551"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb551-1"><a href="#cb551-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb551-2"><a href="#cb551-2" tabindex="-1"></a></span>
<span id="cb551-3"><a href="#cb551-3" tabindex="-1"></a><span class="co"># a simple tibble</span></span>
<span id="cb551-4"><a href="#cb551-4" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb551-5"><a href="#cb551-5" tabindex="-1"></a>  <span class="at">a =</span>  <span class="fu">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb551-6"><a href="#cb551-6" tabindex="-1"></a>  <span class="at">b =</span>  <span class="fu">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb551-7"><a href="#cb551-7" tabindex="-1"></a>  <span class="at">c =</span>  <span class="fu">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb551-8"><a href="#cb551-8" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>)</span>
<span id="cb551-9"><a href="#cb551-9" tabindex="-1"></a>)</span>
<span id="cb551-10"><a href="#cb551-10" tabindex="-1"></a></span>
<span id="cb551-11"><a href="#cb551-11" tabindex="-1"></a>df</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr>
<th style="text-align:right;">
a
</th>
<th style="text-align:right;">
b
</th>
<th style="text-align:right;">
c
</th>
<th style="text-align:right;">
d
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
-1.2070657
</td>
<td style="text-align:right;">
-0.4771927
</td>
<td style="text-align:right;">
0.1340882
</td>
<td style="text-align:right;">
1.1022975
</td>
</tr>
<tr>
<td style="text-align:right;">
0.2774292
</td>
<td style="text-align:right;">
-0.9983864
</td>
<td style="text-align:right;">
-0.4906859
</td>
<td style="text-align:right;">
-0.4755931
</td>
</tr>
<tr>
<td style="text-align:right;">
1.0844412
</td>
<td style="text-align:right;">
-0.7762539
</td>
<td style="text-align:right;">
-0.4405479
</td>
<td style="text-align:right;">
-0.7094400
</td>
</tr>
<tr>
<td style="text-align:right;">
-2.3456977
</td>
<td style="text-align:right;">
0.0644588
</td>
<td style="text-align:right;">
0.4595894
</td>
<td style="text-align:right;">
-0.5012581
</td>
</tr>
<tr>
<td style="text-align:right;">
0.4291247
</td>
<td style="text-align:right;">
0.9594941
</td>
<td style="text-align:right;">
-0.6937202
</td>
<td style="text-align:right;">
-1.6290935
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5060559
</td>
<td style="text-align:right;">
-0.1102855
</td>
<td style="text-align:right;">
-1.4482049
</td>
<td style="text-align:right;">
-1.1676193
</td>
</tr>
<tr>
<td style="text-align:right;">
-0.5747400
</td>
<td style="text-align:right;">
-0.5110095
</td>
<td style="text-align:right;">
0.5747557
</td>
<td style="text-align:right;">
-2.1800396
</td>
</tr>
<tr>
<td style="text-align:right;">
-0.5466319
</td>
<td style="text-align:right;">
-0.9111954
</td>
<td style="text-align:right;">
-1.0236557
</td>
<td style="text-align:right;">
-1.3409932
</td>
</tr>
<tr>
<td style="text-align:right;">
-0.5644520
</td>
<td style="text-align:right;">
-0.8371717
</td>
<td style="text-align:right;">
-0.0151383
</td>
<td style="text-align:right;">
-0.2942939
</td>
</tr>
<tr>
<td style="text-align:right;">
-0.8900378
</td>
<td style="text-align:right;">
2.4158352
</td>
<td style="text-align:right;">
-0.9359486
</td>
<td style="text-align:right;">
-0.4658975
</td>
</tr>
</tbody>
</table>
</div>
<p>Each vector is randomly generated so the actual averages will be slightly different, we can test that here:</p>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb552-1"><a href="#cb552-1" tabindex="-1"></a><span class="fu">mean</span>(df<span class="sc">$</span>a)</span>
<span id="cb552-2"><a href="#cb552-2" tabindex="-1"></a></span>
<span id="cb552-3"><a href="#cb552-3" tabindex="-1"></a><span class="fu">mean</span>(df<span class="sc">$</span>b)</span>
<span id="cb552-4"><a href="#cb552-4" tabindex="-1"></a></span>
<span id="cb552-5"><a href="#cb552-5" tabindex="-1"></a><span class="fu">mean</span>(df<span class="sc">$</span>c)</span>
<span id="cb552-6"><a href="#cb552-6" tabindex="-1"></a></span>
<span id="cb552-7"><a href="#cb552-7" tabindex="-1"></a><span class="fu">mean</span>(df<span class="sc">$</span>d)</span></code></pre></div>
<pre><code>## [1] -0.3831574
## [1] -0.1181707
## [1] -0.3879468
## [1] -0.7661931</code></pre>
<p>So the above code works, but it is repetitive, applying the same function again and again.</p>
<p>Below we have a simple for loop</p>
<div class="sourceCode" id="cb554"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb554-1"><a href="#cb554-1" tabindex="-1"></a>output <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">&quot;double&quot;</span>, <span class="fu">ncol</span>(df))  <span class="co"># 1. output having a predefined empty vector of the right size works best, here we choose to make the vector &quot;double&quot; specifying that it is empty and ready to receive number values, ncol(df) means that the vector will be as long as the number of columns in our tibble </span></span>
<span id="cb554-2"><a href="#cb554-2" tabindex="-1"></a>output</span></code></pre></div>
<pre><code>## [1] 0 0 0 0</code></pre>
<p>Now we run our loop:</p>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb556-1"><a href="#cb556-1" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(df)) {            <span class="co"># 2. sequence - determines what to loop over - here we are looping along df, rather than down the length of each vector</span></span>
<span id="cb556-2"><a href="#cb556-2" tabindex="-1"></a>  </span>
<span id="cb556-3"><a href="#cb556-3" tabindex="-1"></a>  output[[i]] <span class="ot">&lt;-</span> <span class="fu">mean</span>(df[[i]])      <span class="co"># 3. body - each time the loop runs it allocates a value to output, </span></span>
<span id="cb556-4"><a href="#cb556-4" tabindex="-1"></a>}</span>
<span id="cb556-5"><a href="#cb556-5" tabindex="-1"></a>output</span></code></pre></div>
<pre><code>## [1] -0.3831574 -0.1181707 -0.3879468 -0.7661931</code></pre>
<p>Each time the mean is calculate for one column in <code>df</code> this is then stored as an element in the previously empty <code>output</code> vector.</p>
<p><code>for()</code> loops are very useful for quickly iterating over a list, but because R prefers to store everything as a new object with each loop iteration, loops can become quite slow if they are complex, or running many processes and many iterations. As an alternative the <code>apply</code> family of functions from base R and <code>purrr::map</code> from tidyverse more broadly can be used as an alternative to loops.</p>
<div id="activity-1-loop-exercise" class="section level3" number="41.3.1">
<h3><span class="header-section-number">41.3.1</span> Activity 1: Loop exercise</h3>
<p>We have made a function that converts values with a normal distribution into their z scores:</p>
<div class="sourceCode" id="cb558"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb558-1"><a href="#cb558-1" tabindex="-1"></a>z_score <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb558-2"><a href="#cb558-2" tabindex="-1"></a>  (x <span class="sc">-</span> <span class="fu">min</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">/</span>  </span>
<span id="cb558-3"><a href="#cb558-3" tabindex="-1"></a>  <span class="fu">diff</span>(<span class="fu">range</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb558-4"><a href="#cb558-4" tabindex="-1"></a>}</span></code></pre></div>
<p>Assuming that <em>each</em> column in the dataframe <code>df</code> comes from a different population. How would you use a loop to apply this function to each column independently?</p>
<p>Hint copy your <code>df</code> to a new object <code>z_df</code> with <code>z_df &lt;- df</code> as a destination tibble for your new z scores.</p>
<button id="displayTextunnamed-chunk-24" onclick="javascript:toggle(&#39;unnamed-chunk-24&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-24" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb559-1"><a href="#cb559-1" tabindex="-1"></a>z_df <span class="ot">&lt;-</span> df</span>
<span id="cb559-2"><a href="#cb559-2" tabindex="-1"></a></span>
<span id="cb559-3"><a href="#cb559-3" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(df)) { <span class="co"># loop through each element</span></span>
<span id="cb559-4"><a href="#cb559-4" tabindex="-1"></a>  z_df[i] <span class="ot">&lt;-</span> <span class="fu">z_score</span>(df[[i]]) <span class="co">#apply function and store in out[]</span></span>
<span id="cb559-5"><a href="#cb559-5" tabindex="-1"></a>}</span>
<span id="cb559-6"><a href="#cb559-6" tabindex="-1"></a>z_df</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr>
<th style="text-align:right;">
a
</th>
<th style="text-align:right;">
b
</th>
<th style="text-align:right;">
c
</th>
<th style="text-align:right;">
d
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0.3319492
</td>
<td style="text-align:right;">
0.1526538
</td>
<td style="text-align:right;">
0.7821670
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.7647291
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.4733256
</td>
<td style="text-align:right;">
0.5192783
</td>
</tr>
<tr>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.0650610
</td>
<td style="text-align:right;">
0.4981101
</td>
<td style="text-align:right;">
0.4480343
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.3112994
</td>
<td style="text-align:right;">
0.9430704
</td>
<td style="text-align:right;">
0.5114592
</td>
</tr>
<tr>
<td style="text-align:right;">
0.8089534
</td>
<td style="text-align:right;">
0.5734486
</td>
<td style="text-align:right;">
0.3729606
</td>
<td style="text-align:right;">
0.1678518
</td>
</tr>
<tr>
<td style="text-align:right;">
0.8313814
</td>
<td style="text-align:right;">
0.2601181
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.3084450
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5162933
</td>
<td style="text-align:right;">
0.1427491
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5244878
</td>
<td style="text-align:right;">
0.0255376
</td>
<td style="text-align:right;">
0.2098653
</td>
<td style="text-align:right;">
0.2556247
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5192926
</td>
<td style="text-align:right;">
0.0472186
</td>
<td style="text-align:right;">
0.7084006
</td>
<td style="text-align:right;">
0.5745131
</td>
</tr>
<tr>
<td style="text-align:right;">
0.4243735
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.2532211
</td>
<td style="text-align:right;">
0.5222322
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="apply-2" class="section level2" number="41.4">
<h2><span class="header-section-number">41.4</span> apply</h2>
<p>We can perform exactly the same action with <code>apply</code> - the <code>apply</code> functions in R allow iteration without the use of loop constructs. They can be used for an input list or matrix.</p>
<p><code>MARGIN = 1</code> means apply function over rows</p>
<p><code>MARGIN = 2</code> means apply function over columns</p>
<div class="sourceCode" id="cb560"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb560-1"><a href="#cb560-1" tabindex="-1"></a><span class="fu">apply</span>(df, <span class="at">MARGIN =</span> <span class="dv">2</span>,  z_score)</span></code></pre></div>
<pre><code>##               a          b         c         d
##  [1,] 0.3319492 0.15265375 0.7821670 1.0000000
##  [2,] 0.7647291 0.00000000 0.4733256 0.5192783
##  [3,] 1.0000000 0.06506096 0.4981101 0.4480343
##  [4,] 0.0000000 0.31129943 0.9430704 0.5114592
##  [5,] 0.8089534 0.57344857 0.3729606 0.1678518
##  [6,] 0.8313814 0.26011813 0.0000000 0.3084450
##  [7,] 0.5162933 0.14274906 1.0000000 0.0000000
##  [8,] 0.5244878 0.02553760 0.2098653 0.2556247
##  [9,] 0.5192926 0.04721860 0.7084006 0.5745131
## [10,] 0.4243735 1.00000000 0.2532211 0.5222322</code></pre>
<table>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Arguments</th>
<th>Objective</th>
<th>Input</th>
<th>Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>apply</td>
<td>apply(X, MARGIN, FUN)</td>
<td>Apply a function to the rows, columns or both</td>
<td>Dataframe or matrix</td>
<td>vector, list or matrix</td>
</tr>
<tr class="even">
<td>lapply</td>
<td>lapply(X,FUN)</td>
<td>Apply a function to all the elements of the input</td>
<td>List, vector or dataframe</td>
<td>list</td>
</tr>
<tr class="odd">
<td>sapply</td>
<td>sapply(X,FUN)</td>
<td>Apply a function to all the elements of the input</td>
<td>List, vector or dataframe</td>
<td>vector or matrix</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb562"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb562-1"><a href="#cb562-1" tabindex="-1"></a><span class="fu">is.matrix</span>(<span class="fu">apply</span>(df, <span class="dv">2</span>,  z_score))</span>
<span id="cb562-2"><a href="#cb562-2" tabindex="-1"></a></span>
<span id="cb562-3"><a href="#cb562-3" tabindex="-1"></a><span class="fu">is.data.frame</span>(<span class="fu">apply</span>(df, <span class="dv">2</span>,  z_score))</span></code></pre></div>
</div>
<div id="map" class="section level2" number="41.5">
<h2><span class="header-section-number">41.5</span> map</h2>
<p><code>map</code> is the tidyverse equivalent of <code>apply</code> it work well with %&gt;% and there are a few extended functions to it works better with tibbles and dataframes</p>
<p>The basic syntax is map(<code>.x</code> = SEQUENCE, <code>.f</code> = FUNCTION, OTHER ARGUMENTS). In a bit more detail:</p>
<ul>
<li><p><code>.x</code> = are the inputs upon which the .f function will be iteratively applied - e.g. a vector of jurisdiction names, columns in a data frame, or a list of data frames</p></li>
<li><p><code>.f</code> = is the function to apply to each element of the .x input - it could be a function like print() that already exists, or a custom function that you define. The function is often written after a tilde ~ (details below).
A few more notes on syntax:</p></li>
<li><p>If the function needs no further arguments specified, it can be written with no parentheses and no tilde (e.g. <code>.f = mean</code>). To provide arguments that will be the same value for each iteration, provide them within <code>map()</code> but outside the <code>.f = argument</code>, such as the <code>na.rm = T</code> in <code>map(.x = my_list, .f = mean, na.rm=T)</code>.</p></li>
<li><p>You can use <code>.x</code> (or simply <code>.</code>) within the <code>.f = function</code> as a placeholder for the <code>.x</code> value of that iteration</p></li>
<li><p>Use tilde syntax (<code>~</code>) to have greater control over the function - write the function as normal with parentheses, such as: <code>map(.x = my_list, .f = ~mean(., na.rm = T))</code>. Use this syntax particularly if the value of an argument will change each iteration, or if it is the value <code>.x</code> itself.</p></li>
</ul>
<p><strong>The output of using<code>map()</code> is a list</strong> - a list is an object class like a vector but whose elements can be of different classes. So, a list produced by <code>map()</code> could contain many data frames, or many vectors, many single values, or even many lists! There are alternative versions of <code>map()</code> explained below that produce other types of outputs (e.g. <code>map_dfr()</code> to produce a data frame, <code>map_chr()</code> to produce character vectors, and <code>map_dbl()</code> to produce numeric vectors).</p>
<p>Basic <code>map()</code> will <em>always</em> return a <code>list</code>, othr variants return different data types.Unlike <code>apply</code> <code>map</code> will ONLY return one type of data, removing the potential for changing data types that occasionally happens when using <code>apply</code>.</p>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>Data type returned</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>map_lgl()</code></td>
<td>returns a logical</td>
</tr>
<tr class="even">
<td><code>map_int()</code></td>
<td>returns an integer vector</td>
</tr>
<tr class="odd">
<td><code>map_dbl()</code></td>
<td>returns a double vector</td>
</tr>
<tr class="even">
<td><code>map_chr()</code></td>
<td>returns a character vector</td>
</tr>
<tr class="odd">
<td><code>map_df()</code></td>
<td>returns a data frame</td>
</tr>
</tbody>
</table>
<p>Thre different ways of applyig syntax the <code>map</code> function</p>
<div class="sourceCode" id="cb563"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb563-1"><a href="#cb563-1" tabindex="-1"></a><span class="fu">map_df</span>(<span class="at">.x =</span> df, </span>
<span id="cb563-2"><a href="#cb563-2" tabindex="-1"></a>       <span class="at">.f =</span> z_score)</span>
<span id="cb563-3"><a href="#cb563-3" tabindex="-1"></a></span>
<span id="cb563-4"><a href="#cb563-4" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb563-5"><a href="#cb563-5" tabindex="-1"></a>  <span class="fu">map_df</span>(z_score)</span>
<span id="cb563-6"><a href="#cb563-6" tabindex="-1"></a></span>
<span id="cb563-7"><a href="#cb563-7" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb563-8"><a href="#cb563-8" tabindex="-1"></a>    <span class="fu">map_df</span>(<span class="sc">~</span><span class="fu">z_score</span>(.))</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr>
<th style="text-align:right;">
a
</th>
<th style="text-align:right;">
b
</th>
<th style="text-align:right;">
c
</th>
<th style="text-align:right;">
d
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0.3319492
</td>
<td style="text-align:right;">
0.1526538
</td>
<td style="text-align:right;">
0.7821670
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.7647291
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.4733256
</td>
<td style="text-align:right;">
0.5192783
</td>
</tr>
<tr>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.0650610
</td>
<td style="text-align:right;">
0.4981101
</td>
<td style="text-align:right;">
0.4480343
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.3112994
</td>
<td style="text-align:right;">
0.9430704
</td>
<td style="text-align:right;">
0.5114592
</td>
</tr>
<tr>
<td style="text-align:right;">
0.8089534
</td>
<td style="text-align:right;">
0.5734486
</td>
<td style="text-align:right;">
0.3729606
</td>
<td style="text-align:right;">
0.1678518
</td>
</tr>
<tr>
<td style="text-align:right;">
0.8313814
</td>
<td style="text-align:right;">
0.2601181
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.3084450
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5162933
</td>
<td style="text-align:right;">
0.1427491
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5244878
</td>
<td style="text-align:right;">
0.0255376
</td>
<td style="text-align:right;">
0.2098653
</td>
<td style="text-align:right;">
0.2556247
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5192926
</td>
<td style="text-align:right;">
0.0472186
</td>
<td style="text-align:right;">
0.7084006
</td>
<td style="text-align:right;">
0.5745131
</td>
</tr>
<tr>
<td style="text-align:right;">
0.4243735
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.2532211
</td>
<td style="text-align:right;">
0.5222322
</td>
</tr>
</tbody>
</table>
</div>
<div class="kable-table">
<table>
<thead>
<tr>
<th style="text-align:right;">
a
</th>
<th style="text-align:right;">
b
</th>
<th style="text-align:right;">
c
</th>
<th style="text-align:right;">
d
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0.3319492
</td>
<td style="text-align:right;">
0.1526538
</td>
<td style="text-align:right;">
0.7821670
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.7647291
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.4733256
</td>
<td style="text-align:right;">
0.5192783
</td>
</tr>
<tr>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.0650610
</td>
<td style="text-align:right;">
0.4981101
</td>
<td style="text-align:right;">
0.4480343
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.3112994
</td>
<td style="text-align:right;">
0.9430704
</td>
<td style="text-align:right;">
0.5114592
</td>
</tr>
<tr>
<td style="text-align:right;">
0.8089534
</td>
<td style="text-align:right;">
0.5734486
</td>
<td style="text-align:right;">
0.3729606
</td>
<td style="text-align:right;">
0.1678518
</td>
</tr>
<tr>
<td style="text-align:right;">
0.8313814
</td>
<td style="text-align:right;">
0.2601181
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.3084450
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5162933
</td>
<td style="text-align:right;">
0.1427491
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5244878
</td>
<td style="text-align:right;">
0.0255376
</td>
<td style="text-align:right;">
0.2098653
</td>
<td style="text-align:right;">
0.2556247
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5192926
</td>
<td style="text-align:right;">
0.0472186
</td>
<td style="text-align:right;">
0.7084006
</td>
<td style="text-align:right;">
0.5745131
</td>
</tr>
<tr>
<td style="text-align:right;">
0.4243735
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.2532211
</td>
<td style="text-align:right;">
0.5222322
</td>
</tr>
</tbody>
</table>
</div>
<div class="kable-table">
<table>
<thead>
<tr>
<th style="text-align:right;">
a
</th>
<th style="text-align:right;">
b
</th>
<th style="text-align:right;">
c
</th>
<th style="text-align:right;">
d
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0.3319492
</td>
<td style="text-align:right;">
0.1526538
</td>
<td style="text-align:right;">
0.7821670
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.7647291
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.4733256
</td>
<td style="text-align:right;">
0.5192783
</td>
</tr>
<tr>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.0650610
</td>
<td style="text-align:right;">
0.4981101
</td>
<td style="text-align:right;">
0.4480343
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.3112994
</td>
<td style="text-align:right;">
0.9430704
</td>
<td style="text-align:right;">
0.5114592
</td>
</tr>
<tr>
<td style="text-align:right;">
0.8089534
</td>
<td style="text-align:right;">
0.5734486
</td>
<td style="text-align:right;">
0.3729606
</td>
<td style="text-align:right;">
0.1678518
</td>
</tr>
<tr>
<td style="text-align:right;">
0.8313814
</td>
<td style="text-align:right;">
0.2601181
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.3084450
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5162933
</td>
<td style="text-align:right;">
0.1427491
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5244878
</td>
<td style="text-align:right;">
0.0255376
</td>
<td style="text-align:right;">
0.2098653
</td>
<td style="text-align:right;">
0.2556247
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5192926
</td>
<td style="text-align:right;">
0.0472186
</td>
<td style="text-align:right;">
0.7084006
</td>
<td style="text-align:right;">
0.5745131
</td>
</tr>
<tr>
<td style="text-align:right;">
0.4243735
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.2532211
</td>
<td style="text-align:right;">
0.5222322
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="anonymous-functions-1" class="section level2" number="41.6">
<h2><span class="header-section-number">41.6</span> Anonymous functions</h2>
<p>In the previous chapter we were introduced to anonymous functions, if we do not plan to use a function outside of this particular iteration example, we might choose just to write it in directly</p>
<div class="sourceCode" id="cb564"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb564-1"><a href="#cb564-1" tabindex="-1"></a><span class="fu">map_df</span>(<span class="at">.x =</span> df, </span>
<span id="cb564-2"><a href="#cb564-2" tabindex="-1"></a>       <span class="at">.f =</span> <span class="cf">function</span>(x) {</span>
<span id="cb564-3"><a href="#cb564-3" tabindex="-1"></a>  (x <span class="sc">-</span> <span class="fu">min</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">/</span>  </span>
<span id="cb564-4"><a href="#cb564-4" tabindex="-1"></a>  <span class="fu">diff</span>(<span class="fu">range</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb564-5"><a href="#cb564-5" tabindex="-1"></a>       }</span>
<span id="cb564-6"><a href="#cb564-6" tabindex="-1"></a>)</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr>
<th style="text-align:right;">
a
</th>
<th style="text-align:right;">
b
</th>
<th style="text-align:right;">
c
</th>
<th style="text-align:right;">
d
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0.3319492
</td>
<td style="text-align:right;">
0.1526538
</td>
<td style="text-align:right;">
0.7821670
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.7647291
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.4733256
</td>
<td style="text-align:right;">
0.5192783
</td>
</tr>
<tr>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.0650610
</td>
<td style="text-align:right;">
0.4981101
</td>
<td style="text-align:right;">
0.4480343
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.3112994
</td>
<td style="text-align:right;">
0.9430704
</td>
<td style="text-align:right;">
0.5114592
</td>
</tr>
<tr>
<td style="text-align:right;">
0.8089534
</td>
<td style="text-align:right;">
0.5734486
</td>
<td style="text-align:right;">
0.3729606
</td>
<td style="text-align:right;">
0.1678518
</td>
</tr>
<tr>
<td style="text-align:right;">
0.8313814
</td>
<td style="text-align:right;">
0.2601181
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.3084450
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5162933
</td>
<td style="text-align:right;">
0.1427491
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5244878
</td>
<td style="text-align:right;">
0.0255376
</td>
<td style="text-align:right;">
0.2098653
</td>
<td style="text-align:right;">
0.2556247
</td>
</tr>
<tr>
<td style="text-align:right;">
0.5192926
</td>
<td style="text-align:right;">
0.0472186
</td>
<td style="text-align:right;">
0.7084006
</td>
<td style="text-align:right;">
0.5745131
</td>
</tr>
<tr>
<td style="text-align:right;">
0.4243735
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.2532211
</td>
<td style="text-align:right;">
0.5222322
</td>
</tr>
</tbody>
</table>
</div>
<div id="exercise-for-for-loops" class="section level3" number="41.6.1">
<h3><span class="header-section-number">41.6.1</span> Exercise for For Loops</h3>
<p>This part of the exercise is a real world example of using simple <code>for()</code> loops to create graphs. This data comes from the <a href="https://livingplanetindex.org/home/index">Living Planet Index</a>, which holds data on various vertebrate species collected from 1974 to 2014.</p>
<a href="https://raw.githubusercontent.com/UEABIO/data-sci-v1/main/book/files/LPI_data_loops.csv">
<button class="btn btn-success"><i class="fa fa-save"></i> Download LPI data as csv</button>
</a>
<p>First we should import the data:</p>
<div class="sourceCode" id="cb565"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb565-1"><a href="#cb565-1" tabindex="-1"></a>LPI_UK <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/LPI_data_loops.csv&quot;</span>)</span></code></pre></div>
<p>Let's take a look at using functions and loops to help us build figures.</p>
<div class="sourceCode" id="cb566"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb566-1"><a href="#cb566-1" tabindex="-1"></a><span class="co"># Pick 4 species and make scatterplots with a simple regression model fits that show how the population has varied through time</span></span>
<span id="cb566-2"><a href="#cb566-2" tabindex="-1"></a></span>
<span id="cb566-3"><a href="#cb566-3" tabindex="-1"></a><span class="co"># Careful with the spelling of the names, it needs to match the names of the species in the LPI.UK dataframe</span></span>
<span id="cb566-4"><a href="#cb566-4" tabindex="-1"></a></span>
<span id="cb566-5"><a href="#cb566-5" tabindex="-1"></a>house_sparrow <span class="ot">&lt;-</span> <span class="fu">filter</span>(LPI_UK, Common.Name <span class="sc">==</span> <span class="st">&quot;House sparrow&quot;</span>)</span>
<span id="cb566-6"><a href="#cb566-6" tabindex="-1"></a>great_tit <span class="ot">&lt;-</span> <span class="fu">filter</span>(LPI_UK, Common.Name <span class="sc">==</span> <span class="st">&quot;Great tit&quot;</span>)</span>
<span id="cb566-7"><a href="#cb566-7" tabindex="-1"></a>corn_bunting <span class="ot">&lt;-</span> <span class="fu">filter</span>(LPI_UK, Common.Name <span class="sc">==</span> <span class="st">&quot;Corn bunting&quot;</span>)</span>
<span id="cb566-8"><a href="#cb566-8" tabindex="-1"></a>meadow_pipit <span class="ot">&lt;-</span> <span class="fu">filter</span>(LPI_UK, Common.Name <span class="sc">==</span> <span class="st">&quot;Meadow pipit&quot;</span>)</span></code></pre></div>
<p>So now we have four separate R objects holding data from four bird species, our standard approach might then be to make four figures looking at abundance over time.</p>
<div class="sourceCode" id="cb567"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb567-1"><a href="#cb567-1" tabindex="-1"></a>house_sparrow_scatter <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(house_sparrow, <span class="fu">aes</span> (<span class="at">x =</span> year, <span class="at">y =</span> abundance)) <span class="sc">+</span></span>
<span id="cb567-2"><a href="#cb567-2" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">&quot;#00868B&quot;</span>) <span class="sc">+</span>                                                </span>
<span id="cb567-3"><a href="#cb567-3" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">colour =</span> <span class="st">&quot;#00868B&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;#00868B&quot;</span>) <span class="sc">+</span>          </span>
<span id="cb567-4"><a href="#cb567-4" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb567-5"><a href="#cb567-5" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Abundance</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">title =</span> <span class="st">&quot;House sparrow&quot;</span>)</span>
<span id="cb567-6"><a href="#cb567-6" tabindex="-1"></a></span>
<span id="cb567-7"><a href="#cb567-7" tabindex="-1"></a>great_tit_scatter <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(great_tit, <span class="fu">aes</span> (<span class="at">x =</span> year, <span class="at">y =</span> abundance)) <span class="sc">+</span></span>
<span id="cb567-8"><a href="#cb567-8" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">&quot;#00868B&quot;</span>) <span class="sc">+</span>                                                </span>
<span id="cb567-9"><a href="#cb567-9" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">colour =</span> <span class="st">&quot;#00868B&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;#00868B&quot;</span>) <span class="sc">+</span>          </span>
<span id="cb567-10"><a href="#cb567-10" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb567-11"><a href="#cb567-11" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Abundance</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Great tit&quot;</span>)</span>
<span id="cb567-12"><a href="#cb567-12" tabindex="-1"></a></span>
<span id="cb567-13"><a href="#cb567-13" tabindex="-1"></a>corn_bunting_scatter <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(corn_bunting, <span class="fu">aes</span> (<span class="at">x =</span> year, <span class="at">y =</span> abundance)) <span class="sc">+</span></span>
<span id="cb567-14"><a href="#cb567-14" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">&quot;#00868B&quot;</span>) <span class="sc">+</span>                                                </span>
<span id="cb567-15"><a href="#cb567-15" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">colour =</span> <span class="st">&quot;#00868B&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;#00868B&quot;</span>) <span class="sc">+</span>          </span>
<span id="cb567-16"><a href="#cb567-16" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb567-17"><a href="#cb567-17" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Abundance</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Corn bunting&quot;</span>)</span>
<span id="cb567-18"><a href="#cb567-18" tabindex="-1"></a></span>
<span id="cb567-19"><a href="#cb567-19" tabindex="-1"></a>meadow_pipit_scatter <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(meadow_pipit, <span class="fu">aes</span> (<span class="at">x =</span> year, <span class="at">y =</span> abundance)) <span class="sc">+</span></span>
<span id="cb567-20"><a href="#cb567-20" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">&quot;#00868B&quot;</span>) <span class="sc">+</span>                                                </span>
<span id="cb567-21"><a href="#cb567-21" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">colour =</span> <span class="st">&quot;#00868B&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;#00868B&quot;</span>) <span class="sc">+</span>          </span>
<span id="cb567-22"><a href="#cb567-22" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb567-23"><a href="#cb567-23" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Abundance</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Meadow pipit&quot;</span>)</span></code></pre></div>
<p>If we want to look at all four plots at once we can use the layout functions from the package <code>patchwork</code>.</p>
<div class="sourceCode" id="cb568"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb568-1"><a href="#cb568-1" tabindex="-1"></a><span class="co"># put at the top of your script</span></span>
<span id="cb568-2"><a href="#cb568-2" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb568-3"><a href="#cb568-3" tabindex="-1"></a></span>
<span id="cb568-4"><a href="#cb568-4" tabindex="-1"></a>layout <span class="ot">&lt;-</span> <span class="st">&quot;AABB</span></span>
<span id="cb568-5"><a href="#cb568-5" tabindex="-1"></a><span class="st">           CCDD&quot;</span></span>
<span id="cb568-6"><a href="#cb568-6" tabindex="-1"></a></span>
<span id="cb568-7"><a href="#cb568-7" tabindex="-1"></a>house_sparrow_scatter<span class="sc">+</span></span>
<span id="cb568-8"><a href="#cb568-8" tabindex="-1"></a>  great_tit_scatter<span class="sc">+</span></span>
<span id="cb568-9"><a href="#cb568-9" tabindex="-1"></a>  corn_bunting_scatter<span class="sc">+</span></span>
<span id="cb568-10"><a href="#cb568-10" tabindex="-1"></a>  meadow_pipit_scatter<span class="sc">+</span></span>
<span id="cb568-11"><a href="#cb568-11" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">design=</span>layout)</span></code></pre></div>
<p><img src="21-Iteration_files/figure-html/unnamed-chunk-34-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>This is ok, but arguably still requires a lot of code repetition. We have used the same lines of code four times to recreate four plots that are functionally the same. If we want to make any changes to the look of our plots we have to make four separate edits &amp; mistakes can easily creep in.</p>
<p>If we want to apply a loop, then the easiest thing is to first make our objects into an R list:</p>
<div class="sourceCode" id="cb569"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb569-1"><a href="#cb569-1" tabindex="-1"></a>Sp_list <span class="ot">&lt;-</span> <span class="fu">list</span>(house_sparrow, great_tit, corn_bunting, meadow_pipit)</span></code></pre></div>
<p>Then loop down the length of our list:</p>
<div class="sourceCode" id="cb570"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb570-1"><a href="#cb570-1" tabindex="-1"></a>my_plots <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">length</span>(Sp_list))</span>
<span id="cb570-2"><a href="#cb570-2" tabindex="-1"></a></span>
<span id="cb570-3"><a href="#cb570-3" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(Sp_list)) {                                    </span>
<span id="cb570-4"><a href="#cb570-4" tabindex="-1"></a>  <span class="co"># For every item along the length of Sp_list we want R to perform the following functions</span></span>
<span id="cb570-5"><a href="#cb570-5" tabindex="-1"></a>  data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(Sp_list[i])                               </span>
<span id="cb570-6"><a href="#cb570-6" tabindex="-1"></a>  <span class="co"># Create a dataframe for each species</span></span>
<span id="cb570-7"><a href="#cb570-7" tabindex="-1"></a>  sp.name <span class="ot">&lt;-</span> <span class="fu">unique</span>(data<span class="sc">$</span>Common.Name)                             </span>
<span id="cb570-8"><a href="#cb570-8" tabindex="-1"></a>  <span class="co"># Create an object that holds the species name, so that we can title each graph</span></span>
<span id="cb570-9"><a href="#cb570-9" tabindex="-1"></a>  plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span> (<span class="at">x =</span> year, <span class="at">y =</span> abundance)) <span class="sc">+</span>               </span>
<span id="cb570-10"><a href="#cb570-10" tabindex="-1"></a>    <span class="co"># Make the plots and add our customised theme</span></span>
<span id="cb570-11"><a href="#cb570-11" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">&quot;#00868B&quot;</span>) <span class="sc">+</span>                              </span>
<span id="cb570-12"><a href="#cb570-12" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">colour =</span> <span class="st">&quot;#00868B&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;#00868B&quot;</span>) <span class="sc">+</span>        </span>
<span id="cb570-13"><a href="#cb570-13" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb570-14"><a href="#cb570-14" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Abundance</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">title =</span> sp.name)</span>
<span id="cb570-15"><a href="#cb570-15" tabindex="-1"></a> </span>
<span id="cb570-16"><a href="#cb570-16" tabindex="-1"></a>   <span class="co"># makes a list of all the plots generates</span></span>
<span id="cb570-17"><a href="#cb570-17" tabindex="-1"></a>  my_plots[[i]] <span class="ot">&lt;-</span> plot </span>
<span id="cb570-18"><a href="#cb570-18" tabindex="-1"></a>  </span>
<span id="cb570-19"><a href="#cb570-19" tabindex="-1"></a></span>
<span id="cb570-20"><a href="#cb570-20" tabindex="-1"></a></span>
<span id="cb570-21"><a href="#cb570-21" tabindex="-1"></a>}</span></code></pre></div>
<p>So now we have a new object <code>my_plots</code> which is a list containing the four plots. This loop allowed us to code the details of our figures once, then iterate across four different groups.</p>
<div class="sourceCode" id="cb571"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb571-1"><a href="#cb571-1" tabindex="-1"></a><span class="fu">wrap_plots</span>(my_plots)<span class="sc">+</span></span>
<span id="cb571-2"><a href="#cb571-2" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">design=</span>layout) </span></code></pre></div>
<p><img src="21-Iteration_files/figure-html/unnamed-chunk-37-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb572"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb572-1"><a href="#cb572-1" tabindex="-1"></a><span class="co">#wrap_plots function from patchwork can take a list of ggplots</span></span></code></pre></div>
<p>What if you want to write a loop to save all four plots at once - can you modify the script to do this?</p>
<button id="displayTextunnamed-chunk-38" onclick="javascript:toggle(&#39;unnamed-chunk-38&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-38" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb573"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb573-1"><a href="#cb573-1" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(Sp_list)) {                                    </span>
<span id="cb573-2"><a href="#cb573-2" tabindex="-1"></a>  <span class="co"># For every item along the length of Sp_list we want R to perform the following functions</span></span>
<span id="cb573-3"><a href="#cb573-3" tabindex="-1"></a>  data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(Sp_list[i])                               </span>
<span id="cb573-4"><a href="#cb573-4" tabindex="-1"></a>  <span class="co"># Create a dataframe for each species</span></span>
<span id="cb573-5"><a href="#cb573-5" tabindex="-1"></a>  sp.name <span class="ot">&lt;-</span> <span class="fu">unique</span>(data<span class="sc">$</span>Common.Name)                             </span>
<span id="cb573-6"><a href="#cb573-6" tabindex="-1"></a>  <span class="co"># Create an object that holds the species name, so that we can title each graph</span></span>
<span id="cb573-7"><a href="#cb573-7" tabindex="-1"></a>  plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span> (<span class="at">x =</span> year, <span class="at">y =</span> abundance)) <span class="sc">+</span>               </span>
<span id="cb573-8"><a href="#cb573-8" tabindex="-1"></a>    <span class="co"># Make the plots and add our customised theme</span></span>
<span id="cb573-9"><a href="#cb573-9" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">&quot;#00868B&quot;</span>) <span class="sc">+</span>                                                </span>
<span id="cb573-10"><a href="#cb573-10" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">colour =</span> <span class="st">&quot;#00868B&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;#00868B&quot;</span>) <span class="sc">+</span>          </span>
<span id="cb573-11"><a href="#cb573-11" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb573-12"><a href="#cb573-12" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Abundance</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">title =</span> sp.name)</span>
<span id="cb573-13"><a href="#cb573-13" tabindex="-1"></a>  </span>
<span id="cb573-14"><a href="#cb573-14" tabindex="-1"></a>    <span class="cf">if</span>(i <span class="sc">%%</span> <span class="dv">1</span><span class="sc">==</span><span class="dv">0</span>){    <span class="co"># The %% operator is the remainder, this handy if line prints a number every time it completes a loop</span></span>
<span id="cb573-15"><a href="#cb573-15" tabindex="-1"></a>    <span class="fu">print</span>(i)</span>
<span id="cb573-16"><a href="#cb573-16" tabindex="-1"></a>    }</span>
<span id="cb573-17"><a href="#cb573-17" tabindex="-1"></a><span class="co"># use paste to automatically add filename</span></span>
<span id="cb573-18"><a href="#cb573-18" tabindex="-1"></a>  <span class="fu">ggsave</span>(plot, <span class="at">file=</span><span class="fu">paste</span>(<span class="st">&quot;figure/&quot;</span>, sp.name, <span class="st">&quot;.png&quot;</span>, <span class="at">sep=</span><span class="st">&#39;&#39;</span>), <span class="at">dpi=</span><span class="dv">900</span>) </span>
<span id="cb573-19"><a href="#cb573-19" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
</div>
</div>
</div>
<div id="automating-analyses-with-map" class="section level2" number="41.7">
<h2><span class="header-section-number">41.7</span> Automating analyses with <code>map</code></h2>
<div id="writing-a-dataframe-into-multiple-csv-files" class="section level3" number="41.7.1">
<h3><span class="header-section-number">41.7.1</span> Writing a dataframe into multiple csv files</h3>
<div class="sourceCode" id="cb574"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb574-1"><a href="#cb574-1" tabindex="-1"></a>LPI_list <span class="ot">&lt;-</span> LPI <span class="sc">%&gt;%</span> </span>
<span id="cb574-2"><a href="#cb574-2" tabindex="-1"></a>  <span class="fu">group_split</span>(Class)</span></code></pre></div>
<p>I’ll also use <code>purrr::map()</code> to take the character values from the Class column itself for assigning names to the list. <code>map()</code> transforms an input by applying a function to each element of the input, and then returns a vector the same length as the input. In this immediate example, the input is the list_of_dfs and we apply the function <code>dplyr::pull()</code> to extract the Class variable from each data frame. We then repeat this approach to convert Class into character type with <code>as.character()</code> and take out a single value with <code>unique()</code>:</p>
<pre><code>
 [1] &quot;Actinopterygii&quot;            &quot;Amphibia&quot;                  &quot;Aves&quot;                      &quot;Cephalaspidomorphi&quot;       
 [5] &quot;Cetacea&quot;                   &quot;Chondrichthyes&quot;            &quot;Elasmobranchii&quot;            &quot;Holocephali&quot;              
 [9] &quot;Mammalia&quot;                  &quot;Myxini&quot;                    &quot;Perciformes&quot;               &quot;Reptilia&quot;                 
[13] &quot;Sarcopterygii&quot;             &quot;Testudinidae&quot;              &quot;updated by Nancy - Feb/02&quot;
</code></pre>
<p>Exporting the list of data frames into multiple CSV files will take a few more lines of code, but is relatively straightforward. There are three main steps:</p>
<ol style="list-style-type: decimal">
<li><p>Define a function that tells R what the names for each CSV file should be, which I’ve called output_csv() below. The data argument will take in a data frame whilst the names argument will take in a character string that will form part of the file name for the individual CSV file.</p></li>
<li><p>Create a named list where the names match the arguments of the function you’ve just defined (data and names), and should contain the objects that you would like to pass through to the function for the respective arguments. In this case, list_of_dfs will provide the three data frames, and names(list_of_dfs) will provide the names of those three data frames. This is necessary for running pmap(), which in my view is basically a super-powered version of map() that lets you iterate over multiple inputs simultaneously.</p></li>
<li><p><code>map()</code> will then iterate through the two sets of inputs through output_csv() (the inputs are used as arguments), which then writes the three CSV files with the file names you want. For the “writing” function, you could either use write_csv() from readr (part of tidyverse) or fwrite() from data.table, depending on your workflow / style.</p></li>
</ol>
<div class="sourceCode" id="cb576"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb576-1"><a href="#cb576-1" tabindex="-1"></a>LPI_list <span class="sc">%&gt;%</span> </span>
<span id="cb576-2"><a href="#cb576-2" tabindex="-1"></a>  <span class="fu">map</span>(<span class="sc">~</span><span class="fu">write_csv</span>(.x, </span>
<span id="cb576-3"><a href="#cb576-3" tabindex="-1"></a>  <span class="fu">paste0</span>(<span class="st">&quot;data/&quot;</span>, .x<span class="sc">$</span>Class[<span class="dv">1</span>], <span class="st">&quot;.csv&quot;</span>)))</span></code></pre></div>
</div>
<div id="reading-multiple-csv-files-into-one-object" class="section level3" number="41.7.2">
<h3><span class="header-section-number">41.7.2</span> Reading multiple csv files into one object</h3>
<p>The method for reading CSV files into a directory is slightly different, as you’ll need to find a way to identify or create a character vector of names of all the files that you want to load into R. To do this, we’ll use <code>list.files()</code>, which produces a character vector of the names of files or directories in the named directory:</p>
<div class="sourceCode" id="cb577"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb577-1"><a href="#cb577-1" tabindex="-1"></a>data_path <span class="ot">&lt;-</span> <span class="st">&quot;data/&quot;</span></span>
<span id="cb577-2"><a href="#cb577-2" tabindex="-1"></a></span>
<span id="cb577-3"><a href="#cb577-3" tabindex="-1"></a><span class="fu">list.files</span>(<span class="at">path =</span> data_path, </span>
<span id="cb577-4"><a href="#cb577-4" tabindex="-1"></a>           <span class="at">pattern =</span> <span class="st">&quot;*.csv&quot;</span>)</span></code></pre></div>
<pre><code> [1] &quot;class-Actinopterygii.csv&quot;     &quot;class-Amphibia.csv&quot;           &quot;class-Aves.csv&quot;               &quot;class-Cephalaspidomorphi.csv&quot;
 [5] &quot;class-Cetacea.csv&quot;            &quot;class-Chondrichthyes.csv&quot;     &quot;class-Elasmobranchii.csv&quot;     &quot;class-Holocephali.csv&quot;       
 [9] &quot;class-Mammalia.csv&quot;           &quot;class-Myxini.csv&quot;             &quot;class-Perciformes.csv&quot;        &quot;class-Reptilia.csv&quot;          
[13] &quot;class-Sarcopterygii.csv&quot;      &quot;class-Testudinidae.csv&quot;
</code></pre>
<p>The code below takes that list of files, pipes it to a <code>map_df()</code> function that runs read_csv on each file, then outputs everything to a 'nested' dataframe.</p>
<div class="sourceCode" id="cb579"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb579-1"><a href="#cb579-1" tabindex="-1"></a>data <span class="ot">&lt;-</span> files <span class="sc">%&gt;%</span></span>
<span id="cb579-2"><a href="#cb579-2" tabindex="-1"></a>    <span class="fu">map</span>(<span class="sc">~</span><span class="fu">read_csv</span>(.)) <span class="sc">%&gt;%</span>    <span class="co"># read in all the files individually, using</span></span>
<span id="cb579-3"><a href="#cb579-3" tabindex="-1"></a>    <span class="co"># the function read_csv() from the readr package</span></span>
<span id="cb579-4"><a href="#cb579-4" tabindex="-1"></a>    <span class="fu">reduce</span>(rbind)        <span class="co"># reduce with rbind into one dataframe</span></span>
<span id="cb579-5"><a href="#cb579-5" tabindex="-1"></a>data</span></code></pre></div>
<div class="sourceCode" id="cb580"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb580-1"><a href="#cb580-1" tabindex="-1"></a><span class="co"># Keep info on where data came from</span></span>
<span id="cb580-2"><a href="#cb580-2" tabindex="-1"></a></span>
<span id="cb580-3"><a href="#cb580-3" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">filename =</span> files) <span class="sc">%&gt;%</span> </span>
<span id="cb580-4"><a href="#cb580-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">file_contents =</span> </span>
<span id="cb580-5"><a href="#cb580-5" tabindex="-1"></a>           <span class="fu">map</span>(filename, </span>
<span id="cb580-6"><a href="#cb580-6" tabindex="-1"></a>               <span class="sc">~</span> <span class="fu">read_csv</span>(<span class="fu">file.path</span>(data_path, .))))</span>
<span id="cb580-7"><a href="#cb580-7" tabindex="-1"></a></span>
<span id="cb580-8"><a href="#cb580-8" tabindex="-1"></a>data</span></code></pre></div>
<div class="sourceCode" id="cb581"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb581-1"><a href="#cb581-1" tabindex="-1"></a><span class="fu">unnest</span>(data)</span></code></pre></div>
</div>
<div id="plotting-with-map" class="section level3" number="41.7.3">
<h3><span class="header-section-number">41.7.3</span> Plotting with <code>map</code></h3>
<div class="sourceCode" id="cb582"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb582-1"><a href="#cb582-1" tabindex="-1"></a><span class="co"># map the plots to a dataframe</span></span>
<span id="cb582-2"><a href="#cb582-2" tabindex="-1"></a>nested_plots <span class="ot">&lt;-</span> LPI_UK <span class="sc">%&gt;%</span> </span>
<span id="cb582-3"><a href="#cb582-3" tabindex="-1"></a>    <span class="fu">filter</span>(Common.Name <span class="sc">==</span> <span class="st">&quot;House sparrow&quot;</span> <span class="sc">|</span> </span>
<span id="cb582-4"><a href="#cb582-4" tabindex="-1"></a>               Common.Name <span class="sc">==</span> <span class="st">&quot;Great tit&quot;</span> <span class="sc">|</span> </span>
<span id="cb582-5"><a href="#cb582-5" tabindex="-1"></a>               Common.Name <span class="sc">==</span> <span class="st">&quot;Corn bunting&quot;</span> <span class="sc">|</span> </span>
<span id="cb582-6"><a href="#cb582-6" tabindex="-1"></a>               Common.Name <span class="sc">==</span> <span class="st">&quot;Meadow pipit&quot;</span> ) <span class="sc">%&gt;%</span> </span>
<span id="cb582-7"><a href="#cb582-7" tabindex="-1"></a>    <span class="fu">group_by</span>(Common.Name) <span class="sc">%&gt;%</span> </span>
<span id="cb582-8"><a href="#cb582-8" tabindex="-1"></a>    <span class="fu">nest</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb582-9"><a href="#cb582-9" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">plots =</span> <span class="fu">map</span>(data, <span class="sc">~</span> <span class="fu">ggplot</span>(., <span class="fu">aes</span> (<span class="at">x =</span> year, <span class="at">y =</span> abundance)) <span class="sc">+</span>              </span>
<span id="cb582-10"><a href="#cb582-10" tabindex="-1"></a>            <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">&quot;#00868B&quot;</span>) <span class="sc">+</span>                                                </span>
<span id="cb582-11"><a href="#cb582-11" tabindex="-1"></a>            <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">colour =</span> <span class="st">&quot;#00868B&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;#00868B&quot;</span>) <span class="sc">+</span>          </span>
<span id="cb582-12"><a href="#cb582-12" tabindex="-1"></a>            <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Abundance</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>)))</span>
<span id="cb582-13"><a href="#cb582-13" tabindex="-1"></a><span class="co"># print the plots</span></span>
<span id="cb582-14"><a href="#cb582-14" tabindex="-1"></a><span class="fu">print</span>(nested_plots<span class="sc">$</span>plots)</span></code></pre></div>
<p><img src="21-Iteration_files/figure-html/unnamed-chunk-45-1.png" width="100%" style="display: block; margin: auto;" /><img src="21-Iteration_files/figure-html/unnamed-chunk-45-2.png" width="100%" style="display: block; margin: auto;" /><img src="21-Iteration_files/figure-html/unnamed-chunk-45-3.png" width="100%" style="display: block; margin: auto;" /><img src="21-Iteration_files/figure-html/unnamed-chunk-45-4.png" width="100%" style="display: block; margin: auto;" /></p>
<pre><code>## [[1]]
## 
## [[2]]
## 
## [[3]]
## 
## [[4]]</code></pre>
</div>
</div>
<div id="activity-4-test-yourself" class="section level2" number="41.8">
<h2><span class="header-section-number">41.8</span> Activity 4: Test yourself</h2>
<p><strong>Question 1.</strong> Predict the output of the following when executed in R:</p>
<div class="sourceCode" id="cb584"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb584-1"><a href="#cb584-1" tabindex="-1"></a>foo<span class="ot">=</span><span class="cf">function</span>(d,n,max){</span>
<span id="cb584-2"><a href="#cb584-2" tabindex="-1"></a>   nums<span class="ot">=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">1</span>, <span class="at">by=</span>d, <span class="at">length.out=</span>n)</span>
<span id="cb584-3"><a href="#cb584-3" tabindex="-1"></a>   <span class="fu">return</span>(nums[nums <span class="sc">&lt;=</span> max])</span>
<span id="cb584-4"><a href="#cb584-4" tabindex="-1"></a>}</span>
<span id="cb584-5"><a href="#cb584-5" tabindex="-1"></a><span class="fu">foo</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">10</span>)</span></code></pre></div>
<p><select class='webex-select'><option value='blank'></option><option value=''>4, 5, 10</option><option value='answer'>1, 5, 9</option><option value=''>4, 8, 12</option></select></p>
<p><strong>Question 2.</strong> Predict the output of the following when executed in R:</p>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb585-1"><a href="#cb585-1" tabindex="-1"></a>fum<span class="ot">=</span><span class="cf">function</span>(a,b) {</span>
<span id="cb585-2"><a href="#cb585-2" tabindex="-1"></a>  a <span class="ot">=</span> a[a<span class="sc">&lt;</span>b]</span>
<span id="cb585-3"><a href="#cb585-3" tabindex="-1"></a>  <span class="fu">return</span>(a)</span>
<span id="cb585-4"><a href="#cb585-4" tabindex="-1"></a>}</span>
<span id="cb585-5"><a href="#cb585-5" tabindex="-1"></a></span>
<span id="cb585-6"><a href="#cb585-6" tabindex="-1"></a><span class="fu">fum</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">7</span>,(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)</span></code></pre></div>
<p><select class='webex-select'><option value='blank'></option><option value='answer'>5, 6, 7</option><option value=''>3, 4, 5, 6, 7</option><option value=''>3, 4</option></select></p>
<p><strong>Question 3.</strong> Write a function that adds two numbers and divides the results by 2.</p>
<button id="displayTextunnamed-chunk-48" onclick="javascript:toggle(&#39;unnamed-chunk-48&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-48" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb586"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb586-1"><a href="#cb586-1" tabindex="-1"></a>addtwo <span class="ot">&lt;-</span> <span class="cf">function</span>(num1, num2){</span>
<span id="cb586-2"><a href="#cb586-2" tabindex="-1"></a>(num1 <span class="sc">+</span> num2)<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb586-3"><a href="#cb586-3" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
</div>
<p><strong>Question 4.</strong> Recode values of a datase. For example, if you have a survey of age data, you may want to convert any crazy values (like anything below 0 or above 100) to NA. Write a function called recode.integer() with 3 arguments: x, lb, and ub. We’ll assume that x is a numeric vector. The function should look at the values of x, convert any values below lb and above ub to NA, and then return the resulting vector. Here is the function in action:</p>
<p>Some hints: there are multiple ways to solve this.</p>
<div class="sourceCode" id="cb587"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb587-1"><a href="#cb587-1" tabindex="-1"></a>vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span><span class="sc">:</span><span class="dv">30</span>)</span></code></pre></div>
<div class="sourceCode" id="cb588"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb588-1"><a href="#cb588-1" tabindex="-1"></a><span class="fu">recode.integer</span>(<span class="at">x =</span> vector,</span>
<span id="cb588-2"><a href="#cb588-2" tabindex="-1"></a>               <span class="at">lb =</span> <span class="dv">0</span>,</span>
<span id="cb588-3"><a href="#cb588-3" tabindex="-1"></a>               <span class="at">ub =</span> <span class="dv">10</span>)</span></code></pre></div>
<button id="displayTextunnamed-chunk-51" onclick="javascript:toggle(&#39;unnamed-chunk-51&#39;);">
Show Solution
</button>
<div id="toggleTextunnamed-chunk-51" style="display: none">
<div class="panel panel-default">
<div class="panel-heading panel-heading1">
Solution
</div>
<div class="panel-body">
<div class="sourceCode" id="cb589"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb589-1"><a href="#cb589-1" tabindex="-1"></a>recode.integer <span class="ot">&lt;-</span> <span class="cf">function</span>(x, lb, ub){</span>
<span id="cb589-2"><a href="#cb589-2" tabindex="-1"></a>  x[x<span class="sc">&lt;</span>lb] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb589-3"><a href="#cb589-3" tabindex="-1"></a>  x[x<span class="sc">&gt;</span>ub] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb589-4"><a href="#cb589-4" tabindex="-1"></a>  <span class="fu">return</span>(x)</span>
<span id="cb589-5"><a href="#cb589-5" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb590"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb590-1"><a href="#cb590-1" tabindex="-1"></a>recode.integer <span class="ot">&lt;-</span> <span class="cf">function</span>(x, lb, ub){</span>
<span id="cb590-2"><a href="#cb590-2" tabindex="-1"></a>    x <span class="ot">&lt;-</span> x <span class="sc">%&gt;%</span> <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb590-3"><a href="#cb590-3" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">replace</span>(value, value<span class="sc">&lt;</span>lb, <span class="cn">NA</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb590-4"><a href="#cb590-4" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">replace</span>(value, value<span class="sc">&gt;</span>ub, <span class="cn">NA</span>))</span>
<span id="cb590-5"><a href="#cb590-5" tabindex="-1"></a><span class="fu">return</span>(x)}</span>
<span id="cb590-6"><a href="#cb590-6" tabindex="-1"></a></span>
<span id="cb590-7"><a href="#cb590-7" tabindex="-1"></a>recode.numeric <span class="ot">&lt;-</span> <span class="cf">function</span>(x, lb, ub){</span>
<span id="cb590-8"><a href="#cb590-8" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">if_else</span>(x <span class="sc">&lt;</span> lb, <span class="cn">NA_integer_</span>, x)</span>
<span id="cb590-9"><a href="#cb590-9" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">if_else</span>(x <span class="sc">&gt;</span> ub, <span class="cn">NA_integer_</span>, x)</span>
<span id="cb590-10"><a href="#cb590-10" tabindex="-1"></a><span class="fu">return</span>(x)</span>
<span id="cb590-11"><a href="#cb590-11" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
</div>
</div>
<div id="activity-5" class="section level2" number="41.9">
<h2><span class="header-section-number">41.9</span> Activity 5</h2>
<p>If you are hungry for more <code>map()</code> then check out <a href="https://www.rebeccabarter.com/blog/2019-08-19_purrr/#simplest-usage-repeated-looping-with-map">this blogpost</a></p>
</div>
<div id="summary-1" class="section level2" number="41.10">
<h2><span class="header-section-number">41.10</span> Summary</h2>
<p>Making functions and iterations are advanced R skills, and can often seem daunting. I do not expect you to HAVE to implement these for this course, but I do want to give you an insight into some core programming skills that you might be interested in and want to develop.</p>
<p>Below are some links you may find useful</p>
<ul>
<li><p><a href="https://www.rstudio.com/resources/cheatsheets/">RStudio education cheat sheet for purr</a></p></li>
<li><p><a href="https://r4ds.had.co.nz/program-intro.html">R4DS - intro to programming</a></p></li>
<li><p><a href="https://epirhandbook.com/en/iteration-loops-and-lists.html">EpiR handbook</a></p></li>
</ul>
<div class="sourceCode" id="cb591"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb591-1"><a href="#cb591-1" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code></pre></div>
<pre><code>## R version 4.3.1 (2023-06-16)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 20.04.6 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/atlas/libblas.so.3.10.3 
## LAPACK: /usr/lib/x86_64-linux-gnu/atlas/liblapack.so.3.10.3;  LAPACK version 3.9.0
## 
## locale:
##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       
##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   
##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          
## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   
## 
## time zone: UTC
## tzcode source: system (glibc)
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] here_1.0.1         patchwork_1.1.2    kableExtra_1.3.4   xml2_1.3.5        
##  [5] rvest_1.0.3        faux_1.2.1         extrafont_0.19     knitr_1.43        
##  [9] webexercises_1.1.0 glossary_1.0.0     lubridate_1.9.2    forcats_1.0.0     
## [13] stringr_1.5.0      dplyr_1.1.2        purrr_1.0.1        readr_2.1.4       
## [17] tidyr_1.3.0        tibble_3.2.1       ggplot2_3.4.2      tidyverse_2.0.0   
## 
## loaded via a namespace (and not attached):
##  [1] gtable_0.3.3      xfun_0.39         bslib_0.5.0       tzdb_0.4.0       
##  [5] vctrs_0.6.3       tools_4.3.1       generics_0.1.3    fansi_1.0.4      
##  [9] pkgconfig_2.0.3   webshot_0.5.5     lifecycle_1.0.3   compiler_4.3.1   
## [13] munsell_0.5.0     htmltools_0.5.5   sass_0.4.6        yaml_2.3.7       
## [17] Rttf2pt1_1.3.12   pillar_1.9.0      jquerylib_0.1.4   extrafontdb_1.0  
## [21] cachem_1.0.8      tidyselect_1.2.0  digest_0.6.33     stringi_1.7.12   
## [25] bookdown_0.34     rprojroot_2.0.3   fastmap_1.1.1     grid_4.3.1       
## [29] colorspace_2.1-0  cli_3.6.1         magrittr_2.0.3    utf8_1.2.3       
## [33] withr_2.5.0       scales_1.2.1      timechange_0.2.0  rmarkdown_2.23   
## [37] httr_1.4.6        hms_1.1.3         memoise_2.0.1     evaluate_0.21    
## [41] viridisLite_0.4.2 rlang_1.1.1       downlit_0.4.3     glue_1.6.2       
## [45] svglite_2.1.1     rstudioapi_0.15.0 jsonlite_1.8.7    R6_2.5.1         
## [49] systemfonts_1.0.4 fs_1.6.2</code></pre>
<!--chapter:end:21-Iteration.Rmd-->
</div>
</div>
<div id="startingR" class="section level1" number="42">
<h1><span class="header-section-number">42</span> Starting up R</h1>
<p>One way or another, regardless of what operating system you're using and regardless of whether you're using RStudio, or the default GUI, or even the command line, it's time to open R and get started. When you do that, the first thing you'll see (assuming that you're looking at the <strong><em>R console</em></strong>, that is) is a whole lot of text that doesn't make much sense. It should look something like this:</p>
<pre><code>R version 3.0.2 (2013-09-25) -- &quot;Frisbee Sailing&quot;
Copyright (C) 2013 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin10.8.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#39;license()&#39; or &#39;licence()&#39; for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type &#39;contributors()&#39; for more information and
&#39;citation()&#39; on how to cite R or R packages in publications.

Type &#39;demo()&#39; for some demos, &#39;help()&#39; for on-line help, or
&#39;help.start()&#39; for an HTML browser interface to help.
Type &#39;q()&#39; to quit R.

&gt; </code></pre>
<p>Most of this text is pretty uninteresting, and when doing real data analysis you'll never really pay much attention to it. The important part of it is this...</p>
<pre><code>&gt;</code></pre>
<p>... which has a flashing cursor next to it. That's the <strong><em>command prompt</em></strong>. When you see this, it means that R is waiting patiently for you to do something!</p>
<div id="firstcommand" class="section level2" number="42.1">
<h2><span class="header-section-number">42.1</span> Typing commands at the R console</h2>
<p>One of the easiest things you can do with R is use it as a simple calculator, so it's a good place to start. For instance, try typing <code>10 + 20</code>, and hitting enter.<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a> When you do this, you've entered a <strong><em>command</em></strong>, and R will "execute" that command. What you see on screen now will be this:</p>
<div class="sourceCode" id="cb595"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb595-1"><a href="#cb595-1" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span></span>
<span id="cb595-2"><a href="#cb595-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">30</span></span></code></pre></div>
<p>Not a lot of surprises in this extract. But there's a few things worth talking about, even with such a simple example. Firstly, it's important that you understand how to read the extract. In this example, what <em>I</em> typed was the <code>10 + 20</code> part. I didn't type the <code>&gt;</code> symbol: that's just the R command prompt and isn't part of the actual command. And neither did I type the <code>[1] 30</code> part. That's what R printed out in response to my command.</p>
<p>Secondly, it's important to understand how the output is formatted. Obviously, the correct answer to the sum <code>10 + 20</code> is <code>30</code>, and not surprisingly R has printed that out as part of its response. But it's also printed out this <code>[1]</code> part, which probably doesn't make a lot of sense to you right now. You're going to see that a lot. I'll talk about what this means in a bit more detail later on, but for now you can think of <code>[1] 30</code> as if R were saying "the answer to the 1st question you asked is 30". That's not quite the truth, but it's close enough for now. And in any case it's not really very interesting at the moment: we only asked R to calculate one thing, so obviously there's only one answer printed on the screen. Later on this will change, and the <code>[1]</code> part will start to make a bit more sense. For now, I just don't want you to get confused or concerned by it.</p>
<div id="an-important-digression-about-formatting" class="section level3" number="42.1.1">
<h3><span class="header-section-number">42.1.1</span> An important digression about formatting</h3>
<p>Now that I've taught you these rules I'm going to change them pretty much immediately. That is because I want you to be able to copy code from the book directly into R if if you want to test things or conduct your own analyses. However, if you copy this kind of code (that shows the command prompt and the results) directly into R you will get an error</p>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb596-1"><a href="#cb596-1" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span></span>
<span id="cb596-2"><a href="#cb596-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">30</span></span></code></pre></div>
<p>So instead, I'm going to provide code in a slightly different format so that it looks like this...</p>
<div class="sourceCode" id="cb597"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb597-1"><a href="#cb597-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p>There are two main differences.</p>
<ul>
<li>In your console, you type after the &gt;, but from now I I won’t show the command prompt in the book.<br />
</li>
<li>In the book, output is commented out with ##, in your console it appears directly after your code.</li>
</ul>
<p>These two differences mean that if you’re working with an electronic version of the book, you can easily copy code out of the book and into the console.</p>
<p>So for example if you copied the two lines of code from the book you'd get this</p>
<div class="sourceCode" id="cb599"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb599-1"><a href="#cb599-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span></span>
<span id="cb599-2"><a href="#cb599-2" tabindex="-1"></a><span class="do">## [1] 30</span></span></code></pre></div>
<pre><code>## [1] 30</code></pre>
</div>
<div id="be-very-careful-to-avoid-typos" class="section level3" number="42.1.2">
<h3><span class="header-section-number">42.1.2</span> Be very careful to avoid typos</h3>
<p>Before we go on to talk about other types of calculations that we can do with R, there's a few other things I want to point out. The first thing is that, while R is good software, it's still software. It's pretty stupid, and because it's stupid it can't handle typos. It takes it on faith that you meant to type <em>exactly</em> what you did type. For example, suppose that you forgot to hit the shift key when trying to type <code>+</code>, and as a result your command ended up being <code>10 = 20</code> rather than <code>10 + 20</code>. Here's what happens:</p>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb601-1"><a href="#cb601-1" tabindex="-1"></a><span class="dv">10</span> <span class="ot">=</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## Error in 10 = 20: invalid (do_set) left-hand side to assignment</code></pre>
<p>What's happened here is that R has attempted to interpret <code>10 = 20</code> as a command, and spits out an error message because the command doesn't make any sense to it. When a <em>human</em> looks at this, and then looks down at his or her keyboard and sees that <code>+</code> and <code>=</code> are on the same key, it's pretty obvious that the command was a typo. But R doesn't know this, so it gets upset. And, if you look at it from its perspective, this makes sense. All that R "knows" is that <code>10</code> is a legitimate number, <code>20</code> is a legitimate number, and <code>=</code> is a legitimate part of the language too. In other words, from its perspective this really does look like the user meant to type <code>10 = 20</code>, since all the individual parts of that statement are legitimate and it's too stupid to realise that this is probably a typo. Therefore, R takes it on faith that this is exactly what you meant... it only "discovers" that the command is nonsense when it tries to follow your instructions, typo and all. And then it whinges, and spits out an error.</p>
<p>Even more subtle is the fact that some typos won't produce errors at all, because they happen to correspond to "well-formed" R commands. For instance, suppose that not only did I forget to hit the shift key when trying to type <code>10 + 20</code>, I also managed to press the key next to one I meant do. The resulting typo would produce the command <code>10 - 20</code>. Clearly, R has no way of knowing that you meant to <em>add</em> 20 to 10, not <em>subtract</em> 20 from 10, so what happens this time is this:</p>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb603-1"><a href="#cb603-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">-</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] -10</code></pre>
<p>In this case, R produces the right answer, but to the the wrong question.</p>
<p>To some extent, I'm stating the obvious here, but it's important. The people who wrote R are smart. You, the user, are smart. But R itself is dumb. And because it's dumb, it has to be mindlessly obedient. It does <em>exactly</em> what you ask it to do. There is no equivalent to "autocorrect" in R, and for good reason. When doing advanced stuff -- and even the simplest of statistics is pretty advanced in a lot of ways -- it's dangerous to let a mindless automaton like R try to overrule the human user. But because of this, it's your responsibility to be careful. Always make sure you type <em>exactly what you mean</em>. When dealing with computers, it's not enough to type "approximately" the right thing. In general, you absolutely <em>must</em> be precise in what you say to R ... like all machines it is too stupid to be anything other than absurdly literal in its interpretation.</p>
</div>
<div id="r-is-a-bit-flexible-with-spacing" class="section level3" number="42.1.3">
<h3><span class="header-section-number">42.1.3</span> R is (a bit) flexible with spacing</h3>
<p>Of course, now that I've been so uptight about the importance of always being precise, I should point out that there are some exceptions. Or, more accurately, there are some situations in which R does show a bit more flexibility than my previous description suggests. The first thing R is smart enough to do is ignore redundant spacing. What I mean by this is that, when I typed <code>10 + 20</code> before, I could equally have done this</p>
<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb605-1"><a href="#cb605-1" tabindex="-1"></a><span class="dv">10</span>    <span class="sc">+</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p>or this</p>
<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb607-1"><a href="#cb607-1" tabindex="-1"></a><span class="dv">10</span><span class="sc">+</span><span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p>and I would get exactly the same answer. However, that doesn't mean that you can insert spaces in any old place. When we looked at the startup documentation in Section @ref(startingR) it suggested that you could type <code>citation()</code> to get some information about how to cite R. If I do so...</p>
<div class="sourceCode" id="cb609"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb609-1"><a href="#cb609-1" tabindex="-1"></a><span class="fu">citation</span>()</span></code></pre></div>
<pre><code>## To cite R in publications use:
## 
##   R Core Team (2023). _R: A Language and Environment for Statistical
##   Computing_. R Foundation for Statistical Computing, Vienna, Austria.
##   &lt;https://www.R-project.org/&gt;.
## 
## A BibTeX entry for LaTeX users is
## 
##   @Manual{,
##     title = {R: A Language and Environment for Statistical Computing},
##     author = {{R Core Team}},
##     organization = {R Foundation for Statistical Computing},
##     address = {Vienna, Austria},
##     year = {2023},
##     url = {https://www.R-project.org/},
##   }
## 
## We have invested a lot of time and effort in creating R, please cite it
## when using it for data analysis. See also &#39;citation(&quot;pkgname&quot;)&#39; for
## citing R packages.</code></pre>
<p>... it tells me to cite the R manual <span class="citation">(<a href="#ref-R2013"><strong>R2013?</strong></a>)</span>. Let's see what happens when I try changing the spacing. If I insert spaces in between the word and the parentheses, or inside the parentheses themselves, then all is well. That is, either of these two commands</p>
<div class="sourceCode" id="cb611"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb611-1"><a href="#cb611-1" tabindex="-1"></a><span class="fu">citation</span> ()</span></code></pre></div>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb612-1"><a href="#cb612-1" tabindex="-1"></a><span class="fu">citation</span>(  )</span></code></pre></div>
<p>will produce exactly the same response. However, what I can't do is insert spaces in the middle of the word. If I try to do this, R gets upset:</p>
<div class="sourceCode" id="cb613"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb613-1"><a href="#cb613-1" tabindex="-1"></a>citat <span class="fu">ion</span>()</span></code></pre></div>
<pre><code>## Error: &lt;text&gt;:1:7: unexpected symbol
## 1: citat ion
##           ^</code></pre>
<p>Throughout this book I'll vary the way I use spacing a little bit, just to give you a feel for the different ways in which spacing can be used. I'll try not to do it too much though, since it's generally considered to be good practice to be consistent in how you format your commands.</p>
</div>
<div id="r-can-sometimes-tell-that-youre-not-finished-yet-but-not-often" class="section level3" number="42.1.4">
<h3><span class="header-section-number">42.1.4</span> R can sometimes tell that you're not finished yet (but not often)</h3>
<p>One more thing I should point out. If you hit enter in a situation where it's "obvious" to R that you haven't actually finished typing the command, R is just smart enough to keep waiting. For example, if you type <code>10 +</code> and then press enter, even R is smart enough to realise that you probably wanted to type in another number. So here's what happens (for illustrative purposes I'm breaking my own code formatting rules in this section):</p>
<pre><code>&gt; 10+
+ </code></pre>
<p>and there's a blinking cursor next to the plus sign. What this means is that R is still waiting for you to finish. It "thinks" you're still typing your command, so it hasn't tried to execute it yet. In other words, this plus sign is actually another command prompt. It's different from the usual one (i.e., the <code>&gt;</code> symbol) to remind you that R is going to "add" whatever you type now to what you typed last time. For example, if I then go on to type <code>3</code> and hit enter, what I get is this:</p>
<pre><code>&gt; 10 +
+ 20
[1] 30</code></pre>
<p>And as far as R is concerned, this is <em>exactly</em> the same as if you had typed <code>10 + 20</code>. Similarly, consider the <code>citation()</code> command that we talked about in the previous section. Suppose you hit enter after typing <code>citation(</code>. Once again, R is smart enough to realise that there must be more coming -- since you need to add the <code>)</code> character -- so it waits. I can even hit enter several times and it will keep waiting:</p>
<pre><code>&gt; citation(
+ 
+ 
+ )</code></pre>
<p>I'll make use of this a lot in this book. A lot of the commands that we'll have to type are pretty long, and they're visually a bit easier to read if I break it up over several lines. If you start doing this yourself, you'll eventually get yourself in trouble (it happens to us all). Maybe you start typing a command, and then you realise you've screwed up. For example,</p>
<pre><code>&gt; citblation( 
+ 
+ </code></pre>
<p>You'd probably prefer R not to try running this command, right? If you want to get out of this situation, just hit the 'escape' key.<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a> R will return you to the normal command prompt (i.e. <code>&gt;</code>) <em>without</em> attempting to execute the botched command.</p>
<p>That being said, it's not often the case that R is smart enough to tell that there's more coming.
For instance, in the same way that I can't add a space in the middle of a word, I can't hit enter in the middle of a word either. If I hit enter after typing <code>citat</code> I get an error, because R thinks I'm interested in an "object" called <code>citat</code> and can't find it:</p>
<pre><code>&gt; citat
Error: object &#39;citat&#39; not found</code></pre>
<p>What about if I typed <code>citation</code> and hit enter? In this case we get something very odd, something that we definitely <em>don't</em> want, at least at this stage. Here's what happens:</p>
<pre><code>citation
## function (package = &quot;base&quot;, lib.loc = NULL, auto = NULL) 
## {
##     dir &lt;- system.file(package = package, lib.loc = lib.loc)
##     if (dir == &quot;&quot;) 
##         stop(gettextf(&quot;package &#39;%s&#39; not found&quot;, package), domain = NA)

BLAH BLAH BLAH</code></pre>
<p>where the <code>BLAH BLAH BLAH</code> goes on for rather a long time, and you don't know enough R yet to understand what all this gibberish actually means (of course, it doesn't actually say BLAH BLAH BLAH - it says some other things we don't understand or need to know that I've edited for length) This incomprehensible output can be quite intimidating to novice users, and unfortunately it's very easy to forget to type the parentheses; so almost certainly you'll do this by accident. Do not panic when this happens. Simply ignore the gibberish. As you become more experienced this gibberish will start to make sense, and you'll find it quite handy to print this stuff out.<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a> But for now just try to remember to add the parentheses when typing your commands.</p>
</div>
</div>
<div id="arithmetic" class="section level2" number="42.2">
<h2><span class="header-section-number">42.2</span> Doing simple calculations with R</h2>
<p>Okay, now that we've discussed some of the tedious details associated with typing R commands, let's get back to learning how to use the most powerful piece of statistical software in the world as a $2 calculator. So far, all we know how to do is addition. Clearly, a calculator that only did addition would be a bit stupid, so I should tell you about how to perform other simple calculations using R. But first, some more terminology. Addition is an example of an "operation" that you can perform (specifically, an arithmetic operation), and the <strong><em>operator</em></strong> that performs it is <code>+</code>. To people with a programming or mathematics background, this terminology probably feels pretty natural, but to other people it might feel like I'm trying to make something very simple (addition) sound more complicated than it is (by calling it an arithmetic operation). To some extent, that's true: if addition was the only operation that we were interested in, it'd be a bit silly to introduce all this extra terminology. However, as we go along, we'll start using more and more different kinds of operations, so it's probably a good idea to get the language straight now, while we're still talking about very familiar concepts like addition!</p>
<div id="adding-subtracting-multiplying-and-dividing" class="section level3" number="42.2.1">
<h3><span class="header-section-number">42.2.1</span> Adding, subtracting, multiplying and dividing</h3>
<p>So, now that we have the terminology, let's learn how to perform some arithmetic operations in R. To that end, Table @ref(tab:arithmetic1) lists the operators that correspond to the basic arithmetic we learned in primary school: addition, subtraction, multiplication and division.</p>
<table>
<caption>(#tab:arithmetic1)Basic arithmetic operations in R. These five operators are used very frequently throughout the text, so it's important to be familiar with them at the outset.</caption>
<thead>
<tr class="header">
<th align="left">operation</th>
<th align="center">operator</th>
<th align="center">example input</th>
<th align="center">example output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">addition</td>
<td align="center"><code>+</code></td>
<td align="center">10 + 2</td>
<td align="center">12</td>
</tr>
<tr class="even">
<td align="left">subtraction</td>
<td align="center"><code>-</code></td>
<td align="center">9 - 3</td>
<td align="center">6</td>
</tr>
<tr class="odd">
<td align="left">multiplication</td>
<td align="center"><code>*</code></td>
<td align="center">5 * 5</td>
<td align="center">25</td>
</tr>
<tr class="even">
<td align="left">division</td>
<td align="center"><code>/</code></td>
<td align="center">10 / 3</td>
<td align="center">3</td>
</tr>
<tr class="odd">
<td align="left">power</td>
<td align="center"><code>^</code></td>
<td align="center">5 ^ 2</td>
<td align="center">25</td>
</tr>
</tbody>
</table>
<p>As you can see, R uses fairly standard symbols to denote each of the different operations you might want to perform: addition is done using the <code>+</code> operator, subtraction is performed by the <code>-</code> operator, and so on. So if I wanted to find out what 57 times 61 is (and who wouldn't?), I can use R instead of a calculator, like so:</p>
<div class="sourceCode" id="cb621"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb621-1"><a href="#cb621-1" tabindex="-1"></a><span class="dv">57</span> <span class="sc">*</span> <span class="dv">61</span></span></code></pre></div>
<pre><code>## [1] 3477</code></pre>
<p>So that's handy.</p>
</div>
<div id="taking-powers" class="section level3" number="42.2.2">
<h3><span class="header-section-number">42.2.2</span> Taking powers</h3>
<p>The first four operations listed in Table @ref(tab:arithmetic1) are things we all learned in primary school, but they aren't the only arithmetic operations built into R. There are three other arithmetic operations that I should probably mention: taking powers, doing integer division, and calculating a modulus. Of the three, the only one that is of any real importance for the purposes of this book is taking powers, so I'll discuss that one here: the other two are discussed in Chapter @ref(datahandling).</p>
<p>For those of you who can still remember your high school maths, this should be familiar. But for some people high school maths was a long time ago, and others of us didn't listen very hard in high school. It's not complicated. As I'm sure everyone will probably remember the moment they read this, the act of multiplying a number <span class="math inline">\(x\)</span> by itself <span class="math inline">\(n\)</span> times is called "raising <span class="math inline">\(x\)</span> to the <span class="math inline">\(n\)</span>-th power". Mathematically, this is written as <span class="math inline">\(x^n\)</span>. Some values of <span class="math inline">\(n\)</span> have special names: in particular <span class="math inline">\(x^2\)</span> is called <span class="math inline">\(x\)</span>-squared, and <span class="math inline">\(x^3\)</span> is called <span class="math inline">\(x\)</span>-cubed. So, the 4th power of 5 is calculated like this:
<span class="math display">\[
5^4 = 5 \times 5 \times 5 \times 5
\]</span></p>
<p>One way that we could calculate <span class="math inline">\(5^4\)</span> in R would be to type in the complete multiplication as it is shown in the equation above. That is, we could do this</p>
<div class="sourceCode" id="cb623"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb623-1"><a href="#cb623-1" tabindex="-1"></a><span class="dv">5</span> <span class="sc">*</span> <span class="dv">5</span> <span class="sc">*</span> <span class="dv">5</span> <span class="sc">*</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] 625</code></pre>
<p>but it does seem a bit tedious. It would be very annoying indeed if you wanted to calculate <span class="math inline">\(5^{15}\)</span>, since the command would end up being quite long. Therefore, to make our lives easier, we use the power operator instead. When we do that, our command to calculate <span class="math inline">\(5^4\)</span> goes like this:</p>
<div class="sourceCode" id="cb625"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb625-1"><a href="#cb625-1" tabindex="-1"></a><span class="dv">5</span> <span class="sc">^</span> <span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] 625</code></pre>
<p>Much easier.</p>
</div>
<div id="bedmas" class="section level3" number="42.2.3">
<h3><span class="header-section-number">42.2.3</span> Doing calculations in the right order</h3>
<p>Okay. At this point, you know how to take one of the most powerful pieces of statistical software in the world, and use it as a $2 calculator. And as a bonus, you've learned a few very basic programming concepts. That's not nothing (you could argue that you've just saved yourself $2) but on the other hand, it's not very much either. In order to use R more effectively, we need to introduce more programming concepts.</p>
<p>In most situations where you would want to use a calculator, you might want to do multiple calculations. R lets you do this, just by typing in longer commands. <a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a> In fact, we've already seen an example of this earlier, when I typed in <code>5 * 5 * 5 * 5</code>. However, let's try a slightly different example:</p>
<div class="sourceCode" id="cb627"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb627-1"><a href="#cb627-1" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> <span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<p>Clearly, this isn't a problem for R either. However, it's worth stopping for a second, and thinking about what R just did. Clearly, since it gave us an answer of <code>9</code> it must have multiplied <code>2 * 4</code> (to get an interim answer of 8) and then added 1 to that. But, suppose it had decided to just go from left to right: if R had decided instead to add <code>1+2</code> (to get an interim answer of 3) and then multiplied by 4, it would have come up with an answer of <code>12</code>.</p>
<p>To answer this, you need to know the <strong><em>order of operations</em></strong> that R uses. If you remember back to your high school maths classes, it's actually the same order that you got taught when you were at school: the "<strong><em>BEDMAS</em></strong>" order.<a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a> That is, first calculate things inside <strong>B</strong>rackets <code>()</code>, then calculate <strong>E</strong>xponents <code>^</code>, then <strong>D</strong>ivision <code>/</code> and <strong>M</strong>ultiplication <code>*</code>, then <strong>A</strong>ddition <code>+</code> and <strong>S</strong>ubtraction <code>-</code>. So, to continue the example above, if we want to force R to calculate the <code>1+2</code> part before the multiplication, all we would have to do is enclose it in brackets:</p>
<div class="sourceCode" id="cb629"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb629-1"><a href="#cb629-1" tabindex="-1"></a>(<span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span>) <span class="sc">*</span> <span class="dv">4</span> </span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<p>This is a fairly useful thing to be able to do. The only other thing I should point out about order of operations is what to expect when you have two operations that have the same priority: that is, how does R resolve ties? For instance, multiplication and division are actually the same priority, but what should we expect when we give R a problem like <code>4 / 2 * 3</code> to solve? If it evaluates the multiplication first and then the division, it would calculate a value of two-thirds. But if it evaluates the division first it calculates a value of 6. The answer, in this case, is that R goes from <em>left to right</em>, so in this case the division step would come first:</p>
<div class="sourceCode" id="cb631"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb631-1"><a href="#cb631-1" tabindex="-1"></a><span class="dv">4</span> <span class="sc">/</span> <span class="dv">2</span> <span class="sc">*</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>All of the above being said, it's helpful to remember that <em>brackets always come first</em>. So, if you're ever unsure about what order R will do things in, an easy solution is to enclose the thing <em>you</em> want it to do first in brackets. There's nothing stopping you from typing <code>(4 / 2) * 3</code>. By enclosing the division in brackets we make it clear which thing is supposed to happen first. In this instance you wouldn't have needed to, since R would have done the division first anyway, but when you're first starting out it's better to make sure R does what you want!</p>
</div>
</div>
<div id="assign" class="section level2" number="42.3">
<h2><span class="header-section-number">42.3</span> Storing a number as a variable</h2>
<p>One of the most important things to be able to do in R (or any programming language, for that matter) is to store information in <strong><em>variables</em></strong>. Variables in R aren't exactly the same thing as the variables we talked about in the last chapter on research methods, but they are similar. At a conceptual level you can think of a variable as <em>label</em> for a certain piece of information, or even several different pieces of information. When doing statistical analysis in R all of your data (the variables you measured in your study) will be stored as variables in R, but as well see later in the book you'll find that you end up creating variables for other things too. However, before we delve into all the messy details of data sets and statistical analysis, let's look at the very basics for how we create variables and work with them.</p>
<div id="variable-assignment-using---and--" class="section level3" number="42.3.1">
<h3><span class="header-section-number">42.3.1</span> Variable assignment using <code>&lt;-</code> and <code>-&gt;</code></h3>
<p>Since we've been working with numbers so far, let's start by creating variables to store our numbers. And since most people like concrete examples, let's invent one. Suppose I'm trying to calculate how much money I'm going to make from this book. There's several different numbers I might want to store. Firstly, I need to figure out how many copies I'll sell. This isn't exactly <em>Harry Potter</em>, so let's assume I'm only going to sell one copy per student in my class. That's 350 sales, so let's create a variable called <code>sales</code>. What I want to do is assign a <strong><em>value</em></strong> to my variable <code>sales</code>, and that value should be <code>350</code>. We do this by using the <strong><em>assignment operator</em></strong>, which is <code>&lt;-</code>. Here's how we do it:</p>
<div class="sourceCode" id="cb633"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb633-1"><a href="#cb633-1" tabindex="-1"></a>sales <span class="ot">&lt;-</span> <span class="dv">350</span></span></code></pre></div>
<p>When you hit enter, R doesn't print out any output.<a href="#fn10" class="footnote-ref" id="fnref10"><sup>10</sup></a> It just gives you another command prompt. However, behind the scenes R has created a variable called <code>sales</code> and given it a value of <code>350</code>. You can check that this has happened by asking R to print the variable on screen. And the simplest way to do <em>that</em> is to type the name of the variable and hit enter<a href="#fn11" class="footnote-ref" id="fnref11"><sup>11</sup></a>.</p>
<div class="sourceCode" id="cb634"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb634-1"><a href="#cb634-1" tabindex="-1"></a>sales</span></code></pre></div>
<pre><code>## [1] 350</code></pre>
<p>So that's nice to know. Anytime you can't remember what R has got stored in a particular variable, you can just type the name of the variable and hit enter.</p>
<p>Okay, so now we know how to assign variables. Actually, there's a bit more you should know. Firstly, one of the curious features of R is that there are several different ways of making assignments. In addition to the <code>&lt;-</code> operator, we can also use <code>-&gt;</code> and <code>=</code>, and it's pretty important to understand the differences between them.<a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a> Let's start by considering <code>-&gt;</code>, since that's the easy one (we'll discuss the use of <code>=</code> in Section @ref(functionarguments). As you might expect from just looking at the symbol, it's almost identical to <code>&lt;-</code>. It's just that the arrow (i.e., the assignment) goes from left to right. So if I wanted to define my <code>sales</code> variable using <code>-&gt;</code>, I would write it like this:</p>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb636-1"><a href="#cb636-1" tabindex="-1"></a><span class="dv">350</span> <span class="ot">-&gt;</span> sales</span></code></pre></div>
<p>This has the same effect: and it <em>still</em> means that I'm only going to sell <code>350</code> copies. Sigh. Apart from this superficial difference, <code>&lt;-</code> and <code>-&gt;</code> are identical. In fact, as far as R is concerned, they're actually the same operator, just in a "left form" and a "right form".<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a></p>
</div>
<div id="doing-calculations-using-variables" class="section level3" number="42.3.2">
<h3><span class="header-section-number">42.3.2</span> Doing calculations using variables</h3>
<p>Okay, let's get back to my original story. In my quest to become rich, I've written this textbook. To figure out how good a strategy is, I've started creating some variables in R. In addition to defining a <code>sales</code> variable that counts the number of copies I'm going to sell, I can also create a variable called <code>royalty</code>, indicating how much money I get per copy. Let's say that my royalties are about $7 per book:</p>
<div class="sourceCode" id="cb637"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb637-1"><a href="#cb637-1" tabindex="-1"></a>sales <span class="ot">&lt;-</span> <span class="dv">350</span></span>
<span id="cb637-2"><a href="#cb637-2" tabindex="-1"></a>royalty <span class="ot">&lt;-</span> <span class="dv">7</span></span></code></pre></div>
<p>The nice thing about variables (in fact, the whole point of having variables) is that we can do anything with a variable that we ought to be able to do with the information that it stores. That is, since R allows me to multiply <code>350</code> by <code>7</code></p>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb638-1"><a href="#cb638-1" tabindex="-1"></a><span class="dv">350</span> <span class="sc">*</span> <span class="dv">7</span></span></code></pre></div>
<pre><code>## [1] 2450</code></pre>
<p>it also allows me to multiply <code>sales</code> by <code>royalty</code></p>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb640-1"><a href="#cb640-1" tabindex="-1"></a>sales <span class="sc">*</span> royalty</span></code></pre></div>
<pre><code>## [1] 2450</code></pre>
<p>As far as R is concerned, the <code>sales * royalty</code> command is the same as the <code>350 * 7</code> command. Not surprisingly, I can assign the output of this calculation to a new variable, which I'll call <code>revenue</code>. And when we do this, the new variable <code>revenue</code> gets the value <code>2450</code>. So let's do that, and then get R to print out the value of <code>revenue</code> so that we can verify that it's done what we asked:</p>
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb642-1"><a href="#cb642-1" tabindex="-1"></a>revenue <span class="ot">&lt;-</span> sales <span class="sc">*</span> royalty</span>
<span id="cb642-2"><a href="#cb642-2" tabindex="-1"></a>revenue</span></code></pre></div>
<pre><code>## [1] 2450</code></pre>
<p>That's fairly straightforward. A slightly more subtle thing we can do is reassign the value of my variable, based on its current value. For instance, suppose that one of my students (no doubt under the influence of psychotropic drugs) loves the book so much that he or she donates me an extra $550. The simplest way to capture this is by a command like this:</p>
<div class="sourceCode" id="cb644"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb644-1"><a href="#cb644-1" tabindex="-1"></a>revenue <span class="ot">&lt;-</span> revenue <span class="sc">+</span> <span class="dv">550</span></span>
<span id="cb644-2"><a href="#cb644-2" tabindex="-1"></a>revenue</span></code></pre></div>
<pre><code>## [1] 3000</code></pre>
<p>In this calculation, R has taken the old value of <code>revenue</code> (i.e., 2450) and added 550 to that value, producing a value of 3000. This new value is assigned to the <code>revenue</code> variable, overwriting its previous value. In any case, we now know that I'm expecting to make $3000 off this. Pretty sweet, I thinks to myself. Or at least, that's what I thinks until I do a few more calculation and work out what the implied hourly wage I'm making off this looks like.</p>
</div>
<div id="rules-and-conventions-for-naming-variables" class="section level3" number="42.3.3">
<h3><span class="header-section-number">42.3.3</span> Rules and conventions for naming variables</h3>
<p>In the examples that we've seen so far, my variable names (<code>sales</code> and <code>revenue</code>) have just been English-language words written using lowercase letters. However, R allows a lot more flexibility when it comes to naming your variables, as the following list of rules<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a> illustrates:</p>
<ul>
<li>Variable names can only use the upper case alphabetic characters <code>A</code>-<code>Z</code> as well as the lower case characters <code>a</code>-<code>z</code>. You can also include numeric characters <code>0</code>-<code>9</code> in the variable name, as well as the period <code>.</code> or underscore <code>_</code> character. In other words, you can use <code>SaL.e_s</code> as a variable name (though I can't think why you would want to), but you can't use <code>Sales?</code>.</li>
<li>Variable names cannot include spaces: therefore <code>my sales</code> is not a valid name, but <code>my.sales</code> is.</li>
<li>Variable names are case sensitive: that is, <code>Sales</code> and <code>sales</code> are <em>different</em> variable names.</li>
<li>Variable names must start with a letter or a period. You can't use something like <code>_sales</code> or <code>1sales</code> as a variable name. You can use <code>.sales</code> as a variable name if you want, but it's not usually a good idea. By convention, variables starting with a <code>.</code> are used for special purposes, so you should avoid doing so.</li>
<li>Variable names cannot be one of the reserved keywords. These are special names that R needs to keep "safe" from us mere users, so you can't use them as the names of variables. The keywords are: <code>if</code>, <code>else</code>, <code>repeat</code>, <code>while</code>, <code>function</code>, <code>for</code>, <code>in</code>, <code>next</code>, <code>break</code>, <code>TRUE</code>, <code>FALSE</code>, <code>NULL</code>, <code>Inf</code>, <code>NaN</code>, <code>NA</code>, <code>NA_integer_</code>, <code>NA_real_</code>, <code>NA_complex_</code>, and finally, <code>NA_character_</code>. Don't feel especially obliged to memorise these: if you make a mistake and try to use one of the keywords as a variable name, R will complain about it like the whiny little automaton it is.</li>
</ul>
<p>In addition to those rules that R enforces, there are some informal conventions that people tend to follow when naming variables. One of them you've already seen: i.e., don't use variables that start with a period. But there are several others. You aren't obliged to follow these conventions, and there are many situations in which it's advisable to ignore them, but it's generally a good idea to follow them when you can:</p>
<ul>
<li>Use informative variable names. As a general rule, using meaningful names like <code>sales</code> and <code>revenue</code> is preferred over arbitrary ones like <code>variable1</code> and <code>variable2</code>. Otherwise it's very hard to remember what the contents of different variables are, and it becomes hard to understand what your commands actually do.</li>
<li>Use short variable names. Typing is a pain and no-one likes doing it. So we much prefer to use a name like <code>sales</code> over a name like <code>sales.for.this.book.that.you.are.reading</code>. Obviously there's a bit of a tension between using informative names (which tend to be long) and using short names (which tend to be meaningless), so use a bit of common sense when trading off these two conventions.</li>
<li>Use one of the conventional naming styles for multi-word variable names. Suppose I want to name a variable that stores "my new salary". Obviously I can't include spaces in the variable name, so how should I do this? There are three different conventions that you sometimes see R users employing. Firstly, you can separate the words using periods, which would give you <code>my.new.salary</code> as the variable name. Alternatively, you could separate words using underscores, as in <code>my_new_salary</code>. Finally, you could use capital letters at the beginning of each word (except the first one), which gives you <code>myNewSalary</code> as the variable name. I don't think there's any strong reason to prefer one over the other,<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a> but it's important to be consistent.</li>
</ul>
</div>
</div>
<div id="usingfunctions" class="section level2" number="42.4">
<h2><span class="header-section-number">42.4</span> Using functions to do calculations</h2>
<p>The symbols <code>+</code>, <code>-</code>, <code>*</code> and so on are examples of operators. As we've seen, you can do quite a lot of calculations just by using these operators. However, in order to do more advanced calculations (and later on, to do actual statistics), you're going to need to start using <strong><em>functions</em></strong>.<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a> I'll talk in more detail about functions and how they work in Section @ref(functions), but for now let's just dive in and use a few. To get started, suppose I wanted to take the square root of 225. The square root, in case your high school maths is a bit rusty, is just the opposite of squaring a number. So, for instance, since "5 squared is 25" I can say that "5 is the square root of 25". The usual notation for this is</p>
<p><span class="math display">\[
\sqrt{25} = 5
\]</span></p>
<p>though sometimes you'll also see it written like this
<span class="math inline">\(25^{0.5} = 5.\)</span>
This second way of writing it is kind of useful to "remind" you of the mathematical fact that "square root of <span class="math inline">\(x\)</span>" is actually the same as "raising <span class="math inline">\(x\)</span> to the power of 0.5". Personally, I've never found this to be terribly meaningful psychologically, though I have to admit it's quite convenient mathematically. Anyway, it's not important. What is important is that you remember what a square root is, since we're going to need it later on.</p>
<p>To calculate the square root of 25, I can do it in my head pretty easily, since I memorised my multiplication tables when I was a kid. It gets harder when the numbers get bigger, and pretty much impossible if they're not whole numbers. This is where something like R comes in very handy. Let's say I wanted to calculate <span class="math inline">\(\sqrt{225}\)</span>, the square root of 225. There's two ways I could do this using R. Firstly, since the square root of 255 is the same thing as raising 225 to the power of 0.5, I could use the power operator <code>^</code>, just like we did earlier:</p>
<div class="sourceCode" id="cb646"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb646-1"><a href="#cb646-1" tabindex="-1"></a><span class="dv">225</span> <span class="sc">^</span> <span class="fl">0.5</span></span></code></pre></div>
<pre><code>## [1] 15</code></pre>
<p>However, there's a second way that we can do this, since R also provides a <strong><em>square root function</em></strong>, <code>sqrt()</code>. To calculate the square root of 255 using this function, what I do is insert the number <code>225</code> in the parentheses. That is, the command I type is this:</p>
<div class="sourceCode" id="cb648"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb648-1"><a href="#cb648-1" tabindex="-1"></a><span class="fu">sqrt</span>( <span class="dv">225</span> )</span></code></pre></div>
<pre><code>## [1] 15</code></pre>
<p>and as you might expect from our previous discussion, the spaces in between the parentheses are purely cosmetic. I could have typed <code>sqrt(225)</code> or <code>sqrt( 225   )</code> and gotten the same result. When we use a function to do something, we generally refer to this as <strong><em>calling</em></strong> the function, and the values that we type into the function (there can be more than one) are referred to as the <strong><em>arguments</em></strong> of that function.</p>
<p>Obviously, the <code>sqrt()</code> function doesn't really give us any new functionality, since we already knew how to do square root calculations by using the power operator <code>^</code>, though I do think it looks nicer when we use <code>sqrt()</code>. However, there are lots of other functions in R: in fact, almost everything of interest that I'll talk about in this book is an R function of some kind. For example, one function that we will need to use in this book is the <strong><em>absolute value function</em></strong>. Compared to the square root function, it's extremely simple: it just converts negative numbers to positive numbers, and leaves positive numbers alone. Mathematically, the absolute value of <span class="math inline">\(x\)</span> is written <span class="math inline">\(|x|\)</span> or sometimes <span class="math inline">\(\mbox{abs}(x)\)</span>. Calculating absolute values in R is pretty easy, since R provides the <code>abs()</code> function that you can use for this purpose. When you feed it a positive number...</p>
<div class="sourceCode" id="cb650"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb650-1"><a href="#cb650-1" tabindex="-1"></a><span class="fu">abs</span>( <span class="dv">21</span> )</span></code></pre></div>
<pre><code>## [1] 21</code></pre>
<p>the absolute value function does nothing to it at all. But when you feed it a negative number, it spits out the positive version of the same number, like this:</p>
<div class="sourceCode" id="cb652"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb652-1"><a href="#cb652-1" tabindex="-1"></a><span class="fu">abs</span>( <span class="sc">-</span><span class="dv">13</span> )</span></code></pre></div>
<pre><code>## [1] 13</code></pre>
<p>In all honesty, there's nothing that the absolute value function does that you couldn't do just by looking at the number and erasing the minus sign if there is one. However, there's a few places later in the book where we have to use absolute values, so I thought it might be a good idea to explain the meaning of the term early on.</p>
<p>Before moving on, it's worth noting that -- in the same way that R allows us to put multiple operations together into a longer command, like <code>1 + 2*4</code> for instance -- it also lets us put functions together and even combine functions with operators if we so desire. For example, the following is a perfectly legitimate command:</p>
<div class="sourceCode" id="cb654"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb654-1"><a href="#cb654-1" tabindex="-1"></a><span class="fu">sqrt</span>( <span class="dv">1</span> <span class="sc">+</span> <span class="fu">abs</span>(<span class="sc">-</span><span class="dv">8</span>) )</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>When R executes this command, starts out by calculating the value of <code>abs(-8)</code>, which produces an intermediate value of <code>8</code>. Having done so, the command simplifies to <code>sqrt( 1 + 8 )</code>. To solve the square root<a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a> it first needs to add <code>1 + 8</code> to get <code>9</code>, at which point it evaluates <code>sqrt(9)</code>, and so it finally outputs a value of <code>3</code>.</p>
<div id="functionarguments" class="section level3" number="42.4.1">
<h3><span class="header-section-number">42.4.1</span> Function arguments, their names and their defaults</h3>
<p>There's two more fairly important things that you need to understand about how functions work in R, and that's the use of "named" arguments, and default values" for arguments. Not surprisingly, that's not to say that this is the last we'll hear about how functions work, but they are the last things we desperately need to discuss in order to get you started. To understand what these two concepts are all about, I'll introduce another function. The <code>round()</code> function can be used to round some value to the nearest whole number. For example, I could type this:</p>
<div class="sourceCode" id="cb656"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb656-1"><a href="#cb656-1" tabindex="-1"></a><span class="fu">round</span>( <span class="fl">3.1415</span> )</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Pretty straightforward, really. However, suppose I only wanted to round it to two decimal places: that is, I want to get <code>3.14</code> as the output. The <code>round()</code> function supports this, by allowing you to input a second argument to the function that specifies the number of decimal places that you want to round the number to. In other words, I could do this:</p>
<div class="sourceCode" id="cb658"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb658-1"><a href="#cb658-1" tabindex="-1"></a><span class="fu">round</span>( <span class="fl">3.14165</span>, <span class="dv">2</span> )</span></code></pre></div>
<pre><code>## [1] 3.14</code></pre>
<p>What's happening here is that I've specified <em>two</em> arguments: the first argument is the number that needs to be rounded (i.e., <code>3.1415</code>), the second argument is the number of decimal places that it should be rounded to (i.e., <code>2</code>), and the two arguments are separated by a comma. In this simple example, it's quite easy to remember which one argument comes first and which one comes second, but for more complicated functions this is not easy. Fortunately, most R functions make use of <strong><em>argument names</em></strong>. For the <code>round()</code> function, for example the number that needs to be rounded is specified using the <code>x</code> argument, and the number of decimal points that you want it rounded to is specified using the <code>digits</code> argument. Because we have these names available to us, we can specify the arguments to the function by name. We do so like this:</p>
<div class="sourceCode" id="cb660"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb660-1"><a href="#cb660-1" tabindex="-1"></a><span class="fu">round</span>( <span class="at">x =</span> <span class="fl">3.1415</span>, <span class="at">digits =</span> <span class="dv">2</span> )</span></code></pre></div>
<pre><code>## [1] 3.14</code></pre>
<p>Notice that this is kind of similar in spirit to variable assignment (Section @ref(assign)), except that I used <code>=</code> here, rather than <code>&lt;-</code>. In both cases we're specifying specific values to be associated with a label. However, there are some differences between what I was doing earlier on when creating variables, and what I'm doing here when specifying arguments, and so as a consequence it's important that you use <code>=</code> in this context.</p>
<p>As you can see, specifying the arguments by name involves a lot more typing, but it's also a lot easier to read. Because of this, the commands in this book will usually specify arguments by name,<a href="#fn18" class="footnote-ref" id="fnref18"><sup>18</sup></a> since that makes it clearer to you what I'm doing. However, one important thing to note is that when specifying the arguments using their names, it doesn't matter what order you type them in. But if you don't use the argument names, then you have to input the arguments in the correct order. In other words, these three commands all produce the same output...</p>
<div class="sourceCode" id="cb662"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb662-1"><a href="#cb662-1" tabindex="-1"></a><span class="fu">round</span>( <span class="fl">3.14165</span>, <span class="dv">2</span> )</span>
<span id="cb662-2"><a href="#cb662-2" tabindex="-1"></a><span class="fu">round</span>( <span class="at">x =</span> <span class="fl">3.1415</span>, <span class="at">digits =</span> <span class="dv">2</span> )</span>
<span id="cb662-3"><a href="#cb662-3" tabindex="-1"></a><span class="fu">round</span>( <span class="at">digits =</span> <span class="dv">2</span>, <span class="at">x =</span> <span class="fl">3.1415</span> )</span></code></pre></div>
<pre><code>## [1] 3.14
## [1] 3.14
## [1] 3.14</code></pre>
<p>but this one does not...</p>
<div class="sourceCode" id="cb664"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb664-1"><a href="#cb664-1" tabindex="-1"></a><span class="fu">round</span>( <span class="dv">2</span>, <span class="fl">3.14165</span> )</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>How do you find out what the correct order is? There's a few different ways, but the easiest one is to look at the help documentation for the function (see Section @ref(help). However, if you're ever unsure, it's probably best to actually type in the argument name.</p>
<p>Okay, so that's the first thing I said you'd need to know: argument names. The second thing you need to know about is default values. Notice that the first time I called the <code>round()</code> function I didn't actually specify the <code>digits</code> argument at all, and yet R somehow knew that this meant it should round to the nearest whole number. How did that happen? The answer is that the <code>digits</code> argument has a <strong><em>default value</em></strong> of <code>0</code>, meaning that if you decide not to specify a value for <code>digits</code> then R will act as if you had typed <code>digits = 0</code>. This is quite handy: the vast majority of the time when you want to round a number you want to round it to the nearest whole number, and it would be pretty annoying to have to specify the <code>digits</code> argument every single time. On the other hand, sometimes you actually do want to round to something other than the nearest whole number, and it would be even more annoying if R didn't allow this! Thus, by having <code>digits = 0</code> as the default value, we get the best of both worlds.</p>
</div>
</div>
<div id="RStudio1" class="section level2" number="42.5">
<h2><span class="header-section-number">42.5</span> Letting RStudio help you with your commands</h2>
<p>Time for a bit of a digression. At this stage you know how to type in basic commands, including how to use R functions. And it's probably beginning to dawn on you that there are a <em>lot</em> of R functions, all of which have their own arguments. You're probably also worried that you're going to have to remember all of them! Thankfully, it's not that bad. In fact, very few data analysts bother to try to remember all the commands. What they really do is use tricks to make their lives easier. The first (and arguably most important one) is to use the internet. If you don't know how a particular R function works, Google it. Second, you can look up the R help documentation. I'll talk more about these two tricks in Section @ref(help). But right now I want to call your attention to a couple of simple tricks that RStudio makes available to you.</p>
<div id="autocomplete-using-tab" class="section level3" number="42.5.1">
<h3><span class="header-section-number">42.5.1</span> Autocomplete using "tab"</h3>
<p>The first thing I want to call your attention to is the <em>autocomplete</em> ability in RStudio.<a href="#fn19" class="footnote-ref" id="fnref19"><sup>19</sup></a></p>
<p>Let's stick to our example above and assume that what you want to do is to round a number. This time around, start typing the name of the function that you want, and then hit the "tab" key. RStudio will then display a little window like the one shown in Figure @ref(fig:RStudiotab). In this figure, I've typed the letters <code>ro</code> at the command line, and then hit tab. The window has two panels. On the left, there's a list of variables and functions that start with the letters that I've typed shown in black text, and some grey text that tells you where that variable/function is stored. Ignore the grey text for now: it won't make much sense to you until we've talked about packages in Section @ref(packageinstall). In Figure @ref(fig:RStudiotab) you can see that there's quite a few things that start with the letters <code>ro</code>: there's something called <code>rock</code>, something called <code>round</code>, something called <code>round.Date</code> and so on. The one we want is <code>round</code>, but if you're typing this yourself you'll notice that when you hit the tab key the window pops up with the top entry (i.e., <code>rock</code>) highlighted. You can use the up and down arrow keys to select the one that you want. Or, if none of the options look right to you, you can hit the escape key ("esc") or the left arrow key to make the window go away.</p>
<p>In our case, the thing we want is the <code>round</code> option, so we'll select that. When you do this, you'll see that the panel on the right changes. Previously, it had been telling us something about the <code>rock</code> data set (i.e., "Measurements on 48 rock samples...") that is distributed as part of R. But when we select <code>round</code>, it displays information about the <code>round()</code> function, exactly as it is shown in Figure @ref(fig:RStudiotab). This display is really handy. The very first thing it says is <code>round(x, digits = 0)</code>: what this is telling you is that the <code>round()</code> function has two arguments. The first argument is called <code>x</code>, and it doesn't have a default value. The second argument is <code>digits</code>, and it has a default value of 0. In a lot of situations, that's all the information you need. But RStudio goes a bit further, and provides some additional information about the function underneath. Sometimes that additional information is very helpful, sometimes it's not: RStudio pulls that text from the R help documentation, and my experience is that the helpfulness of that documentation varies wildly. Anyway, if you've decided that <code>round()</code> is the function that you want to use, you can hit the right arrow or the enter key, and RStudio will finish typing the rest of the function name for you.</p>
<p>The RStudio autocomplete tool works slightly differently if you've already got the name of the function typed and you're now trying to type the arguments. For instance, suppose I've typed <code>round(</code> into the console, and <em>then</em> I hit tab. RStudio is smart enough to recognise that I already know the name of the function that I want, because I've already typed it! Instead, it figures that what I'm interested in is the <em>arguments</em> to that function. So that's what pops up in the little window. You can see this in Figure @ref(fig:RStudiotab2). Again, the window has two panels, and you can interact with this window in exactly the same way that you did with the window shown in Figure @ref(fig:RStudiotab). On the left hand panel, you can see a list of the argument names. On the right hand side, it displays some information about what the selected argument does.</p>
</div>
<div id="browsing-your-command-history" class="section level3" number="42.5.2">
<h3><span class="header-section-number">42.5.2</span> Browsing your command history</h3>
<p>One thing that R does automatically is keep track of your "command history". That is, it remembers all the commands that you've previously typed. You can access this history in a few different ways. The simplest way is to use the up and down arrow keys. If you hit the up key, the R console will show you the most recent command that you've typed. Hit it again, and it will show you the command before that. If you want the text on the screen to go away, hit escape<a href="#fn20" class="footnote-ref" id="fnref20"><sup>20</sup></a> Using the up and down keys can be really handy if you've typed a long command that had one typo in it. Rather than having to type it all again from scratch, you can use the up key to bring up the command and fix it.</p>
<p>The second way to get access to your command history is to look at the history panel in RStudio. On the upper right hand side of the RStudio window you'll see a tab labelled "History". Click on that, and you'll see a list of all your recent commands displayed in that panel: it should look something like Figure @ref(fig:RStudiohistory). If you double click on one of the commands, it will be copied to the R console. (You can achieve the same result by selecting the command you want with the mouse and then clicking the "To Console" button).<a href="#fn21" class="footnote-ref" id="fnref21"><sup>21</sup></a></p>
</div>
</div>
<div id="vectors" class="section level2" number="42.6">
<h2><span class="header-section-number">42.6</span> Storing many numbers as a vector</h2>
<p>At this point we've covered functions in enough detail to get us safely through the next couple of chapters (with one small exception: see Section @ref(generics), so let's return to our discussion of variables. When I introduced variables in Section @ref(assign) I showed you how we can use variables to store a single number. In this section, we'll extend this idea and look at how to store multiple numbers within the one variable. In R, the name for a variable that can store multiple values is a <strong><em>vector</em></strong>. So let's create one.</p>
<div id="creating-a-vector" class="section level3" number="42.6.1">
<h3><span class="header-section-number">42.6.1</span> Creating a vector</h3>
<p>Let's stick to my silly "get rich quick by textbook writing" example. Suppose the textbook company (if I actually had one, that is) sends me sales data on a monthly basis. Since my class start in late February, we might expect most of the sales to occur towards the start of the year. Let's suppose that I have 100 sales in February, 200 sales in March and 50 sales in April, and no other sales for the rest of the year. What I would like to do is have a variable -- let's call it <code>sales.by.month</code> -- that stores all this sales data. The first number stored should be <code>0</code> since I had no sales in January, the second should be <code>100</code>, and so on. The simplest way to do this in R is to use the <strong><em>combine</em></strong> function, <code>c()</code>. To do so, all we have to do is type all the numbers you want to store in a comma separated list, like this:<a href="#fn22" class="footnote-ref" id="fnref22"><sup>22</sup></a></p>
<div class="sourceCode" id="cb666"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb666-1"><a href="#cb666-1" tabindex="-1"></a>sales.by.month <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">50</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb666-2"><a href="#cb666-2" tabindex="-1"></a>sales.by.month</span></code></pre></div>
<pre><code>##  [1]   0 100 200  50   0   0   0   0   0   0   0   0</code></pre>
<p>To use the correct terminology here, we have a single variable here called <code>sales.by.month</code>: this variable is a vector that consists of 12 <strong><em>elements</em></strong>.</p>
</div>
<div id="a-handy-digression" class="section level3" number="42.6.2">
<h3><span class="header-section-number">42.6.2</span> A handy digression</h3>
<p>Now that we've learned how to put information into a vector, the next thing to understand is how to pull that information back out again. However, before I do so it's worth taking a slight detour. If you've been following along, typing all the commands into R yourself, it's possible that the output that you saw when we printed out the <code>sales.by.month</code> vector was slightly different to what I showed above. This would have happened if the window (or the RStudio panel) that contains the R console is really, really narrow. If that were the case, you might have seen output that looks something like this:</p>
<div class="sourceCode" id="cb668"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb668-1"><a href="#cb668-1" tabindex="-1"></a>sales.by.month</span></code></pre></div>
<pre><code>##  [1]   0 100 200  50
##  [5]   0   0   0   0
##  [9]   0   0   0   0</code></pre>
<p>Because there wasn't much room on the screen, R has printed out the results over three lines. But that's not the important thing to notice. The important point is that the first line has a <code>[1]</code> in front of it, whereas the second line starts with <code>[5]</code> and the third with <code>[9]</code>. It's pretty clear what's happening here. For the first row, R has printed out the 1st element through to the 4th element, so it starts that row with a <code>[1]</code>. For the second row, R has printed out the 5th element of the vector through to the 8th one, and so it begins that row with a <code>[5]</code> so that you can tell where it's up to at a glance. It might seem a bit odd to you that R does this, but in some ways it's a kindness, especially when dealing with larger data sets!</p>
</div>
<div id="vectorsubset" class="section level3" number="42.6.3">
<h3><span class="header-section-number">42.6.3</span> Getting information out of vectors</h3>
<p>To get back to the main story, let's consider the problem of how to get information out of a vector. At this point, you might have a sneaking suspicion that the answer has something to do with the <code>[1]</code> and <code>[9]</code> things that R has been printing out. And of course you are correct. Suppose I want to pull out the February sales data only. February is the second month of the year, so let's try this:</p>
<div class="sourceCode" id="cb670"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb670-1"><a href="#cb670-1" tabindex="-1"></a>sales.by.month[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 100</code></pre>
<p>Yep, that's the February sales all right. But there's a subtle detail to be aware of here: notice that R outputs <code>[1] 100</code>, <em>not</em> <code>[2] 100</code>. This is because R is being extremely literal. When we typed in <code>sales.by.month[2]</code>, we asked R to find exactly <em>one</em> thing, and that one thing happens to be the second element of our <code>sales.by.month</code> vector. So, when it outputs <code>[1] 100</code> what R is saying is that the first number <em>that we just asked for</em> is <code>100</code>. This behaviour makes more sense when you realise that we can use this trick to create new variables. For example, I could create a <code>february.sales</code> variable like this:</p>
<div class="sourceCode" id="cb672"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb672-1"><a href="#cb672-1" tabindex="-1"></a>february.sales <span class="ot">&lt;-</span> sales.by.month[<span class="dv">2</span>]</span>
<span id="cb672-2"><a href="#cb672-2" tabindex="-1"></a>february.sales</span></code></pre></div>
<pre><code>## [1] 100</code></pre>
<p>Obviously, the new variable <code>february.sales</code> should only have one element and so when I print it out this new variable, the R output begins with a <code>[1]</code> because <code>100</code> is the value of the first (and only) element of <code>february.sales</code>. The fact that this also happens to be the value of the second element of <code>sales.by.month</code> is irrelevant. We'll pick this topic up again shortly (Section @ref(indexing)).</p>
</div>
<div id="altering-the-elements-of-a-vector" class="section level3" number="42.6.4">
<h3><span class="header-section-number">42.6.4</span> Altering the elements of a vector</h3>
<p>Sometimes you'll want to change the values stored in a vector. Imagine my surprise when the publisher rings me up to tell me that the sales data for May are wrong. There were actually an additional 25 books sold in May, but there was an error or something so they hadn't told me about it. How can I fix my <code>sales.by.month</code> variable? One possibility would be to assign the whole vector again from the beginning, using <code>c()</code>. But that's a lot of typing. Also, it's a little wasteful: why should R have to redefine the sales figures for all 12 months, when only the 5th one is wrong? Fortunately, we can tell R to change only the 5th element, using this trick:</p>
<div class="sourceCode" id="cb674"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb674-1"><a href="#cb674-1" tabindex="-1"></a>sales.by.month[<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="dv">25</span></span>
<span id="cb674-2"><a href="#cb674-2" tabindex="-1"></a>sales.by.month</span></code></pre></div>
<pre><code>##  [1]   0 100 200  50  25   0   0   0   0   0   0   0</code></pre>
<p>Another way to edit variables is to use the <code>edit()</code> or <code>fix()</code> functions. I won't discuss them in detail right now, but you can check them out on your own.</p>
</div>
<div id="veclength" class="section level3" number="42.6.5">
<h3><span class="header-section-number">42.6.5</span> Useful things to know about vectors</h3>
<p>Before moving on, I want to mention a couple of other things about vectors. Firstly, you often find yourself wanting to know how many elements there are in a vector (usually because you've forgotten). You can use the <code>length()</code> function to do this. It's quite straightforward:</p>
<div class="sourceCode" id="cb676"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb676-1"><a href="#cb676-1" tabindex="-1"></a><span class="fu">length</span>( <span class="at">x =</span> sales.by.month )</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<p>Secondly, you often want to alter all of the elements of a vector at once. For instance, suppose I wanted to figure out how much money I made in each month. Since I'm earning an exciting $7 per book (no seriously, that's actually pretty close to what authors get on the very expensive textbooks that you're expected to purchase), what I want to do is multiply each element in the <code>sales.by.month</code> vector by <code>7</code>. R makes this pretty easy, as the following example shows:</p>
<div class="sourceCode" id="cb678"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb678-1"><a href="#cb678-1" tabindex="-1"></a>sales.by.month <span class="sc">*</span> <span class="dv">7</span></span></code></pre></div>
<pre><code>##  [1]    0  700 1400  350  175    0    0    0    0    0    0    0</code></pre>
<p>In other words, when you multiply a vector by a single number, all elements in the vector get multiplied. The same is true for addition, subtraction, division and taking powers. So that's neat. On the other hand, suppose I wanted to know how much money I was making per day, rather than per month. Since not every month has the same number of days, I need to do something slightly different. Firstly, I'll create two new vectors:</p>
<div class="sourceCode" id="cb680"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb680-1"><a href="#cb680-1" tabindex="-1"></a>days.per.month <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">31</span>, <span class="dv">28</span>, <span class="dv">31</span>, <span class="dv">30</span>, <span class="dv">31</span>, <span class="dv">30</span>, <span class="dv">31</span>, <span class="dv">31</span>, <span class="dv">30</span>, <span class="dv">31</span>, <span class="dv">30</span>, <span class="dv">31</span>)</span>
<span id="cb680-2"><a href="#cb680-2" tabindex="-1"></a>profit <span class="ot">&lt;-</span> sales.by.month <span class="sc">*</span> <span class="dv">7</span></span></code></pre></div>
<p>Obviously, the <code>profit</code> variable is the same one we created earlier, and the <code>days.per.month</code> variable is pretty straightforward. What I want to do is divide every element of <code>profit</code> by the <em>corresponding</em> element of <code>days.per.month</code>. Again, R makes this pretty easy:</p>
<div class="sourceCode" id="cb681"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb681-1"><a href="#cb681-1" tabindex="-1"></a>profit <span class="sc">/</span> days.per.month</span></code></pre></div>
<pre><code>##  [1]  0.000000 25.000000 45.161290 11.666667  5.645161  0.000000  0.000000
##  [8]  0.000000  0.000000  0.000000  0.000000  0.000000</code></pre>
<p>I still don't like all those zeros, but that's not what matters here. Notice that the second element of the output is 25, because R has divided the second element of <code>profit</code> (i.e. 700) by the second element of <code>days.per.month</code> (i.e. 28). Similarly, the third element of the output is equal to 1400 divided by 31, and so on. We'll talk more about calculations involving vectors later on (and in particular a thing called the "recycling rule"; Section @ref(recycling)), but that's enough detail for now.</p>
</div>
</div>
<div id="text" class="section level2" number="42.7">
<h2><span class="header-section-number">42.7</span> Storing text data</h2>
<p>A lot of the time your data will be numeric in nature, but not always. Sometimes your data really needs to be described using text, not using numbers. To address this, we need to consider the situation where our variables store text. To create a variable that stores the word "hello", we can type this:</p>
<div class="sourceCode" id="cb683"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb683-1"><a href="#cb683-1" tabindex="-1"></a>greeting <span class="ot">&lt;-</span> <span class="st">&quot;hello&quot;</span></span>
<span id="cb683-2"><a href="#cb683-2" tabindex="-1"></a>greeting</span></code></pre></div>
<pre><code>## [1] &quot;hello&quot;</code></pre>
<p>When interpreting this, it's important to recognise that the quote marks here <em>aren't</em> part of the string itself. They're just something that we use to make sure that R knows to treat the characters that they enclose as a piece of text data, known as a <strong><em>character string</em></strong>. In other words, R treats <code>"hello"</code> as a string containing the word "hello"; but if I had typed <code>hello</code> instead, R would go looking for a variable by that name! You can also use <code>'hello'</code> to specify a character string.</p>
<p>Okay, so that's how we store the text. Next, it's important to recognise that when we do this, R stores the entire word <code>"hello"</code> as a <em>single</em> element: our <code>greeting</code> variable is <em>not</em> a vector of five different letters. Rather, it has only the one element, and that element corresponds to the entire character string <code>"hello"</code>. To illustrate this, if I actually ask R to find the first element of <code>greeting</code>, it prints the whole string:</p>
<div class="sourceCode" id="cb685"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb685-1"><a href="#cb685-1" tabindex="-1"></a>greeting[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] &quot;hello&quot;</code></pre>
<p>Of course, there's no reason why I can't create a vector of character strings. For instance, if we were to continue with the example of my attempts to look at the monthly sales data for my book, one variable I might want would include the names of all 12 <code>months</code>.<a href="#fn23" class="footnote-ref" id="fnref23"><sup>23</sup></a> To do so, I could type in a command like this</p>
<div class="sourceCode" id="cb687"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb687-1"><a href="#cb687-1" tabindex="-1"></a>months <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;January&quot;</span>, <span class="st">&quot;February&quot;</span>, <span class="st">&quot;March&quot;</span>, <span class="st">&quot;April&quot;</span>, <span class="st">&quot;May&quot;</span>, <span class="st">&quot;June&quot;</span>,</span>
<span id="cb687-2"><a href="#cb687-2" tabindex="-1"></a>            <span class="st">&quot;July&quot;</span>, <span class="st">&quot;August&quot;</span>, <span class="st">&quot;September&quot;</span>, <span class="st">&quot;October&quot;</span>, <span class="st">&quot;November&quot;</span>, </span>
<span id="cb687-3"><a href="#cb687-3" tabindex="-1"></a>            <span class="st">&quot;December&quot;</span>)</span></code></pre></div>
<p>This is a <strong><em>character vector</em></strong> containing 12 elements, each of which is the name of a month. So if I wanted R to tell me the name of the fourth month, all I would do is this:</p>
<div class="sourceCode" id="cb688"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb688-1"><a href="#cb688-1" tabindex="-1"></a>months[<span class="dv">4</span>]</span></code></pre></div>
<pre><code>## [1] &quot;April&quot;</code></pre>
<div id="simpletext" class="section level3" number="42.7.1">
<h3><span class="header-section-number">42.7.1</span> Working with text</h3>
<p>Working with text data is somewhat more complicated than working with numeric data, and I discuss some of the basic ideas in Section @ref(textprocessing), but for purposes of the current chapter we only need this bare bones sketch. The only other thing I want to do before moving on is show you an example of a function that can be applied to text data. So far, most of the functions that we have seen (i.e., <code>sqrt()</code>, <code>abs()</code> and <code>round()</code>) only make sense when applied to numeric data (e.g., you can't calculate the square root of "hello"), and we've seen one function that can be applied to pretty much any variable or vector (i.e., <code>length()</code>). So it might be nice to see an example of a function that can be applied to text.</p>
<p>The function I'm going to introduce you to is called <code>nchar()</code>, and what it does is count the number of individual characters that make up a string. Recall earlier that when we tried to calculate the <code>length()</code> of our <code>greeting</code> variable it returned a value of <code>1</code>: the <code>greeting</code> variable contains only the one string, which happens to be <code>"hello"</code>. But what if I want to know how many letters there are in the word? Sure, I could <em>count</em> them, but that's boring, and more to the point it's a terrible strategy if what I wanted to know was the number of letters in <em>War and Peace</em>. That's where the <code>nchar()</code> function is helpful:</p>
<div class="sourceCode" id="cb690"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb690-1"><a href="#cb690-1" tabindex="-1"></a><span class="fu">nchar</span>( <span class="at">x =</span> greeting )</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>That makes sense, since there are in fact 5 letters in the string <code>"hello"</code>. Better yet, you can apply <code>nchar()</code> to whole vectors. So, for instance, if I want R to tell me how many letters there are in the names of each of the 12 months, I can do this:</p>
<div class="sourceCode" id="cb692"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb692-1"><a href="#cb692-1" tabindex="-1"></a><span class="fu">nchar</span>( <span class="at">x =</span> months )</span></code></pre></div>
<pre><code>##  [1] 7 8 5 5 3 4 4 6 9 7 8 8</code></pre>
<p>So that's nice to know. The <code>nchar()</code> function can do a bit more than this, and there's a lot of other functions that you can do to extract more information from text or do all sorts of fancy things. However, the goal here is not to teach any of that! The goal right now is just to see an example of a function that actually does work when applied to text.</p>
</div>
</div>
<div id="logicals" class="section level2" number="42.8">
<h2><span class="header-section-number">42.8</span> Storing "true or false" data</h2>
<p>Time to move onto a third kind of data. A key concept in that a lot of R relies on is the idea of a <strong><em>logical value</em></strong>. A logical value is an assertion about whether something is true or false. This is implemented in R in a pretty straightforward way. There are two logical values, namely <code>TRUE</code> and <code>FALSE</code>. Despite the simplicity, a logical values are very useful things. Let's see how they work.</p>
<div id="assessing-mathematical-truths-1" class="section level3" number="42.8.1">
<h3><span class="header-section-number">42.8.1</span> Assessing mathematical truths</h3>
<p>In George Orwell's classic book <em>1984</em>, one of the slogans used by the totalitarian Party was "two plus two equals five", the idea being that the political domination of human freedom becomes complete when it is possible to subvert even the most basic of truths. It's a terrifying thought, especially when the protagonist Winston Smith finally breaks down under torture and agrees to the proposition. "Man is infinitely malleable", the book says. I'm pretty sure that this isn't true of humans<a href="#fn24" class="footnote-ref" id="fnref24"><sup>24</sup></a> but it's definitely not true of R. R is not infinitely malleable. It has rather firm opinions on the topic of what is and isn't true, at least as regards basic mathematics. If I ask it to calculate <code>2 + 2</code>, it always gives the same answer, and it's not bloody 5:</p>
<div class="sourceCode" id="cb694"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb694-1"><a href="#cb694-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>Of course, so far R is just doing the calculations. I haven't asked it to explicitly assert that <span class="math inline">\(2+2 = 4\)</span> is a true statement. If I want R to make an explicit judgement, I can use a command like this:</p>
<div class="sourceCode" id="cb696"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb696-1"><a href="#cb696-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>What I've done here is use the <strong><em>equality operator</em></strong>, <code>==</code>, to force R to make a "true or false" judgement.<a href="#fn25" class="footnote-ref" id="fnref25"><sup>25</sup></a> Okay, let's see what R thinks of the Party slogan:</p>
<div class="sourceCode" id="cb698"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb698-1"><a href="#cb698-1" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Booyah! Freedom and ponies for all! Or something like that. Anyway, it's worth having a look at what happens if I try to <em>force</em> R to believe that two plus two is five by making an assignment statement like <code>2 + 2 = 5</code> or <code>2 + 2 &lt;- 5</code>. When I do this, here's what happens:</p>
<div class="sourceCode" id="cb700"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb700-1"><a href="#cb700-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="ot">=</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## Error in 2 + 2 = 5: target of assignment expands to non-language object</code></pre>
<p>R doesn't like this very much. It recognises that <code>2 + 2</code> is <em>not</em> a variable (that's what the "non-language object" part is saying), and it won't let you try to "reassign" it. While R is pretty flexible, and actually does let you do some quite remarkable things to redefine parts of R itself, there are just some basic, primitive truths that it refuses to give up. It won't change the laws of addition, and it won't change the definition of the number <code>2</code>.</p>
<p>That's probably for the best.</p>
</div>
<div id="logical-operations" class="section level3" number="42.8.2">
<h3><span class="header-section-number">42.8.2</span> Logical operations</h3>
<p>So now we've seen logical operations at work, but so far we've only seen the simplest possible example. You probably won't be surprised to discover that we can combine logical operations with other operations and functions in a more complicated way, like this:</p>
<div class="sourceCode" id="cb702"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb702-1"><a href="#cb702-1" tabindex="-1"></a><span class="dv">3</span><span class="sc">*</span><span class="dv">3</span> <span class="sc">+</span> <span class="dv">4</span><span class="sc">*</span><span class="dv">4</span> <span class="sc">==</span> <span class="dv">5</span><span class="sc">*</span><span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>or this</p>
<div class="sourceCode" id="cb704"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb704-1"><a href="#cb704-1" tabindex="-1"></a><span class="fu">sqrt</span>( <span class="dv">25</span> ) <span class="sc">==</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Not only that, but as Table @ref(tab:logicals) illustrates, there are several other logical operators that you can use, corresponding to some basic mathematical concepts.</p>
<table>
<caption>(#tab:logicals)Some logical operators. Technically I should be calling these "binary relational operators", but quite frankly I don't want to. It's my book so no-one can make me.</caption>
<thead>
<tr class="header">
<th align="left">operation</th>
<th align="left">operator</th>
<th align="left">example input</th>
<th align="left">answer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">less than</td>
<td align="left">&lt;</td>
<td align="left">2 &lt; 3</td>
<td align="left"><code>TRUE</code></td>
</tr>
<tr class="even">
<td align="left">less than or equal to</td>
<td align="left">&lt;=</td>
<td align="left">2 &lt;= 2</td>
<td align="left"><code>TRUE</code></td>
</tr>
<tr class="odd">
<td align="left">greater than</td>
<td align="left">&gt;</td>
<td align="left">2 &gt; 3</td>
<td align="left"><code>FALSE</code></td>
</tr>
<tr class="even">
<td align="left">greater than or equal to</td>
<td align="left">&gt;=</td>
<td align="left">2 &gt;= 2</td>
<td align="left"><code>TRUE</code></td>
</tr>
<tr class="odd">
<td align="left">equal to</td>
<td align="left">==</td>
<td align="left">2 == 3</td>
<td align="left"><code>FALSE</code></td>
</tr>
<tr class="even">
<td align="left">not equal to</td>
<td align="left">!=</td>
<td align="left">2 != 3</td>
<td align="left"><code>TRUE</code></td>
</tr>
</tbody>
</table>
<p>Hopefully these are all pretty self-explanatory: for example, the <strong><em>less than</em></strong> operator <code>&lt;</code> checks to see if the number on the left is less than the number on the right. If it's less, then R returns an answer of <code>TRUE</code>:</p>
<div class="sourceCode" id="cb706"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb706-1"><a href="#cb706-1" tabindex="-1"></a><span class="dv">99</span> <span class="sc">&lt;</span> <span class="dv">100</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>but if the two numbers are equal, or if the one on the right is larger, then R returns an answer of <code>FALSE</code>, as the following two examples illustrate:</p>
<div class="sourceCode" id="cb708"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb708-1"><a href="#cb708-1" tabindex="-1"></a><span class="dv">100</span> <span class="sc">&lt;</span> <span class="dv">100</span></span>
<span id="cb708-2"><a href="#cb708-2" tabindex="-1"></a></span>
<span id="cb708-3"><a href="#cb708-3" tabindex="-1"></a><span class="dv">100</span> <span class="sc">&lt;</span> <span class="dv">99</span></span></code></pre></div>
<pre><code>## [1] FALSE
## [1] FALSE</code></pre>
<p>In contrast, the <strong><em>less than or equal to</em></strong> operator <code>&lt;=</code> will do exactly what it says. It returns a value of <code>TRUE</code> if the number of the left hand side is less than or equal to the number on the right hand side. So if we repeat the previous two examples using <code>&lt;=</code>, here's what we get:</p>
<div class="sourceCode" id="cb710"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb710-1"><a href="#cb710-1" tabindex="-1"></a><span class="dv">100</span> <span class="sc">&lt;=</span> <span class="dv">100</span></span>
<span id="cb710-2"><a href="#cb710-2" tabindex="-1"></a></span>
<span id="cb710-3"><a href="#cb710-3" tabindex="-1"></a><span class="dv">100</span> <span class="sc">&lt;=</span> <span class="dv">99</span></span></code></pre></div>
<pre><code>## [1] TRUE
## [1] FALSE</code></pre>
<p>And at this point I hope it's pretty obvious what the <strong><em>greater than</em></strong> operator <code>&gt;</code> and the <strong><em>greater than or equal to</em></strong> operator <code>&gt;=</code> do! Next on the list of logical operators is the <strong><em>not equal to</em></strong> operator <code>!=</code> which -- as with all the others -- does what it says it does. It returns a value of <code>TRUE</code> when things on either side are not identical to each other. Therefore, since <span class="math inline">\(2+2\)</span> isn't equal to <span class="math inline">\(5\)</span>, we get:</p>
<div class="sourceCode" id="cb712"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb712-1"><a href="#cb712-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">!=</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>We're not quite done yet. There are three more logical operations that are worth knowing about, listed in Table @ref(tab:logicals2).</p>
<table>
<caption>(#tab:logicals2)Some more logical operators.</caption>
<thead>
<tr class="header">
<th align="left">operation</th>
<th align="left">operator</th>
<th align="left">example input</th>
<th align="left">answer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">not</td>
<td align="left">!</td>
<td align="left">!(1==1)</td>
<td align="left"><code>FALSE</code></td>
</tr>
<tr class="even">
<td align="left">or</td>
<td align="left">|</td>
<td align="left">(1==1) | (2==3)</td>
<td align="left"><code>TRUE</code></td>
</tr>
<tr class="odd">
<td align="left">and</td>
<td align="left">&amp;</td>
<td align="left">(1==1) &amp; (2==3)</td>
<td align="left"><code>FALSE</code></td>
</tr>
</tbody>
</table>
<p>These are the <strong><em>not</em></strong> operator <code>!</code>, the <strong><em>and</em></strong> operator <code>&amp;</code>, and the <strong><em>or</em></strong> operator <code>|</code>. Like the other logical operators, their behaviour is more or less exactly what you'd expect given their names. For instance, if I ask you to assess the claim that "either <span class="math inline">\(2+2 = 4\)</span> <em>or</em> <span class="math inline">\(2+2 = 5\)</span>" you'd say that it's true. Since it's an "either-or" statement, all we need is for one of the two parts to be true. That's what the <code>|</code> operator does:</p>
<div class="sourceCode" id="cb714"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb714-1"><a href="#cb714-1" tabindex="-1"></a>(<span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">4</span>) <span class="sc">|</span> (<span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>On the other hand, if I ask you to assess the claim that "both <span class="math inline">\(2+2 = 4\)</span> <em>and</em> <span class="math inline">\(2+2 = 5\)</span>" you'd say that it's false. Since this is an <em>and</em> statement we need both parts to be true. And that's what the <code>&amp;</code> operator does:</p>
<div class="sourceCode" id="cb716"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb716-1"><a href="#cb716-1" tabindex="-1"></a>(<span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">4</span>) <span class="sc">&amp;</span> (<span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Finally, there's the <em>not</em> operator, which is simple but annoying to describe in English. If I ask you to assess my claim that "it is not true that <span class="math inline">\(2+2 = 5\)</span>" then you would say that my claim is true; because my claim is that "<span class="math inline">\(2+2 = 5\)</span> is false". And I'm right. If we write this as an R command we get this:</p>
<div class="sourceCode" id="cb718"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb718-1"><a href="#cb718-1" tabindex="-1"></a><span class="sc">!</span> (<span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>In other words, since <code>2+2 == 5</code> is a <code>FALSE</code> statement, it must be the case that <code>!(2+2 == 5)</code> is a <code>TRUE</code> one. Essentially, what we've really done is claim that "not false" is the same thing as "true". Obviously, this isn't really quite right in real life. But R lives in a much more black or white world: for R everything is either true or false. No shades of gray are allowed. We can actually see this much more explicitly, like this:</p>
<div class="sourceCode" id="cb720"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb720-1"><a href="#cb720-1" tabindex="-1"></a><span class="sc">!</span> <span class="cn">FALSE</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Of course, in our <span class="math inline">\(2+2 = 5\)</span> example, we didn't really need to use "not" <code>!</code> and "equals to" <code>==</code> as two separate operators. We could have just used the "not equals to" operator <code>!=</code> like this:</p>
<div class="sourceCode" id="cb722"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb722-1"><a href="#cb722-1" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">!=</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>But there are many situations where you really do need to use the <code>!</code> operator. We'll see some later on.<a href="#fn26" class="footnote-ref" id="fnref26"><sup>26</sup></a></p>
</div>
<div id="storing-and-using-logical-data" class="section level3" number="42.8.3">
<h3><span class="header-section-number">42.8.3</span> Storing and using logical data</h3>
<p>Up to this point, I've introduced <em>numeric data</em> (in Sections @ref(assign) and @ref(vectors)) and <em>character data</em> (in Section @ref(text)). So you might not be surprised to discover that these <code>TRUE</code> and <code>FALSE</code> values that R has been producing are actually a third kind of data, called <em>logical data</em>. That is, when I asked R if <code>2 + 2 == 5</code> and it said <code>[1] FALSE</code> in reply, it was actually producing information that we can store in variables. For instance, I could create a variable called <code>is.the.Party.correct</code>, which would store R's opinion:</p>
<div class="sourceCode" id="cb724"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb724-1"><a href="#cb724-1" tabindex="-1"></a>is.the.Party.correct <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">5</span></span>
<span id="cb724-2"><a href="#cb724-2" tabindex="-1"></a>is.the.Party.correct</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Alternatively, you can assign the value directly, by typing <code>TRUE</code> or <code>FALSE</code> in your command. Like this:</p>
<div class="sourceCode" id="cb726"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb726-1"><a href="#cb726-1" tabindex="-1"></a>is.the.Party.correct <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb726-2"><a href="#cb726-2" tabindex="-1"></a>is.the.Party.correct</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Better yet, because it's kind of tedious to type <code>TRUE</code> or <code>FALSE</code> over and over again, R provides you with a shortcut: you can use <code>T</code> and <code>F</code> instead (but it's case sensitive: <code>t</code> and <code>f</code> won't work).<a href="#fn27" class="footnote-ref" id="fnref27"><sup>27</sup></a> So this works:</p>
<div class="sourceCode" id="cb728"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb728-1"><a href="#cb728-1" tabindex="-1"></a>is.the.Party.correct <span class="ot">&lt;-</span> F</span>
<span id="cb728-2"><a href="#cb728-2" tabindex="-1"></a>is.the.Party.correct</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>but this doesn't:</p>
<div class="sourceCode" id="cb730"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb730-1"><a href="#cb730-1" tabindex="-1"></a>is.the.Party.correct <span class="ot">&lt;-</span> f</span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;f&#39; not found</code></pre>
</div>
<div id="vectors-of-logicals" class="section level3" number="42.8.4">
<h3><span class="header-section-number">42.8.4</span> Vectors of logicals</h3>
<p>The next thing to mention is that you can store vectors of logical values in exactly the same way that you can store vectors of numbers (Section @ref(vectors)) and vectors of text data (Section @ref(text)). Again, we can define them directly via the <code>c()</code> function, like this:</p>
<div class="sourceCode" id="cb732"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb732-1"><a href="#cb732-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb732-2"><a href="#cb732-2" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE</code></pre>
<p>or you can produce a vector of logicals by applying a logical operator to a vector. This might not make a lot of sense to you, so let's unpack it slowly. First, let's suppose we have a vector of numbers (i.e., a "non-logical vector"). For instance, we could use the <code>sales.by.month</code> vector that we were using in Section @ref(vectors). Suppose I wanted R to tell me, for each month of the year, whether I actually sold a book in that month. I can do that by typing this:</p>
<div class="sourceCode" id="cb734"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb734-1"><a href="#cb734-1" tabindex="-1"></a>sales.by.month <span class="sc">&gt;</span> <span class="dv">0</span></span></code></pre></div>
<pre><code>##  [1] FALSE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE
## [12] FALSE</code></pre>
<p>and again, I can store this in a vector if I want, as the example below illustrates:</p>
<div class="sourceCode" id="cb736"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb736-1"><a href="#cb736-1" tabindex="-1"></a>any.sales.this.month <span class="ot">&lt;-</span> sales.by.month <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb736-2"><a href="#cb736-2" tabindex="-1"></a>any.sales.this.month</span></code></pre></div>
<pre><code>##  [1] FALSE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE
## [12] FALSE</code></pre>
<p>In other words, <code>any.sales.this.month</code> is a logical vector whose elements are <code>TRUE</code> only if the corresponding element of <code>sales.by.month</code> is greater than zero. For instance, since I sold zero books in January, the first element is <code>FALSE</code>.</p>
</div>
<div id="logictext" class="section level3" number="42.8.5">
<h3><span class="header-section-number">42.8.5</span> Applying logical operation to text</h3>
<p>In a moment (Section @ref(indexing)) I'll show you why these logical operations and logical vectors are so handy, but before I do so I want to very briefly point out that you can apply them to text as well as to logical data. It's just that we need to be a bit more careful in understanding how R interprets the different operations. In this section I'll talk about how the equal to operator <code>==</code> applies to text, since this is the most important one. Obviously, the not equal to operator <code>!=</code> gives the exact opposite answers to <code>==</code> so I'm implicitly talking about that one too, but I won't give specific commands showing the use of <code>!=</code>. As for the other operators, I'll defer a more detailed discussion of this topic to Section @ref(logictext2).</p>
<p>Okay, let's see how it works. In one sense, it's very simple. For instance, I can ask R if the word <code>"cat"</code> is the same as the word <code>"dog"</code>, like this:</p>
<div class="sourceCode" id="cb738"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb738-1"><a href="#cb738-1" tabindex="-1"></a><span class="st">&quot;cat&quot;</span> <span class="sc">==</span> <span class="st">&quot;dog&quot;</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>That's pretty obvious, and it's good to know that even R can figure that out. Similarly, R does recognise that a <code>"cat"</code> is a <code>"cat"</code>:</p>
<div class="sourceCode" id="cb740"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb740-1"><a href="#cb740-1" tabindex="-1"></a><span class="st">&quot;cat&quot;</span> <span class="sc">==</span> <span class="st">&quot;cat&quot;</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Again, that's exactly what we'd expect. However, what you need to keep in mind is that R is not at all tolerant when it comes to grammar and spacing. If two strings differ in any way whatsoever, R will say that they're not equal to each other, as the following examples indicate:</p>
<div class="sourceCode" id="cb742"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb742-1"><a href="#cb742-1" tabindex="-1"></a><span class="st">&quot; cat&quot;</span> <span class="sc">==</span> <span class="st">&quot;cat&quot;</span></span>
<span id="cb742-2"><a href="#cb742-2" tabindex="-1"></a></span>
<span id="cb742-3"><a href="#cb742-3" tabindex="-1"></a><span class="st">&quot;cat&quot;</span> <span class="sc">==</span> <span class="st">&quot;CAT&quot;</span></span>
<span id="cb742-4"><a href="#cb742-4" tabindex="-1"></a></span>
<span id="cb742-5"><a href="#cb742-5" tabindex="-1"></a><span class="st">&quot;cat&quot;</span> <span class="sc">==</span> <span class="st">&quot;c a t&quot;</span></span></code></pre></div>
<pre><code>## [1] FALSE
## [1] FALSE
## [1] FALSE</code></pre>
</div>
</div>
<div id="indexing" class="section level2" number="42.9">
<h2><span class="header-section-number">42.9</span> Indexing vectors</h2>
<p>One last thing to add before finishing up this chapter. So far, whenever I've had to get information out of a vector, all I've done is typed something like <code>months[4]</code>; and when I do this R prints out the fourth element of the <code>months</code> vector. In this section, I'll show you two additional tricks for getting information out of the vector.</p>
<div id="extracting-multiple-elements" class="section level3" number="42.9.1">
<h3><span class="header-section-number">42.9.1</span> Extracting multiple elements</h3>
<p>One very useful thing we can do is pull out more than one element at a time. In the previous example, we only used a single number (i.e., <code>2</code>) to indicate which element we wanted. Alternatively, we can use a vector. So, suppose I wanted the data for February, March and April. What I could do is use the vector <code>c(2,3,4)</code> to indicate which elements I want R to pull out. That is, I'd type this:</p>
<div class="sourceCode" id="cb744"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb744-1"><a href="#cb744-1" tabindex="-1"></a>sales.by.month[ <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>) ]</span></code></pre></div>
<pre><code>## [1] 100 200  50</code></pre>
<p>Notice that the order matters here. If I asked for the data in the reverse order (i.e., April first, then March, then February) by using the vector <code>c(4,3,2)</code>, then R outputs the data in the reverse order:</p>
<div class="sourceCode" id="cb746"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb746-1"><a href="#cb746-1" tabindex="-1"></a>sales.by.month[ <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>) ]</span></code></pre></div>
<pre><code>## [1]  50 200 100</code></pre>
<p>A second thing to be aware of is that R provides you with handy shortcuts for very common situations. For instance, suppose that I wanted to extract everything from the 2nd month through to the 8th month. One way to do this is to do the same thing I did above, and use the vector <code>c(2,3,4,5,6,7,8)</code> to indicate the elements that I want. That works just fine</p>
<div class="sourceCode" id="cb748"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb748-1"><a href="#cb748-1" tabindex="-1"></a>sales.by.month[ <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>) ]</span></code></pre></div>
<pre><code>## [1] 100 200  50  25   0   0   0</code></pre>
<p>but it's kind of a lot of typing. To help make this easier, R lets you use <code>2:8</code> as shorthand for <code>c(2,3,4,5,6,7,8)</code>, which makes things a lot simpler. First, let's just check that this is true:</p>
<div class="sourceCode" id="cb750"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb750-1"><a href="#cb750-1" tabindex="-1"></a><span class="dv">2</span><span class="sc">:</span><span class="dv">8</span></span></code></pre></div>
<pre><code>## [1] 2 3 4 5 6 7 8</code></pre>
<p>Next, let's check that we can use the <code>2:8</code> shorthand as a way to pull out the 2nd through 8th elements of <code>sales.by.months</code>:</p>
<div class="sourceCode" id="cb752"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb752-1"><a href="#cb752-1" tabindex="-1"></a>sales.by.month[<span class="dv">2</span><span class="sc">:</span><span class="dv">8</span>]</span></code></pre></div>
<pre><code>## [1] 100 200  50  25   0   0   0</code></pre>
<p>So that's kind of neat.</p>
</div>
<div id="logical-indexing" class="section level3" number="42.9.2">
<h3><span class="header-section-number">42.9.2</span> Logical indexing</h3>
<p>At this point, I can introduce an extremely useful tool called <strong><em>logical indexing</em></strong>. In the last section, I created a logical vector <code>any.sales.this.month</code>, whose elements are <code>TRUE</code> for any month in which I sold at least one book, and <code>FALSE</code> for all the others. However, that big long list of <code>TRUE</code>s and <code>FALSE</code>s is a little bit hard to read, so what I'd like to do is to have R select the names of the <code>months</code> for which I sold any books. Earlier on, I created a vector <code>months</code> that contains the names of each of the months. This is where logical indexing is handy. What I need to do is this:</p>
<div class="sourceCode" id="cb754"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb754-1"><a href="#cb754-1" tabindex="-1"></a>months[ sales.by.month <span class="sc">&gt;</span> <span class="dv">0</span> ]</span></code></pre></div>
<pre><code>## [1] &quot;February&quot; &quot;March&quot;    &quot;April&quot;    &quot;May&quot;</code></pre>
<p>To understand what's happening here, it's helpful to notice that <code>sales.by.month &gt; 0</code> is the same logical expression that we used to create the <code>any.sales.this.month</code> vector in the last section. In fact, I could have just done this:</p>
<div class="sourceCode" id="cb756"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb756-1"><a href="#cb756-1" tabindex="-1"></a>months[ any.sales.this.month ]</span></code></pre></div>
<pre><code>## [1] &quot;February&quot; &quot;March&quot;    &quot;April&quot;    &quot;May&quot;</code></pre>
<p>and gotten exactly the same result. In order to figure out which elements of <code>months</code> to include in the output, what R does is look to see if the corresponding element in <code>any.sales.this.month</code> is <code>TRUE</code>. Thus, since element 1 of <code>any.sales.this.month</code> is <code>FALSE</code>, R does not include <code>"January"</code> as part of the output; but since element 2 of <code>any.sales.this.month</code> is <code>TRUE</code>, R does include <code>"February"</code> in the output. Note that there's no reason why I can't use the same trick to find the actual sales numbers for those months. The command to do that would just be this:</p>
<div class="sourceCode" id="cb758"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb758-1"><a href="#cb758-1" tabindex="-1"></a>sales.by.month [ sales.by.month <span class="sc">&gt;</span> <span class="dv">0</span> ]</span></code></pre></div>
<pre><code>## [1] 100 200  50  25</code></pre>
<p>In fact, we can do the same thing with text. Here's an example. Suppose that -- to continue the saga of the textbook sales -- I later find out that the bookshop only had sufficient stocks for a few months of the year. They tell me that early in the year they had <code>"high"</code> stocks, which then dropped to <code>"low"</code> levels, and in fact for one month they were <code>"out"</code> of copies of the book for a while before they were able to replenish them. Thus I might have a variable called <code>stock.levels</code> which looks like this:</p>
<div class="sourceCode" id="cb760"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb760-1"><a href="#cb760-1" tabindex="-1"></a>stock.levels<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;out&quot;</span>, <span class="st">&quot;out&quot;</span>, <span class="st">&quot;high&quot;</span>,</span>
<span id="cb760-2"><a href="#cb760-2" tabindex="-1"></a>                <span class="st">&quot;high&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;high&quot;</span>)</span>
<span id="cb760-3"><a href="#cb760-3" tabindex="-1"></a></span>
<span id="cb760-4"><a href="#cb760-4" tabindex="-1"></a>stock.levels</span></code></pre></div>
<pre><code>##  [1] &quot;high&quot; &quot;high&quot; &quot;low&quot;  &quot;out&quot;  &quot;out&quot;  &quot;high&quot; &quot;high&quot; &quot;high&quot; &quot;high&quot; &quot;high&quot;
## [11] &quot;high&quot; &quot;high&quot;</code></pre>
<p>Thus, if I want to know the months for which the bookshop was out of my book, I could apply the logical indexing trick, but with the character vector <code>stock.levels</code>, like this:</p>
<div class="sourceCode" id="cb762"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb762-1"><a href="#cb762-1" tabindex="-1"></a>months[stock.levels <span class="sc">==</span> <span class="st">&quot;out&quot;</span>]</span></code></pre></div>
<pre><code>## [1] &quot;April&quot; &quot;May&quot;</code></pre>
<p>Alternatively, if I want to know when the bookshop was either low on copies or out of copies, I could do this:</p>
<div class="sourceCode" id="cb764"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb764-1"><a href="#cb764-1" tabindex="-1"></a>months[stock.levels <span class="sc">==</span> <span class="st">&quot;out&quot;</span> <span class="sc">|</span> stock.levels <span class="sc">==</span> <span class="st">&quot;low&quot;</span>]</span></code></pre></div>
<pre><code>## [1] &quot;March&quot; &quot;April&quot; &quot;May&quot;</code></pre>
<p>or this</p>
<div class="sourceCode" id="cb766"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb766-1"><a href="#cb766-1" tabindex="-1"></a>months[stock.levels <span class="sc">!=</span> <span class="st">&quot;high&quot;</span> ]</span></code></pre></div>
<pre><code>## [1] &quot;March&quot; &quot;April&quot; &quot;May&quot;</code></pre>
<p>Either way, I get the answer I want.</p>
<p>At this point, I hope you can see why logical indexing is such a useful thing. It's a very basic, yet very powerful way to manipulate data. We'll talk a lot more about how to manipulate data in Chapter @ref(datahandling), since it's a critical skill for real world research that is often overlooked in introductory research methods classes (or at least, that's been my experience). It does take a bit of practice to become completely comfortable using logical indexing, so it's a good idea to play around with these sorts of commands. Try creating a few different variables of your own, and then ask yourself questions like "how do I get R to spit out all the elements that are [blah]". Practice makes perfect, and it's only by practicing logical indexing that you'll perfect the art of yelling frustrated insults at your computer.<a href="#fn28" class="footnote-ref" id="fnref28"><sup>28</sup></a></p>
</div>
</div>
<div id="quitting-r" class="section level2" number="42.10">
<h2><span class="header-section-number">42.10</span> Quitting R</h2>
<p>There's one last thing I should cover in this chapter: how to quit R. When I say this, I'm not trying to imply that R is some kind of pathological addition and that you need to call the R QuitLine or wear patches to control the cravings (although you certainly might argue that there's something seriously pathological about being addicted to R). I just mean how to exit the program. Assuming you're running R in the usual way (i.e., through RStudio or the default GUI on a Windows or Mac computer), then you can just shut down the application in the normal way. However, R also has a function, called <code>q()</code> that you can use to quit, which is pretty handy if you're running R in a terminal window.</p>
<p>Regardless of what method you use to quit R, when you do so for the first time R will probably ask you if you want to save the "workspace image". We'll talk a lot more about loading and saving data in Section @ref(load), but I figured we'd better quickly cover this now otherwise you're going to get annoyed when you close R at the end of the chapter. If you're using RStudio, you'll see a dialog box that looks like the one shown in Figure @ref(fig:quitR). If you're using a text based interface you'll see this:</p>
<div class="sourceCode" id="cb768"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb768-1"><a href="#cb768-1" tabindex="-1"></a><span class="fu">q</span>()</span>
<span id="cb768-2"><a href="#cb768-2" tabindex="-1"></a></span>
<span id="cb768-3"><a href="#cb768-3" tabindex="-1"></a><span class="do">## Save workspace image? [y/n/c]: </span></span></code></pre></div>
<p>The <code>y/n/c</code> part here is short for "yes / no / cancel". Type <code>y</code> if you want to save, <code>n</code> if you don't, and <code>c</code> if you've changed your mind and you don't want to quit after all.</p>
<p>What does this actually <em>mean</em>? What's going on is that R wants to know if you want to save all those variables that you've been creating, so that you can use them later. This sounds like a great idea, so it's really tempting to type <code>y</code> or click the "Save" button. To be honest though, I very rarely do this, and it kind of annoys me a little bit... what R is <em>really</em> asking is if you want it to store these variables in a "default" data file, which it will automatically reload for you next time you open R. And quite frankly, if I'd wanted to save the variables, then I'd have already saved them before trying to quit. Not only that, I'd have saved them to a location of <em>my</em> choice, so that I can find it again later. So I personally never bother with this.</p>
<p>In fact, every time I install R on a new machine one of the first things I do is change the settings so that it never asks me again. You can do this in RStudio really easily: use the menu system to find the RStudio option; the dialog box that comes up will give you an option to tell R never to whine about this again (see Figure @ref(fig:RStudiooptions). On a Mac, you can open this window by going to the "RStudio" menu and selecting "Preferences". On a Windows machine you go to the "Tools" menu and select "Global Options". Under the "General" tab you'll see an option that reads "Save workspace to .Rdata on exit". By default this is set to "ask". If you want R to stop asking, change it to "never".</p>
</div>
<div id="summary-2" class="section level2" number="42.11">
<h2><span class="header-section-number">42.11</span> Summary</h2>
<p>Every book that tries to introduce basic programming ideas to novices has to cover roughly the same topics, and in roughly the same order. Mine is no exception, and so in the grand tradition of doing it just the same way everyone else did it, this chapter covered the following topics:</p>
<ul>
<li><a href="#gettingR">Getting started</a>. We downloaded and installed R and RStudio</li>
<li><a href="#arithmetic">Basic commands</a>. We talked a bit about the logic of how R works and in particular how to type commands into the R console (Section @ref(#firstcommand), and in doing so learned how to perform basic calculations using the arithmetic operators <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> and <code>^</code>.</li>
<li><a href="#usingfunctions">Introduction to functions</a>. We saw several different functions, three that are used to perform numeric calculations (<code>sqrt()</code>, <code>abs()</code>, <code>round()</code>, one that applies to text (<code>nchar()</code>; Section @ref(simpletext)), and one that works on any variable (<code>length()</code>; Section @ref(veclength)). In doing so, we talked a bit about how argument names work, and learned about default values for arguments. (Section @ref(functionarguments))</li>
<li>Introduction to variables. We learned the basic idea behind variables, and how to assign values to variables using the assignment operator <code>&lt;-</code> (Section @ref(assign)). We also learned how to create vectors using the combine function <code>c()</code> (Section @ref(vectors)).</li>
<li>Data types. Learned the distinction between numeric, character and logical data; including the basics of how to enter and use each of them. (Sections @ref(assign) to @ref(logicals))</li>
<li><a href="#logicals">Logical operations</a>. Learned how to use the logical operators <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>=&gt;</code>, <code>!</code>, <code>&amp;</code> and <code>|</code>. And learned how to use logical indexing. (Section @ref(indexing))</li>
</ul>
<!--chapter:end:a-learningR.Rmd-->
</div>
</div>
<div id="session-1-foundations-of-programming-in-r" class="section level1" number="43">
<h1><span class="header-section-number">43</span> Session 1: Foundations of Programming in R</h1>
<div id="introduction-to-r-and-rstudio-30-minutes" class="section level2" number="43.1">
<h2><span class="header-section-number">43.1</span> Introduction to R and RStudio (30 minutes)</h2>
<p>Brief overview of R and its applications in data analysis and programming.
Introduction to RStudio as an integrated development environment (IDE) for R.
Navigating the RStudio interface: scripts, console, environment, and plots.</p>
</div>
<div id="objects-variables-and-data-types-1-hour" class="section level2" number="43.2">
<h2><span class="header-section-number">43.2</span> Objects, Variables, and Data Types (1 hour)</h2>
<p>Understanding the concept of objects in R: vectors, matrices, data frames, lists.
Assigning values to variables and creating different data types.
Basic operations with objects: arithmetic, indexing, and subsetting.</p>
</div>
<div id="good-coding-practices-and-style-1-hour" class="section level2" number="43.3">
<h2><span class="header-section-number">43.3</span> Good Coding Practices and Style (1 hour)</h2>
<p>Importance of clean and readable code.
Naming conventions for variables, functions, and objects.
Indentation, spacing, and commenting for code clarity.
Introduction to linting tools for code style checking.</p>
</div>
<div id="control-flow-if-else-statements-1-hour" class="section level2" number="43.4">
<h2><span class="header-section-number">43.4</span> Control Flow: If-Else Statements (1 hour)</h2>
<p>Introduction to control structures for conditional execution.
Writing if-else statements for decision-making in code.
Handling multiple conditions using nested if-else statements.</p>
</div>
<div id="writing-functions-in-r-1-hour" class="section level2" number="43.5">
<h2><span class="header-section-number">43.5</span> Writing Functions in R (1 hour)</h2>
<p>Understanding the role and benefits of functions in programming.
Creating custom functions using the function() keyword.
Passing arguments to functions and returning values.
Best practices for function design and documentation.</p>
</div>
<div id="hands-on-exercises-and-practice-30-minutes" class="section level2" number="43.6">
<h2><span class="header-section-number">43.6</span> Hands-On Exercises and Practice (30 minutes)</h2>
<p>Interactive coding exercises to reinforce concepts learned.
Applying if-else statements and writing basic functions.
Encouraging participants to practice coding in RStudio.</p>
</div>
<div id="nucleotide-generator" class="section level2" number="43.7">
<h2><span class="header-section-number">43.7</span> Nucleotide generator</h2>
<div id="note-use-numbers" class="section level3" number="43.7.1">
<h3><span class="header-section-number">43.7.1</span> Note use numbers</h3>
<div class="sourceCode" id="cb769"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb769-1"><a href="#cb769-1" tabindex="-1"></a><span class="co"># Create a vector representing the nucleotide bases A, T, C, and G</span></span>
<span id="cb769-2"><a href="#cb769-2" tabindex="-1"></a>nucleotides <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;T&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;G&quot;</span>)</span>
<span id="cb769-3"><a href="#cb769-3" tabindex="-1"></a>nucleotides</span></code></pre></div>
<pre><code>## [1] &quot;A&quot; &quot;T&quot; &quot;C&quot; &quot;G&quot;</code></pre>
<p>To use your nucleotide generator and get a base back, we will use the function <code>sample()</code> and sample one element from it. You’ll get a new (maybe different) base each time you roll it:</p>
<pre><code>sample(x = nucleotides, size = 1)
## A

sample(x = nucleotides, size = 1)
## C

sample(x = nucleotides, size = 1)
## G</code></pre>
<p>Every argument in every R function has a name. You can specify which data should be assigned to which argument by setting a name equal to data, as in the preceding code. This becomes important as you begin to pass multiple arguments to the same function; names help you avoid passing the wrong data to the wrong argument. However, using names is optional. You will notice that R users do not often use the name of the first argument in a function. So you might see the previous code written as:</p>
<div class="sourceCode" id="cb772"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb772-1"><a href="#cb772-1" tabindex="-1"></a><span class="fu">sample</span>(nucleotides, <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;G&quot;</code></pre>
<p>Often, the name of the first argument is not very descriptive, and it is usually obvious what the first piece of data refers to anyways.</p>
<p>But how do you know which argument names to use? If you try to use a name that a function does not expect, you will likely get an error:</p>
<!--chapter:end:b-nucleotide-generator.Rmd-->
</div>
<div id="startingR" class="section level3" number="43.7.2">
<h3><span class="header-section-number">43.7.2</span> Starting up R</h3>
<p>One way or another, regardless of what operating system you're using and regardless of whether you're using RStudio, or the default GUI, or even the command line, it's time to open R and get started. When you do that, the first thing you'll see (assuming that you're looking at the <strong><em>R console</em></strong>, that is) is a whole lot of text that doesn't make much sense. It should look something like this:</p>
<pre><code>R version 3.0.2 (2013-09-25) -- &quot;Frisbee Sailing&quot;
Copyright (C) 2013 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin10.8.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#39;license()&#39; or &#39;licence()&#39; for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type &#39;contributors()&#39; for more information and
&#39;citation()&#39; on how to cite R or R packages in publications.

Type &#39;demo()&#39; for some demos, &#39;help()&#39; for on-line help, or
&#39;help.start()&#39; for an HTML browser interface to help.
Type &#39;q()&#39; to quit R.

&gt; </code></pre>
<p>Most of this text is pretty uninteresting, and when doing real data analysis you'll never really pay much attention to it. The important part of it is this...</p>
<pre><code>&gt;</code></pre>
<p>... which has a flashing cursor next to it. That's the <strong><em>command prompt</em></strong>. When you see this, it means that R is waiting patiently for you to do something!</p>
</div>
</div>
<div id="firstcommand" class="section level2" number="43.8">
<h2><span class="header-section-number">43.8</span> Typing commands at the R console</h2>
<p>One of the easiest things you can do with R is use it as a simple calculator, so it's a good place to start. For instance, try typing <code>10 + 20</code>, and hitting enter.<a href="#fn29" class="footnote-ref" id="fnref29"><sup>29</sup></a> When you do this, you've entered a <strong><em>command</em></strong>, and R will "execute" that command. What you see on screen now will be this:</p>
<div class="sourceCode" id="cb776"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb776-1"><a href="#cb776-1" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span></span>
<span id="cb776-2"><a href="#cb776-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">30</span></span></code></pre></div>
<p>Not a lot of surprises in this extract. But there's a few things worth talking about, even with such a simple example. Firstly, it's important that you understand how to read the extract. In this example, what <em>I</em> typed was the <code>10 + 20</code> part. I didn't type the <code>&gt;</code> symbol: that's just the R command prompt and isn't part of the actual command. And neither did I type the <code>[1] 30</code> part. That's what R printed out in response to my command.</p>
<p>Secondly, it's important to understand how the output is formatted. Obviously, the correct answer to the sum <code>10 + 20</code> is <code>30</code>, and not surprisingly R has printed that out as part of its response. But it's also printed out this <code>[1]</code> part, which probably doesn't make a lot of sense to you right now. You're going to see that a lot. I'll talk about what this means in a bit more detail later on, but for now you can think of <code>[1] 30</code> as if R were saying "the answer to the 1st question you asked is 30". That's not quite the truth, but it's close enough for now. And in any case it's not really very interesting at the moment: we only asked R to calculate one thing, so obviously there's only one answer printed on the screen. Later on this will change, and the <code>[1]</code> part will start to make a bit more sense. For now, I just don't want you to get confused or concerned by it.</p>
<div id="an-important-digression-about-formatting-1" class="section level3" number="43.8.1">
<h3><span class="header-section-number">43.8.1</span> An important digression about formatting</h3>
<p>Now that I've taught you these rules I'm going to change them pretty much immediately. That is because I want you to be able to copy code from the book directly into R if if you want to test things or conduct your own analyses. However, if you copy this kind of code (that shows the command prompt and the results) directly into R you will get an error</p>
<div class="sourceCode" id="cb777"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb777-1"><a href="#cb777-1" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span></span>
<span id="cb777-2"><a href="#cb777-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">30</span></span></code></pre></div>
<p>So instead, I'm going to provide code in a slightly different format so that it looks like this...</p>
<div class="sourceCode" id="cb778"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb778-1"><a href="#cb778-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p>There are two main differences.</p>
<ul>
<li>In your console, you type after the &gt;, but from now I I won’t show the command prompt in the book.<br />
</li>
<li>In the book, output is commented out with ##, in your console it appears directly after your code.</li>
</ul>
<p>These two differences mean that if you’re working with an electronic version of the book, you can easily copy code out of the book and into the console.</p>
<p>So for example if you copied the two lines of code from the book you'd get this</p>
<div class="sourceCode" id="cb780"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb780-1"><a href="#cb780-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span></span>
<span id="cb780-2"><a href="#cb780-2" tabindex="-1"></a><span class="do">## [1] 30</span></span></code></pre></div>
<pre><code>## [1] 30</code></pre>
</div>
<div id="be-very-careful-to-avoid-typos-1" class="section level3" number="43.8.2">
<h3><span class="header-section-number">43.8.2</span> Be very careful to avoid typos</h3>
<p>Before we go on to talk about other types of calculations that we can do with R, there's a few other things I want to point out. The first thing is that, while R is good software, it's still software. It's pretty stupid, and because it's stupid it can't handle typos. It takes it on faith that you meant to type <em>exactly</em> what you did type. For example, suppose that you forgot to hit the shift key when trying to type <code>+</code>, and as a result your command ended up being <code>10 = 20</code> rather than <code>10 + 20</code>. Here's what happens:</p>
<div class="sourceCode" id="cb782"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb782-1"><a href="#cb782-1" tabindex="-1"></a><span class="dv">10</span> <span class="ot">=</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## Error in 10 = 20: invalid (do_set) left-hand side to assignment</code></pre>
<p>What's happened here is that R has attempted to interpret <code>10 = 20</code> as a command, and spits out an error message because the command doesn't make any sense to it. When a <em>human</em> looks at this, and then looks down at his or her keyboard and sees that <code>+</code> and <code>=</code> are on the same key, it's pretty obvious that the command was a typo. But R doesn't know this, so it gets upset. And, if you look at it from its perspective, this makes sense. All that R "knows" is that <code>10</code> is a legitimate number, <code>20</code> is a legitimate number, and <code>=</code> is a legitimate part of the language too. In other words, from its perspective this really does look like the user meant to type <code>10 = 20</code>, since all the individual parts of that statement are legitimate and it's too stupid to realise that this is probably a typo. Therefore, R takes it on faith that this is exactly what you meant... it only "discovers" that the command is nonsense when it tries to follow your instructions, typo and all. And then it whinges, and spits out an error.</p>
<p>Even more subtle is the fact that some typos won't produce errors at all, because they happen to correspond to "well-formed" R commands. For instance, suppose that not only did I forget to hit the shift key when trying to type <code>10 + 20</code>, I also managed to press the key next to one I meant do. The resulting typo would produce the command <code>10 - 20</code>. Clearly, R has no way of knowing that you meant to <em>add</em> 20 to 10, not <em>subtract</em> 20 from 10, so what happens this time is this:</p>
<div class="sourceCode" id="cb784"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb784-1"><a href="#cb784-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">-</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] -10</code></pre>
<p>In this case, R produces the right answer, but to the the wrong question.</p>
<p>To some extent, I'm stating the obvious here, but it's important. The people who wrote R are smart. You, the user, are smart. But R itself is dumb. And because it's dumb, it has to be mindlessly obedient. It does <em>exactly</em> what you ask it to do. There is no equivalent to "autocorrect" in R, and for good reason. When doing advanced stuff -- and even the simplest of statistics is pretty advanced in a lot of ways -- it's dangerous to let a mindless automaton like R try to overrule the human user. But because of this, it's your responsibility to be careful. Always make sure you type <em>exactly what you mean</em>. When dealing with computers, it's not enough to type "approximately" the right thing. In general, you absolutely <em>must</em> be precise in what you say to R ... like all machines it is too stupid to be anything other than absurdly literal in its interpretation.</p>
</div>
<div id="r-is-a-bit-flexible-with-spacing-1" class="section level3" number="43.8.3">
<h3><span class="header-section-number">43.8.3</span> R is (a bit) flexible with spacing</h3>
<p>Of course, now that I've been so uptight about the importance of always being precise, I should point out that there are some exceptions. Or, more accurately, there are some situations in which R does show a bit more flexibility than my previous description suggests. The first thing R is smart enough to do is ignore redundant spacing. What I mean by this is that, when I typed <code>10 + 20</code> before, I could equally have done this</p>
<div class="sourceCode" id="cb786"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb786-1"><a href="#cb786-1" tabindex="-1"></a><span class="dv">10</span>    <span class="sc">+</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p>or this</p>
<div class="sourceCode" id="cb788"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb788-1"><a href="#cb788-1" tabindex="-1"></a><span class="dv">10</span><span class="sc">+</span><span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p>and I would get exactly the same answer. However, that doesn't mean that you can insert spaces in any old place. When we looked at the startup documentation in Section @ref(startingR) it suggested that you could type <code>citation()</code> to get some information about how to cite R. If I do so...</p>
<div class="sourceCode" id="cb790"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb790-1"><a href="#cb790-1" tabindex="-1"></a><span class="fu">citation</span>()</span></code></pre></div>
<pre><code>## To cite R in publications use:
## 
##   R Core Team (2023). _R: A Language and Environment for Statistical
##   Computing_. R Foundation for Statistical Computing, Vienna, Austria.
##   &lt;https://www.R-project.org/&gt;.
## 
## A BibTeX entry for LaTeX users is
## 
##   @Manual{,
##     title = {R: A Language and Environment for Statistical Computing},
##     author = {{R Core Team}},
##     organization = {R Foundation for Statistical Computing},
##     address = {Vienna, Austria},
##     year = {2023},
##     url = {https://www.R-project.org/},
##   }
## 
## We have invested a lot of time and effort in creating R, please cite it
## when using it for data analysis. See also &#39;citation(&quot;pkgname&quot;)&#39; for
## citing R packages.</code></pre>
<p>... it tells me to cite the R manual <span class="citation">(<a href="#ref-R2013"><strong>R2013?</strong></a>)</span>. Let's see what happens when I try changing the spacing. If I insert spaces in between the word and the parentheses, or inside the parentheses themselves, then all is well. That is, either of these two commands</p>
<div class="sourceCode" id="cb792"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb792-1"><a href="#cb792-1" tabindex="-1"></a><span class="fu">citation</span> ()</span></code></pre></div>
<div class="sourceCode" id="cb793"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb793-1"><a href="#cb793-1" tabindex="-1"></a><span class="fu">citation</span>(  )</span></code></pre></div>
<p>will produce exactly the same response. However, what I can't do is insert spaces in the middle of the word. If I try to do this, R gets upset:</p>
<div class="sourceCode" id="cb794"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb794-1"><a href="#cb794-1" tabindex="-1"></a>citat <span class="fu">ion</span>()</span></code></pre></div>
<pre><code>## Error: &lt;text&gt;:1:7: unexpected symbol
## 1: citat ion
##           ^</code></pre>
<p>Throughout this book I'll vary the way I use spacing a little bit, just to give you a feel for the different ways in which spacing can be used. I'll try not to do it too much though, since it's generally considered to be good practice to be consistent in how you format your commands.</p>
</div>
<div id="r-can-sometimes-tell-that-youre-not-finished-yet-but-not-often-1" class="section level3" number="43.8.4">
<h3><span class="header-section-number">43.8.4</span> R can sometimes tell that you're not finished yet (but not often)</h3>
<p>One more thing I should point out. If you hit enter in a situation where it's "obvious" to R that you haven't actually finished typing the command, R is just smart enough to keep waiting. For example, if you type <code>10 +</code> and then press enter, even R is smart enough to realise that you probably wanted to type in another number. So here's what happens (for illustrative purposes I'm breaking my own code formatting rules in this section):</p>
<pre><code>&gt; 10+
+ </code></pre>
<p>and there's a blinking cursor next to the plus sign. What this means is that R is still waiting for you to finish. It "thinks" you're still typing your command, so it hasn't tried to execute it yet. In other words, this plus sign is actually another command prompt. It's different from the usual one (i.e., the <code>&gt;</code> symbol) to remind you that R is going to "add" whatever you type now to what you typed last time. For example, if I then go on to type <code>3</code> and hit enter, what I get is this:</p>
<pre><code>&gt; 10 +
+ 20
[1] 30</code></pre>
<p>And as far as R is concerned, this is <em>exactly</em> the same as if you had typed <code>10 + 20</code>. Similarly, consider the <code>citation()</code> command that we talked about in the previous section. Suppose you hit enter after typing <code>citation(</code>. Once again, R is smart enough to realise that there must be more coming -- since you need to add the <code>)</code> character -- so it waits. I can even hit enter several times and it will keep waiting:</p>
<pre><code>&gt; citation(
+ 
+ 
+ )</code></pre>
<p>I'll make use of this a lot in this book. A lot of the commands that we'll have to type are pretty long, and they're visually a bit easier to read if I break it up over several lines. If you start doing this yourself, you'll eventually get yourself in trouble (it happens to us all). Maybe you start typing a command, and then you realise you've screwed up. For example,</p>
<pre><code>&gt; citblation( 
+ 
+ </code></pre>
<p>You'd probably prefer R not to try running this command, right? If you want to get out of this situation, just hit the 'escape' key.<a href="#fn30" class="footnote-ref" id="fnref30"><sup>30</sup></a> R will return you to the normal command prompt (i.e. <code>&gt;</code>) <em>without</em> attempting to execute the botched command.</p>
<p>That being said, it's not often the case that R is smart enough to tell that there's more coming.
For instance, in the same way that I can't add a space in the middle of a word, I can't hit enter in the middle of a word either. If I hit enter after typing <code>citat</code> I get an error, because R thinks I'm interested in an "object" called <code>citat</code> and can't find it:</p>
<pre><code>&gt; citat
Error: object &#39;citat&#39; not found</code></pre>
<p>What about if I typed <code>citation</code> and hit enter? In this case we get something very odd, something that we definitely <em>don't</em> want, at least at this stage. Here's what happens:</p>
<pre><code>citation
## function (package = &quot;base&quot;, lib.loc = NULL, auto = NULL) 
## {
##     dir &lt;- system.file(package = package, lib.loc = lib.loc)
##     if (dir == &quot;&quot;) 
##         stop(gettextf(&quot;package &#39;%s&#39; not found&quot;, package), domain = NA)

BLAH BLAH BLAH</code></pre>
<p>where the <code>BLAH BLAH BLAH</code> goes on for rather a long time, and you don't know enough R yet to understand what all this gibberish actually means (of course, it doesn't actually say BLAH BLAH BLAH - it says some other things we don't understand or need to know that I've edited for length) This incomprehensible output can be quite intimidating to novice users, and unfortunately it's very easy to forget to type the parentheses; so almost certainly you'll do this by accident. Do not panic when this happens. Simply ignore the gibberish. As you become more experienced this gibberish will start to make sense, and you'll find it quite handy to print this stuff out.<a href="#fn31" class="footnote-ref" id="fnref31"><sup>31</sup></a> But for now just try to remember to add the parentheses when typing your commands.</p>
</div>
</div>
<div id="arithmetic" class="section level2" number="43.9">
<h2><span class="header-section-number">43.9</span> Doing simple calculations with R</h2>
<p>Okay, now that we've discussed some of the tedious details associated with typing R commands, let's get back to learning how to use the most powerful piece of statistical software in the world as a $2 calculator. So far, all we know how to do is addition. Clearly, a calculator that only did addition would be a bit stupid, so I should tell you about how to perform other simple calculations using R. But first, some more terminology. Addition is an example of an "operation" that you can perform (specifically, an arithmetic operation), and the <strong><em>operator</em></strong> that performs it is <code>+</code>. To people with a programming or mathematics background, this terminology probably feels pretty natural, but to other people it might feel like I'm trying to make something very simple (addition) sound more complicated than it is (by calling it an arithmetic operation). To some extent, that's true: if addition was the only operation that we were interested in, it'd be a bit silly to introduce all this extra terminology. However, as we go along, we'll start using more and more different kinds of operations, so it's probably a good idea to get the language straight now, while we're still talking about very familiar concepts like addition!</p>
<div id="adding-subtracting-multiplying-and-dividing-1" class="section level3" number="43.9.1">
<h3><span class="header-section-number">43.9.1</span> Adding, subtracting, multiplying and dividing</h3>
<p>So, now that we have the terminology, let's learn how to perform some arithmetic operations in R. To that end, Table @ref(tab:arithmetic1) lists the operators that correspond to the basic arithmetic we learned in primary school: addition, subtraction, multiplication and division.</p>
<table>
<caption>(#tab:arithmetic1)Basic arithmetic operations in R. These five operators are used very frequently throughout the text, so it's important to be familiar with them at the outset.</caption>
<thead>
<tr class="header">
<th align="left">operation</th>
<th align="center">operator</th>
<th align="center">example input</th>
<th align="center">example output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">addition</td>
<td align="center"><code>+</code></td>
<td align="center">10 + 2</td>
<td align="center">12</td>
</tr>
<tr class="even">
<td align="left">subtraction</td>
<td align="center"><code>-</code></td>
<td align="center">9 - 3</td>
<td align="center">6</td>
</tr>
<tr class="odd">
<td align="left">multiplication</td>
<td align="center"><code>*</code></td>
<td align="center">5 * 5</td>
<td align="center">25</td>
</tr>
<tr class="even">
<td align="left">division</td>
<td align="center"><code>/</code></td>
<td align="center">10 / 3</td>
<td align="center">3</td>
</tr>
<tr class="odd">
<td align="left">power</td>
<td align="center"><code>^</code></td>
<td align="center">5 ^ 2</td>
<td align="center">25</td>
</tr>
</tbody>
</table>
<p>As you can see, R uses fairly standard symbols to denote each of the different operations you might want to perform: addition is done using the <code>+</code> operator, subtraction is performed by the <code>-</code> operator, and so on. So if I wanted to find out what 57 times 61 is (and who wouldn't?), I can use R instead of a calculator, like so:</p>
<div class="sourceCode" id="cb802"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb802-1"><a href="#cb802-1" tabindex="-1"></a><span class="dv">57</span> <span class="sc">*</span> <span class="dv">61</span></span></code></pre></div>
<pre><code>## [1] 3477</code></pre>
<p>So that's handy.</p>
</div>
<div id="taking-powers-1" class="section level3" number="43.9.2">
<h3><span class="header-section-number">43.9.2</span> Taking powers</h3>
<p>The first four operations listed in Table @ref(tab:arithmetic1) are things we all learned in primary school, but they aren't the only arithmetic operations built into R. There are three other arithmetic operations that I should probably mention: taking powers, doing integer division, and calculating a modulus. Of the three, the only one that is of any real importance for the purposes of this book is taking powers, so I'll discuss that one here: the other two are discussed in Chapter @ref(datahandling).</p>
<p>For those of you who can still remember your high school maths, this should be familiar. But for some people high school maths was a long time ago, and others of us didn't listen very hard in high school. It's not complicated. As I'm sure everyone will probably remember the moment they read this, the act of multiplying a number <span class="math inline">\(x\)</span> by itself <span class="math inline">\(n\)</span> times is called "raising <span class="math inline">\(x\)</span> to the <span class="math inline">\(n\)</span>-th power". Mathematically, this is written as <span class="math inline">\(x^n\)</span>. Some values of <span class="math inline">\(n\)</span> have special names: in particular <span class="math inline">\(x^2\)</span> is called <span class="math inline">\(x\)</span>-squared, and <span class="math inline">\(x^3\)</span> is called <span class="math inline">\(x\)</span>-cubed. So, the 4th power of 5 is calculated like this:
<span class="math display">\[
5^4 = 5 \times 5 \times 5 \times 5
\]</span></p>
<p>One way that we could calculate <span class="math inline">\(5^4\)</span> in R would be to type in the complete multiplication as it is shown in the equation above. That is, we could do this</p>
<div class="sourceCode" id="cb804"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb804-1"><a href="#cb804-1" tabindex="-1"></a><span class="dv">5</span> <span class="sc">*</span> <span class="dv">5</span> <span class="sc">*</span> <span class="dv">5</span> <span class="sc">*</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] 625</code></pre>
<p>but it does seem a bit tedious. It would be very annoying indeed if you wanted to calculate <span class="math inline">\(5^{15}\)</span>, since the command would end up being quite long. Therefore, to make our lives easier, we use the power operator instead. When we do that, our command to calculate <span class="math inline">\(5^4\)</span> goes like this:</p>
<div class="sourceCode" id="cb806"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb806-1"><a href="#cb806-1" tabindex="-1"></a><span class="dv">5</span> <span class="sc">^</span> <span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] 625</code></pre>
<p>Much easier.</p>
</div>
<div id="bedmas" class="section level3" number="43.9.3">
<h3><span class="header-section-number">43.9.3</span> Doing calculations in the right order</h3>
<p>Okay. At this point, you know how to take one of the most powerful pieces of statistical software in the world, and use it as a $2 calculator. And as a bonus, you've learned a few very basic programming concepts. That's not nothing (you could argue that you've just saved yourself $2) but on the other hand, it's not very much either. In order to use R more effectively, we need to introduce more programming concepts.</p>
<p>In most situations where you would want to use a calculator, you might want to do multiple calculations. R lets you do this, just by typing in longer commands. <a href="#fn32" class="footnote-ref" id="fnref32"><sup>32</sup></a> In fact, we've already seen an example of this earlier, when I typed in <code>5 * 5 * 5 * 5</code>. However, let's try a slightly different example:</p>
<div class="sourceCode" id="cb808"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb808-1"><a href="#cb808-1" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> <span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<p>Clearly, this isn't a problem for R either. However, it's worth stopping for a second, and thinking about what R just did. Clearly, since it gave us an answer of <code>9</code> it must have multiplied <code>2 * 4</code> (to get an interim answer of 8) and then added 1 to that. But, suppose it had decided to just go from left to right: if R had decided instead to add <code>1+2</code> (to get an interim answer of 3) and then multiplied by 4, it would have come up with an answer of <code>12</code>.</p>
<p>To answer this, you need to know the <strong><em>order of operations</em></strong> that R uses. If you remember back to your high school maths classes, it's actually the same order that you got taught when you were at school: the "<strong><em>BEDMAS</em></strong>" order.<a href="#fn33" class="footnote-ref" id="fnref33"><sup>33</sup></a> That is, first calculate things inside <strong>B</strong>rackets <code>()</code>, then calculate <strong>E</strong>xponents <code>^</code>, then <strong>D</strong>ivision <code>/</code> and <strong>M</strong>ultiplication <code>*</code>, then <strong>A</strong>ddition <code>+</code> and <strong>S</strong>ubtraction <code>-</code>. So, to continue the example above, if we want to force R to calculate the <code>1+2</code> part before the multiplication, all we would have to do is enclose it in brackets:</p>
<div class="sourceCode" id="cb810"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb810-1"><a href="#cb810-1" tabindex="-1"></a>(<span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span>) <span class="sc">*</span> <span class="dv">4</span> </span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<p>This is a fairly useful thing to be able to do. The only other thing I should point out about order of operations is what to expect when you have two operations that have the same priority: that is, how does R resolve ties? For instance, multiplication and division are actually the same priority, but what should we expect when we give R a problem like <code>4 / 2 * 3</code> to solve? If it evaluates the multiplication first and then the division, it would calculate a value of two-thirds. But if it evaluates the division first it calculates a value of 6. The answer, in this case, is that R goes from <em>left to right</em>, so in this case the division step would come first:</p>
<div class="sourceCode" id="cb812"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb812-1"><a href="#cb812-1" tabindex="-1"></a><span class="dv">4</span> <span class="sc">/</span> <span class="dv">2</span> <span class="sc">*</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>All of the above being said, it's helpful to remember that <em>brackets always come first</em>. So, if you're ever unsure about what order R will do things in, an easy solution is to enclose the thing <em>you</em> want it to do first in brackets. There's nothing stopping you from typing <code>(4 / 2) * 3</code>. By enclosing the division in brackets we make it clear which thing is supposed to happen first. In this instance you wouldn't have needed to, since R would have done the division first anyway, but when you're first starting out it's better to make sure R does what you want!</p>
</div>
</div>
<div id="assign" class="section level2" number="43.10">
<h2><span class="header-section-number">43.10</span> Storing a number as a variable</h2>
<p>One of the most important things to be able to do in R (or any programming language, for that matter) is to store information in <strong><em>variables</em></strong>. Variables in R aren't exactly the same thing as the variables we talked about in the last chapter on research methods, but they are similar. At a conceptual level you can think of a variable as <em>label</em> for a certain piece of information, or even several different pieces of information. When doing statistical analysis in R all of your data (the variables you measured in your study) will be stored as variables in R, but as well see later in the book you'll find that you end up creating variables for other things too. However, before we delve into all the messy details of data sets and statistical analysis, let's look at the very basics for how we create variables and work with them.</p>
<div id="variable-assignment-using---and---1" class="section level3" number="43.10.1">
<h3><span class="header-section-number">43.10.1</span> Variable assignment using <code>&lt;-</code> and <code>-&gt;</code></h3>
<p>Since we've been working with numbers so far, let's start by creating variables to store our numbers. And since most people like concrete examples, let's invent one. Suppose I'm trying to calculate how much money I'm going to make from this book. There's several different numbers I might want to store. Firstly, I need to figure out how many copies I'll sell. This isn't exactly <em>Harry Potter</em>, so let's assume I'm only going to sell one copy per student in my class. That's 350 sales, so let's create a variable called <code>sales</code>. What I want to do is assign a <strong><em>value</em></strong> to my variable <code>sales</code>, and that value should be <code>350</code>. We do this by using the <strong><em>assignment operator</em></strong>, which is <code>&lt;-</code>. Here's how we do it:</p>
<div class="sourceCode" id="cb814"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb814-1"><a href="#cb814-1" tabindex="-1"></a>sales <span class="ot">&lt;-</span> <span class="dv">350</span></span></code></pre></div>
<p>When you hit enter, R doesn't print out any output.<a href="#fn34" class="footnote-ref" id="fnref34"><sup>34</sup></a> It just gives you another command prompt. However, behind the scenes R has created a variable called <code>sales</code> and given it a value of <code>350</code>. You can check that this has happened by asking R to print the variable on screen. And the simplest way to do <em>that</em> is to type the name of the variable and hit enter<a href="#fn35" class="footnote-ref" id="fnref35"><sup>35</sup></a>.</p>
<div class="sourceCode" id="cb815"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb815-1"><a href="#cb815-1" tabindex="-1"></a>sales</span></code></pre></div>
<pre><code>## [1] 350</code></pre>
<p>So that's nice to know. Anytime you can't remember what R has got stored in a particular variable, you can just type the name of the variable and hit enter.</p>
<p>Okay, so now we know how to assign variables. Actually, there's a bit more you should know. Firstly, one of the curious features of R is that there are several different ways of making assignments. In addition to the <code>&lt;-</code> operator, we can also use <code>-&gt;</code> and <code>=</code>, and it's pretty important to understand the differences between them.<a href="#fn36" class="footnote-ref" id="fnref36"><sup>36</sup></a> Let's start by considering <code>-&gt;</code>, since that's the easy one (we'll discuss the use of <code>=</code> in Section @ref(functionarguments). As you might expect from just looking at the symbol, it's almost identical to <code>&lt;-</code>. It's just that the arrow (i.e., the assignment) goes from left to right. So if I wanted to define my <code>sales</code> variable using <code>-&gt;</code>, I would write it like this:</p>
<div class="sourceCode" id="cb817"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb817-1"><a href="#cb817-1" tabindex="-1"></a><span class="dv">350</span> <span class="ot">-&gt;</span> sales</span></code></pre></div>
<p>This has the same effect: and it <em>still</em> means that I'm only going to sell <code>350</code> copies. Sigh. Apart from this superficial difference, <code>&lt;-</code> and <code>-&gt;</code> are identical. In fact, as far as R is concerned, they're actually the same operator, just in a "left form" and a "right form".<a href="#fn37" class="footnote-ref" id="fnref37"><sup>37</sup></a></p>
</div>
<div id="doing-calculations-using-variables-1" class="section level3" number="43.10.2">
<h3><span class="header-section-number">43.10.2</span> Doing calculations using variables</h3>
<p>Okay, let's get back to my original story. In my quest to become rich, I've written this textbook. To figure out how good a strategy is, I've started creating some variables in R. In addition to defining a <code>sales</code> variable that counts the number of copies I'm going to sell, I can also create a variable called <code>royalty</code>, indicating how much money I get per copy. Let's say that my royalties are about $7 per book:</p>
<div class="sourceCode" id="cb818"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb818-1"><a href="#cb818-1" tabindex="-1"></a>sales <span class="ot">&lt;-</span> <span class="dv">350</span></span>
<span id="cb818-2"><a href="#cb818-2" tabindex="-1"></a>royalty <span class="ot">&lt;-</span> <span class="dv">7</span></span></code></pre></div>
<p>The nice thing about variables (in fact, the whole point of having variables) is that we can do anything with a variable that we ought to be able to do with the information that it stores. That is, since R allows me to multiply <code>350</code> by <code>7</code></p>
<div class="sourceCode" id="cb819"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb819-1"><a href="#cb819-1" tabindex="-1"></a><span class="dv">350</span> <span class="sc">*</span> <span class="dv">7</span></span></code></pre></div>
<pre><code>## [1] 2450</code></pre>
<p>it also allows me to multiply <code>sales</code> by <code>royalty</code></p>
<div class="sourceCode" id="cb821"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb821-1"><a href="#cb821-1" tabindex="-1"></a>sales <span class="sc">*</span> royalty</span></code></pre></div>
<pre><code>## [1] 2450</code></pre>
<p>As far as R is concerned, the <code>sales * royalty</code> command is the same as the <code>350 * 7</code> command. Not surprisingly, I can assign the output of this calculation to a new variable, which I'll call <code>revenue</code>. And when we do this, the new variable <code>revenue</code> gets the value <code>2450</code>. So let's do that, and then get R to print out the value of <code>revenue</code> so that we can verify that it's done what we asked:</p>
<div class="sourceCode" id="cb823"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb823-1"><a href="#cb823-1" tabindex="-1"></a>revenue <span class="ot">&lt;-</span> sales <span class="sc">*</span> royalty</span>
<span id="cb823-2"><a href="#cb823-2" tabindex="-1"></a>revenue</span></code></pre></div>
<pre><code>## [1] 2450</code></pre>
<p>That's fairly straightforward. A slightly more subtle thing we can do is reassign the value of my variable, based on its current value. For instance, suppose that one of my students (no doubt under the influence of psychotropic drugs) loves the book so much that he or she donates me an extra $550. The simplest way to capture this is by a command like this:</p>
<div class="sourceCode" id="cb825"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb825-1"><a href="#cb825-1" tabindex="-1"></a>revenue <span class="ot">&lt;-</span> revenue <span class="sc">+</span> <span class="dv">550</span></span>
<span id="cb825-2"><a href="#cb825-2" tabindex="-1"></a>revenue</span></code></pre></div>
<pre><code>## [1] 3000</code></pre>
<p>In this calculation, R has taken the old value of <code>revenue</code> (i.e., 2450) and added 550 to that value, producing a value of 3000. This new value is assigned to the <code>revenue</code> variable, overwriting its previous value. In any case, we now know that I'm expecting to make $3000 off this. Pretty sweet, I thinks to myself. Or at least, that's what I thinks until I do a few more calculation and work out what the implied hourly wage I'm making off this looks like.</p>
</div>
<div id="rules-and-conventions-for-naming-variables-1" class="section level3" number="43.10.3">
<h3><span class="header-section-number">43.10.3</span> Rules and conventions for naming variables</h3>
<p>In the examples that we've seen so far, my variable names (<code>sales</code> and <code>revenue</code>) have just been English-language words written using lowercase letters. However, R allows a lot more flexibility when it comes to naming your variables, as the following list of rules<a href="#fn38" class="footnote-ref" id="fnref38"><sup>38</sup></a> illustrates:</p>
<ul>
<li>Variable names can only use the upper case alphabetic characters <code>A</code>-<code>Z</code> as well as the lower case characters <code>a</code>-<code>z</code>. You can also include numeric characters <code>0</code>-<code>9</code> in the variable name, as well as the period <code>.</code> or underscore <code>_</code> character. In other words, you can use <code>SaL.e_s</code> as a variable name (though I can't think why you would want to), but you can't use <code>Sales?</code>.</li>
<li>Variable names cannot include spaces: therefore <code>my sales</code> is not a valid name, but <code>my.sales</code> is.</li>
<li>Variable names are case sensitive: that is, <code>Sales</code> and <code>sales</code> are <em>different</em> variable names.</li>
<li>Variable names must start with a letter or a period. You can't use something like <code>_sales</code> or <code>1sales</code> as a variable name. You can use <code>.sales</code> as a variable name if you want, but it's not usually a good idea. By convention, variables starting with a <code>.</code> are used for special purposes, so you should avoid doing so.</li>
<li>Variable names cannot be one of the reserved keywords. These are special names that R needs to keep "safe" from us mere users, so you can't use them as the names of variables. The keywords are: <code>if</code>, <code>else</code>, <code>repeat</code>, <code>while</code>, <code>function</code>, <code>for</code>, <code>in</code>, <code>next</code>, <code>break</code>, <code>TRUE</code>, <code>FALSE</code>, <code>NULL</code>, <code>Inf</code>, <code>NaN</code>, <code>NA</code>, <code>NA_integer_</code>, <code>NA_real_</code>, <code>NA_complex_</code>, and finally, <code>NA_character_</code>. Don't feel especially obliged to memorise these: if you make a mistake and try to use one of the keywords as a variable name, R will complain about it like the whiny little automaton it is.</li>
</ul>
<p>In addition to those rules that R enforces, there are some informal conventions that people tend to follow when naming variables. One of them you've already seen: i.e., don't use variables that start with a period. But there are several others. You aren't obliged to follow these conventions, and there are many situations in which it's advisable to ignore them, but it's generally a good idea to follow them when you can:</p>
<ul>
<li>Use informative variable names. As a general rule, using meaningful names like <code>sales</code> and <code>revenue</code> is preferred over arbitrary ones like <code>variable1</code> and <code>variable2</code>. Otherwise it's very hard to remember what the contents of different variables are, and it becomes hard to understand what your commands actually do.</li>
<li>Use short variable names. Typing is a pain and no-one likes doing it. So we much prefer to use a name like <code>sales</code> over a name like <code>sales.for.this.book.that.you.are.reading</code>. Obviously there's a bit of a tension between using informative names (which tend to be long) and using short names (which tend to be meaningless), so use a bit of common sense when trading off these two conventions.</li>
<li>Use one of the conventional naming styles for multi-word variable names. Suppose I want to name a variable that stores "my new salary". Obviously I can't include spaces in the variable name, so how should I do this? There are three different conventions that you sometimes see R users employing. Firstly, you can separate the words using periods, which would give you <code>my.new.salary</code> as the variable name. Alternatively, you could separate words using underscores, as in <code>my_new_salary</code>. Finally, you could use capital letters at the beginning of each word (except the first one), which gives you <code>myNewSalary</code> as the variable name. I don't think there's any strong reason to prefer one over the other,<a href="#fn39" class="footnote-ref" id="fnref39"><sup>39</sup></a> but it's important to be consistent.</li>
</ul>
</div>
</div>
<div id="usingfunctions" class="section level2" number="43.11">
<h2><span class="header-section-number">43.11</span> Using functions to do calculations</h2>
<p>The symbols <code>+</code>, <code>-</code>, <code>*</code> and so on are examples of operators. As we've seen, you can do quite a lot of calculations just by using these operators. However, in order to do more advanced calculations (and later on, to do actual statistics), you're going to need to start using <strong><em>functions</em></strong>.<a href="#fn40" class="footnote-ref" id="fnref40"><sup>40</sup></a> I'll talk in more detail about functions and how they work in Section @ref(functions), but for now let's just dive in and use a few. To get started, suppose I wanted to take the square root of 225. The square root, in case your high school maths is a bit rusty, is just the opposite of squaring a number. So, for instance, since "5 squared is 25" I can say that "5 is the square root of 25". The usual notation for this is</p>
<p><span class="math display">\[
\sqrt{25} = 5
\]</span></p>
<p>though sometimes you'll also see it written like this
<span class="math inline">\(25^{0.5} = 5.\)</span>
This second way of writing it is kind of useful to "remind" you of the mathematical fact that "square root of <span class="math inline">\(x\)</span>" is actually the same as "raising <span class="math inline">\(x\)</span> to the power of 0.5". Personally, I've never found this to be terribly meaningful psychologically, though I have to admit it's quite convenient mathematically. Anyway, it's not important. What is important is that you remember what a square root is, since we're going to need it later on.</p>
<p>To calculate the square root of 25, I can do it in my head pretty easily, since I memorised my multiplication tables when I was a kid. It gets harder when the numbers get bigger, and pretty much impossible if they're not whole numbers. This is where something like R comes in very handy. Let's say I wanted to calculate <span class="math inline">\(\sqrt{225}\)</span>, the square root of 225. There's two ways I could do this using R. Firstly, since the square root of 255 is the same thing as raising 225 to the power of 0.5, I could use the power operator <code>^</code>, just like we did earlier:</p>
<div class="sourceCode" id="cb827"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb827-1"><a href="#cb827-1" tabindex="-1"></a><span class="dv">225</span> <span class="sc">^</span> <span class="fl">0.5</span></span></code></pre></div>
<pre><code>## [1] 15</code></pre>
<p>However, there's a second way that we can do this, since R also provides a <strong><em>square root function</em></strong>, <code>sqrt()</code>. To calculate the square root of 255 using this function, what I do is insert the number <code>225</code> in the parentheses. That is, the command I type is this:</p>
<div class="sourceCode" id="cb829"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb829-1"><a href="#cb829-1" tabindex="-1"></a><span class="fu">sqrt</span>( <span class="dv">225</span> )</span></code></pre></div>
<pre><code>## [1] 15</code></pre>
<p>and as you might expect from our previous discussion, the spaces in between the parentheses are purely cosmetic. I could have typed <code>sqrt(225)</code> or <code>sqrt( 225   )</code> and gotten the same result. When we use a function to do something, we generally refer to this as <strong><em>calling</em></strong> the function, and the values that we type into the function (there can be more than one) are referred to as the <strong><em>arguments</em></strong> of that function.</p>
<p>Obviously, the <code>sqrt()</code> function doesn't really give us any new functionality, since we already knew how to do square root calculations by using the power operator <code>^</code>, though I do think it looks nicer when we use <code>sqrt()</code>. However, there are lots of other functions in R: in fact, almost everything of interest that I'll talk about in this book is an R function of some kind. For example, one function that we will need to use in this book is the <strong><em>absolute value function</em></strong>. Compared to the square root function, it's extremely simple: it just converts negative numbers to positive numbers, and leaves positive numbers alone. Mathematically, the absolute value of <span class="math inline">\(x\)</span> is written <span class="math inline">\(|x|\)</span> or sometimes <span class="math inline">\(\mbox{abs}(x)\)</span>. Calculating absolute values in R is pretty easy, since R provides the <code>abs()</code> function that you can use for this purpose. When you feed it a positive number...</p>
<div class="sourceCode" id="cb831"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb831-1"><a href="#cb831-1" tabindex="-1"></a><span class="fu">abs</span>( <span class="dv">21</span> )</span></code></pre></div>
<pre><code>## [1] 21</code></pre>
<p>the absolute value function does nothing to it at all. But when you feed it a negative number, it spits out the positive version of the same number, like this:</p>
<div class="sourceCode" id="cb833"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb833-1"><a href="#cb833-1" tabindex="-1"></a><span class="fu">abs</span>( <span class="sc">-</span><span class="dv">13</span> )</span></code></pre></div>
<pre><code>## [1] 13</code></pre>
<p>In all honesty, there's nothing that the absolute value function does that you couldn't do just by looking at the number and erasing the minus sign if there is one. However, there's a few places later in the book where we have to use absolute values, so I thought it might be a good idea to explain the meaning of the term early on.</p>
<p>Before moving on, it's worth noting that -- in the same way that R allows us to put multiple operations together into a longer command, like <code>1 + 2*4</code> for instance -- it also lets us put functions together and even combine functions with operators if we so desire. For example, the following is a perfectly legitimate command:</p>
<div class="sourceCode" id="cb835"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb835-1"><a href="#cb835-1" tabindex="-1"></a><span class="fu">sqrt</span>( <span class="dv">1</span> <span class="sc">+</span> <span class="fu">abs</span>(<span class="sc">-</span><span class="dv">8</span>) )</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>When R executes this command, starts out by calculating the value of <code>abs(-8)</code>, which produces an intermediate value of <code>8</code>. Having done so, the command simplifies to <code>sqrt( 1 + 8 )</code>. To solve the square root<a href="#fn41" class="footnote-ref" id="fnref41"><sup>41</sup></a> it first needs to add <code>1 + 8</code> to get <code>9</code>, at which point it evaluates <code>sqrt(9)</code>, and so it finally outputs a value of <code>3</code>.</p>
<div id="functionarguments" class="section level3" number="43.11.1">
<h3><span class="header-section-number">43.11.1</span> Function arguments, their names and their defaults</h3>
<p>There's two more fairly important things that you need to understand about how functions work in R, and that's the use of "named" arguments, and default values" for arguments. Not surprisingly, that's not to say that this is the last we'll hear about how functions work, but they are the last things we desperately need to discuss in order to get you started. To understand what these two concepts are all about, I'll introduce another function. The <code>round()</code> function can be used to round some value to the nearest whole number. For example, I could type this:</p>
<div class="sourceCode" id="cb837"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb837-1"><a href="#cb837-1" tabindex="-1"></a><span class="fu">round</span>( <span class="fl">3.1415</span> )</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Pretty straightforward, really. However, suppose I only wanted to round it to two decimal places: that is, I want to get <code>3.14</code> as the output. The <code>round()</code> function supports this, by allowing you to input a second argument to the function that specifies the number of decimal places that you want to round the number to. In other words, I could do this:</p>
<div class="sourceCode" id="cb839"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb839-1"><a href="#cb839-1" tabindex="-1"></a><span class="fu">round</span>( <span class="fl">3.14165</span>, <span class="dv">2</span> )</span></code></pre></div>
<pre><code>## [1] 3.14</code></pre>
<p>What's happening here is that I've specified <em>two</em> arguments: the first argument is the number that needs to be rounded (i.e., <code>3.1415</code>), the second argument is the number of decimal places that it should be rounded to (i.e., <code>2</code>), and the two arguments are separated by a comma. In this simple example, it's quite easy to remember which one argument comes first and which one comes second, but for more complicated functions this is not easy. Fortunately, most R functions make use of <strong><em>argument names</em></strong>. For the <code>round()</code> function, for example the number that needs to be rounded is specified using the <code>x</code> argument, and the number of decimal points that you want it rounded to is specified using the <code>digits</code> argument. Because we have these names available to us, we can specify the arguments to the function by name. We do so like this:</p>
<div class="sourceCode" id="cb841"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb841-1"><a href="#cb841-1" tabindex="-1"></a><span class="fu">round</span>( <span class="at">x =</span> <span class="fl">3.1415</span>, <span class="at">digits =</span> <span class="dv">2</span> )</span></code></pre></div>
<pre><code>## [1] 3.14</code></pre>
<p>Notice that this is kind of similar in spirit to variable assignment (Section @ref(assign)), except that I used <code>=</code> here, rather than <code>&lt;-</code>. In both cases we're specifying specific values to be associated with a label. However, there are some differences between what I was doing earlier on when creating variables, and what I'm doing here when specifying arguments, and so as a consequence it's important that you use <code>=</code> in this context.</p>
<p>As you can see, specifying the arguments by name involves a lot more typing, but it's also a lot easier to read. Because of this, the commands in this book will usually specify arguments by name,<a href="#fn42" class="footnote-ref" id="fnref42"><sup>42</sup></a> since that makes it clearer to you what I'm doing. However, one important thing to note is that when specifying the arguments using their names, it doesn't matter what order you type them in. But if you don't use the argument names, then you have to input the arguments in the correct order. In other words, these three commands all produce the same output...</p>
<div class="sourceCode" id="cb843"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb843-1"><a href="#cb843-1" tabindex="-1"></a><span class="fu">round</span>( <span class="fl">3.14165</span>, <span class="dv">2</span> )</span>
<span id="cb843-2"><a href="#cb843-2" tabindex="-1"></a><span class="fu">round</span>( <span class="at">x =</span> <span class="fl">3.1415</span>, <span class="at">digits =</span> <span class="dv">2</span> )</span>
<span id="cb843-3"><a href="#cb843-3" tabindex="-1"></a><span class="fu">round</span>( <span class="at">digits =</span> <span class="dv">2</span>, <span class="at">x =</span> <span class="fl">3.1415</span> )</span></code></pre></div>
<pre><code>## [1] 3.14
## [1] 3.14
## [1] 3.14</code></pre>
<p>but this one does not...</p>
<div class="sourceCode" id="cb845"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb845-1"><a href="#cb845-1" tabindex="-1"></a><span class="fu">round</span>( <span class="dv">2</span>, <span class="fl">3.14165</span> )</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>How do you find out what the correct order is? There's a few different ways, but the easiest one is to look at the help documentation for the function (see Section @ref(help). However, if you're ever unsure, it's probably best to actually type in the argument name.</p>
<p>Okay, so that's the first thing I said you'd need to know: argument names. The second thing you need to know about is default values. Notice that the first time I called the <code>round()</code> function I didn't actually specify the <code>digits</code> argument at all, and yet R somehow knew that this meant it should round to the nearest whole number. How did that happen? The answer is that the <code>digits</code> argument has a <strong><em>default value</em></strong> of <code>0</code>, meaning that if you decide not to specify a value for <code>digits</code> then R will act as if you had typed <code>digits = 0</code>. This is quite handy: the vast majority of the time when you want to round a number you want to round it to the nearest whole number, and it would be pretty annoying to have to specify the <code>digits</code> argument every single time. On the other hand, sometimes you actually do want to round to something other than the nearest whole number, and it would be even more annoying if R didn't allow this! Thus, by having <code>digits = 0</code> as the default value, we get the best of both worlds.</p>
</div>
</div>
<div id="RStudio1" class="section level2" number="43.12">
<h2><span class="header-section-number">43.12</span> Letting RStudio help you with your commands</h2>
<p>Time for a bit of a digression. At this stage you know how to type in basic commands, including how to use R functions. And it's probably beginning to dawn on you that there are a <em>lot</em> of R functions, all of which have their own arguments. You're probably also worried that you're going to have to remember all of them! Thankfully, it's not that bad. In fact, very few data analysts bother to try to remember all the commands. What they really do is use tricks to make their lives easier. The first (and arguably most important one) is to use the internet. If you don't know how a particular R function works, Google it. Second, you can look up the R help documentation. I'll talk more about these two tricks in Section @ref(help). But right now I want to call your attention to a couple of simple tricks that RStudio makes available to you.</p>
<div id="autocomplete-using-tab-1" class="section level3" number="43.12.1">
<h3><span class="header-section-number">43.12.1</span> Autocomplete using "tab"</h3>
<p>The first thing I want to call your attention to is the <em>autocomplete</em> ability in RStudio.<a href="#fn43" class="footnote-ref" id="fnref43"><sup>43</sup></a></p>
<p>Let's stick to our example above and assume that what you want to do is to round a number. This time around, start typing the name of the function that you want, and then hit the "tab" key. RStudio will then display a little window like the one shown in Figure @ref(fig:RStudiotab). In this figure, I've typed the letters <code>ro</code> at the command line, and then hit tab. The window has two panels. On the left, there's a list of variables and functions that start with the letters that I've typed shown in black text, and some grey text that tells you where that variable/function is stored. Ignore the grey text for now: it won't make much sense to you until we've talked about packages in Section @ref(packageinstall). In Figure @ref(fig:RStudiotab) you can see that there's quite a few things that start with the letters <code>ro</code>: there's something called <code>rock</code>, something called <code>round</code>, something called <code>round.Date</code> and so on. The one we want is <code>round</code>, but if you're typing this yourself you'll notice that when you hit the tab key the window pops up with the top entry (i.e., <code>rock</code>) highlighted. You can use the up and down arrow keys to select the one that you want. Or, if none of the options look right to you, you can hit the escape key ("esc") or the left arrow key to make the window go away.</p>
<p>In our case, the thing we want is the <code>round</code> option, so we'll select that. When you do this, you'll see that the panel on the right changes. Previously, it had been telling us something about the <code>rock</code> data set (i.e., "Measurements on 48 rock samples...") that is distributed as part of R. But when we select <code>round</code>, it displays information about the <code>round()</code> function, exactly as it is shown in Figure @ref(fig:RStudiotab). This display is really handy. The very first thing it says is <code>round(x, digits = 0)</code>: what this is telling you is that the <code>round()</code> function has two arguments. The first argument is called <code>x</code>, and it doesn't have a default value. The second argument is <code>digits</code>, and it has a default value of 0. In a lot of situations, that's all the information you need. But RStudio goes a bit further, and provides some additional information about the function underneath. Sometimes that additional information is very helpful, sometimes it's not: RStudio pulls that text from the R help documentation, and my experience is that the helpfulness of that documentation varies wildly. Anyway, if you've decided that <code>round()</code> is the function that you want to use, you can hit the right arrow or the enter key, and RStudio will finish typing the rest of the function name for you.</p>
<p>The RStudio autocomplete tool works slightly differently if you've already got the name of the function typed and you're now trying to type the arguments. For instance, suppose I've typed <code>round(</code> into the console, and <em>then</em> I hit tab. RStudio is smart enough to recognise that I already know the name of the function that I want, because I've already typed it! Instead, it figures that what I'm interested in is the <em>arguments</em> to that function. So that's what pops up in the little window. You can see this in Figure @ref(fig:RStudiotab2). Again, the window has two panels, and you can interact with this window in exactly the same way that you did with the window shown in Figure @ref(fig:RStudiotab). On the left hand panel, you can see a list of the argument names. On the right hand side, it displays some information about what the selected argument does.</p>
</div>
<div id="browsing-your-command-history-1" class="section level3" number="43.12.2">
<h3><span class="header-section-number">43.12.2</span> Browsing your command history</h3>
<p>One thing that R does automatically is keep track of your "command history". That is, it remembers all the commands that you've previously typed. You can access this history in a few different ways. The simplest way is to use the up and down arrow keys. If you hit the up key, the R console will show you the most recent command that you've typed. Hit it again, and it will show you the command before that. If you want the text on the screen to go away, hit escape<a href="#fn44" class="footnote-ref" id="fnref44"><sup>44</sup></a> Using the up and down keys can be really handy if you've typed a long command that had one typo in it. Rather than having to type it all again from scratch, you can use the up key to bring up the command and fix it.</p>
<p>The second way to get access to your command history is to look at the history panel in RStudio. On the upper right hand side of the RStudio window you'll see a tab labelled "History". Click on that, and you'll see a list of all your recent commands displayed in that panel: it should look something like Figure @ref(fig:RStudiohistory). If you double click on one of the commands, it will be copied to the R console. (You can achieve the same result by selecting the command you want with the mouse and then clicking the "To Console" button).<a href="#fn45" class="footnote-ref" id="fnref45"><sup>45</sup></a></p>
</div>
</div>
<div id="vectors" class="section level2" number="43.13">
<h2><span class="header-section-number">43.13</span> Storing many numbers as a vector</h2>
<p>At this point we've covered functions in enough detail to get us safely through the next couple of chapters (with one small exception: see Section @ref(generics), so let's return to our discussion of variables. When I introduced variables in Section @ref(assign) I showed you how we can use variables to store a single number. In this section, we'll extend this idea and look at how to store multiple numbers within the one variable. In R, the name for a variable that can store multiple values is a <strong><em>vector</em></strong>. So let's create one.</p>
<div id="creating-a-vector-1" class="section level3" number="43.13.1">
<h3><span class="header-section-number">43.13.1</span> Creating a vector</h3>
<p>Let's stick to my silly "get rich quick by textbook writing" example. Suppose the textbook company (if I actually had one, that is) sends me sales data on a monthly basis. Since my class start in late February, we might expect most of the sales to occur towards the start of the year. Let's suppose that I have 100 sales in February, 200 sales in March and 50 sales in April, and no other sales for the rest of the year. What I would like to do is have a variable -- let's call it <code>sales.by.month</code> -- that stores all this sales data. The first number stored should be <code>0</code> since I had no sales in January, the second should be <code>100</code>, and so on. The simplest way to do this in R is to use the <strong><em>combine</em></strong> function, <code>c()</code>. To do so, all we have to do is type all the numbers you want to store in a comma separated list, like this:<a href="#fn46" class="footnote-ref" id="fnref46"><sup>46</sup></a></p>
<div class="sourceCode" id="cb847"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb847-1"><a href="#cb847-1" tabindex="-1"></a>sales.by.month <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">50</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb847-2"><a href="#cb847-2" tabindex="-1"></a>sales.by.month</span></code></pre></div>
<pre><code>##  [1]   0 100 200  50   0   0   0   0   0   0   0   0</code></pre>
<p>To use the correct terminology here, we have a single variable here called <code>sales.by.month</code>: this variable is a vector that consists of 12 <strong><em>elements</em></strong>.</p>
</div>
<div id="a-handy-digression-1" class="section level3" number="43.13.2">
<h3><span class="header-section-number">43.13.2</span> A handy digression</h3>
<p>Now that we've learned how to put information into a vector, the next thing to understand is how to pull that information back out again. However, before I do so it's worth taking a slight detour. If you've been following along, typing all the commands into R yourself, it's possible that the output that you saw when we printed out the <code>sales.by.month</code> vector was slightly different to what I showed above. This would have happened if the window (or the RStudio panel) that contains the R console is really, really narrow. If that were the case, you might have seen output that looks something like this:</p>
<div class="sourceCode" id="cb849"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb849-1"><a href="#cb849-1" tabindex="-1"></a>sales.by.month</span></code></pre></div>
<pre><code>##  [1]   0 100 200  50
##  [5]   0   0   0   0
##  [9]   0   0   0   0</code></pre>
<p>Because there wasn't much room on the screen, R has printed out the results over three lines. But that's not the important thing to notice. The important point is that the first line has a <code>[1]</code> in front of it, whereas the second line starts with <code>[5]</code> and the third with <code>[9]</code>. It's pretty clear what's happening here. For the first row, R has printed out the 1st element through to the 4th element, so it starts that row with a <code>[1]</code>. For the second row, R has printed out the 5th element of the vector through to the 8th one, and so it begins that row with a <code>[5]</code> so that you can tell where it's up to at a glance. It might seem a bit odd to you that R does this, but in some ways it's a kindness, especially when dealing with larger data sets!</p>
</div>
<div id="vectorsubset" class="section level3" number="43.13.3">
<h3><span class="header-section-number">43.13.3</span> Getting information out of vectors</h3>
<p>To get back to the main story, let's consider the problem of how to get information out of a vector. At this point, you might have a sneaking suspicion that the answer has something to do with the <code>[1]</code> and <code>[9]</code> things that R has been printing out. And of course you are correct. Suppose I want to pull out the February sales data only. February is the second month of the year, so let's try this:</p>
<div class="sourceCode" id="cb851"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb851-1"><a href="#cb851-1" tabindex="-1"></a>sales.by.month[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 100</code></pre>
<p>Yep, that's the February sales all right. But there's a subtle detail to be aware of here: notice that R outputs <code>[1] 100</code>, <em>not</em> <code>[2] 100</code>. This is because R is being extremely literal. When we typed in <code>sales.by.month[2]</code>, we asked R to find exactly <em>one</em> thing, and that one thing happens to be the second element of our <code>sales.by.month</code> vector. So, when it outputs <code>[1] 100</code> what R is saying is that the first number <em>that we just asked for</em> is <code>100</code>. This behaviour makes more sense when you realise that we can use this trick to create new variables. For example, I could create a <code>february.sales</code> variable like this:</p>
<div class="sourceCode" id="cb853"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb853-1"><a href="#cb853-1" tabindex="-1"></a>february.sales <span class="ot">&lt;-</span> sales.by.month[<span class="dv">2</span>]</span>
<span id="cb853-2"><a href="#cb853-2" tabindex="-1"></a>february.sales</span></code></pre></div>
<pre><code>## [1] 100</code></pre>
<p>Obviously, the new variable <code>february.sales</code> should only have one element and so when I print it out this new variable, the R output begins with a <code>[1]</code> because <code>100</code> is the value of the first (and only) element of <code>february.sales</code>. The fact that this also happens to be the value of the second element of <code>sales.by.month</code> is irrelevant. We'll pick this topic up again shortly (Section @ref(indexing)).</p>
</div>
<div id="altering-the-elements-of-a-vector-1" class="section level3" number="43.13.4">
<h3><span class="header-section-number">43.13.4</span> Altering the elements of a vector</h3>
<p>Sometimes you'll want to change the values stored in a vector. Imagine my surprise when the publisher rings me up to tell me that the sales data for May are wrong. There were actually an additional 25 books sold in May, but there was an error or something so they hadn't told me about it. How can I fix my <code>sales.by.month</code> variable? One possibility would be to assign the whole vector again from the beginning, using <code>c()</code>. But that's a lot of typing. Also, it's a little wasteful: why should R have to redefine the sales figures for all 12 months, when only the 5th one is wrong? Fortunately, we can tell R to change only the 5th element, using this trick:</p>
<div class="sourceCode" id="cb855"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb855-1"><a href="#cb855-1" tabindex="-1"></a>sales.by.month[<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="dv">25</span></span>
<span id="cb855-2"><a href="#cb855-2" tabindex="-1"></a>sales.by.month</span></code></pre></div>
<pre><code>##  [1]   0 100 200  50  25   0   0   0   0   0   0   0</code></pre>
<p>Another way to edit variables is to use the <code>edit()</code> or <code>fix()</code> functions. I won't discuss them in detail right now, but you can check them out on your own.</p>
</div>
<div id="veclength" class="section level3" number="43.13.5">
<h3><span class="header-section-number">43.13.5</span> Useful things to know about vectors</h3>
<p>Before moving on, I want to mention a couple of other things about vectors. Firstly, you often find yourself wanting to know how many elements there are in a vector (usually because you've forgotten). You can use the <code>length()</code> function to do this. It's quite straightforward:</p>
<div class="sourceCode" id="cb857"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb857-1"><a href="#cb857-1" tabindex="-1"></a><span class="fu">length</span>( <span class="at">x =</span> sales.by.month )</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<p>Secondly, you often want to alter all of the elements of a vector at once. For instance, suppose I wanted to figure out how much money I made in each month. Since I'm earning an exciting $7 per book (no seriously, that's actually pretty close to what authors get on the very expensive textbooks that you're expected to purchase), what I want to do is multiply each element in the <code>sales.by.month</code> vector by <code>7</code>. R makes this pretty easy, as the following example shows:</p>
<div class="sourceCode" id="cb859"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb859-1"><a href="#cb859-1" tabindex="-1"></a>sales.by.month <span class="sc">*</span> <span class="dv">7</span></span></code></pre></div>
<pre><code>##  [1]    0  700 1400  350  175    0    0    0    0    0    0    0</code></pre>
<p>In other words, when you multiply a vector by a single number, all elements in the vector get multiplied. The same is true for addition, subtraction, division and taking powers. So that's neat. On the other hand, suppose I wanted to know how much money I was making per day, rather than per month. Since not every month has the same number of days, I need to do something slightly different. Firstly, I'll create two new vectors:</p>
<div class="sourceCode" id="cb861"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb861-1"><a href="#cb861-1" tabindex="-1"></a>days.per.month <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">31</span>, <span class="dv">28</span>, <span class="dv">31</span>, <span class="dv">30</span>, <span class="dv">31</span>, <span class="dv">30</span>, <span class="dv">31</span>, <span class="dv">31</span>, <span class="dv">30</span>, <span class="dv">31</span>, <span class="dv">30</span>, <span class="dv">31</span>)</span>
<span id="cb861-2"><a href="#cb861-2" tabindex="-1"></a>profit <span class="ot">&lt;-</span> sales.by.month <span class="sc">*</span> <span class="dv">7</span></span></code></pre></div>
<p>Obviously, the <code>profit</code> variable is the same one we created earlier, and the <code>days.per.month</code> variable is pretty straightforward. What I want to do is divide every element of <code>profit</code> by the <em>corresponding</em> element of <code>days.per.month</code>. Again, R makes this pretty easy:</p>
<div class="sourceCode" id="cb862"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb862-1"><a href="#cb862-1" tabindex="-1"></a>profit <span class="sc">/</span> days.per.month</span></code></pre></div>
<pre><code>##  [1]  0.000000 25.000000 45.161290 11.666667  5.645161  0.000000  0.000000
##  [8]  0.000000  0.000000  0.000000  0.000000  0.000000</code></pre>
<p>I still don't like all those zeros, but that's not what matters here. Notice that the second element of the output is 25, because R has divided the second element of <code>profit</code> (i.e. 700) by the second element of <code>days.per.month</code> (i.e. 28). Similarly, the third element of the output is equal to 1400 divided by 31, and so on. We'll talk more about calculations involving vectors later on (and in particular a thing called the "recycling rule"; Section @ref(recycling)), but that's enough detail for now.</p>
</div>
</div>
<div id="text" class="section level2" number="43.14">
<h2><span class="header-section-number">43.14</span> Storing text data</h2>
<p>A lot of the time your data will be numeric in nature, but not always. Sometimes your data really needs to be described using text, not using numbers. To address this, we need to consider the situation where our variables store text. To create a variable that stores the word "hello", we can type this:</p>
<div class="sourceCode" id="cb864"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb864-1"><a href="#cb864-1" tabindex="-1"></a>greeting <span class="ot">&lt;-</span> <span class="st">&quot;hello&quot;</span></span>
<span id="cb864-2"><a href="#cb864-2" tabindex="-1"></a>greeting</span></code></pre></div>
<pre><code>## [1] &quot;hello&quot;</code></pre>
<p>When interpreting this, it's important to recognise that the quote marks here <em>aren't</em> part of the string itself. They're just something that we use to make sure that R knows to treat the characters that they enclose as a piece of text data, known as a <strong><em>character string</em></strong>. In other words, R treats <code>"hello"</code> as a string containing the word "hello"; but if I had typed <code>hello</code> instead, R would go looking for a variable by that name! You can also use <code>'hello'</code> to specify a character string.</p>
<p>Okay, so that's how we store the text. Next, it's important to recognise that when we do this, R stores the entire word <code>"hello"</code> as a <em>single</em> element: our <code>greeting</code> variable is <em>not</em> a vector of five different letters. Rather, it has only the one element, and that element corresponds to the entire character string <code>"hello"</code>. To illustrate this, if I actually ask R to find the first element of <code>greeting</code>, it prints the whole string:</p>
<div class="sourceCode" id="cb866"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb866-1"><a href="#cb866-1" tabindex="-1"></a>greeting[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] &quot;hello&quot;</code></pre>
<p>Of course, there's no reason why I can't create a vector of character strings. For instance, if we were to continue with the example of my attempts to look at the monthly sales data for my book, one variable I might want would include the names of all 12 <code>months</code>.<a href="#fn47" class="footnote-ref" id="fnref47"><sup>47</sup></a> To do so, I could type in a command like this</p>
<div class="sourceCode" id="cb868"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb868-1"><a href="#cb868-1" tabindex="-1"></a>months <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;January&quot;</span>, <span class="st">&quot;February&quot;</span>, <span class="st">&quot;March&quot;</span>, <span class="st">&quot;April&quot;</span>, <span class="st">&quot;May&quot;</span>, <span class="st">&quot;June&quot;</span>,</span>
<span id="cb868-2"><a href="#cb868-2" tabindex="-1"></a>            <span class="st">&quot;July&quot;</span>, <span class="st">&quot;August&quot;</span>, <span class="st">&quot;September&quot;</span>, <span class="st">&quot;October&quot;</span>, <span class="st">&quot;November&quot;</span>, </span>
<span id="cb868-3"><a href="#cb868-3" tabindex="-1"></a>            <span class="st">&quot;December&quot;</span>)</span></code></pre></div>
<p>This is a <strong><em>character vector</em></strong> containing 12 elements, each of which is the name of a month. So if I wanted R to tell me the name of the fourth month, all I would do is this:</p>
<div class="sourceCode" id="cb869"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb869-1"><a href="#cb869-1" tabindex="-1"></a>months[<span class="dv">4</span>]</span></code></pre></div>
<pre><code>## [1] &quot;April&quot;</code></pre>
<div id="simpletext" class="section level3" number="43.14.1">
<h3><span class="header-section-number">43.14.1</span> Working with text</h3>
<p>Working with text data is somewhat more complicated than working with numeric data, and I discuss some of the basic ideas in Section @ref(textprocessing), but for purposes of the current chapter we only need this bare bones sketch. The only other thing I want to do before moving on is show you an example of a function that can be applied to text data. So far, most of the functions that we have seen (i.e., <code>sqrt()</code>, <code>abs()</code> and <code>round()</code>) only make sense when applied to numeric data (e.g., you can't calculate the square root of "hello"), and we've seen one function that can be applied to pretty much any variable or vector (i.e., <code>length()</code>). So it might be nice to see an example of a function that can be applied to text.</p>
<p>The function I'm going to introduce you to is called <code>nchar()</code>, and what it does is count the number of individual characters that make up a string. Recall earlier that when we tried to calculate the <code>length()</code> of our <code>greeting</code> variable it returned a value of <code>1</code>: the <code>greeting</code> variable contains only the one string, which happens to be <code>"hello"</code>. But what if I want to know how many letters there are in the word? Sure, I could <em>count</em> them, but that's boring, and more to the point it's a terrible strategy if what I wanted to know was the number of letters in <em>War and Peace</em>. That's where the <code>nchar()</code> function is helpful:</p>
<div class="sourceCode" id="cb871"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb871-1"><a href="#cb871-1" tabindex="-1"></a><span class="fu">nchar</span>( <span class="at">x =</span> greeting )</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>That makes sense, since there are in fact 5 letters in the string <code>"hello"</code>. Better yet, you can apply <code>nchar()</code> to whole vectors. So, for instance, if I want R to tell me how many letters there are in the names of each of the 12 months, I can do this:</p>
<div class="sourceCode" id="cb873"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb873-1"><a href="#cb873-1" tabindex="-1"></a><span class="fu">nchar</span>( <span class="at">x =</span> months )</span></code></pre></div>
<pre><code>##  [1] 7 8 5 5 3 4 4 6 9 7 8 8</code></pre>
<p>So that's nice to know. The <code>nchar()</code> function can do a bit more than this, and there's a lot of other functions that you can do to extract more information from text or do all sorts of fancy things. However, the goal here is not to teach any of that! The goal right now is just to see an example of a function that actually does work when applied to text.</p>
</div>
</div>
<div id="logicals" class="section level2" number="43.15">
<h2><span class="header-section-number">43.15</span> Storing "true or false" data</h2>
<p>Time to move onto a third kind of data. A key concept in that a lot of R relies on is the idea of a <strong><em>logical value</em></strong>. A logical value is an assertion about whether something is true or false. This is implemented in R in a pretty straightforward way. There are two logical values, namely <code>TRUE</code> and <code>FALSE</code>. Despite the simplicity, a logical values are very useful things. Let's see how they work.</p>
<div id="assessing-mathematical-truths-2" class="section level3" number="43.15.1">
<h3><span class="header-section-number">43.15.1</span> Assessing mathematical truths</h3>
<p>In George Orwell's classic book <em>1984</em>, one of the slogans used by the totalitarian Party was "two plus two equals five", the idea being that the political domination of human freedom becomes complete when it is possible to subvert even the most basic of truths. It's a terrifying thought, especially when the protagonist Winston Smith finally breaks down under torture and agrees to the proposition. "Man is infinitely malleable", the book says. I'm pretty sure that this isn't true of humans<a href="#fn48" class="footnote-ref" id="fnref48"><sup>48</sup></a> but it's definitely not true of R. R is not infinitely malleable. It has rather firm opinions on the topic of what is and isn't true, at least as regards basic mathematics. If I ask it to calculate <code>2 + 2</code>, it always gives the same answer, and it's not bloody 5:</p>
<div class="sourceCode" id="cb875"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb875-1"><a href="#cb875-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>Of course, so far R is just doing the calculations. I haven't asked it to explicitly assert that <span class="math inline">\(2+2 = 4\)</span> is a true statement. If I want R to make an explicit judgement, I can use a command like this:</p>
<div class="sourceCode" id="cb877"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb877-1"><a href="#cb877-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>What I've done here is use the <strong><em>equality operator</em></strong>, <code>==</code>, to force R to make a "true or false" judgement.<a href="#fn49" class="footnote-ref" id="fnref49"><sup>49</sup></a> Okay, let's see what R thinks of the Party slogan:</p>
<div class="sourceCode" id="cb879"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb879-1"><a href="#cb879-1" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Booyah! Freedom and ponies for all! Or something like that. Anyway, it's worth having a look at what happens if I try to <em>force</em> R to believe that two plus two is five by making an assignment statement like <code>2 + 2 = 5</code> or <code>2 + 2 &lt;- 5</code>. When I do this, here's what happens:</p>
<div class="sourceCode" id="cb881"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb881-1"><a href="#cb881-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="ot">=</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## Error in 2 + 2 = 5: target of assignment expands to non-language object</code></pre>
<p>R doesn't like this very much. It recognises that <code>2 + 2</code> is <em>not</em> a variable (that's what the "non-language object" part is saying), and it won't let you try to "reassign" it. While R is pretty flexible, and actually does let you do some quite remarkable things to redefine parts of R itself, there are just some basic, primitive truths that it refuses to give up. It won't change the laws of addition, and it won't change the definition of the number <code>2</code>.</p>
<p>That's probably for the best.</p>
</div>
<div id="logical-operations-1" class="section level3" number="43.15.2">
<h3><span class="header-section-number">43.15.2</span> Logical operations</h3>
<p>So now we've seen logical operations at work, but so far we've only seen the simplest possible example. You probably won't be surprised to discover that we can combine logical operations with other operations and functions in a more complicated way, like this:</p>
<div class="sourceCode" id="cb883"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb883-1"><a href="#cb883-1" tabindex="-1"></a><span class="dv">3</span><span class="sc">*</span><span class="dv">3</span> <span class="sc">+</span> <span class="dv">4</span><span class="sc">*</span><span class="dv">4</span> <span class="sc">==</span> <span class="dv">5</span><span class="sc">*</span><span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>or this</p>
<div class="sourceCode" id="cb885"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb885-1"><a href="#cb885-1" tabindex="-1"></a><span class="fu">sqrt</span>( <span class="dv">25</span> ) <span class="sc">==</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Not only that, but as Table @ref(tab:logicals) illustrates, there are several other logical operators that you can use, corresponding to some basic mathematical concepts.</p>
<table>
<caption>(#tab:logicals)Some logical operators. Technically I should be calling these "binary relational operators", but quite frankly I don't want to. It's my book so no-one can make me.</caption>
<thead>
<tr class="header">
<th align="left">operation</th>
<th align="left">operator</th>
<th align="left">example input</th>
<th align="left">answer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">less than</td>
<td align="left">&lt;</td>
<td align="left">2 &lt; 3</td>
<td align="left"><code>TRUE</code></td>
</tr>
<tr class="even">
<td align="left">less than or equal to</td>
<td align="left">&lt;=</td>
<td align="left">2 &lt;= 2</td>
<td align="left"><code>TRUE</code></td>
</tr>
<tr class="odd">
<td align="left">greater than</td>
<td align="left">&gt;</td>
<td align="left">2 &gt; 3</td>
<td align="left"><code>FALSE</code></td>
</tr>
<tr class="even">
<td align="left">greater than or equal to</td>
<td align="left">&gt;=</td>
<td align="left">2 &gt;= 2</td>
<td align="left"><code>TRUE</code></td>
</tr>
<tr class="odd">
<td align="left">equal to</td>
<td align="left">==</td>
<td align="left">2 == 3</td>
<td align="left"><code>FALSE</code></td>
</tr>
<tr class="even">
<td align="left">not equal to</td>
<td align="left">!=</td>
<td align="left">2 != 3</td>
<td align="left"><code>TRUE</code></td>
</tr>
</tbody>
</table>
<p>Hopefully these are all pretty self-explanatory: for example, the <strong><em>less than</em></strong> operator <code>&lt;</code> checks to see if the number on the left is less than the number on the right. If it's less, then R returns an answer of <code>TRUE</code>:</p>
<div class="sourceCode" id="cb887"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb887-1"><a href="#cb887-1" tabindex="-1"></a><span class="dv">99</span> <span class="sc">&lt;</span> <span class="dv">100</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>but if the two numbers are equal, or if the one on the right is larger, then R returns an answer of <code>FALSE</code>, as the following two examples illustrate:</p>
<div class="sourceCode" id="cb889"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb889-1"><a href="#cb889-1" tabindex="-1"></a><span class="dv">100</span> <span class="sc">&lt;</span> <span class="dv">100</span></span>
<span id="cb889-2"><a href="#cb889-2" tabindex="-1"></a></span>
<span id="cb889-3"><a href="#cb889-3" tabindex="-1"></a><span class="dv">100</span> <span class="sc">&lt;</span> <span class="dv">99</span></span></code></pre></div>
<pre><code>## [1] FALSE
## [1] FALSE</code></pre>
<p>In contrast, the <strong><em>less than or equal to</em></strong> operator <code>&lt;=</code> will do exactly what it says. It returns a value of <code>TRUE</code> if the number of the left hand side is less than or equal to the number on the right hand side. So if we repeat the previous two examples using <code>&lt;=</code>, here's what we get:</p>
<div class="sourceCode" id="cb891"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb891-1"><a href="#cb891-1" tabindex="-1"></a><span class="dv">100</span> <span class="sc">&lt;=</span> <span class="dv">100</span></span>
<span id="cb891-2"><a href="#cb891-2" tabindex="-1"></a></span>
<span id="cb891-3"><a href="#cb891-3" tabindex="-1"></a><span class="dv">100</span> <span class="sc">&lt;=</span> <span class="dv">99</span></span></code></pre></div>
<pre><code>## [1] TRUE
## [1] FALSE</code></pre>
<p>And at this point I hope it's pretty obvious what the <strong><em>greater than</em></strong> operator <code>&gt;</code> and the <strong><em>greater than or equal to</em></strong> operator <code>&gt;=</code> do! Next on the list of logical operators is the <strong><em>not equal to</em></strong> operator <code>!=</code> which -- as with all the others -- does what it says it does. It returns a value of <code>TRUE</code> when things on either side are not identical to each other. Therefore, since <span class="math inline">\(2+2\)</span> isn't equal to <span class="math inline">\(5\)</span>, we get:</p>
<div class="sourceCode" id="cb893"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb893-1"><a href="#cb893-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">!=</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>We're not quite done yet. There are three more logical operations that are worth knowing about, listed in Table @ref(tab:logicals2).</p>
<table>
<caption>(#tab:logicals2)Some more logical operators.</caption>
<thead>
<tr class="header">
<th align="left">operation</th>
<th align="left">operator</th>
<th align="left">example input</th>
<th align="left">answer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">not</td>
<td align="left">!</td>
<td align="left">!(1==1)</td>
<td align="left"><code>FALSE</code></td>
</tr>
<tr class="even">
<td align="left">or</td>
<td align="left">|</td>
<td align="left">(1==1) | (2==3)</td>
<td align="left"><code>TRUE</code></td>
</tr>
<tr class="odd">
<td align="left">and</td>
<td align="left">&amp;</td>
<td align="left">(1==1) &amp; (2==3)</td>
<td align="left"><code>FALSE</code></td>
</tr>
</tbody>
</table>
<p>These are the <strong><em>not</em></strong> operator <code>!</code>, the <strong><em>and</em></strong> operator <code>&amp;</code>, and the <strong><em>or</em></strong> operator <code>|</code>. Like the other logical operators, their behaviour is more or less exactly what you'd expect given their names. For instance, if I ask you to assess the claim that "either <span class="math inline">\(2+2 = 4\)</span> <em>or</em> <span class="math inline">\(2+2 = 5\)</span>" you'd say that it's true. Since it's an "either-or" statement, all we need is for one of the two parts to be true. That's what the <code>|</code> operator does:</p>
<div class="sourceCode" id="cb895"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb895-1"><a href="#cb895-1" tabindex="-1"></a>(<span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">4</span>) <span class="sc">|</span> (<span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>On the other hand, if I ask you to assess the claim that "both <span class="math inline">\(2+2 = 4\)</span> <em>and</em> <span class="math inline">\(2+2 = 5\)</span>" you'd say that it's false. Since this is an <em>and</em> statement we need both parts to be true. And that's what the <code>&amp;</code> operator does:</p>
<div class="sourceCode" id="cb897"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb897-1"><a href="#cb897-1" tabindex="-1"></a>(<span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">4</span>) <span class="sc">&amp;</span> (<span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Finally, there's the <em>not</em> operator, which is simple but annoying to describe in English. If I ask you to assess my claim that "it is not true that <span class="math inline">\(2+2 = 5\)</span>" then you would say that my claim is true; because my claim is that "<span class="math inline">\(2+2 = 5\)</span> is false". And I'm right. If we write this as an R command we get this:</p>
<div class="sourceCode" id="cb899"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb899-1"><a href="#cb899-1" tabindex="-1"></a><span class="sc">!</span> (<span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>In other words, since <code>2+2 == 5</code> is a <code>FALSE</code> statement, it must be the case that <code>!(2+2 == 5)</code> is a <code>TRUE</code> one. Essentially, what we've really done is claim that "not false" is the same thing as "true". Obviously, this isn't really quite right in real life. But R lives in a much more black or white world: for R everything is either true or false. No shades of gray are allowed. We can actually see this much more explicitly, like this:</p>
<div class="sourceCode" id="cb901"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb901-1"><a href="#cb901-1" tabindex="-1"></a><span class="sc">!</span> <span class="cn">FALSE</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Of course, in our <span class="math inline">\(2+2 = 5\)</span> example, we didn't really need to use "not" <code>!</code> and "equals to" <code>==</code> as two separate operators. We could have just used the "not equals to" operator <code>!=</code> like this:</p>
<div class="sourceCode" id="cb903"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb903-1"><a href="#cb903-1" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">!=</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>But there are many situations where you really do need to use the <code>!</code> operator. We'll see some later on.<a href="#fn50" class="footnote-ref" id="fnref50"><sup>50</sup></a></p>
</div>
<div id="storing-and-using-logical-data-1" class="section level3" number="43.15.3">
<h3><span class="header-section-number">43.15.3</span> Storing and using logical data</h3>
<p>Up to this point, I've introduced <em>numeric data</em> (in Sections @ref(assign) and @ref(vectors)) and <em>character data</em> (in Section @ref(text)). So you might not be surprised to discover that these <code>TRUE</code> and <code>FALSE</code> values that R has been producing are actually a third kind of data, called <em>logical data</em>. That is, when I asked R if <code>2 + 2 == 5</code> and it said <code>[1] FALSE</code> in reply, it was actually producing information that we can store in variables. For instance, I could create a variable called <code>is.the.Party.correct</code>, which would store R's opinion:</p>
<div class="sourceCode" id="cb905"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb905-1"><a href="#cb905-1" tabindex="-1"></a>is.the.Party.correct <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">5</span></span>
<span id="cb905-2"><a href="#cb905-2" tabindex="-1"></a>is.the.Party.correct</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Alternatively, you can assign the value directly, by typing <code>TRUE</code> or <code>FALSE</code> in your command. Like this:</p>
<div class="sourceCode" id="cb907"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb907-1"><a href="#cb907-1" tabindex="-1"></a>is.the.Party.correct <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb907-2"><a href="#cb907-2" tabindex="-1"></a>is.the.Party.correct</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Better yet, because it's kind of tedious to type <code>TRUE</code> or <code>FALSE</code> over and over again, R provides you with a shortcut: you can use <code>T</code> and <code>F</code> instead (but it's case sensitive: <code>t</code> and <code>f</code> won't work).<a href="#fn51" class="footnote-ref" id="fnref51"><sup>51</sup></a> So this works:</p>
<div class="sourceCode" id="cb909"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb909-1"><a href="#cb909-1" tabindex="-1"></a>is.the.Party.correct <span class="ot">&lt;-</span> F</span>
<span id="cb909-2"><a href="#cb909-2" tabindex="-1"></a>is.the.Party.correct</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>but this doesn't:</p>
<div class="sourceCode" id="cb911"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb911-1"><a href="#cb911-1" tabindex="-1"></a>is.the.Party.correct <span class="ot">&lt;-</span> f</span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;f&#39; not found</code></pre>
</div>
<div id="vectors-of-logicals-1" class="section level3" number="43.15.4">
<h3><span class="header-section-number">43.15.4</span> Vectors of logicals</h3>
<p>The next thing to mention is that you can store vectors of logical values in exactly the same way that you can store vectors of numbers (Section @ref(vectors)) and vectors of text data (Section @ref(text)). Again, we can define them directly via the <code>c()</code> function, like this:</p>
<div class="sourceCode" id="cb913"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb913-1"><a href="#cb913-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb913-2"><a href="#cb913-2" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE</code></pre>
<p>or you can produce a vector of logicals by applying a logical operator to a vector. This might not make a lot of sense to you, so let's unpack it slowly. First, let's suppose we have a vector of numbers (i.e., a "non-logical vector"). For instance, we could use the <code>sales.by.month</code> vector that we were using in Section @ref(vectors). Suppose I wanted R to tell me, for each month of the year, whether I actually sold a book in that month. I can do that by typing this:</p>
<div class="sourceCode" id="cb915"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb915-1"><a href="#cb915-1" tabindex="-1"></a>sales.by.month <span class="sc">&gt;</span> <span class="dv">0</span></span></code></pre></div>
<pre><code>##  [1] FALSE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE
## [12] FALSE</code></pre>
<p>and again, I can store this in a vector if I want, as the example below illustrates:</p>
<div class="sourceCode" id="cb917"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb917-1"><a href="#cb917-1" tabindex="-1"></a>any.sales.this.month <span class="ot">&lt;-</span> sales.by.month <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb917-2"><a href="#cb917-2" tabindex="-1"></a>any.sales.this.month</span></code></pre></div>
<pre><code>##  [1] FALSE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE
## [12] FALSE</code></pre>
<p>In other words, <code>any.sales.this.month</code> is a logical vector whose elements are <code>TRUE</code> only if the corresponding element of <code>sales.by.month</code> is greater than zero. For instance, since I sold zero books in January, the first element is <code>FALSE</code>.</p>
</div>
<div id="logictext" class="section level3" number="43.15.5">
<h3><span class="header-section-number">43.15.5</span> Applying logical operation to text</h3>
<p>In a moment (Section @ref(indexing)) I'll show you why these logical operations and logical vectors are so handy, but before I do so I want to very briefly point out that you can apply them to text as well as to logical data. It's just that we need to be a bit more careful in understanding how R interprets the different operations. In this section I'll talk about how the equal to operator <code>==</code> applies to text, since this is the most important one. Obviously, the not equal to operator <code>!=</code> gives the exact opposite answers to <code>==</code> so I'm implicitly talking about that one too, but I won't give specific commands showing the use of <code>!=</code>. As for the other operators, I'll defer a more detailed discussion of this topic to Section @ref(logictext2).</p>
<p>Okay, let's see how it works. In one sense, it's very simple. For instance, I can ask R if the word <code>"cat"</code> is the same as the word <code>"dog"</code>, like this:</p>
<div class="sourceCode" id="cb919"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb919-1"><a href="#cb919-1" tabindex="-1"></a><span class="st">&quot;cat&quot;</span> <span class="sc">==</span> <span class="st">&quot;dog&quot;</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>That's pretty obvious, and it's good to know that even R can figure that out. Similarly, R does recognise that a <code>"cat"</code> is a <code>"cat"</code>:</p>
<div class="sourceCode" id="cb921"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb921-1"><a href="#cb921-1" tabindex="-1"></a><span class="st">&quot;cat&quot;</span> <span class="sc">==</span> <span class="st">&quot;cat&quot;</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Again, that's exactly what we'd expect. However, what you need to keep in mind is that R is not at all tolerant when it comes to grammar and spacing. If two strings differ in any way whatsoever, R will say that they're not equal to each other, as the following examples indicate:</p>
<div class="sourceCode" id="cb923"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb923-1"><a href="#cb923-1" tabindex="-1"></a><span class="st">&quot; cat&quot;</span> <span class="sc">==</span> <span class="st">&quot;cat&quot;</span></span>
<span id="cb923-2"><a href="#cb923-2" tabindex="-1"></a></span>
<span id="cb923-3"><a href="#cb923-3" tabindex="-1"></a><span class="st">&quot;cat&quot;</span> <span class="sc">==</span> <span class="st">&quot;CAT&quot;</span></span>
<span id="cb923-4"><a href="#cb923-4" tabindex="-1"></a></span>
<span id="cb923-5"><a href="#cb923-5" tabindex="-1"></a><span class="st">&quot;cat&quot;</span> <span class="sc">==</span> <span class="st">&quot;c a t&quot;</span></span></code></pre></div>
<pre><code>## [1] FALSE
## [1] FALSE
## [1] FALSE</code></pre>
</div>
</div>
<div id="indexing" class="section level2" number="43.16">
<h2><span class="header-section-number">43.16</span> Indexing vectors</h2>
<p>One last thing to add before finishing up this chapter. So far, whenever I've had to get information out of a vector, all I've done is typed something like <code>months[4]</code>; and when I do this R prints out the fourth element of the <code>months</code> vector. In this section, I'll show you two additional tricks for getting information out of the vector.</p>
<div id="extracting-multiple-elements-1" class="section level3" number="43.16.1">
<h3><span class="header-section-number">43.16.1</span> Extracting multiple elements</h3>
<p>One very useful thing we can do is pull out more than one element at a time. In the previous example, we only used a single number (i.e., <code>2</code>) to indicate which element we wanted. Alternatively, we can use a vector. So, suppose I wanted the data for February, March and April. What I could do is use the vector <code>c(2,3,4)</code> to indicate which elements I want R to pull out. That is, I'd type this:</p>
<div class="sourceCode" id="cb925"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb925-1"><a href="#cb925-1" tabindex="-1"></a>sales.by.month[ <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>) ]</span></code></pre></div>
<pre><code>## [1] 100 200  50</code></pre>
<p>Notice that the order matters here. If I asked for the data in the reverse order (i.e., April first, then March, then February) by using the vector <code>c(4,3,2)</code>, then R outputs the data in the reverse order:</p>
<div class="sourceCode" id="cb927"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb927-1"><a href="#cb927-1" tabindex="-1"></a>sales.by.month[ <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>) ]</span></code></pre></div>
<pre><code>## [1]  50 200 100</code></pre>
<p>A second thing to be aware of is that R provides you with handy shortcuts for very common situations. For instance, suppose that I wanted to extract everything from the 2nd month through to the 8th month. One way to do this is to do the same thing I did above, and use the vector <code>c(2,3,4,5,6,7,8)</code> to indicate the elements that I want. That works just fine</p>
<div class="sourceCode" id="cb929"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb929-1"><a href="#cb929-1" tabindex="-1"></a>sales.by.month[ <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>) ]</span></code></pre></div>
<pre><code>## [1] 100 200  50  25   0   0   0</code></pre>
<p>but it's kind of a lot of typing. To help make this easier, R lets you use <code>2:8</code> as shorthand for <code>c(2,3,4,5,6,7,8)</code>, which makes things a lot simpler. First, let's just check that this is true:</p>
<div class="sourceCode" id="cb931"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb931-1"><a href="#cb931-1" tabindex="-1"></a><span class="dv">2</span><span class="sc">:</span><span class="dv">8</span></span></code></pre></div>
<pre><code>## [1] 2 3 4 5 6 7 8</code></pre>
<p>Next, let's check that we can use the <code>2:8</code> shorthand as a way to pull out the 2nd through 8th elements of <code>sales.by.months</code>:</p>
<div class="sourceCode" id="cb933"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb933-1"><a href="#cb933-1" tabindex="-1"></a>sales.by.month[<span class="dv">2</span><span class="sc">:</span><span class="dv">8</span>]</span></code></pre></div>
<pre><code>## [1] 100 200  50  25   0   0   0</code></pre>
<p>So that's kind of neat.</p>
</div>
<div id="logical-indexing-1" class="section level3" number="43.16.2">
<h3><span class="header-section-number">43.16.2</span> Logical indexing</h3>
<p>At this point, I can introduce an extremely useful tool called <strong><em>logical indexing</em></strong>. In the last section, I created a logical vector <code>any.sales.this.month</code>, whose elements are <code>TRUE</code> for any month in which I sold at least one book, and <code>FALSE</code> for all the others. However, that big long list of <code>TRUE</code>s and <code>FALSE</code>s is a little bit hard to read, so what I'd like to do is to have R select the names of the <code>months</code> for which I sold any books. Earlier on, I created a vector <code>months</code> that contains the names of each of the months. This is where logical indexing is handy. What I need to do is this:</p>
<div class="sourceCode" id="cb935"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb935-1"><a href="#cb935-1" tabindex="-1"></a>months[ sales.by.month <span class="sc">&gt;</span> <span class="dv">0</span> ]</span></code></pre></div>
<pre><code>## [1] &quot;February&quot; &quot;March&quot;    &quot;April&quot;    &quot;May&quot;</code></pre>
<p>To understand what's happening here, it's helpful to notice that <code>sales.by.month &gt; 0</code> is the same logical expression that we used to create the <code>any.sales.this.month</code> vector in the last section. In fact, I could have just done this:</p>
<div class="sourceCode" id="cb937"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb937-1"><a href="#cb937-1" tabindex="-1"></a>months[ any.sales.this.month ]</span></code></pre></div>
<pre><code>## [1] &quot;February&quot; &quot;March&quot;    &quot;April&quot;    &quot;May&quot;</code></pre>
<p>and gotten exactly the same result. In order to figure out which elements of <code>months</code> to include in the output, what R does is look to see if the corresponding element in <code>any.sales.this.month</code> is <code>TRUE</code>. Thus, since element 1 of <code>any.sales.this.month</code> is <code>FALSE</code>, R does not include <code>"January"</code> as part of the output; but since element 2 of <code>any.sales.this.month</code> is <code>TRUE</code>, R does include <code>"February"</code> in the output. Note that there's no reason why I can't use the same trick to find the actual sales numbers for those months. The command to do that would just be this:</p>
<div class="sourceCode" id="cb939"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb939-1"><a href="#cb939-1" tabindex="-1"></a>sales.by.month [ sales.by.month <span class="sc">&gt;</span> <span class="dv">0</span> ]</span></code></pre></div>
<pre><code>## [1] 100 200  50  25</code></pre>
<p>In fact, we can do the same thing with text. Here's an example. Suppose that -- to continue the saga of the textbook sales -- I later find out that the bookshop only had sufficient stocks for a few months of the year. They tell me that early in the year they had <code>"high"</code> stocks, which then dropped to <code>"low"</code> levels, and in fact for one month they were <code>"out"</code> of copies of the book for a while before they were able to replenish them. Thus I might have a variable called <code>stock.levels</code> which looks like this:</p>
<div class="sourceCode" id="cb941"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb941-1"><a href="#cb941-1" tabindex="-1"></a>stock.levels<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;out&quot;</span>, <span class="st">&quot;out&quot;</span>, <span class="st">&quot;high&quot;</span>,</span>
<span id="cb941-2"><a href="#cb941-2" tabindex="-1"></a>                <span class="st">&quot;high&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;high&quot;</span>)</span>
<span id="cb941-3"><a href="#cb941-3" tabindex="-1"></a></span>
<span id="cb941-4"><a href="#cb941-4" tabindex="-1"></a>stock.levels</span></code></pre></div>
<pre><code>##  [1] &quot;high&quot; &quot;high&quot; &quot;low&quot;  &quot;out&quot;  &quot;out&quot;  &quot;high&quot; &quot;high&quot; &quot;high&quot; &quot;high&quot; &quot;high&quot;
## [11] &quot;high&quot; &quot;high&quot;</code></pre>
<p>Thus, if I want to know the months for which the bookshop was out of my book, I could apply the logical indexing trick, but with the character vector <code>stock.levels</code>, like this:</p>
<div class="sourceCode" id="cb943"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb943-1"><a href="#cb943-1" tabindex="-1"></a>months[stock.levels <span class="sc">==</span> <span class="st">&quot;out&quot;</span>]</span></code></pre></div>
<pre><code>## [1] &quot;April&quot; &quot;May&quot;</code></pre>
<p>Alternatively, if I want to know when the bookshop was either low on copies or out of copies, I could do this:</p>
<div class="sourceCode" id="cb945"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb945-1"><a href="#cb945-1" tabindex="-1"></a>months[stock.levels <span class="sc">==</span> <span class="st">&quot;out&quot;</span> <span class="sc">|</span> stock.levels <span class="sc">==</span> <span class="st">&quot;low&quot;</span>]</span></code></pre></div>
<pre><code>## [1] &quot;March&quot; &quot;April&quot; &quot;May&quot;</code></pre>
<p>or this</p>
<div class="sourceCode" id="cb947"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb947-1"><a href="#cb947-1" tabindex="-1"></a>months[stock.levels <span class="sc">!=</span> <span class="st">&quot;high&quot;</span> ]</span></code></pre></div>
<pre><code>## [1] &quot;March&quot; &quot;April&quot; &quot;May&quot;</code></pre>
<p>Either way, I get the answer I want.</p>
<p>At this point, I hope you can see why logical indexing is such a useful thing. It's a very basic, yet very powerful way to manipulate data. We'll talk a lot more about how to manipulate data in Chapter @ref(datahandling), since it's a critical skill for real world research that is often overlooked in introductory research methods classes (or at least, that's been my experience). It does take a bit of practice to become completely comfortable using logical indexing, so it's a good idea to play around with these sorts of commands. Try creating a few different variables of your own, and then ask yourself questions like "how do I get R to spit out all the elements that are [blah]". Practice makes perfect, and it's only by practicing logical indexing that you'll perfect the art of yelling frustrated insults at your computer.<a href="#fn52" class="footnote-ref" id="fnref52"><sup>52</sup></a></p>
</div>
</div>
<div id="quitting-r-1" class="section level2" number="43.17">
<h2><span class="header-section-number">43.17</span> Quitting R</h2>
<p>There's one last thing I should cover in this chapter: how to quit R. When I say this, I'm not trying to imply that R is some kind of pathological addition and that you need to call the R QuitLine or wear patches to control the cravings (although you certainly might argue that there's something seriously pathological about being addicted to R). I just mean how to exit the program. Assuming you're running R in the usual way (i.e., through RStudio or the default GUI on a Windows or Mac computer), then you can just shut down the application in the normal way. However, R also has a function, called <code>q()</code> that you can use to quit, which is pretty handy if you're running R in a terminal window.</p>
<p>Regardless of what method you use to quit R, when you do so for the first time R will probably ask you if you want to save the "workspace image". We'll talk a lot more about loading and saving data in Section @ref(load), but I figured we'd better quickly cover this now otherwise you're going to get annoyed when you close R at the end of the chapter. If you're using RStudio, you'll see a dialog box that looks like the one shown in Figure @ref(fig:quitR). If you're using a text based interface you'll see this:</p>
<div class="sourceCode" id="cb949"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb949-1"><a href="#cb949-1" tabindex="-1"></a><span class="fu">q</span>()</span>
<span id="cb949-2"><a href="#cb949-2" tabindex="-1"></a></span>
<span id="cb949-3"><a href="#cb949-3" tabindex="-1"></a><span class="do">## Save workspace image? [y/n/c]: </span></span></code></pre></div>
<p>The <code>y/n/c</code> part here is short for "yes / no / cancel". Type <code>y</code> if you want to save, <code>n</code> if you don't, and <code>c</code> if you've changed your mind and you don't want to quit after all.</p>
<p>What does this actually <em>mean</em>? What's going on is that R wants to know if you want to save all those variables that you've been creating, so that you can use them later. This sounds like a great idea, so it's really tempting to type <code>y</code> or click the "Save" button. To be honest though, I very rarely do this, and it kind of annoys me a little bit... what R is <em>really</em> asking is if you want it to store these variables in a "default" data file, which it will automatically reload for you next time you open R. And quite frankly, if I'd wanted to save the variables, then I'd have already saved them before trying to quit. Not only that, I'd have saved them to a location of <em>my</em> choice, so that I can find it again later. So I personally never bother with this.</p>
<p>In fact, every time I install R on a new machine one of the first things I do is change the settings so that it never asks me again. You can do this in RStudio really easily: use the menu system to find the RStudio option; the dialog box that comes up will give you an option to tell R never to whine about this again (see Figure @ref(fig:RStudiooptions). On a Mac, you can open this window by going to the "RStudio" menu and selecting "Preferences". On a Windows machine you go to the "Tools" menu and select "Global Options". Under the "General" tab you'll see an option that reads "Save workspace to .Rdata on exit". By default this is set to "ask". If you want R to stop asking, change it to "never".</p>
</div>
<div id="summary-3" class="section level2" number="43.18">
<h2><span class="header-section-number">43.18</span> Summary</h2>
<p>Every book that tries to introduce basic programming ideas to novices has to cover roughly the same topics, and in roughly the same order. Mine is no exception, and so in the grand tradition of doing it just the same way everyone else did it, this chapter covered the following topics:</p>
<ul>
<li><a href="#gettingR">Getting started</a>. We downloaded and installed R and RStudio</li>
<li><a href="#arithmetic">Basic commands</a>. We talked a bit about the logic of how R works and in particular how to type commands into the R console (Section @ref(#firstcommand), and in doing so learned how to perform basic calculations using the arithmetic operators <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> and <code>^</code>.</li>
<li><a href="#usingfunctions">Introduction to functions</a>. We saw several different functions, three that are used to perform numeric calculations (<code>sqrt()</code>, <code>abs()</code>, <code>round()</code>, one that applies to text (<code>nchar()</code>; Section @ref(simpletext)), and one that works on any variable (<code>length()</code>; Section @ref(veclength)). In doing so, we talked a bit about how argument names work, and learned about default values for arguments. (Section @ref(functionarguments))</li>
<li>Introduction to variables. We learned the basic idea behind variables, and how to assign values to variables using the assignment operator <code>&lt;-</code> (Section @ref(assign)). We also learned how to create vectors using the combine function <code>c()</code> (Section @ref(vectors)).</li>
<li>Data types. Learned the distinction between numeric, character and logical data; including the basics of how to enter and use each of them. (Sections @ref(assign) to @ref(logicals))</li>
<li><a href="#logicals">Logical operations</a>. Learned how to use the logical operators <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>=&gt;</code>, <code>!</code>, <code>&amp;</code> and <code>|</code>. And learned how to use logical indexing. (Section @ref(indexing))</li>
</ul>
<!--chapter:end:c.Rmd-->
</div>
</div>
<div id="r-basics-1" class="section level1" number="44">
<h1><span class="header-section-number">44</span> R Basics</h1>
<p>To load packages we use the function <code>library()</code>. Typically you would start any analysis script by loading all of the packages you need.</p>
<p>The <a href="https://www.tidyverse.org/">tidyverse</a> is an opinionated collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures. This means the functions across the tidyverse are all designed to work together and make the process of data science easier.</p>
<div id="using-packages" class="section level2" number="44.1">
<h2><span class="header-section-number">44.1</span> Using packages</h2>
<p>Run the below code to load the tidyverse package. You can do this regardless of whether you are using your own computer or the cloud.</p>
<div class="sourceCode" id="cb950"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb950-1"><a href="#cb950-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>You will get what looks like an error message - it's not. It's just R telling you what it's done. You should <strong>read this</strong> it gives you a full list of the packages it has made available to you. One of these should look familiar to you from last week?</p>
<p><select class='webex-select'><option value='blank'></option><option value='answer'>ggplot2</option><option value=''>tibble</option><option value=''>tidyr</option><option value=''>dplyr</option></select></p>
<p>Now that we've loaded the <code>tidyverse</code> package we can use <strong>any</strong> of the functions it contains but remember, you need to run the <code>library()</code> function every time you start R.</p>
<div class="webex-solution">
<button>
Install the tidyverse. You DO NOT need to do this on RStudio Cloud.
</button>
<p>In order to use a package, you must first install it. The following code installs the package tidyverse, a package we will use very frequently.</p>
<p>If you are working on your own computer, use the below code to install the tidyverse.</p>
<div class="sourceCode" id="cb951"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb951-1"><a href="#cb951-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<p>You only need to install a package once, however, each time you start R you need to load the packages you want to use, in a similar way that you need to install an app on your phone once, but you need to open it every time you want to use it.</p>
</div>
<p><br></p>
<div class="danger">
<p>
If you get an error message that says something like “WARNING: Rtools
is required to build R packages” you may need to download and install an
extra bit of software called <a
href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a>.
</p>
</div>
</div>
<div id="package-updates" class="section level2" number="44.2">
<h2><span class="header-section-number">44.2</span> Package updates</h2>
<p>In addition to updates to R and R Studio, the creators of packages also sometimes update their code. This can be to add functions to a package, or it can be to fix errors. One thing to avoid is unintentionally updating an installed package. When you run <code>install.packages()</code> it will always install the latest version of the package and it will overwrite any older versions you may have installed. Sometimes this isn't a problem, however, sometimes you will find that the update means your code no longer works as the package has changed substantially. It is possible to revert back to an older version of a package but try to avoid this anyway.</p>
<div class="danger">
<p>
To avoid accidentally overwriting a package with a later version, you
should <strong>never</strong> include <code>install.packages()</code> in
your analysis scripts in case you, or someone else runs the code by
mistake. Remember, the server will already have all of the packages you
need for this course so you only need to install packages if you are
using your own machine.
</p>
</div>
</div>
<div id="package-conflicts" class="section level2" number="44.3">
<h2><span class="header-section-number">44.3</span> Package conflicts</h2>
<p>There are thousands of different R packages with even more functions. Unfortunately, sometimes different packages have the same function names. For example, the packages <code>dplyr</code> and <code>MASS</code> both have a function named <code>select()</code>. If you load both of these packages, R will produce a warning telling you that there is a conflict.</p>
<div class="sourceCode" id="cb952"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb952-1"><a href="#cb952-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb952-2"><a href="#cb952-2" tabindex="-1"></a><span class="fu">library</span>(MASS)</span></code></pre></div>
<pre><code>package �dplyr� was built under R version 3.6.3
Attaching package: �dplyr�

The following objects are masked from �package:stats�:

    filter, lag

The following objects are masked from �package:base�:

    intersect, setdiff, setequal, union


Attaching package: �MASS�

The following object is masked from �package:dplyr�:

    select</code></pre>
<p>In this case, R is telling you that the function <code>select()</code> in the <code>dplyr</code> package is being hidden (or 'masked') by another function with the same name. If you were to try and use <code>select()</code>, R would use the function from the package that was loaded most recently - in this case it would use the function from <code>MASS</code>.</p>
<p>If you want to specify which package you want to use for a particular function you can use code in the format <code>package::function</code>, for example:</p>
<div class="sourceCode" id="cb954"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb954-1"><a href="#cb954-1" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">select</span>()</span>
<span id="cb954-2"><a href="#cb954-2" tabindex="-1"></a>MASS<span class="sc">::</span><span class="fu">select</span>()</span></code></pre></div>
<div class="info">
<p>
Why do we get naming conflicts?
</p>
<p>
This is because R is open source software. Anyone can write and
submit useful R packages. As a result it is impossible to make sure that
there are NEVER any functions with identical names.
</p>
</div>
</div>
<div id="objects" class="section level2" number="44.4">
<h2><span class="header-section-number">44.4</span> Objects</h2>
<p>A large part of your coding will involve creating and manipulating objects. Objects contain stuff, and we made our first R objects in the previous chapter. The values contained in an object can be numbers, words, or the result of operations and analyses.You assign content to an object using <code>&lt;-</code>.</p>
<div id="activity-1-create-some-objects" class="section level3" number="44.4.1">
<h3><span class="header-section-number">44.4.1</span> Activity 1: Create some objects</h3>
<p>Copy and paste the following code into the console, change the code so that it uses your own name and age and run it. You should see that <code>name</code>, <code>age</code>, <code>today</code>, <code>new_year</code>, and <code>data</code> appear in the environment pane.</p>
<div class="sourceCode" id="cb955"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb955-1"><a href="#cb955-1" tabindex="-1"></a>name <span class="ot">&lt;-</span> <span class="st">&quot;emily&quot;</span></span>
<span id="cb955-2"><a href="#cb955-2" tabindex="-1"></a>age <span class="ot">&lt;-</span> <span class="dv">16</span> <span class="sc">+</span> <span class="dv">19</span> </span>
<span id="cb955-3"><a href="#cb955-3" tabindex="-1"></a>today <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>()</span>
<span id="cb955-4"><a href="#cb955-4" tabindex="-1"></a>new_year <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">&quot;2022-01-01&quot;</span>)</span>
<span id="cb955-5"><a href="#cb955-5" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">15</span>, <span class="at">sd =</span> <span class="dv">3</span>)</span></code></pre></div>
<p>What command should we use if you need <code>help</code> to understand the function <code>rnorm()</code>?</p>
<p><input class='webex-solveme nospaces' size='11' data-answer='["help(rnorm)"]'/></p>
<p>`</p>
<div class="figure" style="text-align: center">
<img src="images/objects-enviro.png" alt="Objects in the environment" width="100%" />
<p class="caption">
(#fig:img-objects-enviro)Objects in the environment
</p>
</div>
<p>Note that in these examples, <code>name</code>,<code>age</code>, and <code>new_year</code> would always contain the values <code>emily</code>, <code>35</code>, and the date of New Year's Day 2021, however, <code>today</code> will draw the date from the operating system and <code>data</code> will be a randomly generated set of data so the values of these objects will not be static.</p>
<p>As a side note, if you ever have to teach programming and statistics, don't use your age as an example because every time you have to update your teaching materials you get a reminder of the fragility of existence and your advancing age. 2021 update: I have now given up updating my age, I will remain forever 35.</p>
<p>Importantly, objects can be involved in calculations and can interact with each other. For example:</p>
<div class="sourceCode" id="cb956"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb956-1"><a href="#cb956-1" tabindex="-1"></a>age <span class="sc">+</span> <span class="dv">10</span></span>
<span id="cb956-2"><a href="#cb956-2" tabindex="-1"></a>new_year <span class="sc">-</span> today</span>
<span id="cb956-3"><a href="#cb956-3" tabindex="-1"></a><span class="fu">mean</span>(data)</span></code></pre></div>
<pre><code>## [1] 45
## Time difference of -661 days
## [1] 13.65941</code></pre>
<p>Finally, you can store the result of these operations in a new object:</p>
<div class="sourceCode" id="cb958"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb958-1"><a href="#cb958-1" tabindex="-1"></a>decade <span class="ot">&lt;-</span> age <span class="sc">+</span> <span class="dv">10</span></span></code></pre></div>
<div class="info">
<p>
You may find it helpful to read <code>&lt;-</code> as
<code>contains</code>, e.g., <code>name</code> contains the text
<code>emily</code>.
</p>
</div>
<p>You will constantly be creating objects throughout this course and you will learn more about them and how they behave as we go along, however, for now it is enough to understand that they are a way of saving values, that these values can be numbers, text, or the result of operations, and that they can be used in further operations to create new variables.</p>
<div class="info">
<p>
You may also see objects referred to as ‘variables’. There is a
difference between the two in programming terms, however, they are used
synonymously very frequently.
</p>
</div>
</div>
</div>
<div id="vectors-1" class="section level2" number="44.5">
<h2><span class="header-section-number">44.5</span> Vectors</h2>
<p>We have been working with R objects containing a single element of data, but we will more commonly work with vectors. A vector is a <em>sequence</em> of elements, <strong>all of the same data type</strong>. These could be logical, numerical, character etc.</p>
<div class="sourceCode" id="cb959"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb959-1"><a href="#cb959-1" tabindex="-1"></a>numeric_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb959-2"><a href="#cb959-2" tabindex="-1"></a></span>
<span id="cb959-3"><a href="#cb959-3" tabindex="-1"></a>character_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;fruits&quot;</span>, <span class="st">&quot;vegetables&quot;</span>, <span class="st">&quot;seeds&quot;</span>)</span>
<span id="cb959-4"><a href="#cb959-4" tabindex="-1"></a></span>
<span id="cb959-5"><a href="#cb959-5" tabindex="-1"></a>logical_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span></code></pre></div>
<p>The function <code>c</code> lets you 'concatenate' or link each of these separate elements together into a single vector.</p>
</div>
<div id="dataframes-and-tibbles" class="section level2" number="44.6">
<h2><span class="header-section-number">44.6</span> Dataframes and tibbles</h2>
<p>No we have looked at R objects that contain:</p>
<ul>
<li><p>single elements of data</p></li>
<li><p>multiple elements of the same data type - vectors</p></li>
</ul>
<p>But most often when we import data into R it is put into an object called a <strong>tibble</strong> which is a type of <strong>dataframe</strong>.</p>
<div class="info">
<p>
A dataframe is data structure that organises data into a table.
Dataframes can have a mix of different types of data in them. Each
column in a dataframe is a different vector, and each row is a different
element within the vectors.
</p>
</div>
<p>Let's have a quick go at making our own <strong>tibble</strong> from scratch.</p>
<div class="sourceCode" id="cb960"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb960-1"><a href="#cb960-1" tabindex="-1"></a><span class="co"># make some variables/ vectors</span></span>
<span id="cb960-2"><a href="#cb960-2" tabindex="-1"></a>person <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Mark&quot;</span>, <span class="st">&quot;Phil&quot;</span>, <span class="st">&quot;Becky&quot;</span>, <span class="st">&quot;Tony&quot;</span>)</span>
<span id="cb960-3"><a href="#cb960-3" tabindex="-1"></a></span>
<span id="cb960-4"><a href="#cb960-4" tabindex="-1"></a>hobby <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;kickboxing&quot;</span>, <span class="st">&quot;coding&quot;</span>, <span class="st">&quot;dog walking&quot;</span>, <span class="st">&quot;car boot sales&quot;</span>)</span>
<span id="cb960-5"><a href="#cb960-5" tabindex="-1"></a></span>
<span id="cb960-6"><a href="#cb960-6" tabindex="-1"></a>awesomeness <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">100</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span></code></pre></div>
<div class="try">
<p>
Use <code>str()</code> on an object or vector to find out important
information, like the data type of each vector and how many elements it
contains.
</p>
</div>
<p>Now we put these vectors together, where they become the variables in a new tibble using the function <code>tibble()</code></p>
<div class="sourceCode" id="cb961"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb961-1"><a href="#cb961-1" tabindex="-1"></a><span class="co"># make a tibble</span></span>
<span id="cb961-2"><a href="#cb961-2" tabindex="-1"></a>my_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(person, hobby, awesomeness)</span>
<span id="cb961-3"><a href="#cb961-3" tabindex="-1"></a>my_data</span></code></pre></div>
<pre><code># A tibble: 4 x 3
  person hobby          awesomeness
  &lt;chr&gt;  &lt;chr&gt;                &lt;dbl&gt;
1 Mark   kickboxing               1
2 Phil   coding                 100
3 Becky  dog walking              1
4 Tony   car boot sales           1</code></pre>
<p>Have a go at messing about with your script and figure out what each of the functions below does.</p>
<div class="sourceCode" id="cb963"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb963-1"><a href="#cb963-1" tabindex="-1"></a><span class="co"># Some R functions for looking at tibbles and dataframes</span></span>
<span id="cb963-2"><a href="#cb963-2" tabindex="-1"></a></span>
<span id="cb963-3"><a href="#cb963-3" tabindex="-1"></a><span class="fu">head</span>(my_data, <span class="at">n=</span><span class="dv">2</span>)</span>
<span id="cb963-4"><a href="#cb963-4" tabindex="-1"></a><span class="fu">tail</span>(my_data, <span class="at">n=</span><span class="dv">1</span>)</span>
<span id="cb963-5"><a href="#cb963-5" tabindex="-1"></a><span class="fu">nrow</span>(my_data)</span>
<span id="cb963-6"><a href="#cb963-6" tabindex="-1"></a><span class="fu">ncol</span>(my_data)</span>
<span id="cb963-7"><a href="#cb963-7" tabindex="-1"></a><span class="fu">colnames</span>(my_data)</span>
<span id="cb963-8"><a href="#cb963-8" tabindex="-1"></a><span class="fu">view</span>(my_data)</span>
<span id="cb963-9"><a href="#cb963-9" tabindex="-1"></a><span class="fu">glimpse</span>(my_data)</span>
<span id="cb963-10"><a href="#cb963-10" tabindex="-1"></a><span class="fu">str</span>(my_data)</span></code></pre></div>
</div>
<div id="organising-data-in-wide-and-long-formats" class="section level2" number="44.7">
<h2><span class="header-section-number">44.7</span> Organising data in wide and long formats</h2>
<p>There are two main conventions for dataframes in R, these are <em>wide</em> and <em>long</em> formats.</p>
<ul>
<li><p>A wide data format does not repeat values in the first column, data relating to the same "measured thing" are found in different columns</p></li>
<li><p>A long data format is where we have a <strong>different</strong> column for each type of thing we have measures in our data. Each <em>variable</em> has a unique column.</p></li>
</ul>
<div class="figure" style="text-align: center">
<img src="images/data_shapes.png" alt="A visual representation of long and wide format data shapes" width="100%" />
<p class="caption">
(#fig:img-shapes)A visual representation of long and wide format data shapes
</p>
</div>
<p>While neither <em>wide</em> or <em>long</em> data is more correct than the other, we will work with <em>long</em> data as it is clearer how many distinct types of variables there are in our data <em>and</em> the tools we will be using from the <code>tidyverse</code> are designed to work with <em>long</em> data.</p>
</div>
<div id="using-pivot-functions" class="section level2" number="44.8">
<h2><span class="header-section-number">44.8</span> Using <code>pivot</code> functions</h2>
<p>There are functions found as part of the <code>tidyverse</code> that can help us to reshape data.</p>
<ul>
<li><p><code>tidyr::pivot_wider()</code> - from <em>long</em> to <em>wide</em> format</p></li>
<li><p><code>tidyr::pivot_longer()</code> - from <em>wide</em> to <em>long</em> format</p></li>
</ul>
<div class="sourceCode" id="cb964"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb964-1"><a href="#cb964-1" tabindex="-1"></a> country <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>)</span>
<span id="cb964-2"><a href="#cb964-2" tabindex="-1"></a> yr1960 <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>)</span>
<span id="cb964-3"><a href="#cb964-3" tabindex="-1"></a> yr1970 <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="dv">13</span>, <span class="dv">23</span>, <span class="dv">33</span>)</span>
<span id="cb964-4"><a href="#cb964-4" tabindex="-1"></a> yr2010 <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">25</span>, <span class="dv">35</span>)</span>
<span id="cb964-5"><a href="#cb964-5" tabindex="-1"></a></span>
<span id="cb964-6"><a href="#cb964-6" tabindex="-1"></a>country_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(country, yr1960, yr1970, yr2010)</span>
<span id="cb964-7"><a href="#cb964-7" tabindex="-1"></a>country_data</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">country</th>
<th align="right">yr1960</th>
<th align="right">yr1970</th>
<th align="right">yr2010</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">x</td>
<td align="right">10</td>
<td align="right">13</td>
<td align="right">15</td>
</tr>
<tr class="even">
<td align="left">y</td>
<td align="right">20</td>
<td align="right">23</td>
<td align="right">25</td>
</tr>
<tr class="odd">
<td align="left">z</td>
<td align="right">30</td>
<td align="right">33</td>
<td align="right">35</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb965"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb965-1"><a href="#cb965-1" tabindex="-1"></a><span class="fu">pivot_longer</span>(<span class="at">data =</span> country_data,</span>
<span id="cb965-2"><a href="#cb965-2" tabindex="-1"></a>             <span class="at">cols =</span> yr1960<span class="sc">:</span>yr2010,</span>
<span id="cb965-3"><a href="#cb965-3" tabindex="-1"></a>             <span class="at">names_to =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb965-4"><a href="#cb965-4" tabindex="-1"></a>             <span class="at">names_prefix =</span> <span class="st">&quot;yr&quot;</span>,</span>
<span id="cb965-5"><a href="#cb965-5" tabindex="-1"></a>             <span class="at">values_to =</span> <span class="st">&quot;metric&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="images/tidyr_pivot.png" alt="Reshaping data with pivot" width="100%" />
<p class="caption">
(#fig:img-pivot)Reshaping data with pivot
</p>
</div>
<p>To <em>save</em> these changes to your data format, you must assign this to an object, and you have two options</p>
<ul>
<li><p>Use the same name as the original R object, this will <em>overwrite</em> the original with the new format</p></li>
<li><p>Use a <em>new</em> name for the reformatted data both R objects will exist in your Environment</p></li>
</ul>
<p>Neither is more <em>correct</em> than the other but be aware of what you are doing.</p>
<div id="overwrite-the-original-object" class="section level3" number="44.8.1">
<h3><span class="header-section-number">44.8.1</span> Overwrite the original object</h3>
<div class="sourceCode" id="cb966"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb966-1"><a href="#cb966-1" tabindex="-1"></a>country_data <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(<span class="at">data =</span> country_data,</span>
<span id="cb966-2"><a href="#cb966-2" tabindex="-1"></a>             <span class="at">cols =</span> yr1960<span class="sc">:</span>yr2010,</span>
<span id="cb966-3"><a href="#cb966-3" tabindex="-1"></a>             <span class="at">names_to =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb966-4"><a href="#cb966-4" tabindex="-1"></a>             <span class="at">names_prefix =</span> <span class="st">&quot;yr&quot;</span>,</span>
<span id="cb966-5"><a href="#cb966-5" tabindex="-1"></a>             <span class="at">values_to =</span> <span class="st">&quot;metric&quot;</span>)</span></code></pre></div>
</div>
<div id="create-a-new-r-object" class="section level3" number="44.8.2">
<h3><span class="header-section-number">44.8.2</span> Create a new r object</h3>
<div class="sourceCode" id="cb967"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb967-1"><a href="#cb967-1" tabindex="-1"></a>long_country_data <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(<span class="at">data =</span> country_data,</span>
<span id="cb967-2"><a href="#cb967-2" tabindex="-1"></a>             <span class="at">cols =</span> yr1960<span class="sc">:</span>yr2010,</span>
<span id="cb967-3"><a href="#cb967-3" tabindex="-1"></a>             <span class="at">names_to =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb967-4"><a href="#cb967-4" tabindex="-1"></a>             <span class="at">names_prefix =</span> <span class="st">&quot;yr&quot;</span>,</span>
<span id="cb967-5"><a href="#cb967-5" tabindex="-1"></a>             <span class="at">values_to =</span> <span class="st">&quot;metric&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="looking-after-the-environment" class="section level2" number="44.9">
<h2><span class="header-section-number">44.9</span> Looking after the environment</h2>
<p>If you've been writing a lot of code you may find that the environment pane (or workspace) has become cluttered with many objects. This can make it difficult to figure out which object you need and therefore you run the risk of using the wrong data frame. If you're working on a new dataset, or if you've tried lots of different code before getting the final version, it is good practice to remember to clear the environment to avoid using the wrong object. You can do this in several way.</p>
<ol style="list-style-type: decimal">
<li>To remove individual objects, you can type <code>rm(object_name)</code> in the console. Try this now to remove one of the objects you created in the previous section.</li>
<li>To clear all objects from the environment run <code>rm(list = ls())</code> in the console.</li>
<li>To clear all objects from the environment you can also click the broom icon in the environment pane.</li>
</ol>
<div class="figure" style="text-align: center">
<img src="images/broom.png" alt="Clearing the workspace" width="100%" />
<p class="caption">
(#fig:img-broom)Clearing the workspace
</p>
</div>
</div>
<div id="global-options" class="section level2" number="44.10">
<h2><span class="header-section-number">44.10</span> Global options</h2>
<p>By default, when you open R Studio it will show you what you were last working on, including your code and any objects you have created. This might sound helpful, but actually it tends to cause more problems than it's worth because it means that you risk accidentally using an old version of an object. We recommend changing the settings so that each time you start R Studio, it opens a fresh copy. You can do this by clicking <code>Tools</code> - <code>Global Options</code> and then deselecting boxes so that it looks like the below.</p>
<div class="figure" style="text-align: center">
<img src="images/session.png" alt="Set these options to increase reproducibility" width="100%" />
<p class="caption">
(#fig:img-options)Set these options to increase reproducibility
</p>
</div>
<p>Restore .RData into workspace at startup <select class='webex-select'><option value='blank'></option><option value=''>checked</option><option value='answer'>unchecked</option></select></p>
<p>Save workspace to .RData on exit <select class='webex-select'><option value='blank'></option><option value=''>Always</option><option value='answer'>Never</option><option value=''>Ask</option></select></p>
</div>
<div id="r-sessions" class="section level2" number="44.11">
<h2><span class="header-section-number">44.11</span> R sessions</h2>
<p>When you open up R and start writing code, loading packages, and creating objects, you're doing so in a new <strong>session</strong>. In addition to clearing the workspace, it can sometimes be useful to start a new session. This will happen automatically each time you start R on your computer, although sessions can persist on the cloud. If you find that your code isn't working and you can't figure out why, it might be worth starting a new session. This will clear the environment and detach all loaded packages - think of it like restarting your phone.</p>
</div>
<div id="activity-2" class="section level2" number="44.12">
<h2><span class="header-section-number">44.12</span> Activity 2</h2>
<p>Click 'Session - Restart R'.</p>
<p>Have you tried turning it off and on again? It is vital to restart R regularly. Restarting R helps to avoid accidentally using the wrong data or functions stored in the environment. Restarting R only takes a second and we do it several times per day! Once you get used to saving everything in a script, you’ll always be happy to restart R. This will help you develop robust and reproducible data analysis skills.</p>
<div class="figure" style="text-align: center">
<img src="images/new_session.png" alt="The truth about programming" width="100%" />
<p class="caption">
(#fig:img-session)The truth about programming
</p>
</div>
<div class="info">
<p>
This does not mean you can’t or shouldn’t ever save your work in
.RData/.rda files.
</p>
<p>
But it is best to do it consciously and load exactly what you want to
load. Letting R silently save and load everything for you may also
include broken data or objects.
</p>
</div>
</div>
<div id="how-to-cite-r-and-rstudio" class="section level2" number="44.13">
<h2><span class="header-section-number">44.13</span> How to cite R and RStudio</h2>
<p>You may be some way off writing a scientific report where you have to cite and reference R, however, when the time comes it is important to do so to the people who built it (most of them for free!) credit. You should provide separate citations for R, RStudio, and the packages you use.</p>
<p>To get the citation for the version of R you are using, simply run the <code>citation()</code> function which will always provide you with he most recent citation.</p>
<div class="sourceCode" id="cb968"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb968-1"><a href="#cb968-1" tabindex="-1"></a><span class="fu">citation</span>()</span></code></pre></div>
<pre><code>## To cite R in publications use:
## 
##   R Core Team (2023). _R: A Language and Environment for Statistical
##   Computing_. R Foundation for Statistical Computing, Vienna, Austria.
##   &lt;https://www.R-project.org/&gt;.
## 
## A BibTeX entry for LaTeX users is
## 
##   @Manual{,
##     title = {R: A Language and Environment for Statistical Computing},
##     author = {{R Core Team}},
##     organization = {R Foundation for Statistical Computing},
##     address = {Vienna, Austria},
##     year = {2023},
##     url = {https://www.R-project.org/},
##   }
## 
## We have invested a lot of time and effort in creating R, please cite it
## when using it for data analysis. See also &#39;citation(&quot;pkgname&quot;)&#39; for
## citing R packages.</code></pre>
<p>To generate the citation for any packages you are using, you can also use the <code>citation()</code> function with the name of the package you wish to cite.</p>
<div class="sourceCode" id="cb970"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb970-1"><a href="#cb970-1" tabindex="-1"></a><span class="fu">citation</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<pre><code>## To cite package &#39;tidyverse&#39; in publications use:
## 
##   Wickham H, Averick M, Bryan J, Chang W, McGowan LD, François R,
##   Grolemund G, Hayes A, Henry L, Hester J, Kuhn M, Pedersen TL, Miller
##   E, Bache SM, Müller K, Ooms J, Robinson D, Seidel DP, Spinu V,
##   Takahashi K, Vaughan D, Wilke C, Woo K, Yutani H (2019). &quot;Welcome to
##   the tidyverse.&quot; _Journal of Open Source Software_, *4*(43), 1686.
##   doi:10.21105/joss.01686 &lt;https://doi.org/10.21105/joss.01686&gt;.
## 
## A BibTeX entry for LaTeX users is
## 
##   @Article{,
##     title = {Welcome to the {tidyverse}},
##     author = {Hadley Wickham and Mara Averick and Jennifer Bryan and Winston Chang and Lucy D&#39;Agostino McGowan and Romain François and Garrett Grolemund and Alex Hayes and Lionel Henry and Jim Hester and Max Kuhn and Thomas Lin Pedersen and Evan Miller and Stephan Milton Bache and Kirill Müller and Jeroen Ooms and David Robinson and Dana Paige Seidel and Vitalie Spinu and Kohske Takahashi and Davis Vaughan and Claus Wilke and Kara Woo and Hiroaki Yutani},
##     year = {2019},
##     journal = {Journal of Open Source Software},
##     volume = {4},
##     number = {43},
##     pages = {1686},
##     doi = {10.21105/joss.01686},
##   }</code></pre>
<p>To generate the citation for the version of RStudio you are using, you can use the <code>RStudio.Version()</code> function:</p>
<div class="sourceCode" id="cb972"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb972-1"><a href="#cb972-1" tabindex="-1"></a><span class="fu">RStudio.Version</span>()</span></code></pre></div>
<p>Finally, here's an example of how that might look in the write-up of your method section:</p>
<blockquote>
<p>Analysis was conducted using R ver 4.0.0 (R Core Team, 2020), RStudio (Rstudio Team, 2020), and the tidyverse range of packages (Wickham, 2017).</p>
</blockquote>
<p>As noted, you may not have to do this for a while, but come back to this when you do as it's important to give the open-source community credit for their work.</p>
</div>
<div id="help-and-additional-resources" class="section level2" number="44.14">
<h2><span class="header-section-number">44.14</span> Help and additional resources</h2>
<div class="figure" style="text-align: center">
<img src="images/kitteh.png" alt="The truth about programming" width="100%" />
<p class="caption">
(#fig:img-kitteh)The truth about programming
</p>
</div>
<p>Getting good at programming really means getting good trying stuff out, searching for help online, and finding examples of code to copy. If you are having difficulty with any of the exercises contained in this book then you can ask for help on Teams, however, learning to problem-solve effectively is a key skill that you need to develop throughout this course.</p>
<ul>
<li><p>Use the help documentation. If you're struggling to understand how a function works, remember the <code>?function</code> and <code>help()</code> command.</p></li>
<li><p>If you get an error message, copy and paste it in to Google - it's very likely someone else has had the same problem.</p></li>
<li><p>If you are struggling to produce a particular output or process - try organising your google searches to include key terms such as "in R" or "tidyverse". - e.g. <em>"how to change character strings into NA values with tidyverse"</em></p></li>
<li><p>The official <a href="https://posit.co/resources/cheatsheets/">Cheatsheets</a> are a great resource to keep bookmarked.</p></li>
<li><p><strong>Remember to ask for help</strong></p></li>
<li><p>In addition to these course materials there are a number of excellent resources for learning R:</p>
<ul>
<li><a href="https://stackoverflow.com/">StackOverflow</a></li>
<li><a href="https://r4ds.had.co.nz/">R for Data Science</a></li>
<li>Search or use the <a href="https://twitter.com/search?f=tweets&amp;q=%23rstats&amp;src=typd">#rstats</a> hashtag on Twitter</li>
</ul></li>
</ul>
</div>
<div id="debugging-tips" class="section level2" number="44.15">
<h2><span class="header-section-number">44.15</span> Debugging tips</h2>
<p>A large part of coding is trying to figure why your code doesn't work and this is true whether you are a novice or an expert. As you progress through this course you should keep a record of mistakes you make and how you fixed them. In each chapter we will provide a number of common mistakes to look out for but you will undoubtedly make (and fix!) new mistakes yourself.</p>
<div id="prevent-errors" class="section level3" number="44.15.1">
<h3><span class="header-section-number">44.15.1</span> Prevent errors</h3>
<p><strong>Read console outputs as you go</strong></p>
<p><strong>Check that functions are producing the output you expect</strong></p>
<p><strong>Build complex code in simple stages</strong></p>
</div>
<div id="fix-errors" class="section level3" number="44.15.2">
<h3><span class="header-section-number">44.15.2</span> Fix errors</h3>
<ul>
<li><p>Have you loaded the correct packages for the functions you are trying to use? One very common mistake is to write the code to load the package, e.g., <code>library(tidyverse)</code> but then forget to run it.</p></li>
<li><p>Have you made a typo? Remember <code>data</code> is not the same as <code>DATA</code> and <code>t.test</code> is not the same as <code>t_test</code>.</p></li>
<li><p>Is there a package conflict? Have you tried specifying the package and function with <code>package::function</code>?</p></li>
<li><p>Is it definitely an error? Not all red text in R means an error - sometimes it is just giving you a message with information.</p></li>
</ul>
</div>
</div>
<div id="activity-7-test-yourself-1" class="section level2" number="44.16">
<h2><span class="header-section-number">44.16</span> Activity 7: Test yourself</h2>
<p><strong>Question 1.</strong> Why should you never include the code <code>install.packages()</code> in your analysis scripts? <select class='webex-select'><option value='blank'></option><option value=''>You should use library() instead</option><option value=''>Packages are already part of Base R</option><option value='answer'>You (or someone else) may accidentally install a package update that stops your code working</option><option value=''>You already have the latest version of the package</option></select></p>
<div class="webex-solution">
<button>
Explain This Answer
</button>
<p>Remember, when you run <code>install.packages()</code> it will always install the latest version of the package and it will overwrite any older versions of the package you may have installed.</p>
</div>
<p><br>
<strong>Question 2.</strong> What will the following code produce?</p>
<div class="sourceCode" id="cb973"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb973-1"><a href="#cb973-1" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="dv">6</span>, <span class="dv">50</span>, <span class="dv">10</span>)</span></code></pre></div>
<p><select class='webex-select'><option value='blank'></option><option value=''>A dataset with 10 numbers that has a mean of 6 and an SD of 50</option><option value='answer'>A dataset with 6 numbers that has a mean of 50 and an SD of 10</option><option value=''>A dataset with 50 numbers that has a mean of 10 and an SD of 6</option><option value=''>A dataset with 50 numbers that has a mean of 10 and an SD of 6</option></select></p>
<div class="webex-solution">
<button>
Explain This Answer
</button>
<p>The default form for <code>rnorm()</code> is <code>rnorm(n, mean, sd)</code>. If you need help remembering what each argument of a function does, look up the help documentation by running <code>?rnorm</code></p>
</div>
<p><br>
<strong>Question 3.</strong> If you have two packages that have functions with the same name and you want to specify exactly which package to use, what code would you use?</p>
<p><select class='webex-select'><option value='blank'></option><option value='answer'>package::function</option><option value=''>function::package</option><option value=''>library(package)</option><option value=''>install.packages(package)</option></select></p>
<div class="webex-solution">
<button>
Explain This Answer
</button>
<p>You should use the form <code>package::function</code>, for example <code>dplyr::select</code>. Remember that when you first load your packages R will warn you if any functions have the same name - remember to look out for this!</p>
</div>
<p><strong>Question 4.</strong> Which of the following is most likely to be an argument? <select class='webex-select'><option value='blank'></option><option value='answer'>35</option><option value=''>read_csv()</option><option value=''>&lt;-</option></select></p>
<p><strong>Question 5.</strong> An easy way to spot functions is to look for <select class='webex-select'><option value='blank'></option><option value=''>computers</option><option value=''>numbers</option><option value='answer'>brackets</option></select>.</p>
<p><strong>Question 6.</strong> The job of <code>&lt;-</code> is to send the output from the function to a/an <select class='webex-select'><option value='blank'></option><option value=''>argument</option><option value=''>assignment</option><option value='answer'>object</option></select>.</p>
<p><strong>Question 7.</strong> A vector must always contain elements of the same data type (e.g logical, character, numeric) <select class='webex-select'><option value='blank'></option><option value=''>FALSE</option><option value='answer'>TRUE</option></select>.</p>
<p><strong>Question 8.</strong> A dataframe/tibble must always contain elements of the same data type <select class='webex-select'><option value='blank'></option><option value=''>TRUE</option><option value='answer'>FALSE</option></select></p>
<!--chapter:end:d-programming-basics.Rmd-->
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-Antarctic" class="csl-entry">
Gorman, K., Williams, T., &amp; Fraser, W. (2014). Ecological sexual dimorphism and environmental variability within a community of antarctic penguins (genus pygoscelis). <em>PLos One</em>, <em>9</em>(3), e90081. <a href="https://doi.org/10.1371/journal.pone.0090081">https://doi.org/10.1371/journal.pone.0090081</a>
</div>
<div id="ref-R-palmerpenguins" class="csl-entry">
Horst, A., Hill, A., &amp; Gorman, K. (2022). <em>Palmerpenguins: Palmer archipelago (antarctica) penguin data</em>.
</div>
<div id="ref-R-gt" class="csl-entry">
Iannone, R., Cheng, J., Schloerke, B., Hughes, E., Lauer, A., &amp; Seo, J. (2023). <em>Gt: Easily create presentation-ready display tables</em>.
</div>
<div id="ref-R-here" class="csl-entry">
Müller, K. (2020). <em>Here: A simpler way to find your files</em>.
</div>
<div id="ref-R-patchwork" class="csl-entry">
Pedersen, T. L. (2022). <em>Patchwork: The composer of plots</em>.
</div>
<div id="ref-R-tidyverse" class="csl-entry">
Wickham, H. (2023). <em>Tidyverse: Easily install and load the tidyverse</em>.
</div>
<div id="ref-R-ggplot2" class="csl-entry">
Wickham, H., Chang, W., Henry, L., Pedersen, T. L., Takahashi, K., Wilke, C., Woo, K., Yutani, H., &amp; Dunnington, D. (2023). <em>ggplot2: Create elegant data visualisations using the grammar of graphics</em>.
</div>
<div id="ref-xie2015" class="csl-entry">
Xie, Y. (2015). <em>Dynamic documents with <span>R</span> and knitr</em> (2nd ed.). Chapman; Hall/CRC. <a href="http://yihui.name/knitr/">http://yihui.name/knitr/</a>
</div>
<div id="ref-R-knitr" class="csl-entry">
Xie, Y. (2023). <em>Knitr: A general-purpose package for dynamic report generation in r</em>. <a href="https://yihui.org/knitr/">https://yihui.org/knitr/</a>
</div>
</div>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr />
<ol>
<li id="fn1"><p>More on projects can be found in the R4DS book (<a href="https://r4ds.had.co.nz/workflow-projects.html" class="uri">https://r4ds.had.co.nz/workflow-projects.html</a>)<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>(<a href="http://vita.had.co.nz/papers/tidy-data.pdf" class="uri">http://vita.had.co.nz/papers/tidy-data.pdf</a>)<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>(<a href="https://rmarkdown.rstudio.com/gallery.html" class="uri">https://rmarkdown.rstudio.com/gallery.html</a>)<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>(<a href="https://www.rstudio.com/resources/cheatsheets/" class="uri">https://www.rstudio.com/resources/cheatsheets/</a>)<a href="#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>Seriously. If you're in a position to do so, open up R and start typing. The simple act of typing it rather than "just reading" makes a big difference. It makes the concepts more concrete, and it ties the abstract ideas (programming and statistics) to the actual context in which you need to use them. Statistics is something you <em>do</em>, not just something you read about in a textbook.<a href="#fnref5" class="footnote-back">↩︎</a></p></li>
<li id="fn6"><p>If you're running R from the terminal rather than from RStudio, escape doesn't work: use CTRL-C instead.<a href="#fnref6" class="footnote-back">↩︎</a></p></li>
<li id="fn7"><p>For advanced users: yes, as you've probably guessed, R is printing out the source code for the function.<a href="#fnref7" class="footnote-back">↩︎</a></p></li>
<li id="fn8"><p>If you're reading this with R open, a good learning trick is to try typing in a few different variations on what I've done here. If you experiment with your commands, you'll quickly learn what works and what doesn't<a href="#fnref8" class="footnote-back">↩︎</a></p></li>
<li id="fn9"><p>For advanced users: if you want a table showing the complete order of operator precedence in R, type <code>?Syntax</code>. I haven't included it in this book since there are quite a few different operators, and we don't need that much detail. Besides, in practice most people seem to figure it out from seeing examples: until writing this book I never looked at the formal statement of operator precedence for any language I ever coded in, and never ran into any difficulties.<a href="#fnref9" class="footnote-back">↩︎</a></p></li>
<li id="fn10"><p>If you are using RStudio, and the "environment" panel (formerly known as the "workspace" panel) is visible when you typed the command, then you probably saw something happening there. That's to be expected, and is quite helpful. However, there's two things to note here (1) I haven't yet explained what that panel does, so for now just ignore it, and (2) this is one of the helpful things RStudio does, not a part of R itself.<a href="#fnref10" class="footnote-back">↩︎</a></p></li>
<li id="fn11"><p>As we'll discuss later, by doing this we are implicitly using the <code>print()</code> function<a href="#fnref11" class="footnote-back">↩︎</a></p></li>
<li id="fn12"><p>Actually, in keeping with the R tradition of providing you with a billion different screwdrivers (even when you're actually looking for a hammer) these aren't the only options. There's also the<code>assign()</code> function, and the <code>&lt;&lt;-</code> and <code>-&gt;&gt;</code> operators. However, we won't be using these at all in this book.<a href="#fnref12" class="footnote-back">↩︎</a></p></li>
<li id="fn13"><p>A quick reminder: when using operators like <code>&lt;-</code> and <code>-&gt;</code> that span multiple characters, you can't insert spaces in the middle. That is, if you type <code>- &gt;</code> or <code>&lt; -</code>, R will interpret your command the wrong way. And I will cry.<a href="#fnref13" class="footnote-back">↩︎</a></p></li>
<li id="fn14"><p>Actually, you can override any of these rules if you want to, and quite easily. All you have to do is add quote marks or backticks around your non-standard variable name. For instance <code>`my sales ` &lt;- 350</code> would work just fine, but it's almost never a good idea to do this.<a href="#fnref14" class="footnote-back">↩︎</a></p></li>
<li id="fn15"><p>For very advanced users: there is one exception to this. If you're naming a function, don't use <code>.</code> in the name unless you are intending to make use of the S3 object oriented programming system in R. If you don't know what S3 is, then you definitely don't want to be using it! For function naming, there's been a trend among R users to prefer <code>myFunctionName</code>.<a href="#fnref15" class="footnote-back">↩︎</a></p></li>
<li id="fn16"><p>A side note for students with a programming background. Technically speaking, operators <em>are</em> functions in R: the addition operator <code>+</code> is actually a convenient way of calling the addition function <code>+()</code>. Thus <code>10+20</code> is equivalent to the function call <code>+(20, 30)</code>. Not surprisingly, no-one ever uses this version. Because that would be stupid.<a href="#fnref16" class="footnote-back">↩︎</a></p></li>
<li id="fn17"><p>A note for the mathematically inclined: R does support complex numbers, but unless you explicitly specify that you want them it assumes all calculations must be real valued. By default, the square root of a negative number is treated as undefined: <code>sqrt(-9)</code> will produce <code>NaN</code> (not a number) as its output. To get complex numbers, you would type <code>sqrt(-9+0i)</code> and R would now return <code>0+3i</code>. However, since we won't have any need for complex numbers in this book, I won't refer to them again.<a href="#fnref17" class="footnote-back">↩︎</a></p></li>
<li id="fn18"><p>The two functions discussed previously, <code>sqrt()</code> and <code>abs()</code>, both only have a single argument, <code>x</code>. So I could have typed something like <code>sqrt(x = 225)</code> or <code>abs(x = -13)</code> earlier. The fact that all these functions use <code>x</code> as the name of the argument that corresponds the "main" variable that you're working with is no coincidence. That's a fairly widely used convention. Quite often, the writers of R functions will try to use conventional names like this to make your life easier. Or at least that's the theory. In practice it doesn't always work as well as you'd hope.<a href="#fnref18" class="footnote-back">↩︎</a></p></li>
<li id="fn19"><p>For advanced users: obviously, this isn't just an RStudio thing. If you're running R in a terminal window, tab autocomplete still works, and does so in exactly the way you'd expect. It's not as visually pretty as the RStudio version, of course, and lacks some of the cooler features that RStudio provides. I don't bother to document that here: my assumption is that if you are running R in the terminal then you're already familiar with using tab autocomplete.<a href="#fnref19" class="footnote-back">↩︎</a></p></li>
<li id="fn20"><p>Incidentally, that always works: if you've started typing a command and you want to clear it and start again, hit escape.<a href="#fnref20" class="footnote-back">↩︎</a></p></li>
<li id="fn21"><p>Another method is to start typing some text and then hit the Control key and the up arrow together (on Windows or Linux) or the Command key and the up arrow together (on a Mac). This will bring up a window showing all your recent commands that started with the same text as what you've currently typed. That can come in quite handy sometimes.<a href="#fnref21" class="footnote-back">↩︎</a></p></li>
<li id="fn22"><p>Notice that I didn't specify any argument names here. The <code>c()</code> function is one of those cases where we don't use names. We just type all the numbers, and R just dumps them all in a single variable.<a href="#fnref22" class="footnote-back">↩︎</a></p></li>
<li id="fn23"><p>Though actually there's no real need to do this, since R has an inbuilt variable called <code>month.name</code> that you can use for this purpose.<a href="#fnref23" class="footnote-back">↩︎</a></p></li>
<li id="fn24"><p>I offer up my teenage attempts to be "cool" as evidence that some things just can't be done.<a href="#fnref24" class="footnote-back">↩︎</a></p></li>
<li id="fn25"><p>Note that this is a very different operator to the assignment operator <code>=</code> that I talked about in Section @ref(assign). A common typo that people make when trying to write logical commands in R (or other languages, since the "<code>=</code> versus <code>==</code>" distinction is important in most programming languages) is to accidentally type <code>=</code> when you really mean <code>==</code>. Be especially cautious with this -- I've been programming in various languages since I was a teenager, and I <em>still</em> screw this up a lot. Hm. I think I see why I wasn't cool as a teenager. And why I'm still not cool.<a href="#fnref25" class="footnote-back">↩︎</a></p></li>
<li id="fn26"><p>A note for those of you who have taken a computer science class: yes, R does have a function for exclusive-or, namely <code>xor()</code>. Also worth noting is the fact that R makes the distinction between element-wise operators <code>&amp;</code> and <code>|</code> and operators that look only at the first element of the vector, namely <code>&amp;&amp;</code> and <code>||</code>. To see the distinction, compare the behaviour of a command like <code>c(FALSE,TRUE) &amp; c(TRUE,TRUE)</code> to the behaviour of something like <code>c(FALSE,TRUE) &amp;&amp; c(TRUE,TRUE)</code>. If this doesn't mean anything to you, ignore this footnote entirely. It's not important for the content of this book.<a href="#fnref26" class="footnote-back">↩︎</a></p></li>
<li id="fn27"><p>Warning! <code>TRUE</code> and <code>FALSE</code> are reserved keywords in R, so you can trust that they always mean what they say they do. Unfortunately, the shortcut versions <code>T</code> and <code>F</code> do not have this property. It's even possible to create variables that set up the reverse meanings, by typing commands like <code>T &lt;- FALSE</code> and <code>F &lt;- TRUE</code>. This is kind of insane, and something that is generally thought to be a design flaw in R. Anyway, the long and short of it is that it's safer to use <code>TRUE</code> and <code>FALSE</code>.<a href="#fnref27" class="footnote-back">↩︎</a></p></li>
<li id="fn28"><p>Well, I say that... but in my personal experience it wasn't until I started learning "regular expressions" that my loathing of computers reached its peak.<a href="#fnref28" class="footnote-back">↩︎</a></p></li>
<li id="fn29"><p>Seriously. If you're in a position to do so, open up R and start typing. The simple act of typing it rather than "just reading" makes a big difference. It makes the concepts more concrete, and it ties the abstract ideas (programming and statistics) to the actual context in which you need to use them. Statistics is something you <em>do</em>, not just something you read about in a textbook.<a href="#fnref29" class="footnote-back">↩︎</a></p></li>
<li id="fn30"><p>If you're running R from the terminal rather than from RStudio, escape doesn't work: use CTRL-C instead.<a href="#fnref30" class="footnote-back">↩︎</a></p></li>
<li id="fn31"><p>For advanced users: yes, as you've probably guessed, R is printing out the source code for the function.<a href="#fnref31" class="footnote-back">↩︎</a></p></li>
<li id="fn32"><p>If you're reading this with R open, a good learning trick is to try typing in a few different variations on what I've done here. If you experiment with your commands, you'll quickly learn what works and what doesn't<a href="#fnref32" class="footnote-back">↩︎</a></p></li>
<li id="fn33"><p>For advanced users: if you want a table showing the complete order of operator precedence in R, type <code>?Syntax</code>. I haven't included it in this book since there are quite a few different operators, and we don't need that much detail. Besides, in practice most people seem to figure it out from seeing examples: until writing this book I never looked at the formal statement of operator precedence for any language I ever coded in, and never ran into any difficulties.<a href="#fnref33" class="footnote-back">↩︎</a></p></li>
<li id="fn34"><p>If you are using RStudio, and the "environment" panel (formerly known as the "workspace" panel) is visible when you typed the command, then you probably saw something happening there. That's to be expected, and is quite helpful. However, there's two things to note here (1) I haven't yet explained what that panel does, so for now just ignore it, and (2) this is one of the helpful things RStudio does, not a part of R itself.<a href="#fnref34" class="footnote-back">↩︎</a></p></li>
<li id="fn35"><p>As we'll discuss later, by doing this we are implicitly using the <code>print()</code> function<a href="#fnref35" class="footnote-back">↩︎</a></p></li>
<li id="fn36"><p>Actually, in keeping with the R tradition of providing you with a billion different screwdrivers (even when you're actually looking for a hammer) these aren't the only options. There's also the<code>assign()</code> function, and the <code>&lt;&lt;-</code> and <code>-&gt;&gt;</code> operators. However, we won't be using these at all in this book.<a href="#fnref36" class="footnote-back">↩︎</a></p></li>
<li id="fn37"><p>A quick reminder: when using operators like <code>&lt;-</code> and <code>-&gt;</code> that span multiple characters, you can't insert spaces in the middle. That is, if you type <code>- &gt;</code> or <code>&lt; -</code>, R will interpret your command the wrong way. And I will cry.<a href="#fnref37" class="footnote-back">↩︎</a></p></li>
<li id="fn38"><p>Actually, you can override any of these rules if you want to, and quite easily. All you have to do is add quote marks or backticks around your non-standard variable name. For instance <code>`my sales ` &lt;- 350</code> would work just fine, but it's almost never a good idea to do this.<a href="#fnref38" class="footnote-back">↩︎</a></p></li>
<li id="fn39"><p>For very advanced users: there is one exception to this. If you're naming a function, don't use <code>.</code> in the name unless you are intending to make use of the S3 object oriented programming system in R. If you don't know what S3 is, then you definitely don't want to be using it! For function naming, there's been a trend among R users to prefer <code>myFunctionName</code>.<a href="#fnref39" class="footnote-back">↩︎</a></p></li>
<li id="fn40"><p>A side note for students with a programming background. Technically speaking, operators <em>are</em> functions in R: the addition operator <code>+</code> is actually a convenient way of calling the addition function <code>+()</code>. Thus <code>10+20</code> is equivalent to the function call <code>+(20, 30)</code>. Not surprisingly, no-one ever uses this version. Because that would be stupid.<a href="#fnref40" class="footnote-back">↩︎</a></p></li>
<li id="fn41"><p>A note for the mathematically inclined: R does support complex numbers, but unless you explicitly specify that you want them it assumes all calculations must be real valued. By default, the square root of a negative number is treated as undefined: <code>sqrt(-9)</code> will produce <code>NaN</code> (not a number) as its output. To get complex numbers, you would type <code>sqrt(-9+0i)</code> and R would now return <code>0+3i</code>. However, since we won't have any need for complex numbers in this book, I won't refer to them again.<a href="#fnref41" class="footnote-back">↩︎</a></p></li>
<li id="fn42"><p>The two functions discussed previously, <code>sqrt()</code> and <code>abs()</code>, both only have a single argument, <code>x</code>. So I could have typed something like <code>sqrt(x = 225)</code> or <code>abs(x = -13)</code> earlier. The fact that all these functions use <code>x</code> as the name of the argument that corresponds the "main" variable that you're working with is no coincidence. That's a fairly widely used convention. Quite often, the writers of R functions will try to use conventional names like this to make your life easier. Or at least that's the theory. In practice it doesn't always work as well as you'd hope.<a href="#fnref42" class="footnote-back">↩︎</a></p></li>
<li id="fn43"><p>For advanced users: obviously, this isn't just an RStudio thing. If you're running R in a terminal window, tab autocomplete still works, and does so in exactly the way you'd expect. It's not as visually pretty as the RStudio version, of course, and lacks some of the cooler features that RStudio provides. I don't bother to document that here: my assumption is that if you are running R in the terminal then you're already familiar with using tab autocomplete.<a href="#fnref43" class="footnote-back">↩︎</a></p></li>
<li id="fn44"><p>Incidentally, that always works: if you've started typing a command and you want to clear it and start again, hit escape.<a href="#fnref44" class="footnote-back">↩︎</a></p></li>
<li id="fn45"><p>Another method is to start typing some text and then hit the Control key and the up arrow together (on Windows or Linux) or the Command key and the up arrow together (on a Mac). This will bring up a window showing all your recent commands that started with the same text as what you've currently typed. That can come in quite handy sometimes.<a href="#fnref45" class="footnote-back">↩︎</a></p></li>
<li id="fn46"><p>Notice that I didn't specify any argument names here. The <code>c()</code> function is one of those cases where we don't use names. We just type all the numbers, and R just dumps them all in a single variable.<a href="#fnref46" class="footnote-back">↩︎</a></p></li>
<li id="fn47"><p>Though actually there's no real need to do this, since R has an inbuilt variable called <code>month.name</code> that you can use for this purpose.<a href="#fnref47" class="footnote-back">↩︎</a></p></li>
<li id="fn48"><p>I offer up my teenage attempts to be "cool" as evidence that some things just can't be done.<a href="#fnref48" class="footnote-back">↩︎</a></p></li>
<li id="fn49"><p>Note that this is a very different operator to the assignment operator <code>=</code> that I talked about in Section @ref(assign). A common typo that people make when trying to write logical commands in R (or other languages, since the "<code>=</code> versus <code>==</code>" distinction is important in most programming languages) is to accidentally type <code>=</code> when you really mean <code>==</code>. Be especially cautious with this -- I've been programming in various languages since I was a teenager, and I <em>still</em> screw this up a lot. Hm. I think I see why I wasn't cool as a teenager. And why I'm still not cool.<a href="#fnref49" class="footnote-back">↩︎</a></p></li>
<li id="fn50"><p>A note for those of you who have taken a computer science class: yes, R does have a function for exclusive-or, namely <code>xor()</code>. Also worth noting is the fact that R makes the distinction between element-wise operators <code>&amp;</code> and <code>|</code> and operators that look only at the first element of the vector, namely <code>&amp;&amp;</code> and <code>||</code>. To see the distinction, compare the behaviour of a command like <code>c(FALSE,TRUE) &amp; c(TRUE,TRUE)</code> to the behaviour of something like <code>c(FALSE,TRUE) &amp;&amp; c(TRUE,TRUE)</code>. If this doesn't mean anything to you, ignore this footnote entirely. It's not important for the content of this book.<a href="#fnref50" class="footnote-back">↩︎</a></p></li>
<li id="fn51"><p>Warning! <code>TRUE</code> and <code>FALSE</code> are reserved keywords in R, so you can trust that they always mean what they say they do. Unfortunately, the shortcut versions <code>T</code> and <code>F</code> do not have this property. It's even possible to create variables that set up the reverse meanings, by typing commands like <code>T &lt;- FALSE</code> and <code>F &lt;- TRUE</code>. This is kind of insane, and something that is generally thought to be a design flaw in R. Anyway, the long and short of it is that it's safer to use <code>TRUE</code> and <code>FALSE</code>.<a href="#fnref51" class="footnote-back">↩︎</a></p></li>
<li id="fn52"><p>Well, I say that... but in my personal experience it wasn't until I started learning "regular expressions" that my loathing of computers reached its peak.<a href="#fnref52" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
<!--bookdown:body:end-->
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script>
<script>
$( document ).ready(function() {
  var cite = ' ';
  var license = ' <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>';

  $("footer div.row div:eq(1) p").html(
    license
  );
});
</script>

  </main>

  <div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page">
      <h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          <li><a id="book-source" href="#">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="#">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
      </div>
    </nav>
  </div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5">
  <div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Advancing in R</strong>: A guide for Biologists and Ecologists" was written by Philip T. Leftwich. It was last built on 2023-11-02.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
<script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>

</html>
