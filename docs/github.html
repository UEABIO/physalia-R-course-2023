<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 37 Github | Advancing in R</title>
<meta name="author" content="Philip T. Leftwich">
<meta name="description" content="37.1 Let's Git it started Git is a version control system. Originally built to help groups of developers work collaboratively on big software projects. It helps us manage our RStudio projects -...">
<meta name="generator" content="bookdown 0.34 with bs4_book()">
<meta property="og:title" content="Chapter 37 Github | Advancing in R">
<meta property="og:type" content="book">
<meta property="og:url" content="https://ueabio.github.io/physalia-R-course-2023/github.html">
<meta property="og:image" content="https://ueabio.github.io/physalia-R-course-2023/images/logos/twitter_card.png">
<meta property="og:description" content="37.1 Let's Git it started Git is a version control system. Originally built to help groups of developers work collaboratively on big software projects. It helps us manage our RStudio projects -...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 37 Github | Advancing in R">
<meta name="twitter:description" content="37.1 Let's Git it started Git is a version control system. Originally built to help groups of developers work collaboratively on big software projects. It helps us manage our RStudio projects -...">
<meta name="twitter:image" content="https://ueabio.github.io/physalia-R-course-2023/images/logos/twitter_card.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.5.0/transition.js"></script><script src="libs/bs3compat-0.5.0/tabs.js"></script><script src="libs/bs3compat-0.5.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/font-awesome-5.13.0/js/script.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-6NP3MF25W3"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-6NP3MF25W3');
    </script><script language="javascript"> 
        function toggle(id) {
            var ele = document.getElementById("toggleText" + id);
            var text = document.getElementById("displayText" + id);
            var buttonText = text.innerHTML.replace("Show ", "");
            buttonText = buttonText.replace("Hide ", "");
            if(ele.style.display == "block") {
                ele.style.display = "none";
                text.innerHTML = "Show " + buttonText;
            } else {
                ele.style.display = "block";
                text.innerHTML = "Hide " + buttonText;
            }
        } 
    </script><script language="javascript">
        function openCode(evt, codeName, id) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent" + id);
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks" + id);
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(codeName).style.display = "block";
            evt.currentTarget.className += " active";
        }
    </script><script language="javascript">
        function hide(id){
            document.getElementById(id).style.display = "none";
        }
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="include/psyteachr.css">
<link rel="stylesheet" href="include/webex.css">
<link rel="stylesheet" href="include/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="A guide for Biologists and Ecologists">Advancing in R</a>:
        <small class="text-muted">A guide for Biologists and Ecologists</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Overview</a></li>
<li class="book-part">Get Started in R</li>
<li><a class="" href="introduction-to-r-and-rstudio.html"><span class="header-section-number">1</span> Introduction to R and RStudio</a></li>
<li><a class="" href="r-basics.html"><span class="header-section-number">2</span> R basics</a></li>
<li class="book-part">Exploring Data</li>
<li><a class="" href="loading-data.html"><span class="header-section-number">3</span> Loading data</a></li>
<li><a class="" href="data-wrangling-part-one.html"><span class="header-section-number">4</span> Data wrangling part one</a></li>
<li><a class="" href="data-wrangling-part-two.html"><span class="header-section-number">5</span> Data wrangling part two</a></li>
<li class="book-part">BONUS: Automated Exploratory Analysis</li>
<li><a class="" href="packages-for-automated-exploratory-data-analysis.html"><span class="header-section-number">6</span> Packages for Automated Exploratory Data Analysis</a></li>
<li class="book-part">Functional Programming</li>
<li><a class="" href="writing-functions.html"><span class="header-section-number">7</span> Writing Functions</a></li>
<li><a class="" href="flow-control.html"><span class="header-section-number">8</span> Flow control</a></li>
<li><a class="" href="simple-iteration.html"><span class="header-section-number">9</span> Simple iteration</a></li>
<li><a class="" href="loops.html"><span class="header-section-number">10</span> Loops</a></li>
<li><a class="" href="apply.html"><span class="header-section-number">11</span> Apply</a></li>
<li><a class="" href="purrr.html"><span class="header-section-number">12</span> Purrr</a></li>
<li><a class="" href="bonus-simulation.html"><span class="header-section-number">13</span> Bonus: Simulation</a></li>
<li class="book-part">Getting the most out of tidyverse</li>
<li><a class="" href="reading-files-with-readr.html"><span class="header-section-number">14</span> Reading files with readr</a></li>
<li><a class="" href="working-across-columns.html"><span class="header-section-number">15</span> Working across columns</a></li>
<li><a class="" href="modifying-variables.html"><span class="header-section-number">16</span> Modifying variables</a></li>
<li><a class="" href="factors-1.html"><span class="header-section-number">17</span> Factors</a></li>
<li><a class="" href="applying-functions-across-columns.html"><span class="header-section-number">18</span> Applying functions across columns</a></li>
<li><a class="" href="working-with-rows.html"><span class="header-section-number">19</span> Working with rows</a></li>
<li><a class="" href="group-work.html"><span class="header-section-number">20</span> Group work</a></li>
<li><a class="" href="pivot.html"><span class="header-section-number">21</span> Pivot</a></li>
<li><a class="" href="writing-functions-in-tidyverse.html"><span class="header-section-number">22</span> Writing Functions in Tidyverse</a></li>
<li class="book-part">Data Presentation</li>
<li><a class="" href="data-visualisation-with-ggplot2.html"><span class="header-section-number">23</span> Data visualisation with ggplot2</a></li>
<li><a class="" href="extensions-for-ggplot2.html"><span class="header-section-number">24</span> Extensions for ggplot2</a></li>
<li><a class="" href="custom-ggplot-themes.html"><span class="header-section-number">25</span> Custom ggplot themes</a></li>
<li><a class="" href="making-tables-with-gt.html"><span class="header-section-number">26</span> Making tables with gt</a></li>
<li class="book-part">Introduction to Shiny</li>
<li><a class="" href="getting-to-work-with-shiny.html"><span class="header-section-number">27</span> Getting to work with Shiny</a></li>
<li><a class="" href="layout.html"><span class="header-section-number">28</span> Layout</a></li>
<li><a class="" href="make-our-own-app.html"><span class="header-section-number">29</span> Make our own App</a></li>
<li><a class="" href="inputs.html"><span class="header-section-number">30</span> Inputs</a></li>
<li><a class="" href="outputs.html"><span class="header-section-number">31</span> Outputs</a></li>
<li><a class="" href="reactive.html"><span class="header-section-number">32</span> Reactive</a></li>
<li><a class="" href="customising.html"><span class="header-section-number">33</span> Customising</a></li>
<li><a class="" href="download.html"><span class="header-section-number">34</span> Download?</a></li>
<li><a class="" href="sharing.html"><span class="header-section-number">35</span> Sharing</a></li>
<li class="book-part">Literate Programming and Reproducibility</li>
<li><a class="" href="rmarkdown.html"><span class="header-section-number">36</span> RMarkdown</a></li>
<li><a class="active" href="github.html"><span class="header-section-number">37</span> Github</a></li>
<li><a class="" href="NA.html">
to upload commits
to the remote repository.
</a></li>
<li class="book-part">BONUS: Working with big data</li>
<li><a class="" href="reading-in-data.html"><span class="header-section-number">38</span> Reading in data</a></li>
<li><a class="" href="write-to-sql.html"><span class="header-section-number">39</span> write to sql</a></li>
<li><a class="" href="querying-sql.html"><span class="header-section-number">40</span> querying sql</a></li>
<li><a class="" href="iteration.html"><span class="header-section-number">41</span> Iteration</a></li>
<li><a class="" href="startingR.html"><span class="header-section-number">42</span> Starting up R</a></li>
<li><a class="" href="session-1-foundations-of-programming-in-r.html"><span class="header-section-number">43</span> Session 1: Foundations of Programming in R</a></li>
<li><a class="" href="r-basics-1.html"><span class="header-section-number">44</span> R Basics</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/UEABIO/physalia-intro-stats-2023">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="github" class="section level1" number="37">
<h1>
<span class="header-section-number">37</span> Github<a class="anchor" aria-label="anchor" href="#github"><i class="fas fa-link"></i></a>
</h1>
<div id="lets-git-it-started" class="section level2" number="37.1">
<h2>
<span class="header-section-number">37.1</span> Let's Git it started<a class="anchor" aria-label="anchor" href="#lets-git-it-started"><i class="fas fa-link"></i></a>
</h2>
<p>Git is a <strong>version control system</strong>. Originally built to help groups of developers work collaboratively on big software projects. It helps us manage our RStudio projects - with tracked changes.</p>
<p>Git and GitHub are a big part of the data science community. We can use GitHub in a number of ways</p>
<ol style="list-style-type: decimal">
<li><p>To source code and repurpose analyses built by others for our own uses</p></li>
<li>
<p>Manage our analysis projects so that all parts of it:</p>
<p>üî¢ Data</p>
<p>‚úç Ô∏èScripts</p>
<p>üìä Figures</p>
<p>üìù Reports</p>
</li>
</ol>
<p>Are version controlled and open access</p>
<ol start="3" style="list-style-type: decimal">
<li><p>Version control lets you recover from any mistakes &amp; your analysis is <em>backed up</em> externally</p></li>
<li><p>When you come to publish any reports - your analysis is accessible to others</p></li>
<li><p>Build up your own library of projects to show what you can do in Data Science</p></li>
</ol>
<p>If you work alone, git is great to track changes and recover previous version of your files. You can also use a remote repository to have a back up and share your work.</p>
<p>If you work as a team you can take advantage of all the above and also use version control as a tool to collaborate and organize the various versions of the same file present in the multiple computers you and they use.</p>
</div>
<div id="what-is-version-control" class="section level2" number="37.2">
<h2>
<span class="header-section-number">37.2</span> What is version control?<a class="anchor" aria-label="anchor" href="#what-is-version-control"><i class="fas fa-link"></i></a>
</h2>
<p>Let‚Äôs imagine that we have a git repository. When you create a new file as part of the repository (or repo), that file is untracked. This means that git will ignore the file and any change you make to it <em>until you add it to the repo</em>. At that point the file is <strong>staged</strong> and ready to get into the repository. To do that you do a <strong>commit</strong> and save that version of the file to the repo. This workflow <code>modify --&gt; add --&gt; commit</code> will repeat every time you want to save a version of the file. It's a good idea to commit every time you end a task or objective in your project.</p>
<div class="inline-figure"><img src="images/git_stage.png" width="100%" style="display: block; margin: auto;"></div>
<p><code>add</code> and <code>commit</code> are also git commands.RStudio provides a basic GUI for git, which we are going to use in this workshop. But you can also use the Terminal to talk to git on the command line</p>
<div class="info">
<p>
to add a file to the staging area.
</p>
<p>
git add <file></file></p>
<p>
git commit -m ‚ÄúA descriptive message to commit the files on the
staging area.‚Äù
</p>
</div>
</div>
<div id="remote-repositories" class="section level2" number="37.3">
<h2>
<span class="header-section-number">37.3</span> Remote repositories<a class="anchor" aria-label="anchor" href="#remote-repositories"><i class="fas fa-link"></i></a>
</h2>
<p>What we explained before is the local workflow. This is when the repo lives in your computer and that‚Äôs it. But you can also connect the local repository with a remote repository. For this workshop we are going to use GitHub to host remote repositories, but there are other options you can explore, such as GitLab.</p>
<p>Let‚Äôs imagine we have a local repository, we made some commits and we want to send those changes to the remote repository (we‚Äôll how to create the remote repository later). For that we push the commits to the remote repository and the two repos are ‚Äúup to date‚Äù.</p>
<p>If a team-mate changes a file and pushes the changes it to the remote repository, your local repo will be ‚Äúoutdated‚Äù. To download those new commits from the remote repository you pull the commits.</p>
<div class="inline-figure"><img src="images/collab.png" width="100%" style="display: block; margin: auto;"></div>
<p>And if you want to try the command line:</p>
<div class="info">
<h1 id="to-upload-commits-to-the-remote-repository.">
to upload commits
to the remote repository.
</h1>
<p>
git push
</p>
<h1 id="to-download-commits-from-the-remote-repository-to-the-local-repo.">
to
download commits from the remote repository to the local repo.
</h1>
<p>
git pull
</p>
</div>
</div>
<div id="git-introductions" class="section level2" number="37.4">
<h2>
<span class="header-section-number">37.4</span> Git introductions<a class="anchor" aria-label="anchor" href="#git-introductions"><i class="fas fa-link"></i></a>
</h2>
<p>Before you create your first repository you need to make sure that git and RStudio are friends and that git knows you. That means you have:</p>
<ul>
<li><p>Installed Git on your machine (not needed if using Posit Cloud)</p></li>
<li><p>Created a Github Account - go to <a href="https://github.com/">github.com</a></p></li>
</ul>
<div class="info">
<p>
You can check that RStudio ‚Äúsees‚Äù git by going to Tools ‚Äì&gt; Global
Options ‚Äì&gt; Git/SVN. There you should find the path in your computer
to the git installation.
</p>
</div>
<p>You can now introduce yourself to Github with the <code>usethis</code> package</p>
<div class="sourceCode" id="cb518"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://usethis.r-lib.org">usethis</a></span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_git_config.html">use_git_config</a></span><span class="op">(</span>user.name  <span class="op">=</span> <span class="st">"Jane Doe"</span>,</span>
<span>               user.email <span class="op">=</span> <span class="st">"jane@example.org"</span><span class="op">)</span></span></code></pre></div>
<p>Substituting with your name and the email associated with your GitHub account, or you can also do this on the command line:</p>
<div class="info">
<p>
git config ‚Äìglobal user.name ‚ÄòJane Doe‚Äô
</p>
<p>
git config ‚Äìglobal user.email ‚Äô<a href="mailto:jane@example.com" class="email">jane@example.com</a>
</p>
</div>
<p>You will also need a Personal Access Token (PAT), Github has started using these <em>in lieu</em> of passwords.</p>
<p>Create a PAT with</p>
<div class="sourceCode" id="cb519"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/github-token.html">create_github_token</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This will likely open a new window allowing you to create a token. Do now close this window, as you will need to copy the token to your clipboard. Then run this other command:</p>
<div class="sourceCode" id="cb520"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gitcreds</span><span class="fu">::</span><span class="fu"><a href="https://gitcreds.r-lib.org/reference/gitcreds_get.html">gitcreds_set</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This will ask you for your access token. Go to the previous window, copy the token, paste it on your console and press enter.</p>
<p>Finally, to check that everything‚Äôs ok with this command.</p>
<div class="sourceCode" id="cb521"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/github-token.html">gh_token_help</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Irritatingly the PAT seems to be forgotten on linux systems very quickly, which is what Posit Cloud is hosted on:</p>
<p>A simple solution to this problem is to ask git to store information in the cache for just a teeny tiny little bit longer. Instead of having the cache expire after the default 900 seconds, maybe set it to expire after 10 million seconds. That way, you‚Äôll only have to refresh the cache using gitcreds::gitcreds_set() once every four months instead of four times an hour. Implementing this solution requires only one line of code at the terminal:</p>
<pre><code>
git config --global credential.helper 'cache --timeout=10000000'
</code></pre>
<p>Thanks to <a href="https://blog.djnavarro.net/posts/2021-08-08_git-credential-helpers/" class="uri">https://blog.djnavarro.net/posts/2021-08-08_git-credential-helpers/</a> for this bit of information!</p>
</div>
<div id="create-a-new-repository" class="section level2" number="37.5">
<h2>
<span class="header-section-number">37.5</span> Create a new repository<a class="anchor" aria-label="anchor" href="#create-a-new-repository"><i class="fas fa-link"></i></a>
</h2>
<p>There are many ways to start a new repository, the easiest is <em>Github first</em></p>
<div id="create-an-online-repository." class="section level3" number="37.5.1">
<h3>
<span class="header-section-number">37.5.1</span> 1. Create an online repository.<a class="anchor" aria-label="anchor" href="#create-an-online-repository."><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><p>Go to github.com and log in.</p></li>
<li><p>On the top right corner, click on the ‚Äú+‚Äù bottom and then ‚ÄúNew repository‚Äù</p></li>
</ul>
<p>Then:</p>
<ul>
<li><p>Repository template: No template.</p></li>
<li><p>Repository name: myrepo or whatever you wish to name your new project.</p></li>
<li><p>Description: Any short description of the project. Write this for humans.</p></li>
<li><p>Public.</p></li>
<li><p>Initialize this repository with: nothing (we can set up everything from R).</p></li>
</ul>
<p>Before going back to RStudio, copy the url for the repository.</p>
</div>
<div id="section" class="section level3" number="37.5.2">
<h3>
<span class="header-section-number">37.5.2</span> 2.<a class="anchor" aria-label="anchor" href="#section"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><p>File &gt; New Project &gt; Version Control &gt; Git. In the ‚Äúrepository URL‚Äù paste the URL of your new GitHub repository</p></li>
<li><p>Choose the folder where you want to create the project.</p></li>
<li><p>Choose ‚ÄúOpen in new session‚Äù.</p></li>
<li><p>And Click on ‚ÄúCreate Project‚Äù.</p></li>
</ul>
<p>The new folder in your computer will be a git repository, linked to a remote GitHub repository and an RStudio Project at the same time. This workflow also makes sure that all the configuration between the local and remote repos are done correctly.</p>
<p>It also adds a .gitignore file that includes a list of files that we don‚Äôt need to track (i.e. .Rhistory).</p>
<div class="note">
<p>
The .gitignore file can be a good place to store your PAT file. Make
a plain text file and write in your token code, save it as anything you
like e.g.¬†token.txt. Add the name of this to your .gitignore file and it
will save locally but never be pushed to your repo. Watch the Git pane
in Rstudio to check it is not being tracked.
</p>
</div>
</div>
<div id="local-changes" class="section level3" number="37.5.3">
<h3>
<span class="header-section-number">37.5.3</span> Local changes<a class="anchor" aria-label="anchor" href="#local-changes"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><p>Create a new .Rmd file</p></li>
<li><p>Save the file</p></li>
<li><p>Add it to the staging area by selecting the file in the Git pane</p></li>
<li><p>Select commit and write a descriptive message in the commit message pane</p></li>
</ul>
<p>At this point you should be able to see all the files in the staging area, and by selecting each one, the line by line differences in any changes you have made since your last commit</p>
<div class="inline-figure"><img src="images/git_pane.png" width="100%" style="display: block; margin: auto;"></div>
<p><strong>Now Push</strong> - push your commits to the remote repository. You won't see any changes on Github until you push those commits.</p>
</div>
</div>
<div id="remote-changes" class="section level2" number="37.6">
<h2>
<span class="header-section-number">37.6</span> Remote changes<a class="anchor" aria-label="anchor" href="#remote-changes"><i class="fas fa-link"></i></a>
</h2>
<p>Let's head back to GitHub now. If you refresh the page, now you‚Äôll see the files you committed just now. Let‚Äôs click on ‚ÄúCommits‚Äù to see the history of the repository. From this view, you can explore the repository at the ‚Äústate‚Äù of each commit and look at the file differences.</p>
<p>Now, we can try to make changes here at github.com</p>
<div id="create-a-readme" class="section level3" number="37.6.1">
<h3>
<span class="header-section-number">37.6.1</span> Create a README<a class="anchor" aria-label="anchor" href="#create-a-readme"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><p>On the main page, click on the green bottom that says ‚ÄúAdd a README‚Äù.</p></li>
<li><p>Add something to the file. READMEs usually are written in Markdown and contain information about the repo.</p></li>
<li><p>At the end of the page add a message on the first line and click on ‚ÄúCommit new file‚Äù.</p></li>
<li><p>Come back to the main page to see the README.</p></li>
</ul>
<p>The new file and the changes you do on GitHub are only on the remote repository until you make a pull from the local repo. If you make changes on the local repo while it not up to date, you may encounter <strong>merge conflicts</strong>, which lead to headaches. This happens when the version of a file on the local repo is not compatible with its version on the remote repo. In those cases, git cannot decide which version is the right one and you have to do it yourself.</p>
<p>To avoid this problem (most of the time), you should do a <strong>pull everytime you load up a project</strong> before doing anything else. Most of the time the message will be "Already up to-date", but this is a good habit.</p>
<p>Now we should head to the GitPane in RStudio and select the blue "Pull" button. The README should appear in your files.</p>
</div>
</div>
<div id="collaborating-on-a-repo" class="section level2" number="37.7">
<h2>
<span class="header-section-number">37.7</span> Collaborating on a repo<a class="anchor" aria-label="anchor" href="#collaborating-on-a-repo"><i class="fas fa-link"></i></a>
</h2>
<p>When collaborating on a project you can find yourself in one of two scenarios</p>
<ul>
<li><p>You have write permission of the repo you are working on.</p></li>
<li><p>You don‚Äôt have write permission on the repo.</p></li>
</ul>
<p>The first situation is the most common when working together with an team on a long term project. You can clone the repo following the these same instructions and use the same workflow as before. When you try to push your changes to the remote repository, GitHub will check if you have the rights to modify the repo. The only difference between this and working on your own is that you need to <strong>communicate well so that two people are not working on the same thing</strong>. Otherwise this will lead to <strong>merge conflicts</strong>.</p>
<p>The second situation is common when contributing to strangers' projects, such as fixing bugs in open source packages. In this case, you need to first fork the repository, which creates a remote repository linked to your GitHub account to which you will have complete access. Now you work in this fork using the normal workflow: modify, add, commit and push. But for your changes to integrate into the original repository, you need to create a pull request (or PR). This will let the owner of the original repo that you made some changes that you think should be merged. The owner can then accept, reject or ask for modifications. Once they accept your Pull Request, your modifications will be safe in the original repository.</p>
<div id="working-with-an-external-collaborator" class="section level3" number="37.7.1">
<h3>
<span class="header-section-number">37.7.1</span> Working with an external collaborator<a class="anchor" aria-label="anchor" href="#working-with-an-external-collaborator"><i class="fas fa-link"></i></a>
</h3>
<p><strong>1.</strong> Go to <a href="https://github.com/">github.com</a> and log in (you need your own account - for sign up with your uea.ac.uk e-mail)</p>
<p><strong>2.</strong> In the Search bar, look for repo <strong>Philip-Leftwich/5023Y-Happy-Git</strong></p>
<p><strong>3.</strong> Click on the repo name, and look at the existing repo structure</p>
<p><strong>4.</strong> <strong>FORK</strong> the repo</p>
</div>
<div id="what-the-hell-is-a-fork" class="section level3" number="37.7.2">
<h3>
<span class="header-section-number">37.7.2</span> What the hell is a fork?<a class="anchor" aria-label="anchor" href="#what-the-hell-is-a-fork"><i class="fas fa-link"></i></a>
</h3>
<div class="inline-figure"><img src="images/fork.png" width="100%" style="display: block; margin: auto;"></div>
<p>A fork is when you generate a <em>personal</em> copy of another user's <a href="github.html#glossary-github">repository</a>.</p>
<p><strong>5.</strong> Press Clone/download and copy the URL, then create a <strong>new</strong> project in RStudio Cloud selecting the <strong>New project from Git repository</strong> option - make sure you are in the 5023Y Workspace</p>
<div class="inline-figure"><img src="images/new-project.png" width="100%" style="display: block; margin: auto;"></div>
<p><strong>6.</strong> Open the some_cool_animals.Rmd document, and the accompanying html</p>
<p><strong>7.</strong> Add <em>your name</em> to the top of the document</p>
<p><strong>8.</strong> BUT WAIT. We have forgotten to add YOUR favourite animal and facts! Make a new tab in the markdown file add an image and some information</p>
<p><strong>9.</strong> Once you‚Äôve added your updates, knit the Rmd document to update the html</p>
<p><strong>10.</strong> Stage, Commit &amp; Push all files <a href="github.html#glossary-github">(glossary)</a></p>
<p>Staged - pick those files which you intend to bind to a commit</p>
<p>Commit - write a short descriptive message, binds changes to a single <a href="#commit">commit</a></p>
<p>Push - "Pushes" your changes from the local repo to the remote repo on GitHub, <a href="#push">(push)</a></p>
<p><strong>11.</strong> On GitHub, refresh and see that files are updated. Cool! Now you‚Äôve used something someone else has created, customized it, and saved your updated version.</p>
</div>
<div id="make-a-pull-request" class="section level3" number="37.7.3">
<h3>
<span class="header-section-number">37.7.3</span> Make a pull request<a class="anchor" aria-label="anchor" href="#make-a-pull-request"><i class="fas fa-link"></i></a>
</h3>
<p><strong>1.</strong> Go to your repo in GitHub, you will see that you made the last commit and a message about being ahead of my project:</p>
<p><strong>2.</strong> Click on ‚ÄúOpen pull request‚Äù.</p>
<p><strong>3.</strong> And click on ‚ÄúCreate pull request‚Äù.</p>
<p><strong>4.</strong> We are almost there. Complete the pull request with a title and a message and then finish the pull request.</p>
<p>The owner/s of the repo will receive an email. They can review the pull request, comment on it and eventually accept the contribution. When that happen the changes you made will appear in their repo.</p>
</div>
</div>
<div id="see-changes" class="section level2" number="37.8">
<h2>
<span class="header-section-number">37.8</span> See changes<a class="anchor" aria-label="anchor" href="#see-changes"><i class="fas fa-link"></i></a>
</h2>
<p>The first and most immediate benefit of using GitHub with your RStudio Project is seeing the changes you have made since your last commit.</p>
<p>The RStudio Git pane lists every file that‚Äôs been added, modified or deleted. The icon describes the change:</p>
<ul>
<li><div class="inline-figure">You've changed a file
<img src="images/git-modified.png" width="5%" style="display: block; margin: auto auto auto 0;">
</div></li>
<li><div class="inline-figure">You've added a new file Git hasn't seen before
<img src="images/git-unknown.png" width="5%" style="display: block; margin: auto auto auto 0;">
</div></li>
<li><div class="inline-figure">You've deleted a file
<img src="images/git-deleted.png" width="5%" style="display: block; margin: auto auto auto 0;">
</div></li>
</ul>
<p>You can get more details on the changes that have been made to each file by right-clicking and selecting diff</p>
<div class="inline-figure"><img src="images/git-diff.png" width="15%" style="display: block; margin: auto auto auto 0;"></div>
<p>This opens a new window highlighting the <strong>diff</strong>erences between your current file and the previous commit.</p>
<div class="inline-figure"><img src="images/git-diff-window.png" width="100%" style="display: block; margin: auto;"></div>
<p>The background colours tells you whether the text has been added (green) or removed (red). (If you‚Äôre colourblind you can use the line numbers in the two columns at the far left as a guide).</p>
</div>
<div id="a-couple-of-general-tips" class="section level2" number="37.9">
<h2>
<span class="header-section-number">37.9</span> A couple of general tips:<a class="anchor" aria-label="anchor" href="#a-couple-of-general-tips"><i class="fas fa-link"></i></a>
</h2>
<div class="note">
<ul>
<li>
<p>
Pull at the start of <strong>every session</strong> this
retrieves the master repo from GitHub - which you update at the end of
every session. This helps prevent <em>conflicts</em>
</p>
</li>
<li>
<p>
<strong>Commit/push</strong> in small, meaningful increments and
do this often. You can make <strong>multiple</strong> commits in a
session - and <strong>always push at the end of the
session</strong>
</p>
</li>
<li>
<p>
In this way your GitHub Repo becomes the <strong>master
copy</strong> of your project.
</p>
</li>
</ul>
</div>
</div>
<div id="beautify-your-profile" class="section level2" number="37.10">
<h2>
<span class="header-section-number">37.10</span> Beautify your profile<a class="anchor" aria-label="anchor" href="#beautify-your-profile"><i class="fas fa-link"></i></a>
</h2>
<p><a href="https://dev.to/ruppysuppy/beautify-your-github-profile-like-a-pro-5093" class="uri">https://dev.to/ruppysuppy/beautify-your-github-profile-like-a-pro-5093</a></p>
</div>
<div id="glossary-github" class="section level2" number="37.11">
<h2>
<span class="header-section-number">37.11</span> Glossary-GitHub<a class="anchor" aria-label="anchor" href="#glossary-github"><i class="fas fa-link"></i></a>
</h2>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
Terms
</th>
<th style="text-align:left;">
Description
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
clone
</td>
<td style="text-align:left;">
A clone is a copy of a repository that lives on your computer instead of on a website's server somewhere, or the act of making that copy. When you make a clone, you can edit the files in your preferred editor and use Git to keep track of your changes without having to be online. The repository you cloned is still connected to the remote version so that you can push your local changes to the remote to keep them synced when you're online.
</td>
</tr>
<tr>
<td style="text-align:left;">
commit
</td>
<td style="text-align:left;">
A commit, or revision, is an individual change to a file (or set of files). When you make a commit to save your work, Git creates a unique ID that allows you to keep record of the specific changes committed along with who made them and when. Commits usually contain a commit message which is a brief description of what changes were made.
</td>
</tr>
<tr>
<td style="text-align:left;">
commit message
</td>
<td style="text-align:left;">
Short, descriptive text that accompanies a commit and communicates the change the commit is introducing.
</td>
</tr>
<tr>
<td style="text-align:left;">
fork
</td>
<td style="text-align:left;">
A fork is a personal copy of another user's repository that lives on your account. Forks allow you to freely make changes to a project without affecting the original upstream repository. You can also open a pull request in the upstream repository and keep your fork synced with the latest changes since both repositories are still connected.
</td>
</tr>
<tr>
<td style="text-align:left;">
Git
</td>
<td style="text-align:left;">
Git is an open source program for tracking changes in text files. It was written by the author of the Linux operating system, and is the core technology that GitHub, the social and user interface, is built on top of.
</td>
</tr>
<tr>
<td style="text-align:left;">
GitHub Classroom
</td>
<td style="text-align:left;">
GitHub Classroom automates repository creation and access control, making it easy to distribute starter code and collect assignments on GitHub
</td>
</tr>
<tr>
<td style="text-align:left;">
Markdown
</td>
<td style="text-align:left;">
Markdown is an incredibly simple semantic file format, not too dissimilar from .doc, .rtf and .txt. Markdown makes it easy for even those without a web-publishing background to write prose (including with links, lists, bullets, etc.) and have it displayed like a website.
</td>
</tr>
<tr>
<td style="text-align:left;">
pull
</td>
<td style="text-align:left;">
Pull refers to when you are fetching in changes and merging them. For instance, if someone has edited the remote file you're both working on, you'll want to pull in those changes to your local copy so that it's up to date
</td>
</tr>
<tr>
<td style="text-align:left;">
push
</td>
<td style="text-align:left;">
To push means to send your committed changes to a remote repository on GitHub.com. For instance, if you change something locally, you can push those changes so that others may access them.
</td>
</tr>
<tr>
<td style="text-align:left;">
README
</td>
<td style="text-align:left;">
A text file containing information about the files in a repository that is typically the first file a visitor to your repository will see. A README file, along with a repository license, contribution guidelines, and a code of conduct, helps you share expectations and manage contributions to your project.
</td>
</tr>
<tr>
<td style="text-align:left;">
repository
</td>
<td style="text-align:left;">
A repository (repo) is the most basic element of GitHub. They're easiest to imagine as a project's folder. A repository contains all of the project files (including documentation), and stores each file's revision history. Repositories can have multiple collaborators and can be either public or private.
</td>
</tr>
<tr>
<td style="text-align:left;">
RMarkdown
</td>
<td style="text-align:left;">
Rmarkdown is a package and filetype that are deeply embedded with RStudio to allow the integration of Markdown and output chunks of programming code (such as R) to publish a variety of different file types
</td>
</tr>
<tr>
<td style="text-align:left;">
personal access token
</td>
<td style="text-align:left;">
A token that is used in place of a password when performing Git operations over HTTPS. Also called a PAT.
</td>
</tr>
</tbody>
</table></div>
<p>Reading</p>
<ul>
<li><a href="https://happygitwithr.com/">Happy Git</a></li>
</ul>
</div>
</div>



<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script><script>
$( document ).ready(function() {
  var cite = ' ';
  var license = ' <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>';

  $("footer div.row div:eq(1) p").html(
    license
  );
});
</script><div class="chapter-nav">
<div class="prev"><a href="rmarkdown.html"><span class="header-section-number">36</span> RMarkdown</a></div>
<div class="next"><a href="NA.html">
to upload commits
to the remote repository.
</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#github"><span class="header-section-number">37</span> Github</a></li>
<li><a class="nav-link" href="#lets-git-it-started"><span class="header-section-number">37.1</span> Let's Git it started</a></li>
<li><a class="nav-link" href="#what-is-version-control"><span class="header-section-number">37.2</span> What is version control?</a></li>
<li><a class="nav-link" href="#remote-repositories"><span class="header-section-number">37.3</span> Remote repositories</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/UEABIO/physalia-intro-stats-2023/blob/main/book/09-github.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/UEABIO/physalia-intro-stats-2023/edit/main/book/09-github.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Advancing in R</strong>: A guide for Biologists and Ecologists" was written by Philip T. Leftwich. It was last built on 2023-11-02.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
